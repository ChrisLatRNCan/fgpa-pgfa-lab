function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineEnumerableProperties(e,t){for(var n in t){var i=t[n];i.configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n,i)}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e,t,n){"use strict";function i(e,t,n){if(!e)throw ge("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(U(e)&&(e=e.join(" ")),U(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var i="";return e=U(e)?e:e&&q(e)&&e.length?e.split(/\s+/):[],H(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function l(e){if(e instanceof B)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===K)return e;break;default:return B(c(e))}if(e.nodeType===K)return B(e)}function c(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==K)return n}}function u(e,t,n){H(t,function(t){e.addClass(t,n)})}function d(e,t,n){H(t,function(t){e.removeClass(t,n)})}function h(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(d(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||z;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=z},e.$$prepared=!0}return e}function p(e,t){m(e,t),g(e,t)}function m(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=y(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=C(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==z?i.domOperation:null;return F(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function y(e,t,n){function i(e){q(e)&&(e=e.split(" "));var t={};return H(e,function(e){e.length&&(t[e]=!0)}),t}var r=1,o=-1,a={};e=i(e),t=i(t),H(t,function(e,t){a[t]=r}),n=i(n),H(n,function(e,t){a[t]=a[t]===r?null:o});var s={addClass:"",removeClass:""};return H(a,function(t,n){var i,a;t===r?(i="addClass",a=!e[n]):t===o&&(i="removeClass",a=e[n]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function b(e){return e instanceof t.element?e[0]:e}function _(e,t,n){var i="";t&&(i=a(t,Q,!0)),n.addClass&&(i=C(i,a(n.addClass,Z))),n.removeClass&&(i=C(i,a(n.removeClass,J))),i.length&&(n.preparationClasses=i,e.addClass(i))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return k(e,[pe,n]),[pe,n]}function E(e,t){var n=t?"paused":"",i=N+ue;return k(e,[i,n]),[i,n]}function k(e,t){var n=t[0],i=t[1];e.style[n]=i}function C(e,t){return e?t?e+" "+t:e:t}function S(e){return[fe,e+"s"]}function M(e,t){var n=t?he:pe;return[n,e+"s"]}function A(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return H(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=T(n)),0===n&&(n=null),i[t]=n}}),i}function T(e){var t=0,n=e.split(/\s*,\s*/);return H(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function O(e){return 0===e||null!=e}function P(e,t){var n=I,i=e+"s";return t?n+=oe:i+=" linear all",[n,i]}function $(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function L(e,t,n){H(n,function(n){e[n]=W(e[n])?e[n]:t.style.getPropertyValue(n)})}var I,D,N,R,z=t.noop,j=t.copy,F=t.extend,B=t.element,H=t.forEach,U=t.isArray,q=t.isString,V=t.isObject,G=t.isUndefined,W=t.isDefined,Y=t.isFunction,X=t.isElement,K=1,Z="-add",J="-remove",Q="ng-",ee="-active",te="-prepare",ne="ng-animate",ie="$$ngAnimateChildren",re="";G(e.ontransitionend)&&W(e.onwebkittransitionend)?(re="-webkit-",I="WebkitTransition",D="webkitTransitionEnd transitionend"):(I="transition",D="transitionend"),G(e.onanimationend)&&W(e.onwebkitanimationend)?(re="-webkit-",N="WebkitAnimation",R="webkitAnimationEnd animationend"):(N="animation",R="animationend");var oe="Duration",ae="Property",se="Delay",le="TimingFunction",ce="IterationCount",ue="PlayState",de=9999,he=N+se,fe=N+oe,pe=I+se,me=I+oe,ge=t.$$minErr("ng"),ve=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],ye=["$interpolate",function(e){return{link:function(n,i,r){function o(e){e="on"===e||"true"===e,i.data(ie,e)}var a=r.ngAnimateChildren;t.isString(a)&&0===a.length?i.data(ie,!0):(o(e(a)(n)),r.$observe("ngAnimateChildren",o))}}}],be="$$animateCss",_e=1e3,we=3,xe=1.5,Ee={transitionDuration:me,transitionDelay:pe,transitionProperty:I+ae,animationDuration:fe,animationDelay:he,animationIterationCount:N+ce},ke={transitionDuration:me,transitionDelay:pe,animationDuration:fe,animationDelay:he},Ce=["$animateProvider",function(e){var t=$(),n=$();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,r,l,c,u,d,v){function y(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,r=i[n]||(i[n]=++F);return r+"-"+e.getAttribute("class")+"-"+t}function _(n,i,r,o){var a=t.get(r);return a||(a=A(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function w(r,o,s,l){var c;if(t.count(s)>0&&(c=n.get(s),!c)){var u=a(o,"-stagger");i.addClass(r,u),c=A(e,r,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,u),n.put(s,c)}return c||{}}function C(e){B.push(e),d.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=c(),i=0;i<B.length;i++)B[i](e);B.length=0})}function T(e,t,n){var i=_(e,t,n,Ee),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var $=h(i),F=0,B=[];return function(e,n){function c(){h()}function d(){h(!0)}function h(t){if(!(W||X&&Y)){W=!0,Y=!1,q.$$skipPreparationClasses||i.removeClass(e,ye),i.removeClass(e,Ce),E(G,!1),x(G,!1),H(ce,function(e){G.style[e[0]]=""}),$(e,q),p(e,q),Object.keys(V).length&&H(V,function(e,t){e?G.style.setProperty(t,e):G.style.removeProperty(t)}),q.onDone&&q.onDone(),fe&&fe.length&&e.off(fe.join(" "),F);var n=e.data(be);n&&(l.cancel(n[0].timer),e.removeData(be)),K&&K.complete(!t)}}function _(e){je.blockTransition&&x(G,e),je.blockKeyframeAnimation&&E(G,!!e)}function A(){return K=new r({end:c,cancel:d}),C(z),h(),{$$willAnimate:!1,start:function(){return K},end:c}}function F(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(we));Math.max(n-se,0)>=ie&&i>=re&&(X=!0,h())}function B(){function t(){if(!W){if(_(!1),H(ce,function(e){var t=e[0],n=e[1];G.style[t]=n}),$(e,q),i.addClass(e,Ce),je.recalculateTimingStyles){if(Ee=G.className+" "+ye,Ae=y(G,Ee),Re=T(G,Ee,Ae),ze=Re.maxDelay,ne=Math.max(ze,0),re=Re.maxDuration,0===re)return void h();je.hasTransitions=Re.transitionDuration>0,je.hasAnimations=Re.animationDuration>0}if(je.applyAnimationDelay&&(ze="boolean"!=typeof q.delay&&O(q.delay)?parseFloat(q.delay):ze,ne=Math.max(ze,0),Re.animationDelay=ze,Fe=M(ze,!0),ce.push(Fe),G.style[Fe[0]]=Fe[1]),ie=ne*_e,oe=re*_e,q.easing){var t,r=q.easing;je.hasTransitions&&(t=I+le,ce.push([t,r]),G.style[t]=r),je.hasAnimations&&(t=N+le,ce.push([t,r]),G.style[t]=r)}Re.transitionDuration&&fe.push(D),Re.animationDuration&&fe.push(R),se=Date.now();var o=ie+xe*oe,a=se+o,s=e.data(be)||[],c=!0;if(s.length){var u=s[0];c=a>u.expectedEndTime,c?l.cancel(u.timer):s.push(h)}if(c){var d=l(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(h),e.data(be,s)}fe.length&&e.on(fe.join(" "),F),q.to&&(q.cleanupStyles&&L(V,G,Object.keys(q.to)),g(e,q))}}function n(){var t=e.data(be);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(be)}}if(!W){if(!G.parentNode)return void h();var r=function(e){if(X)Y&&e&&(Y=!1,h());else if(Y=!e,Re.animationDuration){var t=E(G,Y);Y?ce.push(t):s(ce,t)}},o=De>0&&(Re.transitionDuration&&0===Te.transitionDuration||Re.animationDuration&&0===Te.animationDuration)&&Math.max(Te.animationDelay,Te.transitionDelay);o?l(t,Math.floor(o*De*_e),!1):t(),te.resume=function(){r(!0)},te.pause=function(){r(!1)}}}var q=n||{};q.$$prepared||(q=f(j(q)));var V={},G=b(e);if(!G||!G.parentNode||!v.enabled())return A();var W,Y,X,K,te,ne,ie,re,oe,se,ce=[],ue=e.attr("class"),he=o(q),fe=[];if(0===q.duration||!u.animations&&!u.transitions)return A();var pe=q.event&&U(q.event)?q.event.join(" "):q.event,me=pe&&q.structural,ge="",ve="";me?ge=a(pe,Q,!0):pe&&(ge=pe),q.addClass&&(ve+=a(q.addClass,Z)),q.removeClass&&(ve.length&&(ve+=" "),ve+=a(q.removeClass,J)),q.applyClassesEarly&&ve.length&&$(e,q);var ye=[ge,ve].join(" ").trim(),Ee=ue+" "+ye,Ce=a(ye,ee),Se=he.to&&Object.keys(he.to).length>0,Me=(q.keyframeStyle||"").length>0;if(!Me&&!Se&&!ye)return A();var Ae,Te;if(q.stagger>0){var Oe=parseFloat(q.stagger);Te={transitionDelay:Oe,animationDelay:Oe,transitionDuration:0,animationDuration:0}}else Ae=y(G,Ee),Te=w(G,ye,Ae,ke);q.$$skipPreparationClasses||i.addClass(e,ye);var Pe;if(q.transitionStyle){var $e=[I,q.transitionStyle];k(G,$e),ce.push($e)}if(q.duration>=0){Pe=G.style[I].length>0;var Le=P(q.duration,Pe);k(G,Le),ce.push(Le)}if(q.keyframeStyle){var Ie=[N,q.keyframeStyle];k(G,Ie),ce.push(Ie)}var De=Te?q.staggerIndex>=0?q.staggerIndex:t.count(Ae):0,Ne=0===De;Ne&&!q.skipBlocking&&x(G,de);var Re=T(G,Ee,Ae),ze=Re.maxDelay;ne=Math.max(ze,0),re=Re.maxDuration;var je={};if(je.hasTransitions=Re.transitionDuration>0,je.hasAnimations=Re.animationDuration>0,je.hasTransitionAll=je.hasTransitions&&"all"==Re.transitionProperty,je.applyTransitionDuration=Se&&(je.hasTransitions&&!je.hasTransitionAll||je.hasAnimations&&!je.hasTransitions),je.applyAnimationDuration=q.duration&&je.hasAnimations,je.applyTransitionDelay=O(q.delay)&&(je.applyTransitionDuration||je.hasTransitions),je.applyAnimationDelay=O(q.delay)&&je.hasAnimations,je.recalculateTimingStyles=ve.length>0,(je.applyTransitionDuration||je.applyAnimationDuration)&&(re=q.duration?parseFloat(q.duration):re,je.applyTransitionDuration&&(je.hasTransitions=!0,Re.transitionDuration=re,Pe=G.style[I+ae].length>0,ce.push(P(re,Pe))),je.applyAnimationDuration&&(je.hasAnimations=!0,Re.animationDuration=re,ce.push(S(re)))),0===re&&!je.recalculateTimingStyles)return A();if(null!=q.delay){var Fe;"boolean"!=typeof q.delay&&(Fe=parseFloat(q.delay),ne=Math.max(Fe,0)),je.applyTransitionDelay&&ce.push(M(Fe)),je.applyAnimationDelay&&ce.push(M(Fe,!0))}return null==q.duration&&Re.transitionDuration>0&&(je.recalculateTimingStyles=je.recalculateTimingStyles||Ne),ie=ne*_e,oe=re*_e,q.skipBlocking||(je.blockTransition=Re.transitionDuration>0,je.blockKeyframeAnimation=Re.animationDuration>0&&Te.animationDelay>0&&0===Te.animationDuration),q.from&&(q.cleanupStyles&&L(V,G,Object.keys(q.from)),m(e,q)),je.blockTransition||je.blockKeyframeAnimation?_(re):q.skipBlocking||x(G,!1),{$$willAnimate:!0,end:c,start:function(){if(!W)return te={end:c,cancel:d,resume:null,pause:null},K=new r(te),C(B),K}}}}]}],Se=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,l,c,u,d){function f(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return q(e)&&(e=e.split(" ")),q(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function m(t,a,l){function c(e){var t={},n=b(e).getBoundingClientRect();return H(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=y.scrollTop;break;case"left":i+=y.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function u(){var t=e(g,{addClass:r,delay:!0,from:c(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function h(){var t=f(d(l)),n=p(t,v),i=p(v,t),a=e(g,{to:c(l),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function m(){g.remove(),a.removeClass(n),l.removeClass(n)}var g=B(b(a).cloneNode(!0)),v=f(d(g));a.addClass(n),l.addClass(n),g.addClass(i),w.append(g);var _,x=u();if(!x&&(_=h(),!_))return m();var E=x||_;return{start:function(){function e(){n&&n.end()}var t,n=E.start();return n.done(function(){return n=null,!_&&(_=h())?(n=_.start(),n.done(function(){n=null,m(),t.complete()}),n):(m(),void t.complete())}),t=new s({end:e,cancel:e})}}}function g(e,t,n,i){var r=v(e,z),o=v(t,z),a=[];if(H(i,function(e){var t=e.out,i=e["in"],r=m(n,t,i);r&&a.push(r)}),r||o||0!==a.length)return{start:function(){function e(){H(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),H(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}}function v(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=C(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!c.animations&&!c.transitions)return z;var y=d[0].body,_=b(l),w=B(t(_)||y.contains(_)?_:y);h(u);return function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):v(e)}}]}],Me=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=U(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=h(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(){h=!0,s(),p(e,a)}function c(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,v,y,o];break;case"addClass":a=[t,v,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(Y(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Y(s))return s;return z}function u(e,t,i,r,o){var a=[];return H(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||z)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=c(s,e,t,i,function(e){var t=e===!1;l(t)}),r})}),a}function d(e,t,i,r,o){var a=u(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(e,"removeClass",i,r,"beforeRemoveClass"),l=u(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=u(e,"removeClass",i,r,"removeClass"),l=u(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&H(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){H(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&V(i)&&(a=i,i=null),a=f(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var m,g,v=a.addClass,y=a.removeClass,b=r(i);if(b.length){var _,w;"leave"==t?(w="leave",_="afterLeave"):(w="before"+t.charAt(0).toUpperCase()+t.substr(1),_=t),"enter"!==t&&"move"!==t&&(m=d(e,t,a,b,w)),g=d(e,t,a,b,_)}if(m||g){var x;return{$$willAnimate:!0,end:function(){return x?x.end():(l(),x=new n,x.complete(!0)),x},start:function(){function e(e){l(e),x.complete(e)}function t(t){h||((i||z)(t),e(t))}if(x)return x;x=new n;var i,r=[];return m&&r.push(function(e){i=m(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),g&&r.push(function(e){i=g(e)}),x.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),x}}}}}]}],Ae=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){H(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Te="data-ng-animate",Oe="$ngAnimatePin",Pe=["$animateProvider",function(e){function t(e){if(!e)return null;var t=e.split(u),n=Object.create(null);return H(t,function(e){n[e]=!0}),n}function n(e,n){if(e&&n){var i=t(n);return e.split(u).some(function(e){return i[e]})}}function r(e,t,n,i){return d[e].some(function(e){return e(t,n,i)})}function o(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var a=1,s=2,u=" ",d=this.rules={skip:[],cancel:[],join:[]};d.join.push(function(e,t,n){return!t.structural&&o(t)}),d.skip.push(function(e,t,n){return!t.structural&&!o(t)}),d.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),d.skip.push(function(e,t,n){return n.structural&&n.state===s&&!t.structural}),d.cancel.push(function(e,t,n){return n.structural&&t.structural}),d.cancel.push(function(e,t,n){return n.state===s&&t.structural}),d.cancel.push(function(e,t,i){var r=t.addClass,o=t.removeClass,a=i.addClass,s=i.removeClass;return!(G(r)&&G(o)||G(a)&&G(s))&&(n(r,s)||n(o,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(t,n,u,d,m,g,y,x,E,k){function C(){var e=!1;return function(t){e?t():n.$$postDigest(function(){e=!0,t()})}}function S(e,t){return v(e,t,{})}function M(e,t,n){var i=b(t),r=b(e),o=[],a=Y[n];return a&&H(a,function(e){ee.call(e.node,i)?o.push(e.callback):"leave"===n&&ee.call(e.node,r)&&o.push(e.callback)}),o}function A(e,i,c){function u(n,i,r,o){k(function(){var n=M(m,e,i);n.length&&t(function(){H(n,function(t){t(e,r,o)})})}),n.progress(i,r,o)}function d(t){w(e,x),Q(e,x),p(e,x),x.domOperation(),E.complete(!t)}var h,m,x=j(c);e=l(e),e&&(h=b(e),m=e.parent()),x=f(x);var E=new y,k=C();if(U(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!q(x.addClass)&&(x.addClass=null),U(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!q(x.removeClass)&&(x.removeClass=null),x.from&&!V(x.from)&&(x.from=null),x.to&&!V(x.to)&&(x.to=null),!h)return d(),E;var A=[h.className,x.addClass,x.removeClass].join(" ");if(!J(A))return d(),E;var P=["enter","move","leave"].indexOf(i)>=0,z=R.hidden,F=!N||z||D.get(h),B=!F&&I.get(h)||{},G=!!B.state;if(F||G&&B.state==a||(F=!$(e,m,i)),F)return z&&u(E,i,"start"),d(),z&&u(E,i,"close"),E;P&&T(e);var W={structural:P,element:e,event:i,addClass:x.addClass,removeClass:x.removeClass,close:d,options:x,runner:E};if(G){var Y=r("skip",e,W,B);if(Y)return B.state===s?(d(),E):(v(e,B,W),B.runner);var X=r("cancel",e,W,B);if(X)if(B.state===s)B.runner.end();else{if(!B.structural)return v(e,B,W),B.runner;B.close()}else{var K=r("join",e,W,B);if(K){if(B.state!==s)return _(e,P?i:null,x),i=W.event=B.event,x=v(e,B,W),B.runner;S(e,W)}}}else S(e,W);var Z=W.structural;if(Z||(Z="animate"===W.event&&Object.keys(W.options.to||{}).length>0||o(W)),!Z)return d(),O(e),E;var ee=(B.counter||0)+1;return W.counter=ee,L(e,a,W),n.$$postDigest(function(){var t=I.get(h),n=!t;t=t||{};var r=e.parent()||[],a=r.length>0&&("animate"===t.event||t.structural||o(t));if(n||t.counter!==ee||!a)return n&&(Q(e,x),p(e,x)),(n||P&&t.event!==i)&&(x.domOperation(),E.end()),void(a||O(e));i=!t.structural&&o(t,!0)?"setClass":t.event,L(e,s);var l=g(e,i,t.options);E.setHost(l),u(E,i,"start",{}),l.done(function(t){d(!t);var n=I.get(h);n&&n.counter===ee&&O(b(e)),u(E,i,"close",{})})}),E}function T(e){var t=b(e),n=t.querySelectorAll("["+Te+"]");H(n,function(e){var t=parseInt(e.getAttribute(Te)),n=I.get(e);if(n)switch(t){case s:n.runner.end();case a:I.remove(e)}})}function O(e){var t=b(e);t.removeAttribute(Te),I.remove(t)}function P(e,t){return b(e)===b(t)}function $(e,t,n){var i,r=B(R.body),o=P(e,r)||"HTML"===e[0].nodeName,a=P(e,u),s=!1,l=D.get(b(e)),c=B.data(e[0],Oe);for(c&&(t=c),t=b(t);t&&(a||(a=P(t,u)),t.nodeType===K);){var d=I.get(t)||{};if(!s){var h=D.get(t);if(h===!0&&l!==!1){l=!0;break}h===!1&&(l=!1),s=d.structural}if(G(i)||i===!0){var f=B.data(t,ie);W(f)&&(i=f)}if(s&&i===!1)break;if(o||(o=P(t,r)),o&&a)break;t=a||!(c=B.data(t,Oe))?t.parentNode:b(c)}var p=(!s||i)&&l!==!0;return p&&a&&o}function L(e,t,n){n=n||{},n.state=t;var i=b(e);i.setAttribute(Te,t);var r=I.get(i),o=r?F(r,n):n;I.put(i,o)}var I=new m,D=new m,N=null,R=d[0]||{hidden:!0},z=n.$watch(function(){return 0===x.totalPendingRequests},function(e){e&&(z(),n.$$postDigest(function(){n.$$postDigest(function(){null===N&&(N=!0)})}))}),Y={},Z=e.classNameFilter(),J=Z?function(e){return Z.test(e)}:function(){return!0},Q=h(E),ee=Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};return{on:function(e,t,n){var i=c(t);Y[e]=Y[e]||[],Y[e].push({node:i,callback:n})},off:function(e,t,n){function i(e,t,n){var i=c(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}var r=Y[e];r&&(Y[e]=1===arguments.length?null:i(r,t,n))},pin:function(e,t){i(X(e),"element","not an element"),i(X(t),"parentElement","not an element"),e.data(Oe,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,A(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!N;else{var i=X(e);if(i){var r=b(e),o=D.get(r);1===n?t=!o:D.put(r,!t)}else t=N=!!e}return t}}}]}],$e=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function i(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,l,c,u,d){
function m(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;o.put(n,e);for(var a;i;){if(a=o.get(i)){a.processed||(a=t(a));break}i=i.parentNode}return(a||r).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new u;for(i=0;i<e.length;i++){var a=e[i];o.put(a.domNode,e[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(r)}var g=[],v=h(e);return function(u,h,y){function _(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),i=[];return H(n,function(e){var t=e.getAttribute(o);t&&t.length&&i.push(e)}),i}function w(e){var t=[],n={};H(e,function(e,i){var r=e.element,a=b(r),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?_(a):[];if(c.length){var u=l?"to":"from";H(c,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][u]={animationID:i,element:B(e)}})}else t.push(e)});var i={},r={};return H(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,c=l.toString();return void(i[c]||(i[c]=!0,t.push(e[l])))}var u=e[a.animationID],d=e[s.animationID],h=a.animationID.toString();if(!r[h]){var f=r[h]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:x(u.classes,d.classes),from:u,to:d,anchors:[]};f.classes.length?t.push(f):(t.push(u),t.push(d))}r[h].anchors.push({out:a.element,"in":s.element})}),t}function x(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function E(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(l.has(n)){var i=l.get(n),r=i(e);if(r)return r}}}function k(){u.addClass(ne),P&&e.addClass(u,P),$&&(e.removeClass(u,$),$=null)}function C(e,t){function n(e){i(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function S(){var e=i(u);!e||"leave"===h&&y.$$domOperationFired||e.end()}function M(t){u.off("$destroy",S),n(u),v(u,y),p(u,y),y.domOperation(),P&&e.removeClass(u,P),u.removeClass(ne),T.complete(!t)}y=f(y);var A=["enter","move","leave"].indexOf(h)>=0,T=new c({end:function(){M()},cancel:function(){M(!0)}});if(!a.length)return M(),T;t(u,T);var O=r(u.attr("class"),r(y.addClass,y.removeClass)),P=y.tempClasses;P&&(O+=" "+P,y.tempClasses=null);var $;return A&&($="ng-"+h+te,e.addClass(u,$)),g.push({element:u,classes:O,event:h,structural:A,options:y,beforeStart:k,close:M}),u.on("$destroy",S),g.length>1?T:(s.$$postDigest(function(){var e=[];H(g,function(t){i(t.element)?e.push(t):t.close()}),g.length=0;var t=w(e),n=[];H(t,function(e){n.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,r=e.anchors?e.from.element||e.to.element:e.element;if(i(r)){var o=E(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),C(e,a)}else n()}})}),d(m(n))}),T)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",ye).factory("$$rAFScheduler",ve).provider("$$animateQueue",Pe).provider("$$animation",$e).provider("$animateCss",Ce).provider("$$animateCssDriver",Se).provider("$$animateJs",Me).provider("$$animateJsDriver",Ae)}(window,window.angular),function(e,t,n){"use strict";function i(){function e(e,t,i,r){return function(o,s,l){var c=l.$normalize(t);!n[c]||a(s,i)||l[c]||o.$watch(l[e],function(e){e=r?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var r=t.module("ngAria",["ng"]).provider("$aria",i),o=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],a=function(e,t){if(t.indexOf(e[0].nodeName)!==-1)return!0};r.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,i){return e.config(n)&&!i.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function i(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":"textbox"===(n||i)||"TEXTAREA"===t[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(r,s){var l=i(s,r);return{pre:function(e,t,n,i){"checkbox"===l&&"checkbox"!==n.type&&(i.$isEmpty=function(e){return e===!1})},post:function(i,r,s,c){function u(){return c.$modelValue}function d(){return f?(f=!1,function(e){var t=s.value==c.$viewValue;r.attr("aria-checked",t),r.attr("tabindex",0-!t)}):function(e){r.attr("aria-checked",s.value==c.$viewValue)}}function h(){r.attr("aria-checked",!c.$isEmpty(c.$viewValue))}var f=t("tabindex","tabindex",r)&&!a(r,o);switch(l){case"radio":case"checkbox":n(l,r)&&r.attr("role",l),t("aria-checked","ariaChecked",r)&&i.$watch(u,"radio"===l?d():h),f&&r.attr("tabindex",0);break;case"range":if(n(l,r)&&r.attr("role","slider"),e.config("ariaValue")){var p=!r.attr("aria-valuemin")&&(s.hasOwnProperty("min")||s.hasOwnProperty("ngMin")),m=!r.attr("aria-valuemax")&&(s.hasOwnProperty("max")||s.hasOwnProperty("ngMax")),g=!r.attr("aria-valuenow");p&&s.$observe("min",function(e){r.attr("aria-valuemin",e)}),m&&s.$observe("max",function(e){r.attr("aria-valuemax",e)}),g&&i.$watch(u,function(e){r.attr("aria-valuenow",e)})}f&&r.attr("tabindex",0);break;case"multiline":t("aria-multiline","ariaMultiline",r)&&r.attr("aria-multiline",!0)}c.$validators.required&&t("aria-required","ariaRequired",r)&&i.$watch(function(){return c.$error.required},function(e){r.attr("aria-required",!!e)}),t("aria-invalid","ariaInvalid",r)&&i.$watch(function(){return c.$invalid},function(e){r.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",[])}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,i){var r=t(i.ngClick,null,!0);return function(t,n,i){a(n,o)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),e.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(e){function n(){r(t,{$event:e})}var i=e.which||e.keyCode;32!==i&&13!==i||t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,i){!e.config("tabindex")||n.attr("tabindex")||a(n,o)||n.attr("tabindex",0)}}])}(window,window.angular),function(e,t,n){"use strict";function i(e){function t(e,t){if(e)return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}return["$animate",function(e){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(n,i,o,a,s){var l,c=i[0],u=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,h=function(e){l=e?r(e)?e:e.split(/[\s,]+/):null,a.reRender()};d?(h(n.$eval(d)),n.$watchCollection(d,h)):h(u);var f,p;a.register(c,p={test:function(e){return t(l,e)},attach:function(){f||s(n,function(t){e.enter(t,null,i),f=t;var n=f.$$attachId=a.getAttachId();f.on("$destroy",function(){f&&f.$$attachId===n&&(a.deregister(c),p.detach())})})},detach:function(){if(f){var t=f;f=null,e.leave(t)}}})}}}]}var r=t.isArray,o=t.forEach,a=t.isString,s=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||n(e.$eval(t))}function n(e){return a(e)?e.length:!!e}var i="ng-active",r="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,s,l){function c(e,t){for(var n=t,i=[];n&&n!==e;){var r=n.$$ngMessageNode;if(r&&r.length)return v[r];n.childNodes.length&&i.indexOf(n)==-1?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function u(e,t,n){var i=v[n];if(h.head){var r=c(e,t);r?(i.next=r.next,r.next=i):(i.next=h.head,h.head=i)}else h.head=i}function d(e,t,n){var i=v[n],r=c(e,t);r?r.next=i.next:h.head=i.next}var h=this,f=0,p=0;this.getAttachId=function(){return p++};var m,g,v=this.messages={};this.render=function(c){c=c||{},m=!1,g=c;for(var u=t(s,l.ngMessagesMultiple)||t(s,l.multiple),d=[],f={},p=h.head,v=!1,y=0;null!=p;){y++;var b=p.message,_=!1;v||o(c,function(e,t){if(!_&&n(e)&&b.test(t)){if(f[t])return;f[t]=!0,_=!0,b.attach()}}),_?v=!u:d.push(b),p=p.next}o(d,function(e){e.detach()}),d.length!==y?e.setClass(a,i,r):e.setClass(a,r,i)},s.$watchCollection(l.ngMessages||l["for"],h.render),a.on("$destroy",function(){o(v,function(e){e.message.detach()})}),this.reRender=function(){m||(m=!0,s.$evalAsync(function(){m&&g&&h.render(g)}))},this.register=function(e,t){var n=f.toString();v[n]={message:t},u(a[0],e,n),e.$$ngMessageNode=n,f++,h.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,d(a[0],e,t),delete v[t],h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(i,r,o){var a=o.ngMessagesInclude||o.src;e(a).then(function(e){n(e)(i,function(e){r.after(e);var n=s(t[0].createComment(" ngMessagesInclude: "+a+" "));r.after(n),r.remove()})})}}}]).directive("ngMessage",i("AE")).directive("ngMessageExp",i("A"))}(window,window.angular),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.angularDragula=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){var t=e.module("dragula",["ng"]);return t.factory("dragulaService",r(e)),t.directive("dragula",o(e)),"dragula"}var r=e("./service"),o=e("./directive");t.exports=i},{"./directive":2,"./service":13}],2:[function(e,t,n){"use strict";function i(e){return["dragulaService",function(e){function t(t,n,i){var o,a=t.dragulaScope||t.$parent,s=n[0],l=t.$eval(i.dragula),c=e.find(a,l);c?(o=c.drake,o.containers.push(s)):(o=r({containers:[s]}),e.add(a,l,o)),t.$watch("dragulaModel",function(t,n){if(t){if(o.models){var i=n?o.models.indexOf(n):-1;i>=0?o.models.splice(i,1,t):o.models.push(t)}else o.models=[t];e.handleModels(a,o)}})}return{restrict:"A",scope:{dragulaScope:"=",dragulaModel:"="},link:t}}]}var r=e("dragula");t.exports=i},{dragula:5}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";function i(e){var t=a[e];return t?t.lastIndex=0:a[e]=t=new RegExp(s+e+l,"g"),t}function r(e,t){var n=e.className;n.length?i(t).test(n)||(e.className+=" "+t):e.className=t}function o(e,t){e.className=e.className.replace(i(t)," ").trim()}var a={},s="(?:^|\\s)",l="(?:\\s|$)";t.exports={add:r,rm:o}},{}],5:[function(e,t,n){(function(n){"use strict";function i(e,t){function n(e){return ue.containers.indexOf(e)!==-1||ce.isContainer(e)}function i(e){var t=e?"remove":"add";r(E,t,"mousedown",C),r(E,t,"mouseup",I)}function s(e){var t=e?"remove":"add";r(E,t,"mousemove",S)}function m(e){var t=e?"remove":"add";_[t](E,"selectstart",k),_[t](E,"click",k)}function v(){i(!0),I({})}function k(e){se&&e.preventDefault()}function C(e){te=e.clientX,ne=e.clientY;var t=1!==o(e)||e.metaKey||e.ctrlKey;if(!t){var n=e.target,i=M(n);i&&(se=i,s(),"mousedown"===e.type&&(p(n)?n.focus():e.preventDefault()))}}function S(e){if(se){if(0===o(e))return void I({});if(!(void 0!==e.clientX&&e.clientX===te&&void 0!==e.clientY&&e.clientY===ne||Math.abs(e.clientY-ne)+Math.abs(e.clientX-te)<6)){if(ce.ignoreInputTextSelection){var t=y("clientX",e),n=y("clientY",e),i=x.elementFromPoint(t,n);if(p(i))return}var r=se;s(!0),m(),$(),O(r);var l=a(J);Q=y("pageX",e)-l.left,ee=y("pageY",e)-l.top,w.add(oe||J,"gu-transit"),q(),B(e)}}}function M(e){if(!(ue.dragging&&K||n(e))){for(var t=e;f(e)&&n(f(e))===!1;){if(ce.invalid(e,t))return;if(e=f(e),!e)return}var i=f(e);if(i&&!ce.invalid(e,t)){var r=ce.moves(e,i,t,g(e));if(r)return{item:e,source:i}}}}function A(e){return!!M(e)}function T(e){var t=M(e);t&&O(t)}function O(e){Y(e.item,e.source)&&(oe=e.item.cloneNode(!0),ue.emit("cloned",oe,e.item,"copy")),Z=e.source,J=e.item,ie=re=g(e.item),ue.dragging=!0,ue.emit("drag",J,Z)}function P(){return!1}function $(){if(ue.dragging){var e=oe||J;D(e,f(e))}}function L(){se=!1,s(!0),m(!0)}function I(e){if(L(),ue.dragging){var t=oe||J,n=y("clientX",e),i=y("clientY",e),r=l(K,n,i),o=F(r,n,i);o&&(oe&&ce.copySortSource||!oe||o!==Z)?D(t,o):ce.removeOnSpill?N():R()}}function D(e,t){var n=f(e);oe&&ce.copySortSource&&t===Z&&n.removeChild(J),j(t)?ue.emit("cancel",e,Z,Z):ue.emit("drop",e,t,Z,re),z()}function N(){if(ue.dragging){var e=oe||J,t=f(e);t&&t.removeChild(e),ue.emit(oe?"cancel":"remove",e,t,Z),z()}}function R(e){if(ue.dragging){var t=arguments.length>0?e:ce.revertOnSpill,n=oe||J,i=f(n),r=j(i);r===!1&&t&&(oe?i.removeChild(oe):Z.insertBefore(n,ie)),r||t?ue.emit("cancel",n,Z,Z):ue.emit("drop",n,i,Z,re),z()}}function z(){var e=oe||J;L(),V(),e&&w.rm(e,"gu-transit"),ae&&clearTimeout(ae),ue.dragging=!1,le&&ue.emit("out",e,le,Z),ue.emit("dragend",e),Z=J=oe=ie=re=ae=le=null}function j(e,t){var n;return n=void 0!==t?t:K?re:g(oe||J),e===Z&&n===ie}function F(e,t,i){function r(){var r=n(o);if(r===!1)return!1;var a=G(o,e),s=W(o,a,t,i),l=j(o,s);return!!l||ce.accepts(J,o,Z,s)}for(var o=e;o&&!r();)o=f(o);return o}function B(e){function t(e){ue.emit(e,c,le,Z)}function n(){h&&t("over")}function i(){le&&t("out")}if(K){e.preventDefault();var r=y("clientX",e),o=y("clientY",e),a=r-Q,s=o-ee;K.style.left=a+"px",K.style.top=s+"px";var c=oe||J,u=l(K,r,o),d=F(u,r,o),h=null!==d&&d!==le;(h||null===d)&&(i(),le=d,n());var p=f(c);if(d===Z&&oe&&!ce.copySortSource)return void(p&&p.removeChild(c));var m,v=G(d,u);if(null!==v)m=W(d,v,r,o);else{if(ce.revertOnSpill!==!0||oe)return void(oe&&p&&p.removeChild(c));m=ie,d=Z}(null===m&&h||m!==c&&m!==g(c))&&(re=m,d.insertBefore(c,m),ue.emit("shadow",c,d,Z))}}function H(e){w.rm(e,"gu-hide")}function U(e){ue.dragging&&w.add(e,"gu-hide")}function q(){if(!K){var e=J.getBoundingClientRect();K=J.cloneNode(!0),K.style.width=d(e)+"px",K.style.height=h(e)+"px",w.rm(K,"gu-transit"),w.add(K,"gu-mirror"),ce.mirrorContainer.appendChild(K),r(E,"add","mousemove",B),w.add(ce.mirrorContainer,"gu-unselectable"),ue.emit("cloned",K,J,"mirror")}}function V(){K&&(w.rm(ce.mirrorContainer,"gu-unselectable"),r(E,"remove","mousemove",B),f(K).removeChild(K),K=null)}function G(e,t){for(var n=t;n!==e&&f(n)!==e;)n=f(n);return n===E?null:n}function W(e,t,n,i){function r(){var t,r,o,a=e.children.length;for(t=0;t<a;t++){if(r=e.children[t],o=r.getBoundingClientRect(),s&&o.left+o.width/2>n)return r;if(!s&&o.top+o.height/2>i)return r}return null}function o(){var e=t.getBoundingClientRect();return a(s?n>e.left+d(e)/2:i>e.top+h(e)/2)}function a(e){return e?g(t):t}var s="horizontal"===ce.direction,l=t!==e?o():r();return l}function Y(e,t){return"boolean"==typeof ce.copy?ce.copy:ce.copy(e,t)}var X=arguments.length;1===X&&Array.isArray(e)===!1&&(t=e,e=[]);var K,Z,J,Q,ee,te,ne,ie,re,oe,ae,se,le=null,ce=t||{};void 0===ce.moves&&(ce.moves=u),void 0===ce.accepts&&(ce.accepts=u),void 0===ce.invalid&&(ce.invalid=P),void 0===ce.containers&&(ce.containers=e||[]),void 0===ce.isContainer&&(ce.isContainer=c),void 0===ce.copy&&(ce.copy=!1),void 0===ce.copySortSource&&(ce.copySortSource=!1),void 0===ce.revertOnSpill&&(ce.revertOnSpill=!1),void 0===ce.removeOnSpill&&(ce.removeOnSpill=!1),void 0===ce.direction&&(ce.direction="vertical"),void 0===ce.ignoreInputTextSelection&&(ce.ignoreInputTextSelection=!0),void 0===ce.mirrorContainer&&(ce.mirrorContainer=x.body);var ue=b({containers:ce.containers,start:T,end:$,cancel:R,remove:N,destroy:v,canMove:A,dragging:!1});return ce.removeOnSpill===!0&&ue.on("over",H).on("out",U),i(),ue}function r(e,t,i,r){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},a={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},s={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};n.navigator.pointerEnabled?_[t](e,a[i],r):n.navigator.msPointerEnabled?_[t](e,s[i],r):(_[t](e,o[i],r),_[t](e,i,r))}function o(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function a(e){var t=e.getBoundingClientRect();return{left:t.left+s("scrollLeft","pageXOffset"),top:t.top+s("scrollTop","pageYOffset")}}function s(e,t){return"undefined"!=typeof n[t]?n[t]:E.clientHeight?E[e]:x.body[e]}function l(e,t,n){var i,r=e||{},o=r.className;return r.className+=" gu-hide",i=x.elementFromPoint(t,n),r.className=o,i}function c(){return!1}function u(){return!0}function d(e){return e.width||e.right-e.left}function h(e){return e.height||e.bottom-e.top}function f(e){return e.parentNode===x?null:e.parentNode}function p(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||m(e)}function m(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||m(f(e))))}function g(e){function t(){var t=e;do t=t.nextSibling;while(t&&1!==t.nodeType);return t}return e.nextElementSibling||t()}function v(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function y(e,t){var n=v(t),i={pageX:"clientX",pageY:"clientY"};return e in i&&!(e in n)&&i[e]in n&&(e=i[e]),n[e]}var b=e("contra/emitter"),_=e("crossvent"),w=e("./classes"),x=document,E=x.documentElement;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":4,"contra/emitter":7,crossvent:10}],6:[function(e,t,n){"use strict";var i=e("ticky");t.exports=function(e,t,n){e&&i(function(){e.apply(n||null,t||[])})}},{ticky:8}],7:[function(e,t,n){"use strict";var i=e("atoa"),r=e("./debounce");t.exports=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete o[t];else if(0===i)o={};else{var r=o[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=i(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var a=(o[t]||[]).slice(0);return function(){var o=i(arguments),s=this||e;if("error"===t&&n["throws"]!==!1&&!a.length)throw 1===o.length?o[0]:o;return a.forEach(function(i){n.async?r(i,o,s):i.apply(s,o),i._once&&e.off(t,i)}),e}},e}},{"./debounce":6,atoa:3}],8:[function(e,t,n){var i,r="function"==typeof setImmediate;i=r?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},t.exports=i},{}],9:[function(e,t,n){(function(e){function n(){try{var e=new i("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}var i=e.CustomEvent;t.exports=n()?i:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,n){(function(n){"use strict";function i(e,t,n,i){return e.addEventListener(t,n,i)}function r(e,t,n){return e.attachEvent("on"+t,c(e,t,n))}function o(e,t,n,i){return e.removeEventListener(t,n,i)}function a(e,t,n){var i=u(e,t,n);if(i)return e.detachEvent("on"+t,i)}function s(e,t,n){function i(){var e;return p.createEvent?(e=p.createEvent("Event"),e.initEvent(t,!0,!0)):p.createEventObject&&(e=p.createEventObject()),e}function r(){return new h(t,{detail:n})}var o=f.indexOf(t)===-1?r():i();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}function l(e,t,i){return function(t){var r=t||n.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,i.call(e,r)}}function c(e,t,n){var i=u(e,t,n)||l(e,t,n);return v.push({wrapper:i,element:e,type:t,fn:n}),i}function u(e,t,n){var i=d(e,t,n);if(i){var r=v[i].wrapper;return v.splice(i,1),r}}function d(e,t,n){var i,r;for(i=0;i<v.length;i++)if(r=v[i],r.element===e&&r.type===t&&r.fn===n)return i}var h=e("custom-event"),f=e("./eventmap"),p=n.document,m=i,g=o,v=[];n.addEventListener||(m=r,g=a),t.exports={add:m,remove:g,fabricate:s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":11,"custom-event":9}],11:[function(e,t,n){(function(e){"use strict";var n=[],i="",r=/^on/;for(i in e)r.test(i)&&n.push(i.slice(2));t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){"use strict";function i(e,t,n){function i(e){function i(){var i=r(arguments).map(a);i.unshift(t.name+"."+e),n.$emit.apply(n,i)}t.drake.on(e,i)}function a(t){return e.isElement(t)?e.element(t):t}o.forEach(i)}var r=e("atoa"),o=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow","drop-model","remove-model"];t.exports=i},{atoa:3}],13:[function(e,t,n){"use strict";function i(e){return[function(){function t(t,n){if(!n.registered){var r,o,a,s;n.on("remove",function(e,i){n.models&&(s=n.models[n.containers.indexOf(i)],t.$applyAsync(function(){s.splice(o,1),n.emit("remove-model",e,i)}))}),n.on("drag",function(e,t){r=e,o=i(e,t)}),n.on("drop",function(l,c,u){n.models&&(a=i(l,c),t.$applyAsync(function(){if(s=n.models[n.containers.indexOf(u)],c===u)s.splice(a,0,s.splice(o,1)[0]);else{var t=r===l,i=n.models[n.containers.indexOf(c)],d=t?s[o]:e.copy(s[o]);t&&s.splice(o,1),i.splice(a,0,d),c.removeChild(l)}n.emit("drop-model",l,c,u)}))}),n.registered=!0}}function n(e){var t=e[o];return t||(t=e[o]={bags:[]}),t}function i(t,n){return Array.prototype.indexOf.call(e.element(n).children(),t)}function s(i,r,o){var s=l(i,r);if(s)throw new Error('Bag named: "'+r+'" already exists in same angular scope.');var c=n(i);return s={name:r,drake:o},c.bags.push(s),a(e,s,i),o.models&&t(i,o),s}function l(e,t){for(var i=n(e).bags,r=0;r<i.length;r++)if(i[r].name===t)return i[r]}function c(e,t){var i=n(e).bags,r=l(e,t),o=i.indexOf(r);i.splice(o,1),r.drake.destroy()}function u(e,n,i){var o=s(e,n,r(i));t(e,o.drake)}return{add:s,find:l,options:u,destroy:c,handleModels:t}}]}var r=e("dragula"),o="$$dragula",a=e("./replicate-events");t.exports=i},{"./replicate-events":12,dragula:5}]},{},[1])(1)}),function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.panel","material.components.navBar","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.toast","material.components.tabs","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",i]),e.decorator("$q",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(e){return e.throttle=function(t){var n,i,r,o;return function(){n=arguments,o=this,r=t,i||(i=!0,e(function(){r.apply(o,Array.prototype.slice.call(n)),i=!1}))}},e}function r(e){return e.resolve||(e.resolve=e.when),e}e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],i.$inject=["$delegate"],r.$inject=["$delegate"],t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(e)}(),function(){function e(e){function n(n,i,r){function o(e){t.isUndefined(e)&&(e=!0),i.toggleClass("md-autofocus",!!e)}var a=r.mdAutoFocus||r.mdAutofocus||r.mdSidenavFocus;o(e(a)(n)),a&&n.$watch(a,o)}return{restrict:"A",link:{pre:n}}}e.$inject=["$parse"],t.module("material.core").directive("mdAutofocus",e).directive("mdAutoFocus",e).directive("mdSidenavFocus",e)}(),function(){function e(){function e(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"}function t(e){e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);var t=e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"";return t.toUpperCase()}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}function i(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:t,hexToRgba:e,rgbToRgba:n,rgbaToRgb:i}}t.module("material.core").factory("$mdColorUtil",e)}(),function(){function e(){function e(e){var t=a+"-"+e,r=i(t),s=r.charAt(0).toLowerCase()+r.substring(1);return n(o,e)?e:n(o,r)?r:n(o,s)?s:e}function n(e,n){return t.isDefined(e.style[n])}function i(e){return e.replace(l,function(e,t,n,i){return i?n.toUpperCase():n})}function r(e){var t,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=i.exec(t))return n[0]}var o=document.createElement("div"),a=r(o),s=/webkit/i.test(a),l=/([:\-_]+(.))/g,c={isInputKey:function(e){return e.keyCode>=31&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&e.keyCode>=97&&e.keyCode<=105},isNavigationKey:function(e){var t=c.KEY_CODE,n=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW];return n.indexOf(e.keyCode)!=-1},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(s?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(s?" webkitAnimationEnd":""),TRANSFORM:e("transform"),TRANSFORM_ORIGIN:e("transformOrigin"),TRANSITION:e("transition"),TRANSITION_DURATION:e("transitionDuration"),ANIMATION_PLAY_STATE:e("animationPlayState"),ANIMATION_DURATION:e("animationDuration"),ANIMATION_NAME:e("animationName"),ANIMATION_TIMING:e("animationTimingFunction"),ANIMATION_DIRECTION:e("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return c}t.module("material.core").factory("$mdConstant",e)}(),function(){function e(e,n){function i(){return[].concat(y)}function r(){return y.length}function o(e){return y.length&&e>-1&&e<y.length}function a(e){return!!e&&o(h(e)+1)}function s(e){return!!e&&o(h(e)-1)}function l(e){return o(e)?y[e]:null}function c(e,t){return y.filter(function(n){return n[e]===t})}function u(e,n){return e?(t.isNumber(n)||(n=y.length),y.splice(n,0,e),h(e)):-1}function d(e){f(e)&&y.splice(h(e),1)}function h(e){return y.indexOf(e)}function f(e){return e&&h(e)>-1}function p(){return y.length?y[0]:null}function m(){return y.length?y[y.length-1]:null}function g(e,i,r,a){r=r||v;for(var s=h(i);;){if(!o(s))return null;var l=s+(e?-1:1),c=null;if(o(l)?c=y[l]:n&&(c=e?m():p(),l=h(c)),null===c||l===a)return null;if(r(c))return c;t.isUndefined(a)&&(a=l),s=l}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var y=e||[];return{items:i,count:r,inRange:o,contains:f,indexOf:h,itemAt:l,findBy:c,add:u,remove:d,first:p,last:m,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,i){function r(e){var n=h[e];t.isUndefined(n)&&(n=h[e]=o(e));var i=p[n];return t.isUndefined(i)&&(i=a(n)),i}function o(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=f[e];return t||(t=f[e]=i.matchMedia(e)),t.addListener(s),p[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){p[e.media]=!!e.matches})}function l(e){return f[e]}function c(t,n){for(var i=0;i<e.MEDIA_PRIORITY.length;i++){var r=e.MEDIA_PRIORITY[i];if(f[h[r]].matches){var o=d(t,n+"-"+r);if(t[o])return t[o]}}return t[d(t,n)]}function u(n,i,r){var o=[];return n.forEach(function(n){var a=d(i,n);t.isDefined(i[a])&&o.push(i.$observe(a,t.bind(void 0,r,null)));for(var s in e.MEDIA)a=d(i,n+"-"+s),t.isDefined(i[a])&&o.push(i.$observe(a,t.bind(void 0,r,s)))}),function(){o.forEach(function(e){e()})}}function d(e,t){return m[t]||(m[t]=e.$normalize(t))}var h={},f={},p={},m={};return r.getResponsiveAttribute=c,r.getQuery=l,r.watchResponsiveAttributes=u,r}e.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").factory("$mdMedia",e)}(),function(){function e(e,n){function i(e){return e=t.isArray(e)?e:[e],e.forEach(function(t){l.forEach(function(n){e.push(n+"-"+t)})}),e}function r(e){return e=t.isArray(e)?e:[e],i(e).map(function(e){return"["+e+"]"}).join(",")}function o(e,t){if(e=s(e),!e)return!1;for(var n=i(t),r=0;r<n.length;r++)if(e.hasAttribute(n[r]))return!0;
return!1}function a(e,t){e=s(e),e&&i(t).forEach(function(t){e.removeAttribute(t)})}function s(e){if(e=e[0]||e,e.nodeType)return e}var l=["data","x"];return e?n?r(e):i(e):{buildList:i,buildSelector:r,hasAttribute:o,removeAttribute:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.prefixer=e,t}])}])}(),function(){function i(i,o,a,s,l,c,u,d,h,f){function p(e){return e?m(e)||g(e)?e:e+"px":"0"}function m(e){return String(e).indexOf("px")>-1}function g(e){return String(e).indexOf("%")>-1}function v(e){return e[0]||e}var y=c.startSymbol(),b=c.endSymbol(),_="{{"===y&&"}}"===b,w=function(e,n,i){var r=!1;if(e&&e.length){var o=h.getComputedStyle(e[0]);r=t.isDefined(o[n])&&(!i||o[n]==i)}return r},x={dom:{},now:e.performance&&e.performance.now?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,n,r,o){var a=!("rtl"==i[0].dir||"rtl"==i[0].body.dir);if(0==arguments.length)return a?"ltr":"rtl";var s=t.element(e);a&&t.isDefined(r)?s.css(n,p(r)):!a&&t.isDefined(o)&&s.css(n,p(o))},bidiProperty:function(e,n,r,o){var a=!("rtl"==i[0].dir||"rtl"==i[0].body.dir),s=t.element(e);a&&t.isDefined(n)?(s.css(n,p(o)),s.css(r,"")):!a&&t.isDefined(r)&&(s.css(r,p(o)),s.css(n,""))},clientRect:function(e,t,n){var i=v(e);t=v(t||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(e,t){return x.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return e.scrollY||e.pageYOffset||0},findFocusTarget:function(e,n){function i(e,n){var i,r=e[0].querySelectorAll(n);return r&&r.length&&r.length&&t.forEach(r,function(e){e=t.element(e);var n=e.hasClass("md-autofocus");n&&(i=e)}),i}var r,o=this.prefixer("md-autofocus",!0);return r=i(e,n||o),r||n==o||(r=i(e,this.prefixer("md-auto-focus",!0)),r||(r=i(e,o))),r},disableScrollAround:function(e,n,r){function o(e){function n(e){e.preventDefault()}e=t.element(e||s);var i;return r.disableScrollMask?i=e:(i=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(i)),i.on("wheel",n),i.on("touchmove",n),function(){i.off("wheel"),i.off("touchmove"),r.disableScrollMask||i[0].parentNode.removeChild(i[0])}}function a(){var e=i[0].documentElement,n=e.style.cssText||"",r=s.style.cssText||"",o=x.getViewportTop(),a=s.clientWidth,l=s.scrollHeight>s.clientHeight+1;return l&&t.element(s).css({position:"fixed",width:"100%",top:-o+"px"}),s.clientWidth<a&&(s.style.overflow="hidden"),l&&(e.style.overflowY="scroll"),function(){s.style.cssText=r,e.style.cssText=n,s.scrollTop=o}}if(r=r||{},x.disableScrollAround._count=Math.max(0,x.disableScrollAround._count||0),x.disableScrollAround._count++,x.disableScrollAround._restoreScroll)return x.disableScrollAround._restoreScroll;var s=i[0].body,l=a(),c=o(n);return x.disableScrollAround._restoreScroll=function(){--x.disableScrollAround._count<=0&&(l(),c(),delete x.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function r(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",r))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(e,t){return a(x.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var i=n.split("."),r=t;try{for(var o in i)i.hasOwnProperty(o)&&(r=r[i[o]])}catch(a){r=e}return"string"==typeof r||"number"==typeof r?r:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,i,r){var a;return function(){var s=i,l=Array.prototype.slice.call(arguments);o.cancel(a),a=o(function(){a=n,e.apply(s,l)},t||10,r)}},throttle:function(e,t){var n;return function(){var i=this,r=arguments,o=x.now();(!n||o-n>t)&&(e.apply(i,r),n=o)}},time:function(e){var t=x.now();return e(),x.now()-t},valueOnUse:function(e,t,n){var i=null,r=Array.prototype.slice.call(arguments),o=r.length>3?r.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===i&&(i=n.apply(e,o)),i}})},nextUid:function(){return""+r++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,i){if(t.isString(n)){var r=n.toUpperCase();n=function(e){return e.nodeName.toUpperCase()===r}}if(e instanceof t.element&&(e=e[0]),i&&(e=e.parentNode),!e)return null;do if(n(e))return e;while(e=e.parentNode);return null},elementContains:function(n,i){var r=e.Node&&e.Node.prototype&&Node.prototype.contains,o=r?t.bind(n,n.contains):t.bind(n,function(e){return n===i||!!(16&this.compareDocumentPosition(e))});return o(i)},extractElementByName:function(e,n,i,r){function o(e){return a(e)||(i?s(e):null)}function a(e){if(e)for(var t=0,i=e.length;t<i;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function s(e){var t;if(e)for(var n=0,i=e.length;n<i;n++){var r=e[n];if(!t)for(var a=0,s=r.childNodes.length;a<s;a++)t=t||o([r.childNodes[a]])}return t}var l=o(e);return!l&&r&&u.warn(x.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(l||e)},initOptionalProperties:function(e,n,i){i=i||{},t.forEach(e.$$isolateBindings,function(r,o){if(r.optional&&t.isUndefined(e[o])){var a=t.isDefined(n[r.attrName]);e[o]=t.isDefined(i[o])?i[o]:a}})},nextTick:function(e,t,n){function i(){var e=r.queue,t=r.digest;r.queue=[],r.timeout=null,r.digest=!1,e.forEach(function(e){var t=e.scope&&e.scope.$$destroyed;t||e.callback()}),t&&s.$digest()}var r=x.nextTick,a=r.timeout,l=r.queue||[];return l.push({scope:n,callback:e}),null==t&&(t=!0),r.digest=r.digest||t,r.queue=l,a||(r.timeout=o(i,0,!1))},processTemplate:function(e){return _?e:e&&t.isString(e)?e.replace(/\{\{/g,y).replace(/}}/g,b):e},getParentWithPointerEvents:function(e){for(var t=e.parent();w(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,n=t.element("<div>");i[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){e=r[o];break}return n.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(t===!1||"false"!==e&&"0"!==e)},hasComputedStyle:w,isParentFormSubmitted:function(e){var n=x.getClosest(e,"form"),i=n?t.element(n).controller("form"):null;return!!i&&i.$submitted},animateScrollTo:function(e,t,n){function i(){var n=r();e.scrollTop=n,(l?n<t:n>t)&&f(i)}function r(){var e=n||1e3,t=x.now()-c;return o(t,a,s,e)}function o(e,t,n,i){if(e>i)return t+n;var r=(e/=i)*e,o=r*e;return t+n*(-2*o+3*r)}var a=e.scrollTop,s=t-a,l=a<t,c=x.now();f(i)},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})}};return x.dom.animator=l(x),x}i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var r=0;t.module("material.core").factory("$mdUtil",i),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,t,n,i,r){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=i,this.$controller=r}e.$inject=["$q","$templateRequest","$injector","$compile","$controller"],t.module("material.core").service("$mdCompiler",e),e.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},e.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},e.prototype._compileTemplate=function(e){var n=this,i=e.templateUrl,r=e.template||"",o=t.extend({},e.resolve),a=t.extend({},e.locals),s=e.transformTemplate||t.identity;return t.forEach(o,function(e,i){t.isString(e)?o[i]=n.$injector.get(e):o[i]=n.$injector.invoke(e)}),t.extend(o,a),i?o.$$ngTemplate=this.$templateRequest(i):o.$$ngTemplate=this.$q.when(r),this.$q.all(o).then(function(i){var r=s(i.$$ngTemplate,e),o=e.element||t.element("<div>").html(r.trim()).contents();return n._compileElement(i,o,e)})},e.prototype._compileElement=function(e,n,i){function r(r){if(e.$scope=r,i.controller){var l=t.extend(e,{$element:n}),c=o.$controller(i.controller,l,!0,i.controllerAs);i.bindToController&&t.extend(c.instance,e);var u=c();n.data("$ngControllerController",u),n.children().data("$ngControllerController",u),s.controller=u}return a(r)}var o=this,a=this.$compile(n),s={element:n,cleanup:n.remove.bind(n),locals:e,link:r};return s},e.prototype._fetchContentElement=function(e){function n(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}var i=e.contentElement,r=null;return t.isString(i)?(i=document.querySelector(i),r=n(i)):(i=i[0]||i,r=document.contains(i)?n(i):function(){i.parentNode&&i.parentNode.removeChild(i)}),{element:t.element(i),restore:r}}}(),function(){function e(){function e(){t.showWarnings=!1}var t={showWarnings:!0};return{disableWarnings:e,$get:["$$rAF","$log","$window","$interpolate",function(e,i,r,o){return n.apply(t,arguments)}]}}function n(e,n,i,r){function o(e,i,r){var o=t.element(e)[0]||e;!o||o.hasAttribute(i)&&0!==o.getAttribute(i).length||u(o,i)||(r=t.isString(r)?r.trim():"",r.length?e.attr(i,r):d&&n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',o))}function a(t,n,i){e(function(){o(t,n,i())})}function s(e,t){var n=c(e)||"",i=n.indexOf(r.startSymbol())>-1;i?a(e,t,function(){return c(e)}):o(e,t,n)}function l(e,t){var n=c(e),i=n.indexOf(r.startSymbol())>-1;i||n||o(e,t,n)}function c(e){function t(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0}e=e[0]||e;for(var n,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r="";n=i.nextNode();)t(n)||(r+=n.textContent);return r.trim()||""}function u(e,t){function n(e){var t=e.currentStyle?e.currentStyle:i.getComputedStyle(e);return"none"===t.display}var r=e.hasChildNodes(),o=!1;if(r)for(var a=e.childNodes,s=0;s<a.length;s++){var l=a[s];1===l.nodeType&&l.hasAttribute(t)&&(n(l)||(o=!0))}return o}var d=this.showWarnings;return{expect:o,expectAsync:a,expectWithText:s,expectWithoutText:l,getText:c}}n.$inject=["$$rAF","$log","$window","$interpolate"],t.module("material.core").provider("$mdAria",e)}(),function(){function n(){}function i(n,i,r){function o(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function a(e,t,n){var i=p[t.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(p).join(", "));return i.registerElement(e,n)}function l(e,i){var r=new n(e);return t.extend(r,i),p[e]=r,y}function c(){for(var e=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],i=0;i<n.length;i++){var r=n[i],o=r?r+"TouchAction":"touchAction";if(t.isDefined(e.style[o]))return o}}var d=navigator.userAgent||navigator.vendor||e.opera,h=d.match(/ipad|iphone|ipod/i),f=d.match(/android/i),g=c(),v="undefined"!=typeof e.jQuery&&t.element===e.jQuery,y={handler:l,register:a,isHijackingClicks:(h||f)&&!v&&!m};if(y.isHijackingClicks){var b=6;y.handler("click",{options:{maxDistance:b},onEnd:o("click")}),y.handler("focus",{options:{maxDistance:b},onEnd:function(e,t){function n(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||t.indexOf(e.nodeName)!=-1)}t.distance<this.state.options.maxDistance&&n(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),y.handler("mouseup",{options:{maxDistance:b},onEnd:o("mouseup")}),y.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})}return y.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=r(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){g||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,i=this.state.pos.y-t.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){g&&(this.oldTouchAction=e[0].style[g],e[0].style[g]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[g]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,i;g||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,i=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,i=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(e){this.state.isRunning&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function r(e){this.name=e,this.state={}}function o(){function n(e,n,i){i=i||h;var r=new t.element.Event(n);r.$material=!0,r.pointer=i,r.srcEvent=e,t.extend(r,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(i.target).trigger(r)}function i(t,n,i){i=i||h;var r;"click"===n||"mouseup"==n||"mousedown"==n?(r=document.createEvent("MouseEvents"),r.initMouseEvent(n,!0,!0,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(n,!0,!0,{})),r.$material=!0,r.pointer=i,r.srcEvent=t,i.target.dispatchEvent(r)}var o="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return r.prototype={options:{},dispatchEvent:o?n:i,onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var i=this.getNearestParent(e.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,r),registeredParent:i},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[i.name],e.off("$destroy",n),i.onCleanup(e,t||{})}var i=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),i.onSetup(e,t||{}),n}},r}function a(e,n){function i(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||c(e)||(e.preventDefault(),e.stopPropagation())}function r(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||c(e)?(g=null,"label"==e.target.tagName.toLowerCase()&&(g={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),g=null)}function o(e,t){var i;for(var r in p)i=p[r],i instanceof n&&("start"===e&&i.cancel(),i[e](t,h))}function a(e){if(!h){var t=+Date.now();f&&!l(e,f)&&t-f.endTime<1500||(h=s(e),o("start",e))}}function d(e){h&&l(e,h)&&(u(e,h),o("move",e))}function m(e){h&&l(e,h)&&(u(e,h),h.endTime=+Date.now(),o("end",e),f=h,h=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!v&&e.isHijackingClicks&&(document.addEventListener("click",r,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("focus",i,!0),v=!0);var y="mousedown touchstart pointerdown",b="mousemove touchmove pointermove",_="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(y,a).on(b,d).on(_,m).on("$$mdGestureReset",function(){f=h=null})}function s(e){var t=d(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function l(e,t){return e&&t&&e.type.charAt(0)===t.type}function c(e){return g&&g.x==e.x&&g.y==e.y}function u(e,t){var n=d(e),i=t.x=n.pageX,r=t.y=n.pageY;t.distanceX=i-t.startX,t.distanceY=r-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function d(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}i.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"];var h,f,p={},m=!1,g=null,v=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",o).run(a),n.prototype={skipClickHijack:function(){return m=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new i(e,t,n)}]}}(),function(){function e(){function e(e){function n(e){return l.optionsFactory=e.options,l.methods=(e.methods||[]).concat(a),c}function i(e,t){return s[e]=t,c}function r(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return l.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},c}function o(n,i){function r(e){return e=e||{},e._options&&(e=e._options),d.show(t.extend({},u,e))}function o(e){return d.destroy(e)}function a(t,n){var r={};return r[e]=h,i.invoke(t||function(){return n},{},r)}var c,u,d=n(),h={hide:d.hide,cancel:d.cancel,show:r,destroy:o};return c=l.methods||[],u=a(l.optionsFactory,{}),t.forEach(s,function(e,t){h[t]=e}),t.forEach(l.presets,function(e,n){function i(e){this._options=t.extend({},r,e)}var r=a(e.optionsFactory,{}),o=(e.methods||[]).concat(c);if(t.extend(r,{$type:n}),t.forEach(o,function(e){i.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);h[s]=function(e){var t=h[n](e);return h.show(t)}}h[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new i)[e.argOption](n):new i(n)}}),h}o.$inject=["$$interimElement","$injector"];var a=["onHide","onShow","onRemove"],s={},l={presets:{}},c={setDefaults:n,addPreset:r,addMethod:i,$get:o};return c.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),c}function i(e,i,r,o,a,s,l,c,u,d,h){return function(){function f(e){e=e||{};var t=new y(e||{}),n=e.multiple?i.resolve():i.all(w);e.multiple||(n=n.then(function(){var e=x.concat(E.map(b.cancel));return i.all(e)}));var r=n.then(function(){return t.show()["catch"](function(e){return e})["finally"](function(){w.splice(w.indexOf(r),1),E.push(t)})});return w.push(r),t.deferred.promise["catch"](function(e){return e instanceof Error&&h(e),e}),t.deferred.promise}function p(e,t){function r(n){var i=n.remove(e,!1,t||{})["catch"](function(e){return e})["finally"](function(){x.splice(x.indexOf(i),1)});return E.splice(E.indexOf(n),1),x.push(i),n.deferred.promise}return t=t||{},t.closeAll?i.all(E.slice().reverse().map(r)):t.closeTo!==n?i.all(E.slice(t.closeTo).map(r)):r(E[E.length-1])}function m(e,n){var r=E.pop();if(!r)return i.when(e);var o=r.remove(e,!0,n||{})["catch"](function(e){return e})["finally"](function(){x.splice(x.indexOf(o),1)});return x.push(o),r.deferred.promise["catch"](t.noop)}function g(e){return function(){var t=arguments;return E.length?e.apply(b,t):w.length?w[0]["finally"](function(){return e.apply(b,t)}):i.when("No interim elements currently showing up.")}}function v(e){var n=e?null:E.shift(),r=t.element(e).length&&t.element(e)[0].parentNode;if(r){var o=E.filter(function(e){return e.options.element[0]===r});o.length&&(n=o[0],E.splice(E.indexOf(n),1))}return n?n.remove(_,!1,{$destroy:!0}):i.when(_)}function y(d){function h(){return i(function(e,t){function n(e){x.deferred.reject(e),t(e)}d.onCompiling&&d.onCompiling(d),m(d).then(function(t){E=g(t,d),d.cleanupElement=t.cleanup,k=_(E,d,t.controller).then(e,n)})["catch"](n)})}function f(e,n,r){function o(e){x.deferred.resolve(e)}function a(e){x.deferred.reject(e)}return E?(d=t.extend(d||{},r||{}),d.cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),d.$destroy===!0?w(d.element,d).then(function(){n&&a(e)||o(e)}):(i.when(k)["finally"](function(){w(d.element,d).then(function(){n?a(e):o(e)},a)}),x.deferred.promise)):i.when(!1)}function p(e){return e=e||{},e.template&&(e.template=l.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t){return t&&s.leave(t)||i.when()}},e)}function m(e){var t=e.skipCompile?null:c.compile(e);return t||i(function(t){t({locals:{},link:function(){return e.element}})})}function g(e,n){t.extend(e.locals,n);var i=e.link(n.scope);return n.element=i,n.parent=v(i,n),n.themable&&u(i),i}function v(n,i){var r=i.parent;if(r=t.isFunction(r)?r(i.scope,n,i):t.isString(r)?t.element(e[0].querySelector(r)):t.element(r),!(r||{}).length){var o;return a[0]&&a[0].querySelector&&(o=a[0].querySelector(":not(svg) > body")),o||(o=a[0]),"#comment"==o.nodeName&&(o=e[0].body),t.element(o)}return r}function y(){var e,i=t.noop;d.hideDelay&&(e=o(b.hide,d.hideDelay),i=function(){o.cancel(e)}),d.cancelAutoHide=function(){i(),d.cancelAutoHide=n}}function _(e,n,r){var o=n.onShowing||t.noop,a=n.onComplete||t.noop;try{o(n.scope,e,n,r)}catch(s){return i.reject(s)}return i(function(t,o){try{i.when(n.onShow(n.scope,e,n,r)).then(function(){a(n.scope,e,n),y(),t(e)},o)}catch(s){o(s.message)}})}function w(e,n){var r=n.onRemoving||t.noop;return i(function(t,o){try{var a=i.when(n.onRemove(n.scope,e,n)||!0);r(e,a),n.$destroy?(t(e),!n.preserveScope&&n.scope&&a.then(function(){n.scope.$destroy()})):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},o)}catch(s){o(s.message)}})}var x,E,k=i.when(!0);return d=p(d),x={options:d,deferred:i.defer(),show:h,remove:f}}var b,_=!1,w=[],x=[],E=[];return b={show:f,hide:g(p),cancel:g(m),destroy:v,$injector_:d}}}return i.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],e.$get=i,e}t.module("material.core").provider("$$interimElement",e)}(),function(){function n(e,n){this.$timeout=e,this.$mdUtil=n,this.bodyElement=t.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}n.$inject=["$timeout","$mdUtil"],t.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.initializeEvents=function(){var t="MSPointerEvent"in e?"MSPointerDown":"PointerEvent"in e?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},n.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(e){var n=t.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){!function(){function e(e){function s(e){return e.replace(d,"").replace(h,function(e,t,n,i){return i?n.toUpperCase():n})}var d=/^((?:x|data)[\:\-_])/i,h=/([\:\-\_]+(.))/g,f=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],p=["layout","flex","flex-order","flex-offset","layout-align"],m=["show","hide","layout-padding","layout-margin"];t.forEach(f,function(n){t.forEach(p,function(t){var i=n?t+"-"+n:t;e.directive(s(i),o(i))}),t.forEach(m,function(t){var i=n?t+"-"+n:t;e.directive(s(i),a(i))})}),e.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:u,validateAttributeUsage:c,disableLayouts:function(e){C.enabled=e!==!0}}}).directive("mdLayoutCss",i).directive("ngCloak",r("ng-cloak")).directive("layoutWrap",a("layout-wrap")).directive("layoutNowrap",a("layout-nowrap")).directive("layoutNoWrap",a("layout-no-wrap")).directive("layoutFill",a("layout-fill")).directive("layoutLtMd",l("layout-lt-md",!0)).directive("layoutLtLg",l("layout-lt-lg",!0)).directive("flexLtMd",l("flex-lt-md",!0)).directive("flexLtLg",l("flex-lt-lg",!0)).directive("layoutAlignLtMd",l("layout-align-lt-md")).directive("layoutAlignLtLg",l("layout-align-lt-lg")).directive("flexOrderLtMd",l("flex-order-lt-md")).directive("flexOrderLtLg",l("flex-order-lt-lg")).directive("offsetLtMd",l("flex-offset-lt-md")).directive("offsetLtLg",l("flex-offset-lt-lg")).directive("hideLtMd",l("hide-lt-md")).directive("hideLtLg",l("hide-lt-lg")).directive("showLtMd",l("show-lt-md")).directive("showLtLg",l("show-lt-lg")).config(n)}function n(){var e=!!document.querySelector("[md-layouts-disabled]");C.enabled=!e}function i(){return C.enabled=!1,{restrict:"A",priority:"900"}}function r(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(i){return C.enabled?(i.addClass(e),function(t,i){n(function(){i.removeClass(e)},10,!1)}):t.noop}}}]}function o(e){function n(t,n,i){var r=s(n,e,i),o=i.$observe(i.$normalize(e),r);r(f(e,i,"")),t.$on("$destroy",function(){o()})}return["$mdUtil","$interpolate","$log",function(i,r,o){return g=i,v=r,y=o,{restrict:"A",compile:function(i,r){var o;return C.enabled&&(c(e,r,i,y),u(e,f(e,r,""),d(i,e,r)),o=n),o||t.noop}}}]}function a(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(i,r,o){return g=i,v=r,y=o,{restrict:"A",compile:function(i,r){var o;return C.enabled&&(u(e,f(e,r,""),d(i,e,r)),n(null,i),o=n),o||t.noop}}}]}function s(e,n){var i;return function(r){var o=u(n,r||"");t.isDefined(o)&&(i&&e.removeClass(i),i=o?n+"-"+o.replace(_,"-"):n,e.addClass(i))}}function l(e){var n=e.split("-");return["$log",function(i){return i.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function c(e,t,n,i){var r,o,a,s=n[0].nodeName.toLowerCase();switch(e.replace(b,"")){case"flex":"md-button"!=s&&"fieldset"!=s||(o="<"+s+" "+e+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",r="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",i.warn(g.supplant(r,[o,a])))}}function u(e,n,i){var r=n;if(!h(n)){switch(e.replace(b,"")){case"layout":p(n,x)||(n=x[0]);break;case"flex":p(n,w)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var o=m(n);n=g.supplant("{main}-{cross}",o);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":n=""}n!=r&&(i||t.noop)(n)}return n}function d(e,t,n){return function(e){h(e)||(n[n.$normalize(t)]=e)}}function h(e){return(e||"").indexOf(v.startSymbol())>-1}function f(e,t,n){var i=t.$normalize(e);return t[i]?t[i].replace(_,"-"):n||null}function p(e,t,n){e=n&&e?e.replace(_,n):e;var i=!1;return e&&t.forEach(function(t){t=n?t.replace(_,n):t,i=i||t===e}),i}function m(e){var t,n={main:"start",cross:"stretch"};return e=e||"",0!==e.indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e),t=e.toLowerCase().trim().replace(_,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),E.indexOf(n.main)<0&&(n.main="start"),k.indexOf(n.cross)<0&&(n.cross="stretch"),n}var g,v,y,b=/(-gt)?-(sm|md|lg|print)/g,_=/\s+/g,w=["grow","initial","auto","none","noshrink","nogrow"],x=["row","column"],E=["","start","center","end","stretch","space-around","space-between"],k=["","start","center","end","stretch"],C={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}e.$inject=["$timeout"],t.module("material.core").service("$mdLiveAnnouncer",e),e.prototype.announce=function(e,t){t||(t="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){
n._liveElement.textContent=e},n._announceTimeout,!1)},e.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}}(),function(){t.module("material.core.meta",[]).provider("$$mdMeta",function(){function e(e){if(o[e])return!0;var n=document.getElementsByName(e)[0];return!!n&&(o[e]=t.element(n),!0)}function n(n,i){if(e(n),o[n])o[n].attr("content",i);else{var a=t.element('<meta name="'+n+'" content="'+i+'"/>');r.append(a),o[n]=a}return function(){o[n].attr("content",""),o[n].remove(),delete o[n]}}function i(t){if(!e(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return o[t].attr("content")}var r=t.element(document.head),o={},a={setMeta:n,getMeta:i};return t.extend({},a,{$get:function(){return a}})})}(),function(){function e(e,i){function r(e){return e&&""!==e}var o,a=[],s={};return o={notFoundError:function(t,n){e.error((n||"")+"No instance found for handle",t)},getInstances:function(){return a},get:function(e){if(!r(e))return null;var t,n,i;for(t=0,n=a.length;t<n;t++)if(i=a[t],i.$$mdHandle===e)return i;return null},register:function(e,n){function i(){var t=a.indexOf(e);t!==-1&&a.splice(t,1)}function r(){var t=s[n];t&&(t.forEach(function(t){t.resolve(e)}),delete s[n])}return n?(e.$$mdHandle=n,a.push(e),r(),i):t.noop},when:function(e){if(r(e)){var t=i.defer(),a=o.get(e);return a?t.resolve(a):(s[e]===n&&(s[e]=[]),s[e].push(t)),t.promise}return i.reject("Invalid `md-component-id` value.")}}}e.$inject=["$log","$q"],t.module("material.core").factory("$mdComponentRegistry",e)}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(i,r,o){return o=t.extend(n(r),o),e.attach(i,r,o)}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdButtonInkRipple",e)}()}(),function(){!function(){function e(e){function n(n,i,r){return e.attach(n,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdCheckboxInkRipple",e)}()}(),function(){!function(){function e(e){function n(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdListInkRipple",e)}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,i):e.attach(t,i)}}}function n(){function e(){n=!0}var n=!1;return{disableInkRipple:e,$get:["$injector",function(e){function r(r,o,a){return n||o.controller("mdNoInk")?t.noop:e.instantiate(i,{$scope:r,$element:o,rippleOptions:a})}return{attach:r}}]}}function i(e,n,i,r,o,a,s){this.$window=r,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=e,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function r(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function o(){return{controller:t.noop}}i.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],t.module("material.core").provider("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",o).directive("mdNoBar",o).directive("mdNoStretch",o);var a=450;i.prototype.color=function(e){function n(){var e=i.options&&i.options.colorElement?i.options.colorElement:[],t=e.length?e[0]:i.$element[0];return t?i.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var i=this;return t.isDefined(e)&&(i._color=i._parseColor(e)),i._color||i._parseColor(i.inkRipple())||i._parseColor(n())},i.prototype.calculateColor=function(){return this.color()},i.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0},i.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},i.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.createRipple(n,i)}else this.createRipple(e.offsetX,e.offsetY)},i.prototype.handleMouseup=function(){r(this,this.clearRipples)},i.prototype.handleTouchmove=function(){r(this,this.deleteRipples)},i.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},i.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},i.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},i.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},i.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},i.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},i.prototype.createRipple=function(e,n){function i(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var r=this,o=r.$mdColorUtil,s=t.element('<div class="md-ripple"></div>'),l=this.$element.prop("clientWidth"),c=this.$element.prop("clientHeight"),u=2*Math.max(Math.abs(l-e),e),d=2*Math.max(Math.abs(c-n),n),h=i(this.options.fitRipple,u,d),f=this.calculateColor();s.css({left:e+"px",top:n+"px",background:"black",width:h+"px",height:h+"px",backgroundColor:o.rgbaToRgb(f),borderColor:o.rgbaToRgb(f)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(s)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:f}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},a,!1)},!1)}},i.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},i.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);n<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),e.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},a,!1))},i.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdTabInkRipple",e)}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(e){function t(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}function i(t,i){function r(e,t){return t=t||{},f[e]=a(e,t),p}function o(t,n){return a(t,e.extend({},f[t]||{},n))}function a(e,t){var n=S.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function l(t,n){if(b[t])return b[t];n=n||"default";var i="string"==typeof n?b[n]:n,r=new u(t);return i&&e.forEach(i.colors,function(t,n){r.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),b[t]=r,r}function u(t){function n(t){if(t=0===arguments.length||!!t,t!==i.isDark){i.isDark=t,i.foregroundPalette=i.isDark?g:m,i.foregroundShadow=i.isDark?v:y;var n=i.isDark?C:k,r=i.isDark?k:C;return e.forEach(n,function(e,t){var n=i.colors[t],o=r[t];if(n)for(var a in n.hues)n.hues[a]===o[a]&&(n.hues[a]=e[a])}),i}}var i=this;i.name=t,i.colors={},i.dark=n,n(!1),x.forEach(function(t){var n=(i.isDark?C:k)[t];i[t+"Palette"]=function(r,o){var a=i.colors[t]={name:r,hues:e.extend({},n,o)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",i.name).replace("%3",r).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(e){if(S.indexOf(e)==-1)throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",i.name).replace("%3",t).replace("%4",r).replace("%5",S.join(", ")))}),i},i[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return i[t+"Palette"].apply(i,e)}})}function d(t,i,r,o){function a(e){return e===n||""===e||u.THEMES[e]!==n}function s(e,t){function n(){return s&&s.$mdTheme||("default"==w?"":w)}function r(t){if(t){a(t)||o.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var n=e.data("$mdThemeName");n&&e.removeClass("md-"+n+"-theme"),e.addClass("md-"+t+"-theme"),e.data("$mdThemeName",t),s&&e.data("$mdThemeController",s)}}var s=t.controller("mdTheme")||e.data("$mdThemeController");if(r(n()),s)var l=_||s.$shouldWatch||i.parseAttributeBoolean(e.attr("md-theme-watch")),c=s.registerChanges(function(t){r(t),l?e.on("$destroy",c):c()})}var u=function(e,i){i===n&&(i=e,e=n),e===n&&(e=t),u.inherit(i,i)};return Object.defineProperty(u,"THEMES",{get:function(){return e.extend({},b)}}),Object.defineProperty(u,"PALETTES",{get:function(){return e.extend({},f)}}),Object.defineProperty(u,"ALWAYS_WATCH",{get:function(){return _}}),u.inherit=s,u.registered=a,u.defaultTheme=function(){return w},u.generateTheme=function(e){c(b[e],e,M.nonce)},u.defineTheme=function(e,t){t=t||{};var n=l(e);return t.primary&&n.primaryPalette(t.primary),t.accent&&n.accentPalette(t.accent),t.warn&&n.warnPalette(t.warn),t.background&&n.backgroundPalette(t.background),t.dark&&n.dark(),this.generateTheme(e),r.resolve(e)},u.setBrowserColor=A,u}d.$inject=["$rootScope","$mdUtil","$q","$log"],f={};var p,b={},_=!1,w="default";e.extend(f,t);var E=function(e){var t=i.setMeta("theme-color",e),n=i.setMeta("msapplication-navbutton-color",e);return function(){t(),n()}},A=function(t){t=e.isObject(t)?t:{};var n=t.theme||"default",i=t.hue||"800",r=f[t.palette]||f[b[n].colors[t.palette||"primary"].name],o=e.isObject(r[i])?r[i].hex:r[i];return E(o)};return p={definePalette:r,extendPalette:o,theme:l,configuration:function(){return e.extend({},M,{defaultTheme:w,alwaysWatchTheme:_,registeredStyles:[].concat(M.registeredStyles)})},disableTheming:function(t){M.disableTheming=e.isUndefined(t)||!!t},registerStyles:function(e){M.registeredStyles.push(e)},setNonce:function(e){M.nonce=e},generateThemesOnDemand:function(e){M.generateOnDemand=e},setDefaultTheme:function(e){w=e},alwaysWatchTheme:function(e){_=e},enableBrowserColor:A,$get:d,_LIGHT_DEFAULT_HUES:k,_DARK_DEFAULT_HUES:C,_PALETTES:f,_THEMES:b,_parseRules:s,_rgba:h}}function r(t,n,i,r,o,a){return{priority:101,link:{pre:function(s,l,c){var u=[],d=n.startSymbol(),h=n.endSymbol(),f=c.mdTheme.trim(),p=f.substr(0,d.length)===d&&f.lastIndexOf(h)===f.length-h.length,m="::",g=c.mdTheme.split(d).join("").split(h).join("").trim().substr(0,m.length)===m,v={registerChanges:function(t,n){return n&&(t=e.bind(n,t)),u.push(t),function(){var e=u.indexOf(t);e>-1&&u.splice(e,1)}},$setTheme:function(e){t.registered(e)||a.warn("attempted to use unregistered theme '"+e+"'"),v.$mdTheme=e;for(var n=u.length;n--;)u[n](e)},$shouldWatch:r.parseAttributeBoolean(l.attr("md-theme-watch"))||t.ALWAYS_WATCH||p&&!g};l.data("$mdThemeController",v);var y=function(){var e=n(c.mdTheme)(s);return i(e)(s)||e},b=function(t){return"string"==typeof t?v.$setTheme(t):void o.when(e.isFunction(t)?t():t).then(function(e){v.$setTheme(e)})};b(y());var _=s.$watch(y,function(e){e&&(b(e),v.$shouldWatch||_())})}}}}function o(){return M.disableTheming=!0,{restrict:"A",priority:"900"}}function a(e){return e}function s(t,n,i){u(t,n),i=i.replace(/THEME_NAME/g,t.name);var r=[],o=t.colors[n],a=new RegExp("\\.md-"+t.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),l=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,c=f[o.name];return i=i.replace(l,function(e,n,i,r,o){return"foreground"===n?"shadow"==i?t.foregroundShadow:t.foregroundPalette[i]||t.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=t.colors[n].hues[i]),h((f[t.colors[n].name][i]||"")[o?"contrast":"value"],r))}),e.forEach(o.hues,function(e,n){var o=i.replace(s,function(t,n,i,r,o){return h(c[e]["color"===r?"value":"contrast"],o)});if("default"!==n&&(o=o.replace(a,".md-"+t.name+"-theme.md-"+n)),"default"==t.name){var l=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;o=o.replace(l,function(e,t,n){return e+", "+t+n})}r.push(o)}),r}function l(t,n){function i(t,n){var i=t.contrastDefaultColor,r=t.contrastLightColors||[],o=t.contrastStrongLightColors||[],a=t.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(n,s){function l(){return"light"===i?a.indexOf(s)>-1?b:o.indexOf(s)>-1?w:_:r.indexOf(s)>-1?o.indexOf(s)>-1?w:_:b}if(!e.isObject(n)){var c=d(n);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",t.name).replace("%3",s));t[s]={hex:t[s],value:c,contrast:l()}}})}var r=document.head,o=r?r.firstElementChild:null,a=!M.disableTheming&&t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(a+=M.registeredStyles.join(""),o&&0!==a.length){e.forEach(f,i);var s=a.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"}),l=new RegExp("md-("+x.join("|")+")","g");x.forEach(function(e){A[e]=""}),s.forEach(function(e){for(var t,n=(e.match(l),0);t=x[n];n++)if(e.indexOf(".md-"+t)>-1)return A[t]+=e;for(n=0;t=x[n];n++)if(e.indexOf(t)>-1)return A[t]+=e;return A[E]+=e}),M.generateOnDemand||e.forEach(n.THEMES,function(e){p[e.name]||"default"!==n.defaultTheme()&&"default"===e.name||c(e,e.name,M.nonce)})}}function c(e,t,n){var i=document.head,r=i?i.firstElementChild:null;p[t]||(x.forEach(function(t){for(var o=s(e,t,A[t]);o.length;){var a=o.shift();if(a){var l=document.createElement("style");l.setAttribute("md-theme-style",""),n&&l.setAttribute("nonce",n),l.appendChild(document.createTextNode(a)),i.insertBefore(l,r)}}}),p[e.name]=!0)}function u(e,t){if(!f[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(f).join(", ")))}function d(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),[parseInt(i,16),parseInt(r,16),parseInt(o,16)]}}function h(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}t.$inject=["$mdThemingProvider"],r.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],a.$inject=["$mdTheming"],i.$inject=["$mdColorPalette","$$mdMetaProvider"],l.$inject=["$injector","$mdTheming"],e.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",r).directive("mdThemable",a).directive("mdThemesDisabled",o).provider("$mdTheming",i).config(t).run(l);var f,p={},m={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},g={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},v="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",y="",b=d("rgba(0,0,0,0.87)"),_=d("rgba(255,255,255,0.87)"),w=d("rgb(255,255,255)"),x=["primary","accent","warn","background"],E="primary",k={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},C={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};x.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};k[e]||(k[e]=t),C[e]||(C[e]=t)});var S=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],M={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},A={}}(e.angular)}(),function(){function n(n,i,r,o,a){var s;return s={translate3d:function(e,t,n,i){function r(n){return a(e,{to:n||t,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}return a(e,{from:t,to:n,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then(function(){return r})},waitTransitionEnd:function(t,n){var a=3e3;return i(function(i,s){function l(e){e&&e.target!==t[0]||(e&&r.cancel(u),t.off(o.CSS.TRANSITIONEND,l),i())}function c(n){return n=n||e.getComputedStyle(t[0]),"0s"==n.transitionDuration||!n.transition&&!n.transitionProperty}n=n||{},c(n.cachedTransitionStyles)&&(a=0);var u=r(l,n.timeout||a);t.on(o.CSS.TRANSITIONEND,l)})},calculateTransformValues:function(e,t){function n(){var t=e?e.parent():null,n=t?t.parent():null;return n?s.clientRect(n):null}var i=t.element,r=t.bounds;if(i||r){var o=i?s.clientRect(i)||n():s.copyRect(r),a=s.copyRect(e[0].getBoundingClientRect()),l=s.centerPointFor(a),c=s.centerPointFor(o);return{centerX:c.x-l.x,centerY:c.y-l.y,scaleX:Math.round(100*Math.min(.5,o.width/a.width))/100,scaleY:Math.round(100*Math.min(.5,o.height/a.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,i){var r="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",o=t.bind(null,n.supplant,r);return o(s.calculateTransformValues(e,i))},calculateSlideToOrigin:function(e,i){var r="translate3d( {centerX}px, {centerY}px, 0 )",o=t.bind(null,n.supplant,r);return o(s.calculateTransformValues(e,i))},toCss:function(e){function n(e,n,r){t.forEach(n.split(" "),function(e){i[e]=r})}var i={},r="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(r.indexOf(a)>=0)i[a]=e+"px";else switch(a){case"transition":n(a,o.CSS.TRANSITION,e);break;case"transform":n(a,o.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,o.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":i["font-size"]=e}}),i},toTransformCss:function(e,n,i){var r={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){r[t]=e}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),i=function(e){return e&&e.width>0&&e.height>0};return i(n)?s.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(e,t,i,r){return function(o){return n(o,e,t,i,r)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,i=t.isDefined(document.documentElement.style.WebkitAppearance),r=i?"-webkit-":"",o=(i?"webkitTransitionEnd ":"")+"transitionend",a=(i?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],l=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],c=["$q","$$rAFMutex",function(e,i){function r(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}var o=0,a=1,s=2;return r.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===o&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},r.all=function(e,t){function i(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;n(e,function(e){e.done(i)})},r}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",c).factory("$$rAFMutex",l).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,s,l,c,u,d,h){function f(i,s){var c=[],u=w(i),f=u&&h.enabled(),g=!1,E=!1;f&&(s.transitionStyle&&c.push([r+"transition",s.transitionStyle]),s.keyframeStyle&&c.push([r+"animation",s.keyframeStyle]),s.delay&&c.push([r+"transition-delay",s.delay+"s"]),s.duration&&c.push([r+"transition-duration",s.duration+"s"]),g=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),E=!!s.addClass||!!s.removeClass,x(i,!0));var k=f&&(g||E);b(i,s);var C,S,M=!1;return{close:t.close,start:function(){function t(){if(!M)return M=!0,C&&S&&i.off(C,S),p(i,s),y(i,s),n(c,function(t){u.style[e(t[0])]=""}),h.complete(!0),h}var h=new l;return v(function(){if(x(i,!1),!k)return t();n(c,function(t){var n=t[0],i=t[1];u.style[e(n)]=i}),p(i,s);var l=m(i);if(0===l.duration)return t();var h=[];s.easing&&(l.transitionDuration&&h.push([r+"transition-timing-function",s.easing]),l.animationDuration&&h.push([r+"animation-timing-function",s.easing])),s.delay&&l.animationDelay&&h.push([r+"animation-delay",s.delay+"s"]),s.duration&&l.animationDuration&&h.push([r+"animation-duration",s.duration+"s"]),n(h,function(t){var n=t[0],i=t[1];u.style[e(n)]=i,c.push(t)});var f=l.delay,g=1e3*f,v=l.duration,y=1e3*v,b=Date.now();C=[],l.transitionDuration&&C.push(o),l.animationDuration&&C.push(a),C=C.join(" "),S=function(e){e.stopPropagation();var n=e.originalEvent||e,i=n.timeStamp||Date.now(),r=parseFloat(n.elapsedTime.toFixed(3));Math.max(i-b,0)>=g&&r>=v&&t()},i.on(C,S),_(i,s),d(t,g+1.5*y,!1)}),h}}}function p(e,t){t.addClass&&(u.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(u.removeClass(e,t.removeClass),t.removeClass=null)}function m(e){function n(e){return i?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var r=w(e),o=t.getComputedStyle(r),a=g(o[n("transitionDuration")]),s=g(o[n("animationDuration")]),l=g(o[n("transitionDelay")]),c=g(o[n("animationDelay")]);s*=parseInt(o[n("animationIterationCount")],10)||1;var u=Math.max(s,a),d=Math.max(c,l);return{duration:u,delay:d,animationDuration:s,transitionDuration:a,animationDelay:c,transitionDelay:l}}function g(e){var t=0,i=(e||"").split(/\s*,\s*/);return n(i,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function v(e){E&&E(),k.push(e),E=s(function(){E=null;for(var e=c(),t=0;t<k.length;t++)k[t](e);k.length=0})}function y(e,t){b(e,t),_(e,t)}function b(e,t){t.from&&(e.css(t.from),t.from=null)}function _(e,t){t.to&&(e.css(t.to),t.to=null)}function w(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function x(t,n){var i=w(t),o=e(r+"transition-delay");i.style[o]=n?"-9999s":""}var E,k=[];return f}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,n,i,r,o,a,s,l){function c(c,d,h){function f(){var e=parseInt(p.height,10)+Math.abs(parseInt(p.top,10));d.css("height",e+"px")}i.pin&&i.pin(d,r);var p;s(function(){if(p=o.getComputedStyle(l[0].body),"fixed"===p.position){var i=n.debounce(function(){p=o.getComputedStyle(l[0].body),f()},60,null,!1);f(),t.element(o).on("resize",i),c.$on("$destroy",function(){t.element(o).off("resize",i)})}var r=d.parent();if(r.length){"BODY"===r[0].nodeName&&d.css("position","fixed");
var s=o.getComputedStyle(r[0]);"static"===s.position&&a.warn(u),e.inherit(d,r)}})}var u="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:c}}])}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,o,a,s,l,c,u){function d(i,r,c,d){if(r=o.extractElementByName(r,"md-bottom-sheet"),r.attr("tabindex","-1"),r.hasClass("ng-cloak")){var h="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.";u.warn(h,r[0])}c.disableBackdrop||(p=o.createBackdrop(i,"md-bottom-sheet-backdrop md-opaque"),p[0].tabIndex=-1,c.clickOutsideToClose&&p.on("click",function(){o.nextTick(s.cancel,!0)}),a.inherit(p,c.parent),e.enter(p,c.parent,null));var m=new f(r,c.parent);return c.bottomSheet=m,a.inherit(m.element,c.parent),c.disableParentScroll&&(c.restoreScroll=o.disableScrollAround(m.element,c.parent)),e.enter(m.element,c.parent,p).then(function(){var e=o.findFocusTarget(r)||t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector(o.prefixer("ng-click",!0)))||p;c.escapeToClose&&(c.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},l.on("keyup",c.rootElementKeyupCallback),e&&e.focus())})}function h(t,n,i){var r=i.bottomSheet;return i.disableBackdrop||e.leave(p),e.leave(r.element).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),r.cleanup()})}function f(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function l(t){var i=t.pointer.distanceY;i<5&&(i=Math.max(-r,i/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(r+i)+"px,0)")}function u(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>i)){var r=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(r/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var d=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",l).on("$md.dragend",u),{element:e,cleanup:function(){d(),t.off("$md.dragstart",a),t.off("$md.drag",l),t.off("$md.dragend",u)}}}var p;return{themable:!0,onShow:d,onRemove:h,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var i=.5,r=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n)}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}function n(e,n,i,r){function o(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){if(o(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(a,s,l){n(s),e.attach(a,s),i.expectWithoutText(s,"aria-label"),o(l)&&t.isDefined(l.ngDisabled)&&a.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){l.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),s.hasClass("md-no-focus")||(s.on("focus",function(){r.isUserInvoked()&&"keyboard"!==r.getLastInteractionType()||s.addClass("md-focused")}),s.on("blur",function(){s.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],e.$inject=["$mdTheming"],t.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){n.addClass("_md"),e(n)}}}e.$inject=["$mdTheming"],t.module("material.components.card",["material.core"]).directive("mdCard",e)}(),function(){function e(e,n,i,r,o,a){function s(s,l){function c(s,l,c,u){function d(e,t,n){c[e]&&s.$watch(c[e],function(e){n[e]&&l.attr(t,n[e])})}function h(e){var t=e.which||e.keyCode;t!==i.KEY_CODE.SPACE&&t!==i.KEY_CODE.ENTER||(e.preventDefault(),l.addClass("md-focused"),f(e))}function f(e){l[0].hasAttribute("disabled")||s.skipToggle||s.$apply(function(){var t=c.ngChecked?c.checked:!y.$viewValue;y.$setViewValue(t,e&&e.type),y.$render()})}function p(){l.toggleClass("md-checked",!!y.$viewValue&&!g)}function m(e){g=e!==!1,g&&l.attr("aria-checked","mixed"),l.toggleClass("md-indeterminate",g)}var g,v=u[0],y=u[1]||o.fakeNgModel(),b=u[2];if(v){var _=v.isErrorGetter||function(){return y.$invalid&&(y.$touched||b&&b.$submitted)};v.input=l,s.$watch(_,v.setInvalid)}r(l),l.children().on("focus",function(){l.focus()}),o.parseAttributeBoolean(c.mdIndeterminate)&&(m(),s.$watch(c.mdIndeterminate,m)),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),function(e){y.$setViewValue(e),y.$render()}),d("ngDisabled","tabindex",{"true":"-1","false":c.tabindex}),n.expectWithText(l,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[y]),l.on("click",f).on("keypress",h).on("focus",function(){"keyboard"===a.getLastInteractionType()&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),y.$render=p}return l.$set("tabindex",l.tabindex||"0"),l.$set("type","checkbox"),l.$set("role",l.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:c}}return e=e[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:i.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e)}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){!function(){function e(e,n,i){function o(e,t){try{t&&e.css(l(t))}catch(n){i.error(n.message)}}function a(e){var t=u(e);return s(t)}function s(t,i){i=i||!1;var r=e.PALETTES[t.palette][t.hue];return r=i?r.contrast:r.value,n.supplant("rgba({0}, {1}, {2}, {3})",[r[0],r[1],r[2],r[3]||t.opacity])}function l(e){var n={},i=e.hasOwnProperty("color");return t.forEach(e,function(e,t){var r=u(e),o=t.indexOf("background")>-1;n[t]=s(r),o&&!i&&(n.color=s(r,!0))}),n}function c(n){return t.isDefined(e.THEMES[n.split("-")[0]])}function u(n){var i=n.split("-"),r=t.isDefined(e.THEMES[i[0]]),o=r?i.splice(0,1)[0]:e.defaultTheme();return{theme:o,palette:d(i,o),hue:h(i,o),opacity:i[2]||1}}function d(t,i){var o=t.length>1&&r.indexOf(t[1])!==-1,a=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=t[0]+"-"+t.splice(1,1)),r.indexOf(a)===-1){var s=e.THEMES[i].colors[a];if(!s)throw new Error(n.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}function h(t,i){var r=e.THEMES[i].colors;if("hue"===t[1]){var o=parseInt(t.splice(2,1)[0],10);if(o<1||o>3)throw new Error(n.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(t[1]="hue-"+o,!(t[0]in r))throw new Error(n.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(r).join(", "),usedTheme:t[0]}));return r[t[0]].hues[t[1]]}return t[1]||r[t[0]in r?t[0]:"primary"].hues["default"]}return r=r||Object.keys(e.PALETTES),{applyThemeColors:o,getThemeColor:a,hasTheme:c}}function n(e,n,r,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){function l(){var e=s.mdColors,r=e.indexOf("::")>-1,o=!!r||i.test(s.mdColors);s.mdColors=e.replace("::","");var a=t.isDefined(s.mdColorsWatch);return!r&&!o&&(!a||n.parseAttributeBoolean(s.mdColorsWatch))}var c=l();return function(n,i,a,s){var l=s[0],u={},d=function(t){"string"!=typeof t&&(t=""),a.mdColors||(a.mdColors="{}");var i=o(a.mdColors)(n);return l&&Object.keys(i).forEach(function(n){var r=i[n];e.hasTheme(r)||(i[n]=(t||l.$mdTheme)+"-"+r)}),h(i),i},h=function(e){if(!t.equals(e,u)){var n=Object.keys(u);u.background&&!n.color&&n.push("color"),n.forEach(function(e){i.css(e,"")})}u=e},f=t.noop;l&&(f=l.registerChanges(function(t){e.applyThemeColors(i,d(t))})),n.$on("$destroy",function(){f()});try{c?n.$watch(d,t.bind(this,e.applyThemeColors,i),!0):e.applyThemeColors(i,d())}catch(p){r.error(p.message)}}}}}n.$inject=["$mdColors","$mdUtil","$log","$parse"],e.$inject=["$mdTheming","$mdUtil","$log"];var i=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,r=null;t.module("material.components.colors",["material.core"]).directive("mdColors",n).service("$mdColors",e)}()}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,i){i.addClass("_md"),e(i),t.$broadcast("$mdContentLoaded",i),n(i[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}e.$inject=["$mdTheming"],t.module("material.components.content",["material.core"]).directive("mdContent",e)}(),function(){t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function e(e,n,i){return{restrict:"E",link:function(r,o){o.addClass("_md"),n(o),e(function(){function e(){o.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=o[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),r.$on("$destroy",function(){i.destroy(o)})})}}}function i(e){function i(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!n||this.result)},this.abort=function(){e.cancel()},this.keypress=function(n){n.keyCode===t.KEY_CODE.ENTER&&e.hide(this.result)}},controllerAs:"dialog",bindToController:!0}}function r(e,i,r,s,l,c,u,d,h,f,p,m,g){function v(e){e.defaultTheme=p.defaultTheme(),w(e)}function y(e,t,n,i){if(i){var r=i.htmlContent||n.htmlContent||"",o=i.textContent||n.textContent||i.content||n.content||"";if(r&&!f.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=r,i.mdTextContent=o}}function b(e,n,i,o){function a(){n[0].querySelector(".md-actions")&&h.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function s(){function e(){return n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}if(i.focusOnOpen){var t=r.findFocusTarget(n)||e()||l;t.focus()}}t.element(c[0].body).addClass("md-dialog-is-showing");var l=n.find("md-dialog");if(l.hasClass("ng-cloak")){var u="$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.";h.warn(u,n[0])}return x(i),C(l,i),k(e,n,i),E(n,i),A(n,i).then(function(){S(n,i),a(),s()})}function _(e,n,i){function r(){return T(n,i)}function s(){t.element(c[0].body).removeClass("md-dialog-is-showing"),i.contentElement&&i.reverseContainerStretch(),i.cleanupElement(),i.$destroy||"keyboard"!==i.originInteraction||i.origin.focus()}return i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),o&&o.parentNode&&o.parentNode.removeChild(o),a&&a.parentNode&&a.parentNode.removeChild(a),i.$destroy?s():r().then(s)}function w(e){var n;e.targetEvent&&e.targetEvent.target&&(n=t.element(e.targetEvent.target));var i=n&&n.controller("mdTheme");if(i){e.themeWatch=i.$shouldWatch;var r=e.theme||i.$mdTheme;r&&(e.scope.theme=r);var o=i.registerChanges(function(t){e.scope.theme=t,e.themeWatch||o()})}}function x(e){function i(e,i){var r=t.element(e||{});if(r&&r.length){var o={top:0,left:0,height:0,width:0},a=t.isFunction(r[0].getBoundingClientRect);return t.extend(i||{},{element:a?r:n,bounds:a?r[0].getBoundingClientRect():t.extend({},o,r[0]),focus:t.bind(r,r.focus)})}}function r(e,n){return t.isString(e)&&(e=c[0].querySelector(e)),t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=r(e.parent,d),e.closeTo=i(r(e.closeTo)),e.openFrom=i(r(e.openFrom)),e.targetEvent&&(e.origin=i(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType())}function E(n,i){var o=t.element(u),a=r.debounce(function(){M(n,i)},60),l=[],c=function(){var t="alert"==i.$type?e.hide:e.cancel;r.nextTick(t,!0)};if(i.escapeToClose){var d=i.parent,h=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",h),d.on("keydown",h),l.push(function(){n.off("keydown",h),d.off("keydown",h)})}if(o.on("resize",a),l.push(function(){o.off("resize",a)}),i.clickOutsideToClose){var f,p=n,m=function(e){f=e.target},g=function(e){f===p[0]&&e.target===p[0]&&(e.stopPropagation(),e.preventDefault(),c())};p.on("mousedown",m),p.on("mouseup",g),l.push(function(){p.off("mousedown",m),p.off("mouseup",g)})}i.deactivateListeners=function(){l.forEach(function(e){e()}),i.deactivateListeners=null}}function k(e,t,n){n.disableParentScroll&&(n.restoreScroll=r.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=r.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function C(e,t){var n="alert"===t.$type?"alertdialog":"dialog",s=e.find("md-dialog-content"),l=e.attr("id"),c="dialogContent_"+(l||r.nextUid());e.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=e,l&&(c=l)),s.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?i.expect(e,"aria-label",t.ariaLabel):i.expectAsync(e,"aria-label",function(){var e=s.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),o=document.createElement("div"),o.classList.add("md-dialog-focus-trap"),o.tabIndex=0,a=o.cloneNode(!1);var u=function(){e.focus()};o.addEventListener("focus",u),a.addEventListener("focus",u),e[0].parentNode.insertBefore(o,e[0]),e.after(a)}function S(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,r=0;r<t.length;r++)e===t[r]||O(t[r],["SCRIPT","STYLE"])||t[r].setAttribute("aria-hidden",i);n(e=e.parentNode)}}var i=!0;n(e[0]),t.unlockScreenReader=function(){i=!1,n(e[0]),t.unlockScreenReader=null}}function M(e,t){var n="fixed"==u.getComputedStyle(c[0].body).position,i=t.backdrop?u.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,o={top:e.css("top"),height:e.css("height")},a=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?a:0)+"px",height:r?r+"px":"100%"}),function(){e.css(o)}}function A(e,t){t.parent.append(e),t.reverseContainerStretch=M(e,t);var n=e.find("md-dialog"),i=r.dom.animator,o=i.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(o(n,t.openFrom||t.origin)),l=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),i.translate3d(n,s,l,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=i.toTransformCss(o(n,t.closeTo)),i.translate3d(n,s,l,a)):e(l=i.toTransformCss(o(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([a.transitionOutClass,a.transitionInClass].join(" ")),i.translate3d(n,l,i.toTransformCss(""),{})},!0})}function T(e,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}function O(e,t){if(t.indexOf(e.nodeName)!==-1)return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:v,onShow:b,onShowing:y,onRemove:_,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}var i=m.startSymbol(),r=m.endSymbol(),o=i+(t.themeWatch?"":"::")+"theme"+r;return'<div class="md-dialog-container" tabindex="-1" md-theme="'+o+'">'+n(e)+"</div>"}}}i.$inject=["$mdDialog","$mdConstant"],r.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var o,a;return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:r}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css"],options:i})}e.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"],t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",i)}(),function(){function e(e){return{restrict:"E",link:e}}e.$inject=["$mdTheming"],t.module("material.components.divider",["material.core"]).directive("mdDivider",e)}(),function(){!function(){function e(e){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,n){var i=t.children(),r=e.prefixer().hasAttribute(i,"ng-repeat");r?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}e.$inject=["$mdUtil"],t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,i,r,o,a){function s(){O.direction=O.direction||"down",O.isOpen=O.isOpen||!1,u(),n.addClass("md-animations-waiting")}function l(){var i=["click","focusin","focusout"];t.forEach(i,function(e){n.on(e,c)}),e.$on("$destroy",function(){t.forEach(i,function(e){n.off(e,c)}),p()})}function c(e){"click"==e.type&&M(e),"focusout"!=e.type||$||($=a(function(){O.close()},100,!1)),"focusin"==e.type&&$&&(a.cancel($),$=null)}function u(){O.currentActionIndex=-1}function d(){e.$watch("vm.direction",function(e,t){i.removeClass(n,"md-"+t),i.addClass(n,"md-"+e),u()});var t,r;e.$watch("vm.isOpen",function(e){u(),t&&r||(t=A(),r=T()),e?f():p();var o=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),r.attr("aria-hidden",!e),i.setClass(n,o,a)})}function h(){n[0].scrollHeight>0?i.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):P<10&&(a(h,100),P+=1)}function f(){n.on("keydown",g),r.nextTick(function(){t.element(document).on("click touchend",m)})}function p(){n.off("keydown",g),t.element(document).off("click touchend",m)}function m(e){if(e.target){var t=r.getClosest(e.target,"md-fab-trigger"),n=r.getClosest(e.target,"md-fab-actions");t||n||O.close()}}function g(e){switch(e.which){case o.KEY_CODE.ESCAPE:return O.close(),e.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return w(e),!1;case o.KEY_CODE.UP_ARROW:return x(e),!1;case o.KEY_CODE.RIGHT_ARROW:return E(e),!1;case o.KEY_CODE.DOWN_ARROW:return k(e),!1}}function v(e){b(e,-1)}function y(e){b(e,1)}function b(e,n){var i=_();O.currentActionIndex=O.currentActionIndex+n,O.currentActionIndex=Math.min(i.length-1,O.currentActionIndex),O.currentActionIndex=Math.max(0,O.currentActionIndex);var r=t.element(i[O.currentActionIndex]).children()[0];t.element(r).attr("tabindex",0),r.focus(),e.preventDefault(),e.stopImmediatePropagation()}function _(){var e=T()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function w(e){"left"===O.direction?y(e):v(e)}function x(e){"down"===O.direction?v(e):y(e)}function E(e){"left"===O.direction?v(e):y(e)}function k(e){"up"===O.direction?v(e):y(e)}function C(e){return r.getClosest(e,"md-fab-trigger")}function S(e){return r.getClosest(e,"md-fab-actions")}function M(e){C(e.target)&&O.toggle(),S(e.target)&&O.close()}function A(){return n.find("md-fab-trigger")}function T(){return n.find("md-fab-actions")}var O=this,P=0;O.open=function(){e.$evalAsync("vm.isOpen = true")},O.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},O.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},O.$onInit=function(){s(),l(),d(),h()},1===t.version.major&&t.version.minor<=4&&this.$onInit();var $}e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],t.module("material.components.fabShared",["material.core"]).controller("MdFabController",e)}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function i(n){function i(e){n(e,o,!1)}function r(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-t+l}),a.style.zIndex=l+o.length+1,r.isOpen||t.forEach(o,function(e,t){var n,i,o=e.style,s=(a.clientHeight-e.clientHeight)/2,l=(a.clientWidth-e.clientWidth)/2;switch(r.direction){case"up":n=e.scrollHeight*(t+1)+s,i="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),i="Y";break;case"left":n=e.scrollWidth*(t+1)+l,i="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),i="X"}var c="translate"+i+"("+n+"px)";o.transform=o.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(r(e),i(n)):n()},removeClass:function(e,t,n){r(e),i(n)}}}function r(n){function i(e){n(e,o,!1)}function r(n){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style,i=t*a;n.opacity=r.isOpen?1:0,n.transform=n.webkitTransform=r.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(r.isOpen?i:o.length-i)+"ms",n.zIndex=o.length-t+l})}var a=65;return{addClass:function(e,t,n){r(e),i(n)},removeClass:function(e,t,n){r(e),i(n)}}}i.$inject=["$timeout"],r.$inject=["$timeout"];var o=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",i).animation(".md-scale",r).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",r)}()}(),function(){!function(){function n(){function e(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function i(){function n(n,i,r){if(i){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),l=o.querySelector("md-fab-trigger button"),c=o.querySelector("md-toolbar"),u=o.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(l&&s){var h=e.getComputedStyle(l).getPropertyValue("background-color"),f=o.offsetWidth,p=(o.offsetHeight,2*(f/l.offsetWidth));s.style.backgroundColor=h,s.style.borderRadius=f+"px",a.isOpen?(c.style.pointerEvents="inherit",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",u&&(u.style.transitionDelay=".3s"),t.forEach(d,function(e,t){e.style.transitionDelay=25*(d.length-t)+"ms"})):(c.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",u&&(u.style.transitionDelay="0ms"),t.forEach(d,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,i){n(e,t,i),i()},removeClass:function(e,t,i){n(e,t,i),i()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",i).service("mdFabToolbarAnimation",i)}()}(),function(){function e(e,i,r,o){function a(n,a,s,l){function c(){for(var e in i.MEDIA)o(e),o.getQuery(i.MEDIA[e]).addListener(E);return o.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,d)}function u(){l.layoutDelegate=t.noop,k();for(var e in i.MEDIA)o.getQuery(i.MEDIA[e]).removeListener(E)}function d(e){null==e?l.invalidateLayout():o(e)&&l.invalidateLayout()}function h(e){var i=g(),o={tileSpans:v(i),colCount:y(),rowMode:w(),rowHeight:_(),gutter:b()};if(e||!t.equals(o,C)){var s=r(o.colCount,o.tileSpans,i).map(function(e,n){return{grid:{element:a,style:m(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:e.map(function(e,r){return{element:t.element(i[r]),style:p(e.position,e.spans,o.colCount,n,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),C=o}}function f(e){return S+e+M}function p(e,t,n,i,r,o,a){var s=1/n*100,l=(n-1)/n,c=A({share:s,gutterShare:l,gutter:r}),u={left:T({unit:c,offset:e.col,gutter:r}),width:O({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=T({unit:a,offset:e.row,gutter:r}),u.height=O({unit:a,span:t.row,gutter:r});break;case"ratio":var d=s/a,h=A({share:d,gutterShare:l,gutter:r});u.paddingTop=O({unit:h,span:t.row,gutter:r}),u.marginTop=T({unit:h,offset:e.row,gutter:r});break;case"fit":var f=(i-1)/i,d=1/i*100,h=A({share:d,gutterShare:f,gutter:r});u.top=T({unit:h,offset:e.row,gutter:r}),u.height=O({unit:h,span:t.row,gutter:r})}return u}function m(e,t,n,i,r){var o={};switch(i){case"fixed":o.height=O({unit:r,span:t,gutter:n}),o.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/r),c=A({share:l,gutterShare:a,gutter:n});o.height="",o.paddingBottom=O({unit:c,span:t,gutter:n});break;case"fit":}return o}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function y(){var e=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return x(o.getResponsiveAttribute(s,"md-gutter")||1)}function _(){var e=o.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(w()){case"fixed":return x(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function w(){var e=o.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":e.indexOf(":")!==-1?"ratio":"fixed"}function x(e){return/\D$/.test(e)?e:e+"px"}a.addClass("_md"),a.attr("role","list"),l.layoutDelegate=h;var E=t.bind(l,l.invalidateLayout),k=c();n.$on("$destroy",u);var C,S=e.startSymbol(),M=e.endSymbol(),A=e(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),T=e("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),O=e("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function i(e){function n(t,n){var i,a,s,l,c,u;return l=e.time(function(){a=r(t,n)}),i={layoutInfo:function(){return a},map:function(t){return c=e.time(function(){var e=i.layoutInfo();s=t(e.positioning,e.rowCount)}),i},reflow:function(t){return u=e.time(function(){var e=t||o;e(s.grid,s.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:l,mapTime:c,reflowTime:u,totalTime:l+c+u}}}}function i(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function r(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,u=0;u-a<t.col;)s>=e?i():(a=c.indexOf(0,s),a!==-1&&(u=o(a+1))!==-1?s=u+1:(a=u=0,i()));return r(a,t.col,t.row),s=a+t.col,{col:a,row:l}}function i(){s=0,l++,r(0,e,-1)}function r(e,t,n){for(var i=e;i<e+t;i++)c[i]=Math.max(c[i]+n,0)}function o(e){var t;for(t=e;t<c.length;t++)if(0!==c[t])return t;if(t===c.length)return t}function a(){for(var t=[],n=0;n<e;n++)t.push(0);return t}var s=0,l=0,c=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:l+Math.max.apply(Math,c)}}var o=i;return n.animateWith=function(e){o=t.isFunction(e)?e:i},n}function r(e){function n(n,i,r,o){i.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,t.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,a(),o.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],i.$inject=["$mdUtil"],e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],
r.$inject=["$mdMedia"],t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",i),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function n(e,t){function n(t){var n=t[0].querySelector(o),i=t[0].querySelector(a);return n&&t.addClass("md-icon-left"),i&&t.addClass("md-icon-right"),function(t,n){e(n)}}function i(e,n,i,r){var o=this;o.isErrorGetter=i.mdIsError&&t(i.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},o.setInvalid=function(e){e?r.addClass(n,"md-input-invalid"):r.removeClass(n,"md-input-invalid")},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}i.$inject=["$scope","$element","$attrs","$animate"];var r=["INPUT","TEXTAREA","SELECT","MD-SELECT"],o=r.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),a=r.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:n,controller:i}}function i(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,i){!i||n.mdNoFloat||t.hasClass("md-container-ignore")||(i.label=t,e.$on("$destroy",function(){i.label=null}))}}}function r(e,n,i,r,o){function a(a,s,l,c){function u(e){return p.setHasValue(!g.$isEmpty(e)),e}function d(){p.label&&l.$observe("required",function(e){p.label.toggleClass("md-required",e&&!b)})}function h(){p.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}function f(){function i(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var e=c();if(!_){var t=s[0].style.padding||"";_=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=t}if(v&&_&&(e=Math.max(e,_*v)),y&&_){var n=_*y;n<e?(s.attr("md-no-autogrow",""),e=n):s.removeAttr("md-no-autogrow")}_&&s.attr("rows",Math.round(e/_)),s.css("height",e+"px").removeClass("md-no-flex")}function c(){var e=w.offsetHeight,t=w.scrollHeight-e;return e+Math.max(t,0)}function u(t){return e.nextTick(i),t}function d(){if(f&&(f=!1,t.element(n).off("resize",i),b&&b(),s.attr("md-no-autogrow","").off("input",i),m)){var e=g.$formatters.indexOf(u);e>-1&&g.$formatters.splice(e,1)}}function h(){function e(e){e.preventDefault(),u=!0,h=e.clientY,f=parseFloat(s.css("height"))||s.prop("offsetHeight")}function n(e){u&&(e.preventDefault(),d(),m.addClass("md-input-resized"))}function i(e){u&&s.css("height",f+e.pointer.distanceY+"px")}function r(e){u&&(u=!1,m.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var c=t.element('<div class="md-resize-handle"></div>'),u=!1,h=null,f=0,m=p.element,g=o.register(c,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(c),c.on("mousedown",e),m.on("$md.dragstart",n).on("$md.drag",i).on("$md.dragend",r),a.$on("$destroy",function(){c.off("mousedown",e).remove(),m.off("$md.dragstart",n).off("$md.drag",i).off("$md.dragend",r),g(),c=null,m=null,g=null})}}var f=!l.hasOwnProperty("mdNoAutogrow");if(h(),f){var v=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,y=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,b=a.$on("md-resize-textarea",i),_=null,w=s[0];if(r(function(){e.nextTick(i)},10,!1),s.on("input",i),m&&g.$formatters.push(u),v||s.attr("rows",1),t.element(n).on("resize",i),a.$on("$destroy",d),l.hasOwnProperty("mdDetectHidden")){var x=function(){var e=!1;return function(){var t=0===w.offsetHeight;t===!1&&e===!0&&i(),e=t}}();a.$watch(function(){return e.nextTick(x,!1),!0})}}}var p=c[0],m=!!c[1],g=c[1]||e.fakeNgModel(),v=c[2],y=t.isDefined(l.readonly),b=e.parseAttributeBoolean(l.mdNoAsterisk),_=s[0].tagName.toLowerCase();if(p){if("hidden"===l.type)return void s.attr("aria-hidden","true");if(p.input){if(p.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}p.input=s,d();var w=t.element('<div class="md-errors-spacer">');s.after(w),p.label||i.expect(s,"aria-label",l.placeholder),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+e.nextUid()),"input"===_&&"number"===l.type&&l.min&&l.max&&!l.step?s.attr("step","any"):"textarea"===_&&f(),m||h();var x=p.isErrorGetter||function(){return g.$invalid&&(g.$touched||v&&v.$submitted)};a.$watch(x,p.setInvalid),l.ngValue&&l.$observe("value",h),g.$parsers.push(u),g.$formatters.push(u),s.on("input",h),y||s.on("focus",function(t){e.nextTick(function(){p.setFocused(!0)})}).on("blur",function(t){e.nextTick(function(){p.setFocused(!1),h()})}),a.$on("$destroy",function(){p.setFocused(!1),p.setHasValue(!1),p.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:a}}function o(e,n){function i(i,r,o,a){function s(e){return c.parent?(c.text(String(r.val()||e||"").length+" / "+l),e):e}var l,c,u,d=a[0],h=a[1];n.nextTick(function(){u=t.element(h.element[0].querySelector(".md-errors-spacer")),c=t.element('<div class="md-char-counter">'),u.append(c),o.$set("ngTrim","false"),i.$watch(o.mdMaxlength,function(n){l=n,t.isNumber(n)&&n>0?(c.parent().length||e.enter(c,u),s()):e.leave(c)}),d.$validators["md-maxlength"]=function(e,n){return!t.isNumber(l)||l<0||(s(),(e||r.val()||n||"").length<=l)}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:i}}function a(e){function n(n,i,r,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))return void o.setHasPlaceholder(!0);if("MD-SELECT"!=i[0].nodeName){var l=t.element('<label ng-click="delegateClick()" tabindex="-1">'+r.placeholder+"</label>");r.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(l),e(l)(n)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:n}}}function s(e){function t(t,n,i){function r(){a=!0,e(function(){n[0].select(),a=!1},1,!1)}function o(e){a&&e.preventDefault()}if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var a=!1;n.on("focus",r).on("mouseup",o),t.$on("$destroy",function(){n.off("focus",r).off("mouseup",o)})}}return{restrict:"A",link:t}}function l(){function e(e,n,i,r){r&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==i.mdAutoHide||t(i))&&n.toggleClass("md-auto-hide",!1))}function t(e){return C.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function c(e){function t(t){function n(){for(var e=t[0];e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function i(t){return!!e.getClosest(t,"md-input-container")}function r(e){e.toggleClass("md-input-message-animation",!0)}if(i(t))r(t);else if(n())return function(e,n){i(n)&&r(t)}}return{restrict:"EA",compile:t,priority:100}}function u(e,t,n,i){return b(e,t,n,i),{addClass:function(e,t,n){f(e,n)}}}function d(e,t,n,i){return b(e,t,n,i),{enter:function(e,t){f(e,t)},leave:function(e,t){p(e,t)},addClass:function(e,t,n){"ng-hide"==t?p(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?f(e,n):n()}}}function h(e,t,n,i){return b(e,t,n,i),{enter:function(e,t){var n=m(e);n.start().done(t)},leave:function(e,t){var n=g(e);n.start().done(t)}}}function f(e,n){var i,r=[],o=y(e),a=o.children();return 0==o.length||0==a.length?(k.warn("mdInput messages show animation called on invalid messages element: ",e),void n()):(t.forEach(a,function(e){i=m(t.element(e)),r.push(i.start())}),void w.all(r,n))}function p(e,n){var i,r=[],o=y(e),a=o.children();return 0==o.length||0==a.length?(k.warn("mdInput messages hide animation called on invalid messages element: ",e),void n()):(t.forEach(a,function(e){i=g(t.element(e)),r.push(i.start())}),void w.all(r,n))}function m(t){var n=parseInt(e.getComputedStyle(t[0]).height),i=parseInt(e.getComputedStyle(t[0]).marginTop),r=y(t),o=v(t),a=i>-n;return a||r.hasClass("md-auto-hide")&&!o.hasClass("md-input-invalid")?x(t,{}):x(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function g(t){var n=t[0].offsetHeight,i=e.getComputedStyle(t[0]);return 0===parseInt(i.opacity)?x(t,{}):x(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function v(e){var t=e.controller("mdInputContainer");return t.element}function y(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?t.element(E.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):t.element(e[0].querySelector(".md-input-messages-animation"))}function b(e,t,n,i){w=e,x=t,E=n,k=i}n.$inject=["$mdTheming","$parse"],r.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],o.$inject=["$animate","$mdUtil"],a.$inject=["$compile"],c.$inject=["$mdUtil"],s.$inject=["$timeout"],u.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],d.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],h.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var _=t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",i).directive("input",r).directive("textarea",r).directive("mdMaxlength",o).directive("placeholder",a).directive("ngMessages",l).directive("ngMessage",c).directive("ngMessageExp",c).directive("mdSelectOnFocus",s).animation(".md-input-invalid",u).animation(".md-input-messages-animation",d).animation(".md-input-message-animation",h);e._mdMocksIncluded&&_.service("$$mdInput",function(){return{messages:{show:f,hide:p,getElement:y}}}).service("mdInputInvalidAnimation",u).service("mdInputMessagesAnimation",d).service("mdInputMessageAnimation",h);var w,x,E,k,C=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,i,r){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function l(){for(var e,t,n=["md-switch","md-checkbox"],i=0;t=n[i];++i)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var r=a.find("p")[0];if(!r)return;e.setAttribute("aria-label","Toggle "+r.textContent)}}function c(){var e=t.element(b),n=e.parent().hasClass("md-secondary-container")||b.parentNode.firstElementChild!==b,i="left";n&&(i="right"),e.attr("md-position-mode")||e.attr("md-position-mode",i+" target");var r=e.children().eq(0);g(r[0])||r.attr("ng-click","$mdMenu.open($event)"),r.attr("aria-label")||r.attr("aria-label","Open List Menu")}function u(n){if("div"==n)w=t.element('<div class="md-no-style md-list-item-inner">'),w.append(a.contents()),a.addClass("md-proxy-focus");else{w=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var i=t.element('<md-button class="md-no-style"></md-button>');f(a[0],i[0]),i.attr("aria-label")||i.attr("aria-label",e.getText(a)),a.hasClass("md-no-focus")&&i.addClass("md-no-focus"),w.prepend(i),w.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(w)}function d(){var e=t.element('<div class="md-secondary-container">');t.forEach(_,function(t){h(t,e)}),w.append(e)}function h(n,i){if(n&&!m(n)&&n.hasAttribute("ng-click")){e.expect(n,"aria-label");var r=t.element('<md-button class="md-secondary md-icon-button">');f(n,r[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),r.append(n),n=r[0]}n&&(!g(n)||!s.ngClick&&p(n))&&t.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),i.append(n)}function f(e,n,r){var o=i.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","target","ng-attr-ui-sref","ui-sref-opts"]);r&&(o=o.concat(i.prefixer(r))),t.forEach(o,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function p(e){return o.indexOf(e.nodeName.toLowerCase())!=-1}function m(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function g(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function v(e,a,s,l){function c(){f&&f.children&&!v&&!y&&t.forEach(o,function(e){t.forEach(f.querySelectorAll(e+":not(.md-secondary)"),function(e){h.push(e)})})}function u(){(1==h.length||v)&&(a.addClass("md-clickable"),v||l.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}function d(e){var t=["md-slider"];if(!e.path)return t.indexOf(e.target.tagName.toLowerCase())!==-1;for(var n=e.path.indexOf(a.children()[0]),i=0;i<n;i++)if(t.indexOf(e.path[i].tagName.toLowerCase())!==-1)return!0}a.addClass("_md");var h=[],f=a[0].firstElementChild,p=a.hasClass("_md-button-wrap"),m=p?f.firstElementChild:f,v=m&&g(m),y=a.hasClass("md-no-proxy");c(),u(),h.length&&t.forEach(h,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,r(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function t(){a.removeClass("md-focused"),n.off("blur",t)})})});var b=function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName&&!e.target.isContentEditable){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&m&&(m.click(),e.preventDefault(),e.stopPropagation())}};v||h.length||m&&m.addEventListener("keypress",b),a.off("click"),a.off("keypress"),1==h.length&&m&&a.children().eq(0).on("click",function(e){if(!d(e)){var n=i.getClosest(e.target,"BUTTON");!n&&m.contains(e.target)&&t.forEach(h,function(n){e.target===n||n.contains(e.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),t.element(n).triggerHandler("click"))})}}),e.$on("$destroy",function(){m&&m.removeEventListener("keypress",b)})}var y,b,_=a[0].querySelectorAll(".md-secondary"),w=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)u("button");else if(!a.hasClass("md-no-proxy")){for(var x,E=0;x=o[E];++E)if(b=a[0].querySelector(x)){y=!0;break}y?u("div"):a.addClass("md-no-proxy")}return d(),l(),y&&"MD-MENU"===b.nodeName&&c(),v}}}function i(e,t,n){function i(e,t){var i={};n.attach(e,t,i)}var r=this;r.attachRipple=i}i.$inject=["$scope","$element","$mdListInkRipple"],e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],t.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",e).directive("mdListItem",n)}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function e(){return{definePreset:i,getAllPresets:r,clearPresets:o,$get:a()}}function i(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(g.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,g[e]=t}function r(){return t.copy(g)}function o(){g={}}function a(){return["$rootElement","$rootScope","$injector","$window",function(e,t,n,i){return new s(g,e,t,n,i)}]}function s(e,n,i,r,o){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:f},this._config={},this._presets=e,this._$rootElement=n,this._$rootScope=i,this._$injector=r,this._$window=o,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=u.animation,this.xPosition=c.xPosition,this.yPosition=c.yPosition,this.interceptorTypes=l.interceptorTypes,this.closeReasons=l.closeReasons,this.absPosition=c.absPosition}function l(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function c(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function u(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function d(e){var n=t.isString(e)?document.querySelector(e):e;return t.element(n)}function h(e,t){var n=getComputedStyle(e[0]||e)[t],i=n.indexOf("("),r=n.lastIndexOf(")"),o={x:0,y:0};if(i>-1&&r>-1){var a=n.substring(i+1,r).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}s.$inject=["presets","$rootElement","$rootScope","$injector","$window"],t.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",e);var f=80,p="_md-panel-hidden",m=t.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),g={};s.prototype.create=function(e,n){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!t.isUndefined(n)&&n||(n=e,e={}),e=e||{},n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id]){var i=this._trackedPanels[n.id];return t.extend(i.config,n),i}this._config=t.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,e);var r=new l(this._config,this._$injector);return this._trackedPanels[n.id]=r,this._config.groupName&&(t.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),t.forEach(this._config.groupName,function(e){r.addToGroup(e)})),this._config.scope.$on("$destroy",t.bind(r,r.detach)),r},s.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},s.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},s.prototype.newPanelPosition=function(){return new c(this._$injector)},s.prototype.newPanelAnimation=function(){return new u(this._$injector)},s.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){t=t||{};var n={panels:[],openPanels:[],maxOpen:t.maxOpen>0?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},s.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},s.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return t.maxOpen>0&&t.openPanels.length>t.maxOpen}return!1},s.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},s.prototype._wrapTemplate=function(e){var t=e||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel" style="left: -9999px;">'+t+"</div></div>"},s.prototype._wrapContentElement=function(e){var n=t.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel").css("left","-9999px"),n.append(e),n},l.interceptorTypes={CLOSE:"onClose"},l.prototype.open=function(){var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e._simpleBind(e.show,e),a=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._openCountExceedsMaxOpen(t)&&e._$mdPanel._closeFirstOpenedPanel(t)})};e.attach().then(o).then(a).then(r)["catch"](i)})},l.prototype.close=function(e){var n=this;return this._$q(function(i,r){n._callInterceptors(l.interceptorTypes.CLOSE).then(function(){var o=n._done(i,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||t.noop;s=t.bind(n,s,n,e),n.hide().then(a).then(o).then(s)["catch"](r)},r)})},l.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e.config.onDomAdded||t.noop,a=function(t){return e.isAttached=!0,e._addEventListeners(),t};e._$q.all([e._createBackdrop(),e._createPanel().then(a)["catch"](i)]).then(o).then(r)["catch"](i)})},l.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var e=this,n=e.config.onDomRemoved||t.noop,i=function(){return e._removeEventListeners(),e._topFocusTrap&&e._topFocusTrap.parentNode&&e._topFocusTrap.parentNode.removeChild(e._topFocusTrap),e._bottomFocusTrap&&e._bottomFocusTrap.parentNode&&e._bottomFocusTrap.parentNode.removeChild(e._bottomFocusTrap),e._restoreCache.classes&&(e.panelEl[0].className=e._restoreCache.classes),e.panelEl[0].style.cssText=e._restoreCache.styles||"",e._compilerCleanup(),e.panelContainer.remove(),e.isAttached=!1,e._$q.when(e)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,r){var o=e._done(t,e);e._$q.all([i(),!e._backdropRef||e._backdropRef.detach()]).then(n).then(o)["catch"](r)})},l.prototype.destroy=function(){var e=this;this.config.groupName&&t.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},l.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(p))return this._$q.when(this);var e=this,n=function(){return e.panelContainer.removeClass(p),e._animateOpen()};return this._$q(function(i,r){var o=e._done(i,e),a=e.config.onOpenComplete||t.noop,s=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._groups[t].openPanels.push(e)})};e._$q.all([e._backdropRef?e._backdropRef.show():e,n().then(function(){e._focusOnOpen()},r)]).then(a).then(s).then(o)["catch"](r)})},l.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(p))return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e.config.onRemoving||t.noop,a=function(){e.panelContainer.addClass(p)},s=function(){if(e.config.groupName){var n;t.forEach(e.config.groupName,function(t){t=e._$mdPanel._groups[t],n=t.openPanels.indexOf(e),n>-1&&t.openPanels.splice(n,1)})}},l=function(){var t=e.config.origin;t&&d(t).focus()};e._$q.all([e._backdropRef?e._backdropRef.hide():e,e._animateClose().then(o).then(a).then(s).then(l)["catch"](i)]).then(r,i)})},l.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},l.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},l.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},l.prototype._compile=function(){var e=this;return e._$mdCompiler.compile(e.config).then(function(n){var i=e.config;if(i.contentElement){var r=n.element;e._restoreCache.styles=r[0].style.cssText,e._restoreCache.classes=r[0].className,e.panelContainer=e._$mdPanel._wrapContentElement(r),e.panelEl=r}else e.panelContainer=n.link(i.scope),e.panelEl=t.element(e.panelContainer[0].querySelector(".md-panel"));return e._compilerCleanup=n.cleanup,d(e.config.attachTo).append(e.panelContainer),e})},l.prototype._createPanel=function(){var e=this;return this._$q(function(t,n){e.config.locals||(e.config.locals={}),e.config.locals.mdPanelRef=e,e._compile().then(function(){e.config.disableParentScroll&&(e._restoreScroll=e._$mdUtil.disableScrollAround(null,e.panelContainer,{disableScrollMask:!0})),e.config.panelClass&&e.panelEl.addClass(e.config.panelClass),e.config.propagateContainerEvents&&e.panelContainer.css("pointer-events","none"),e._$animate.pin&&e._$animate.pin(e.panelContainer,d(e.config.attachTo)),e._configureTrapFocus(),e._addStyles().then(function(){t(e)},n)},n)})},l.prototype._addStyles=function(){var e=this;return this._$q(function(t){e.panelContainer.css("z-index",e.config.zIndex),e.panelEl.css("z-index",e.config.zIndex+1);var n=function(){e._setTheming(),e.panelEl.css("left",""),e.panelContainer.addClass(p),t(e)};if(e.config.fullscreen)return e.panelEl.addClass("_md-panel-fullscreen"),void n();var i=e.config.position;return i?void e._$rootScope.$$postDigest(function(){e._updatePosition(!0),e._setTheming(),t(e)}):void n()})},l.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},l.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},l.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&this.panelContainer.addClass(p),this.panelEl.css(c.absPosition.TOP,t.getTop()),this.panelEl.css(c.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(c.absPosition.LEFT,t.getLeft()),this.panelEl.css(c.absPosition.RIGHT,t.getRight()))},l.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){var t=e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl;t.focus()})}},l.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},l.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},l.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},l.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=d(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(l.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},l.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?t.element(document.body):this.panelContainer,i=function(t){e=t.target},r=this,o=function(t){r.config.propagateContainerEvents?e===r.panelEl[0]||r.panelEl[0].contains(e)||r.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),r.close(l.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",i),n.on("mouseup",o),this._removeListeners.push(function(){n.off("mousedown",i),n.off("mouseup",o)})}},l.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=t.bind(this,this._updatePosition),n=this._$$rAF.throttle(e),i=this,r=function(){n()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push(function(){i._$window.removeEventListener("scroll",r,!0)})}},l.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=m.clone()[0],this._bottomFocusTrap=m.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},l.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},l.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var e=this.config.animation;if(!e)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=t._done(n,t),r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),i()};e.animateOpen(t.panelEl).then(i,r)})},l.prototype._animateClose=function(){var e=this.config.animation;if(!e)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=function(){t.panelContainer.removeClass("md-panel-is-showing"),n(t)},r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),i()};e.animateClose(t.panelEl).then(i,r)})},l.prototype.registerInterceptor=function(e,n){var i=null;if(t.isString(e)?t.isFunction(n)||(i="Interceptor callback must be a function, instead got "+typeof n):i="Interceptor type must be a string, instead got "+typeof e,i)throw new Error("MdPanel: "+i);var r=this._interceptors[e]=this._interceptors[e]||[];return r.indexOf(n)===-1&&r.push(n),this},l.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return n>-1&&this._interceptors[e].splice(n,1),this},l.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),this},l.prototype._callInterceptors=function(e){var n=this,i=n._$q,r=n._interceptors&&n._interceptors[e]||[];return r.reduceRight(function(e,r){var o=r&&t.isFunction(r.then),a=o?r:null;return e.then(function(){if(!a)try{a=r(n)}catch(e){a=i.reject(e)}return a})},i.resolve(n));
},l.prototype._simpleBind=function(e,t){return function(n){return e.apply(t,n)}},l.prototype._done=function(e,t){return function(){e(t)}},l.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n<0&&t.panels.push(this)},l.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n>-1&&t.panels.splice(n,1)},l.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},c.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},c.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},c.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c.viewportMargin=8,c.prototype.absolute=function(){return this._absolute=!0,this},c.prototype._setPosition=function(e,n){if(e===c.absPosition.RIGHT||e===c.absPosition.LEFT)this._left=this._right="";else{if(e!==c.absPosition.BOTTOM&&e!==c.absPosition.TOP){var i=Object.keys(c.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+i+".")}this._top=this._bottom=""}return this["_"+e]=t.isString(n)?n:"0",this},c.prototype.top=function(e){return this._setPosition(c.absPosition.TOP,e)},c.prototype.bottom=function(e){return this._setPosition(c.absPosition.BOTTOM,e)},c.prototype.start=function(e){var t=this._isRTL?c.absPosition.RIGHT:c.absPosition.LEFT;return this._setPosition(t,e)},c.prototype.end=function(e){var t=this._isRTL?c.absPosition.LEFT:c.absPosition.RIGHT;return this._setPosition(t,e)},c.prototype.left=function(e){return this._setPosition(c.absPosition.LEFT,e)},c.prototype.right=function(e){return this._setPosition(c.absPosition.RIGHT,e)},c.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},c.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},c.prototype.center=function(){return this.centerHorizontally().centerVertically()},c.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=d(e),this},c.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},c.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(c.yPosition),i=[],r=0;t=n[r];r++){var o=c.yPosition[t];if(i.push(o),o===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+i.join(" | "))}},c.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(c.xPosition),i=[],r=0;t=n[r];r++){var o=c.xPosition[t];if(i.push(o),o===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+i.join(" | "))}},c.prototype.withOffsetX=function(e){return this._translateX.push(e),this},c.prototype.withOffsetY=function(e){return this._translateY.push(e),this},c.prototype.getTop=function(){return this._top},c.prototype.getBottom=function(){return this._bottom},c.prototype.getLeft=function(){return this._left},c.prototype.getRight=function(){return this._right},c.prototype.getTransform=function(){var e=this._reduceTranslateValues("translateX",this._translateX),t=this._reduceTranslateValues("translateY",this._translateY);return(e+" "+t).trim()},c.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},c.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=this._$mdConstant.CSS.TRANSFORM,r=h(e,i);t+=r.x,n+=r.y}var o=t+e[0].offsetWidth,a=n+e[0].offsetHeight;return t>=0&&n>=0&&a<=this._$window.innerHeight&&o<=this._$window.innerWidth},c.prototype.getActualPosition=function(){return this._actualPosition},c.prototype._reduceTranslateValues=function(e,n){return n.map(function(n){var i=t.isFunction(n)?n(this):n;return e+"("+i+")"},this).join(" ")},c.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)return void this._setTransform(e);if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)},c.prototype._constrainToViewport=function(e){var t=c.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var r=parseInt(this.getTop()),o=e[0].offsetHeight+r,a=this._$window.innerHeight;r<t?this._top=t+"px":o>a&&(this._top=r-(o-a+t)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=e[0].offsetWidth+s,u=this._$window.innerWidth;s<t?this._left=t+"px":l>u&&(this._left=s-(l-u+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},c.prototype._reverseXPosition=function(e){if(e!==c.xPosition.CENTER){var t="start",n="end";return e.indexOf(t)>-1?e.replace(t,n):e.replace(n,t)}},c.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},c.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),i=n.width,r=n.height,o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,l=o.width;switch(this._bidi(t.x)){case c.xPosition.OFFSET_START:this._left=a-i+"px";break;case c.xPosition.ALIGN_END:this._left=s-i+"px";break;case c.xPosition.CENTER:var u=a+.5*l-.5*i;this._left=u+"px";break;case c.xPosition.ALIGN_START:this._left=a+"px";break;case c.xPosition.OFFSET_END:this._left=s+"px"}var d=o.top,h=o.bottom,f=o.height;switch(t.y){case c.yPosition.ABOVE:this._top=d-r+"px";break;case c.yPosition.ALIGN_BOTTOMS:this._top=h-r+"px";break;case c.yPosition.CENTER:var p=d+.5*f-.5*r;this._top=p+"px";break;case c.yPosition.ALIGN_TOPS:this._top=d+"px";break;case c.yPosition.BELOW:this._top=h+"px"}},u.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},u.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},u.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},u.prototype.duration=function(e){function n(e){if(t.isNumber(e))return e/1e3}return e&&(t.isNumber(e)?this._openDuration=this._closeDuration=n(e):t.isObject(e)&&(this._openDuration=n(e.open),this._closeDuration=n(e.close))),this._rawDuration=e,this},u.prototype._getPanelAnimationTarget=function(e){return t.isDefined(e.top)||t.isDefined(e.left)?{element:n,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(d(e))},u.prototype.withAnimation=function(e){return this._animationClass=e,this},u.prototype.animateOpen=function(e){var n=this._$mdUtil.dom.animator;this._fixBounds(e);var i={},r=e[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case u.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(e,this._openFrom)||"";o=n.toTransformCss(s+" "+r);break;case u.animation.SCALE:i={transitionInClass:"_md-panel-animate-enter"};var l=n.calculateZoomToOrigin(e,this._openFrom)||"";o=n.toTransformCss(l+" "+r);break;case u.animation.FADE:i={transitionInClass:"_md-panel-animate-enter"};break;default:i=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.duration=this._openDuration,n.translate3d(e,o,a,i)},u.prototype.animateClose=function(e){var n=this._$mdUtil.dom.animator,i={},r=e[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case u.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(e,this._closeTo)||"";a=n.toTransformCss(s+" "+r);break;case u.animation.SCALE:i={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var l=n.calculateZoomToOrigin(e,this._closeTo)||"";a=n.toTransformCss(l+" "+r);break;case u.animation.FADE:i={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:i=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.duration=this._closeDuration,n.translate3d(e,o,a,i)},u.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},u.prototype._getBoundingClientRect=function(e){if(e instanceof t.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),function(){function e(e,n){return{restrict:"E",transclude:!0,controller:i,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(i,r,o,a){n(r),a.navBarAriaLabel||e.expectAsync(r,"aria-label",t.noop)}}}function i(e,t,n,i){this._$timeout=n,this._$scope=t,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var r=this,o=this._$scope.$watch(function(){return r._navBarEl.querySelectorAll("._md-nav-button").length},function(e){e>0&&(r._initTabs(),o())})}function r(e,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:o,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,i,r,o=t.mdNavClick,a=t.mdNavHref,s=t.mdNavSref,l=t.srefOpts;if((o?1:0)+(a?1:0)+(s?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return o?n='ng-click="ctrl.mdNavClick()"':a?n='ng-href="{{ctrl.mdNavHref}}"':s&&(n='ui-sref="{{ctrl.mdNavSref}}"'),i=l?'ui-sref-opts="{{ctrl.srefOpts}}" ':"",n&&(r='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+i+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(r||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(i,r,o,a){n(function(){var n=a[0],o=a[1],s=t.element(r[0].querySelector("._md-nav-button"));n.name||(n.name=t.element(r[0].querySelector("._md-nav-button-text")).text().trim()),s.on("click",function(){o.mdSelectedNavItem=n.name,i.$apply()}),e.expectWithText(r,"aria-label")})}}}function o(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}i.$inject=["$element","$scope","$timeout","$mdConstant"],r.$inject=["$mdAria","$$rAF"],o.$inject=["$element"],e.$inject=["$mdAria","$mdTheming"],t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",i).directive("mdNavBar",e).controller("MdNavItemController",o).directive("mdNavItem",r),i.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.querySelector("md-nav-ink-bar"));var e=this;this._$timeout(function(){e._updateTabs(e.mdSelectedNavItem,n)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,n){e._$timeout(function(){e._updateTabs(t,n)})})},i.prototype._updateTabs=function(e,t){var n=this,i=this._getTabs();if(i){var r=-1,o=-1,a=this._getTabByName(e),s=this._getTabByName(t);s&&(s.setSelected(!1),r=i.indexOf(s)),a&&(a.setSelected(!0),o=i.indexOf(a)),this._$timeout(function(){n._updateInkBarStyles(a,o,r)})}},i.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",t>n),this._inkbar.css({display:t<0?"none":""}),e){var i=e.getButtonEl(),r=i.offsetLeft;this._inkbar.css({left:r+"px",width:i.offsetWidth+"px"})}},i.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return t.element(e).controller("mdNavItem")});return e.indexOf(n)?e:null},i.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},i.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},i.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},i.prototype._findTab=function(e){for(var t=this._getTabs(),n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},i.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},i.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},i.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i){var r=n.indexOf(i);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:r>0&&this._moveFocus(i,n[r-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:r<n.length-1&&this._moveFocus(i,n[r+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){i.getButtonEl().click()})}}},o.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},o.prototype.getName=function(){return this.name},o.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},o.prototype.setSelected=function(e){this._selected=e},o.prototype.isSelected=function(){return this._selected},o.prototype.setFocused=function(e){this._focused=e,e&&this.getButtonEl().focus()},o.prototype.hasFocus=function(){return this._focused}}(),function(){t.module("material.components.progressCircular",["material.core"])}(),function(){function e(e,n,i){function r(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),o}function o(i,r,o){function h(){o.$observe("value",function(e){var t=a(e);r.attr("aria-valuenow",t),p()!=u&&m(_,t)}),o.$observe("mdBufferValue",function(e){m(b,a(e))}),o.$observe("disabled",function(e){v=e===!0||e===!1?!!e:t.isDefined(e),r.toggleClass(d,v),w.toggleClass(g,!v)}),o.$observe("mdMode",function(e){switch(g&&w.removeClass(g),e){case u:case c:case s:case l:w.addClass(g="md-mode-"+e);break;default:w.addClass(g="md-mode-"+l)}})}function f(){if(t.isUndefined(o.mdMode)){var e=t.isDefined(o.value),n=e?s:l;r.attr("md-mode",n),o.mdMode=n}}function p(){var e=(o.mdMode||"").trim();if(e)switch(e){case s:case l:case c:case u:break;default:e=l}return e}function m(e,i){if(!v&&p()){var r=n.supplant("translateX({0}%) scale({1},1)",[(i-100)/2,i/100]),o=y({transform:r});t.element(e).css(o)}}e(r);var g,v=o.hasOwnProperty("disabled"),y=n.dom.animator.toCss,b=t.element(r[0].querySelector(".md-bar1")),_=t.element(r[0].querySelector(".md-bar2")),w=t.element(r[0].querySelector(".md-container"));r.attr("md-mode",p()).toggleClass(d,v),f(),h()}function a(e){return Math.max(0,Math.min(e||0,100))}var s="determinate",l="indeterminate",c="buffer",u="query",d="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:r}}e.$inject=["$mdTheming","$mdUtil","$log"],t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e)}(),function(){function e(e,n,i,r){function o(o,a,s,l){function c(){a.hasClass("md-focused")||a.addClass("md-focused")}function u(i){var r=i.which||i.keyCode;if(r==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),d.selectPrevious(),c();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),d.selectNext(),c();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}a.addClass("_md"),i(a);var d=l[0],h=l[1]||e.fakeNgModel();d.init(h),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",u).on("mousedown",function(e){o.mouseActive=!0,r(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);t!==-1&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function l(n,i){var r=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=r[i<0?"previous":"next"](a,o)||r.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function n(e,t,n){function i(i,o,a,s){function l(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(u),a.$observe("value",u),o.on("click",c).on("$destroy",function(){s.remove(u)})}function c(e){o[0].hasAttribute("disabled")||s.isDisabled()||i.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function u(){var e=s.getViewValue()==a.value;e!==h&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(r,e),e&&s.setActiveDescendant(o.attr("id")),h=e,o.attr("aria-checked",e).toggleClass(r,e))}function d(n,i){n.attr({id:a.id||"radio_"+t.nextUid(),role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var h;n(o),d(o,i),a.ngValue?t.nextTick(l,!1):l()}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n)}(),function(){function i(e,i,r,o,a,s,l,c){function u(c,u){var d=t.element("<md-select-value><span></span></md-select-value>");if(d.append('<span class="md-select-icon" aria-hidden="true"></span>'),d.addClass("md-select-value"),d[0].hasAttribute("id")||d.attr("id","select_value_label_"+i.nextUid()),c.find("md-content").length||c.append(t.element("<md-content>").append(c.contents())),u.mdOnOpen&&(c.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),c.find("md-option").attr("ng-show","$$loadingAsyncDone")),u.name){var h=t.element('<select class="md-visually-hidden">');h.attr({name:u.name,"aria-hidden":"true",tabindex:"-1"});var f=c.find("md-option");t.forEach(f,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),h.append(n)}),h.append('<option ng-value="'+u.ngModel+'" selected></option>'),c.parent().append(h)}var p=i.parseAttributeBoolean(u.multiple),m=p?"multiple":"",g='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return g=i.supplant(g,[m,c.html()]),c.empty().append(d),c.append(g),u.tabindex||u.$set("tabindex",0),function(c,u,d,h){function f(){var e=u.attr("aria-label")||u.attr("placeholder");!e&&k&&k.label&&(e=k.label.text()),x=e,a.expect(u,"aria-label",e)}function m(){$&&(I=I||$.find("md-select-menu").controller("mdSelectMenu"),C.setLabelText(I.selectedLabels()))}function g(){if(x){var e=I.selectedLabels({mode:"aria"});u.attr("aria-label",e.length?x+": "+e:x)}}function v(){k&&k.setHasValue(I.selectedLabels().length>0||(u[0].validity||{}).badInput)}function y(){if($=t.element(u[0].querySelector(".md-select-menu-container")),L=c,d.mdContainerClass){var e=$[0].getAttribute("class")+" "+d.mdContainerClass;$[0].setAttribute("class",e)}I=$.find("md-select-menu").controller("mdSelectMenu"),I.init(S,d.ngModel),u.on("$destroy",function(){$.remove()})}function b(e){if(r.isNavigationKey(e))e.preventDefault(),_(e);else if(r.isInputKey(e)||r.isNumPadKey(e)){e.preventDefault();var n=I.optNodeForKeyboardSearch(e);if(!n||n.hasAttribute("disabled"))return;var i=t.element(n).controller("mdOption");I.isMultiple||I.deselect(Object.keys(I.selected)[0]),I.select(i.hashKey,i.value),I.refreshViewValue()}}function _(){L._mdSelectIsOpen=!0,u.attr("aria-expanded","true"),e.show({scope:L,preserveScope:!0,skipCompile:!0,element:$,target:u[0],selectCtrl:C,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!d.mdOnOpen&&(c.$eval(d.mdOnOpen)||!0)})["finally"](function(){L._mdSelectIsOpen=!1,u.focus(),u.attr("aria-expanded","false"),S.$setTouched()})}var w,x,E=!0,k=h[0],C=h[1],S=h[2],M=h[3],A=u.find("md-select-value"),T=t.isDefined(d.readonly),O=i.parseAttributeBoolean(d.mdNoAsterisk);if(O&&u.addClass("md-no-asterisk"),k){var P=k.isErrorGetter||function(){return S.$invalid&&(S.$touched||M&&M.$submitted)};if(k.input&&u.find("md-select-header").find("input")[0]!==k.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");k.input=u,k.label||a.expect(u,"aria-label",u.attr("placeholder")),c.$watch(P,k.setInvalid)}var $,L,I;y(),o(u),M&&t.isDefined(d.multiple)&&i.nextTick(function(){var e=S.$modelValue||S.$viewValue;e&&M.$setPristine()});var D=S.$render;S.$render=function(){D(),m(),g(),v()},d.$observe("placeholder",S.$render),k&&k.label&&d.$observe("required",function(e){k.label.toggleClass("md-required",e&&!O)}),C.setLabelText=function(e){C.setIsPlaceholder(!e);var t=!1;if(d.mdSelectedText&&d.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(d.mdSelectedText||d.mdSelectedHtml)e=s(d.mdSelectedText||d.mdSelectedHtml)(c),t=!0;else if(!e){var n=d.placeholder||(k&&k.label?k.label.text():"");e=n||"",t=!0}var i=A.children().eq(0);d.mdSelectedHtml?i.html(l.getTrustedHtml(e)):t?i.text(e):i.html(e)},C.setIsPlaceholder=function(e){e?(A.addClass("md-select-placeholder"),k&&k.label&&k.label.addClass("md-placeholder")):(A.removeClass("md-select-placeholder"),k&&k.label&&k.label.removeClass("md-placeholder"))},T||(u.on("focus",function(e){k&&k.setFocused(!0)}),u.on("blur",function(e){E&&(E=!1,L._mdSelectIsOpen&&e.stopImmediatePropagation()),L._mdSelectIsOpen||(k&&k.setFocused(!1),v())})),C.triggerClose=function(){s(d.mdOnClose)(c)},c.$$postDigest(function(){f(),m(),g()}),c.$watch(function(){return I.selectedLabels()},m);var N;d.$observe("ngMultiple",function(e){N&&N();var t=s(e);N=c.$watch(function(){return t(c)},function(e,t){e===n&&t===n||(e?u.attr("multiple","multiple"):u.removeAttr("multiple"),u.attr("aria-multiselectable",e?"true":"false"),$&&(I.setMultiple(e),D=S.$render,S.$render=function(){D(),m(),g(),v()},S.$render()))})}),d.$observe("disabled",function(e){t.isString(e)&&(e=!0),w!==n&&w===e||(w=e,e?u.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",_).off("keydown",b):u.attr({tabindex:d.tabindex,"aria-disabled":"false"}).on("click",_).on("keydown",b))}),d.hasOwnProperty("disabled")||d.hasOwnProperty("ngDisabled")||(u.attr({"aria-disabled":"false"}),u.on("click",_),u.on("keydown",b));var R={role:"listbox","aria-expanded":"false","aria-multiselectable":p&&!d.ngMultiple?"true":"false"};u[0].hasAttribute("id")||(R.id="select_"+i.nextUid());var z="select_container_"+i.nextUid();$.attr("id",z),R["aria-owns"]=z,u.attr(R),c.$on("$destroy",function(){e.destroy()["finally"](function(){k&&(k.setFocused(!1),k.setHasValue(!1),k.input=null),S.$setTouched()})})}}var d=r.KEY_CODE;[d.SPACE,d.ENTER,d.UP_ARROW,d.DOWN_ARROW];return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:u,controller:function(){}}}function r(e,i,r,o){function a(e,n,r,a){function s(e){13!=e.keyCode&&32!=e.keyCode||l(e)}function l(n){var r=i.getClosest(n.target,"md-option"),o=r&&t.element(r).data("$mdOptionController");if(r&&o){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=c.hashGetter(o.value),s=t.isDefined(c.selected[a]);e.$apply(function(){c.isMultiple?s?c.deselect(a):c.select(a,o.value):s||(c.deselect(Object.keys(c.selected)[0]),c.select(a,o.value)),c.refreshViewValue()})}}var c=a[0];n.addClass("_md"),o(n),n.on("click",l),n.on("keypress",s)}function s(o,a,s){function l(){var e=d.ngModel.$modelValue||d.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(d.selected),i=e.map(d.hashGetter),r=n.filter(function(e){return i.indexOf(e)===-1});r.forEach(d.deselect),i.forEach(function(t,n){d.select(t,e[n])})}}function c(){var e=d.ngModel.$viewValue||d.ngModel.$modelValue;Object.keys(d.selected).forEach(d.deselect),d.select(d.hashGetter(e),e)}var d=this;d.isMultiple=t.isDefined(a.multiple),d.selected={},d.options={},o.$watchCollection(function(){return d.options},function(){d.ngModel.$render()});var h,f;d.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var i=d.ngModel;f=f||i.$isEmpty,d.isMultiple=e,h&&h(),d.isMultiple?(i.$validators["md-multiple"]=n,i.$render=l,o.$watchCollection(d.modelBinding,function(e){n(e)&&l(e),d.ngModel.$setPristine()}),i.$isEmpty=function(e){return!e||0===e.length}):(delete i.$validators["md-multiple"],i.$render=c)};var p,m,g,v="",y=300;d.optNodeForKeyboardSearch=function(e){p&&clearTimeout(p),p=setTimeout(function(){p=n,v="",g=n,m=n},y);var i=e.keyCode-(r.isNumPadKey(e)?48:0);v+=String.fromCharCode(i);var o=new RegExp("^"+v,"i");m||(m=s.find("md-option"),g=new Array(m.length),t.forEach(m,function(e,t){g[t]=e.textContent.trim()}));for(var a=0;a<g.length;++a)if(o.test(g[a]))return m[a]},d.init=function(n,r){d.ngModel=n,d.modelBinding=r,d.ngModel.$isEmpty=function(e){return!d.options[d.hashGetter(e)]};var a=i.getModelOption(n,"trackBy");if(a){var s={},l=e(a);d.hashGetter=function(e,t){return s.$value=e,l(t||o,s)}}else d.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++u)):e};d.setMultiple(d.isMultiple)},d.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=i.nodesToArray(s[0].querySelectorAll("md-option[selected]"));if(n.length){var r;return"html"==t?r=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var i=e.querySelector(".md-container");return i&&(t=t.replace(i.outerHTML,"")),t}:"aria"==t&&(r=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),i.uniq(n.map(r)).join(", ")}return""},d.select=function(e,t){var n=d.options[e];n&&n.setSelected(!0),d.selected[e]=t},d.deselect=function(e){var t=d.options[e];t&&t.setSelected(!1),delete d.selected[e]},d.addOption=function(e,n){if(t.isDefined(d.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');d.options[e]=n,t.isDefined(d.selected[e])&&(d.select(e,n.value),t.isDefined(d.ngModel.$modelValue)&&d.hashGetter(d.ngModel.$modelValue)===e&&d.ngModel.$validate(),d.refreshViewValue())},d.removeOption=function(e){delete d.options[e]},d.refreshViewValue=function(){var e,n=[];for(var r in d.selected)(e=d.options[r])?n.push(e.value):n.push(d.selected[r]);var o=i.getModelOption(d.ngModel,"trackBy"),a=d.isMultiple?n:n[0],s=d.ngModel.$modelValue;(o?t.equals(s,a):s+""===a)||(d.ngModel.$setViewValue(a),d.ngModel.$render())}}return s.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:s,link:{pre:a}}}function o(e,n){function i(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),r(n)||e.attr("md-option-empty",""),o}function r(e){var t=e.value,n=e.ngValue;return t||n}function o(i,r,o,a){function s(e,t,n){if(!u.hashGetter)return void(n||i.$$postDigest(function(){s(e,t,!0)}));var r=u.hashGetter(t,i),o=u.hashGetter(e,i);c.hashKey=o,c.value=e,u.removeOption(r,c),u.addOption(o,c)}function l(){var e={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),r.attr(e)}var c=a[0],u=a[1];u.isMultiple&&(r.addClass("md-checkbox-enabled"),r.prepend(d.clone())),t.isDefined(o.ngValue)?i.$watch(o.ngValue,s):t.isDefined(o.value)?s(o.value):i.$watch(function(){return r.text().trim()},s),o.$observe("disabled",function(e){e?r.attr("tabindex","-1"):r.attr("tabindex","0")}),i.$$postDigest(function(){o.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(c.hashKey,c.value)):u.deselect(c.hashKey),u.refreshViewValue())})}),e.attach(i,r),l(),i.$on("$destroy",function(){u.removeOption(c.hashKey,c)})}function a(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return a.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:a,compile:i}}function a(){function e(e,n){function i(){return e.parent().find("md-select-header").length}function r(){var i=e.find("label");i.length||(i=t.element("<label>"),e.prepend(i)),i.addClass("md-container-ignore"),n.label&&i.text(n.label)}i()||r()}return{restrict:"E",compile:e}}function s(){return{restrict:"E"}}function l(i){function r(i,r,u,d,h,f,p,m,g){function v(e,t,n){function i(){return p(t,{addClass:"md-leave"}).start()}function r(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",b(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?r():i().then(r)}function y(e,o,a){function s(e,t,n){return n.parent.append(t),h(function(e,n){try{p(t,{removeClass:"md-leave",duration:0}).start().then(l).then(e)}catch(i){n(i)}})}function l(){return h(function(t){if(a.isRemoved)return h.reject(!1);var n=_(e,o,a);n.container.element.css(x.toCss(n.container.styles)),n.dropDown.element.css(x.toCss(n.dropDown.styles)),f(function(){o.addClass("md-active"),n.dropDown.element.css(x.toCss({transform:""})),v(a.focusedNode),t()})})}function c(e,t,n){return n.disableParentScroll&&!u.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=u.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=u.createBackdrop(e,"md-select-backdrop md-click-catcher"),m.enter(n.backdrop,g[0].body,null,{duration:0})),function(){
n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function v(e){e&&!e.hasAttribute("disabled")&&e.focus()}function y(e,n){var i=o.find("md-select-menu");if(!n.target)throw new Error(u.supplant(w,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:i,contentEl:o.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}function b(){var n=function(e,t,n){return function(){if(!n.isRemoved){var i=_(e,t,n),r=i.container,o=i.dropDown;r.element.css(x.toCss(r.styles)),o.element.css(x.toCss(o.styles))}}}(e,o,a),i=t.element(d);return i.on("resize",n),i.on("orientationchange",n),function(){i.off("resize",n),i.off("orientationchange",n)}}function k(){a.loadingAsync&&!a.isRemoved&&(e.$$loadingAsyncDone=!1,h.when(a.loadingAsync).then(function(){e.$$loadingAsyncDone=!0,delete a.loadingAsync}).then(function(){f(l)}))}function C(){function e(e){e.preventDefault(),e.stopPropagation(),a.restoreFocus=!1,u.nextTick(i.hide,!0)}function t(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case E.UP_ARROW:return c();case E.DOWN_ARROW:return l();case E.SPACE:case E.ENTER:var t=u.getClosest(e.target,"md-option");t&&(h.triggerHandler({type:"click",target:t}),e.preventDefault()),d(e);break;case E.TAB:case E.ESCAPE:e.stopPropagation(),e.preventDefault(),a.restoreFocus=!0,u.nextTick(i.hide,!0);break;default:if(r.isInputKey(e)||r.isNumPadKey(e)){var n=h.controller("mdSelectMenu").optNodeForKeyboardSearch(e);a.focusedNode=n||a.focusedNode,n&&n.focus()}}}function s(e){var t,i=u.nodesToArray(a.optionNodes),r=i.indexOf(a.focusedNode);do r===-1?r=0:"next"===e&&r<i.length-1?r++:"prev"===e&&r>0&&r--,t=i[r],t.hasAttribute("disabled")&&(t=n);while(!t&&r<i.length-1&&r>0);t&&t.focus(),a.focusedNode=t}function l(){s("next")}function c(){s("prev")}function d(e){function t(){var t=!1;if(e&&e.currentTarget.children.length>0){var n=e.currentTarget.children[0],i=n.scrollHeight>n.clientHeight;if(i&&n.children.length>0){var r=e.pageX-e.currentTarget.getBoundingClientRect().left;r>n.querySelector("md-option").offsetWidth&&(t=!0)}}return t}if(!(e&&"click"==e.type&&e.currentTarget!=h[0]||t())){var n=u.getClosest(e.target,"md-option");n&&n.hasAttribute&&!n.hasAttribute("disabled")&&(e.preventDefault(),e.stopPropagation(),f.isMultiple||(a.restoreFocus=!0,u.nextTick(function(){i.hide(f.ngModel.$viewValue)},!0)))}}if(!a.isRemoved){var h=a.selectEl,f=h.controller("mdSelectMenu")||{};return o.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",e),h.on("keydown",t),h.on("click",d),function(){a.backdrop&&a.backdrop.off("click",e),h.off("keydown",t),h.off("click",d),o.removeClass("md-clickable"),a.isRemoved=!0}}}return k(),y(e,a),a.hideBackdrop=c(e,o,a),s(e,o,a).then(function(e){return o.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=C(),a.cleanupResizing=b(),e},a.hideBackdrop)}function b(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}function _(n,i,r){var h,f=i[0],p=r.target[0].children[0],m=g[0].body,v=r.selectEl[0],y=r.contentEl[0],b=m.getBoundingClientRect(),_=p.getBoundingClientRect(),w=!1,x={left:b.left+c,top:c,bottom:b.height-c,right:b.width-c-(u.floatingScrollbars()?16:0)},E={top:_.top-x.top,left:_.left-x.left,right:x.right-(_.left+_.width),bottom:x.bottom-(_.top+_.height)},k=b.width-2*c,C=v.querySelector("md-option[selected]"),S=v.getElementsByTagName("md-option"),M=v.getElementsByTagName("md-optgroup"),A=l(i,y),T=o(r.loadingAsync);h=T?y.firstElementChild||y:C?C:M.length?M[0]:S.length?S[0]:y.firstElementChild||y,y.offsetWidth>k?y.style["max-width"]=k+"px":y.style.maxWidth=null,w&&(y.style["min-width"]=_.width+"px"),A&&v.classList.add("md-overflow");var O=h;"MD-OPTGROUP"===(O.tagName||"").toUpperCase()&&(O=S[0]||y.firstElementChild||y,h=O),r.focusedNode=O,f.style.display="block";var P=v.getBoundingClientRect(),$=s(h);if(h){var L=d.getComputedStyle(h);$.paddingLeft=parseInt(L.paddingLeft,10)||0,$.paddingRight=parseInt(L.paddingRight,10)||0}if(A){var I=y.offsetHeight/2;y.scrollTop=$.top+$.height/2-I,E.top<I?y.scrollTop=Math.min($.top,y.scrollTop+I-E.top):E.bottom<I&&(y.scrollTop=Math.max($.top+$.height-P.height,y.scrollTop-I+E.bottom))}var D,N,R,z,j;w?(D=_.left,N=_.top+_.height,R="50% 0",N+P.height>x.bottom&&(N=_.top-P.height,R="50% 100%")):(D=_.left+$.left-$.paddingLeft+2,N=Math.floor(_.top+_.height/2-$.height/2-$.top+y.scrollTop)+2,R=$.left+_.width/2+"px "+($.top+$.height/2-y.scrollTop)+"px 0px",z=Math.min(_.width+$.paddingLeft+$.paddingRight,k),j=e.getComputedStyle(p)["font-size"]);var F=f.getBoundingClientRect(),B=Math.round(100*Math.min(_.width/P.width,1))/100,H=Math.round(100*Math.min(_.height/P.height,1))/100;return{container:{element:t.element(f),styles:{left:Math.floor(a(x.left,D,x.right-F.width)),top:Math.floor(a(x.top,N,x.bottom-F.height)),"min-width":z,"font-size":j}},dropDown:{element:t.element(v),styles:{transformOrigin:R,transform:r.alreadyOpen?"":u.supplant("scale({0},{1})",[B,H])}}}}var w="$mdSelect.show() expected a target element in options.target but got '{0}'!",x=u.dom.animator,E=r.KEY_CODE;return{parent:"body",themable:!0,onShow:y,onRemove:v,hasBackdrop:!0,disableParentScroll:!0}}function o(e){return e&&t.isFunction(e.then)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function s(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function l(e,t){var n=!1;try{var i=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=i}finally{}return n}return r.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],i("$mdSelect").setDefaults({methods:["target"],options:r})}i.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],r.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil"],l.$inject=["$$interimElementProvider"];var c=8,u=0,d=t.element('<div class="md-container"><div class="md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",i).directive("mdSelectMenu",r).directive("mdOption",o).directive("mdOptgroup",a).directive("mdSelectHeader",s).provider("$mdSelect",l)}(),function(){function e(e,t){return["$mdUtil","$window",function(n,i){return{restrict:"A",multiElement:!0,link:function(r,o,a){var s=r.$on("$md-resize-enable",function(){s();var l=o[0],c=l.nodeType===i.Node.ELEMENT_NODE?i.getComputedStyle(l):{};r.$watch(a[e],function(e){if(!!e===t){n.nextTick(function(){r.$broadcast("$md-resize")});var i={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(o,i).then(function(){r.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,i,r,o){function a(e,n){var o=function(){return!1},a=function(){return r.when(i.supplant(c,[n||""]))};return t.extend({isLockedOpen:o,isOpen:o,toggle:a,open:a,close:a,onClose:t.noop,then:function(e){return l(n).then(e||t.noop)}},e)}function s(t,r){var a=e.get(t);return a||r?a:(o.error(i.supplant(c,[t||""])),n)}function l(t){return e.when(t)["catch"](o.error)}var c="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",u={find:s,waitFor:l};return function(e,n){if(t.isUndefined(e))return u;var i=n===!0,r=u.find(e,i);return!r&&i?u.waitFor(e):!r&&t.isUndefined(n)?a(u,e):r}}function i(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,i){}}}function r(e,i,r,o,a,s,l,c,u,d,h,f,p){function m(l,m,g,v){function y(e,t){l.isLockedOpen=e,e===t?m.toggleClass("md-locked-open",!!e):s[e?"addClass":"removeClass"](m,"md-locked-open"),S&&S.toggleClass("md-locked-open",!!e)}function b(e){var t=i.findFocusTarget(m)||i.findFocusTarget(m,"[md-sidenav-focus]")||m,n=m.parent();n[e?"on":"off"]("keydown",E),S&&S[e?"on":"off"]("click",k);var r=_(n,e);return e&&(O=h[0].activeElement,M=a.getLastInteractionType()),w(e),P=d.all([e&&S?s.enter(S,n):S?s.leave(S):d.when(!0),s[e?"removeClass":"addClass"](m,"md-closed")]).then(function(){l.isOpen&&(p(function(){L.triggerHandler("resize")}),t&&t.focus()),r&&r()})}function _(e,t){var n=m[0],i=e[0].scrollTop;if(t&&i){A={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var r={top:i+"px",bottom:"auto",height:e[0].clientHeight+"px"};m.css(r),S.css(r)}if(!t&&A)return function(){n.style.top=A.top,n.style.bottom=A.bottom,n.style.height=A.height,S[0].style.top=null,S[0].style.bottom=null,S[0].style.height=null,A=null}}function w(e){e&&!C?(C=T.css("overflow"),T.css("overflow","hidden")):t.isDefined(C)&&(T.css("overflow",C),C=n)}function x(e){return l.isOpen==e?d.when(!0):(l.isOpen&&v.onCloseCb&&v.onCloseCb(),d(function(t){l.isOpen=e,i.nextTick(function(){P.then(function(e){!l.isOpen&&O&&"keyboard"===M&&(O.focus(),O=null),t(e)})})}))}function E(e){var t=e.keyCode===r.KEY_CODE.ESCAPE;return t?k(e):d.when(!0)}function k(e){return e.preventDefault(),v.close()}var C,S,M,A,T=null,O=null,P=d.when(!0),$=c(g.mdIsLockedOpen),L=t.element(f),I=function(){return $(l.$parent,{$media:function(t){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})};g.mdDisableScrollTarget&&(T=h[0].querySelector(g.mdDisableScrollTarget),T?T=t.element(T):u.warn(i.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),T||(T=m.parent()),g.hasOwnProperty("mdDisableBackdrop")||(S=i.createBackdrop(l,"md-sidenav-backdrop md-opaque ng-enter")),m.addClass("_md"),o(m),S&&o.inherit(S,m),m.on("$destroy",function(){S&&S.remove(),v.destroy()}),l.$on("$destroy",function(){S&&S.remove()}),l.$watch(I,y),l.$watch("isOpen",b),v.$toggleOpen=x}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),m}}}function o(e,t,n,i,r){var o=this;o.isOpen=function(){return!!e.isOpen},o.isLockedOpen=function(){return!!e.isLockedOpen},o.onClose=function(e){return o.onCloseCb=e,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!e.isOpen)},o.$toggleOpen=function(t){return i.when(e.isOpen=t)};var a=t.mdComponentId,s=a&&a.indexOf(r.startSymbol())>-1,l=s?r(a)(e.$parent):a;o.destroy=n.register(o,l),s&&t.$observe("mdComponentId",function(e){e&&e!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,e))})}e.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],r.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],o.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",r).directive("mdSidenavFocus",i).controller("$mdSidenavController",o)}(),function(){function e(){return{controller:function(){},compile:function(e){var i=e.find("md-slider");if(i){var r=i.attr("md-vertical");return r!==n&&e.attr("md-vertical",""),i.attr("flex")||i.attr("flex",""),function(e,n,i,r){function o(e){n.children().attr("disabled",e),n.find("input").attr("disabled",e)}n.addClass("_md");var a=t.noop;i.disabled?o(!0):i.ngDisabled&&(a=e.$watch(i.ngDisabled,function(e){o(e)})),e.$on("$destroy",function(){a()});var s;r.fitInputWidthToTextLength=function(e){var t=n[0].querySelector("md-input-container");if(t){var i=getComputedStyle(t),r=parseInt(i.minWidth),o=2*parseInt(i.padding);s=s||parseInt(i.maxWidth);var a=Math.max(s,r+o+r/2*e);t.style.maxWidth=a+"px"}}}}}}}function i(e,n,i,r,o,a,s,l,c,u){function d(e,n){var r=t.element(e[0].getElementsByClassName("md-slider-wrapper")),o=n.tabindex||0;return r.attr("tabindex",o),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),r.attr("role","slider"),i.expect(e,"aria-label"),h}function h(i,d,h,f){function p(){x(),T()}function m(e){le=parseFloat(e),d.attr("aria-valuemin",e),p()}function g(e){ce=parseFloat(e),d.attr("aria-valuemax",e),p()}function v(e){ue=parseFloat(e)}function y(e){de=O(parseInt(e),0,6)}function b(){d.attr("aria-disabled",!!W())}function _(){if(re&&!W()&&!t.isUndefined(ue)){if(ue<=0){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var i=Math.floor((ce-le)/ue);he||(he=t.element("<canvas>").css("position","absolute"),Q.append(he),fe=he[0].getContext("2d"));var r=E();!r||r.height||r.width||(x(),r=pe),he[0].width=r.width,he[0].height=r.height;for(var o,a=0;a<=i;a++){var s=n.getComputedStyle(Q[0]);fe.fillStyle=s.color||"black",o=Math.floor((ie?r.height:r.width)*(a/i)),fe.fillRect(ie?0:o-1,ie?o-1:0,ie?r.width:2,ie?2:r.height)}}}function w(){if(he&&fe){var e=E();fe.clearRect(0,0,e.width,e.height)}}function x(){pe=Z[0].getBoundingClientRect()}function E(){return te(),pe}function k(e){if(!W()){var t;(ie?e.keyCode===o.KEY_CODE.DOWN_ARROW:e.keyCode===o.KEY_CODE.LEFT_ARROW)?t=-ue:(ie?e.keyCode===o.KEY_CODE.UP_ARROW:e.keyCode===o.KEY_CODE.RIGHT_ARROW)&&(t=ue),t=oe?-t:t,t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),i.$evalAsync(function(){A(V.$viewValue+t)}))}}function C(){_(),i.mouseActive=!0,ee.removeClass("md-focused"),u(function(){i.mouseActive=!1},100)}function S(){i.mouseActive===!1&&ee.addClass("md-focused")}function M(){ee.removeClass("md-focused"),d.removeClass("md-active"),w()}function A(e){V.$setViewValue(O(P(e)))}function T(){isNaN(V.$viewValue)&&(V.$viewValue=V.$modelValue),V.$viewValue=O(V.$viewValue);var e=q(V.$viewValue);i.modelValue=V.$viewValue,d.attr("aria-valuenow",V.$viewValue),$(e),X.text(V.$viewValue)}function O(e,n,i){if(t.isNumber(e))return n=t.isNumber(n)?n:le,i=t.isNumber(i)?i:ce,Math.max(n,Math.min(i,e))}function P(e){if(t.isNumber(e)){var n=Math.round((e-le)/ue)*ue+le;return n=Math.round(n*Math.pow(10,de))/Math.pow(10,de),G&&G.fitInputWidthToTextLength&&r.debounce(function(){G.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function $(e){e=B(e);var t=100*e+"%",n=oe?100*(1-e)+"%":t;ie?K.css("bottom",t):r.bidiProperty(K,"left","right",t),J.css(ie?"height":"width",n),d.toggleClass(oe?"md-max":"md-min",0===e),d.toggleClass(oe?"md-min":"md-max",1===e)}function L(e){if(!W()){d.addClass("md-active"),d[0].focus(),x();var t=U(H(ie?e.pointer.y:e.pointer.x)),n=O(P(t));i.$apply(function(){A(n),$(q(n))})}}function I(e){if(!W()){d.removeClass("md-dragging");var t=U(H(ie?e.pointer.y:e.pointer.x)),n=O(P(t));i.$apply(function(){A(n),T()})}}function D(e){W()||(me=!0,e.stopPropagation(),d.addClass("md-dragging"),z(e))}function N(e){me&&(e.stopPropagation(),z(e))}function R(e){me&&(e.stopPropagation(),me=!1)}function z(e){re?F(ie?e.pointer.y:e.pointer.x):j(ie?e.pointer.y:e.pointer.x)}function j(e){i.$evalAsync(function(){A(U(H(e)))})}function F(e){var t=U(H(e)),n=O(P(t));$(H(e)),X.text(n)}function B(e){return Math.max(0,Math.min(e||0,1))}function H(e){var t=ie?pe.top:pe.left,n=ie?pe.height:pe.width,i=(e-t)/n;return ie||"rtl"!==r.bidi()||(i=1-i),Math.max(0,Math.min(1,ie?1-i:i))}function U(e){var t=oe?1-e:e;return le+t*(ce-le)}function q(e){var t=(e-le)/(ce-le);return oe?1-t:t}a(d);var V=f[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},G=f[1],W=(t.element(r.getClosest(d,"_md-slider-container",!0)),h.ngDisabled?t.bind(null,l(h.ngDisabled),i.$parent):function(){return d[0].hasAttribute("disabled")}),Y=t.element(d[0].querySelector(".md-thumb")),X=t.element(d[0].querySelector(".md-thumb-text")),K=Y.parent(),Z=t.element(d[0].querySelector(".md-track-container")),J=t.element(d[0].querySelector(".md-track-fill")),Q=t.element(d[0].querySelector(".md-track-ticks")),ee=t.element(d[0].getElementsByClassName("md-slider-wrapper")),te=(t.element(d[0].getElementsByClassName("md-slider-content")),r.throttle(x,5e3)),ne=3,ie=t.isDefined(h.mdVertical),re=t.isDefined(h.mdDiscrete),oe=t.isDefined(h.mdInvert);t.isDefined(h.min)?h.$observe("min",m):m(0),t.isDefined(h.max)?h.$observe("max",g):g(100),t.isDefined(h.step)?h.$observe("step",v):v(1),t.isDefined(h.round)?h.$observe("round",y):y(ne);var ae=t.noop;h.ngDisabled&&(ae=i.$parent.$watch(h.ngDisabled,b)),s.register(ee,"drag",{horizontal:!ie}),i.mouseActive=!1,ee.on("keydown",k).on("mousedown",C).on("focus",S).on("blur",M).on("$md.pressdown",L).on("$md.pressup",I).on("$md.dragstart",D).on("$md.drag",N).on("$md.dragend",R),setTimeout(p,0);var se=e.throttle(p);t.element(n).on("resize",se),i.$on("$destroy",function(){t.element(n).off("resize",se)}),V.$render=T,V.$viewChangeListeners.push(T),V.$formatters.push(O),V.$formatters.push(P);var le,ce,ue,de,he,fe,pe={};x();var me=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:d}}i.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],t.module("material.components.slider",["material.core"]).directive("mdSlider",i).directive("mdSliderContainer",e)}(),function(){function e(e,t,i,r){function o(r){function o(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return m.items.push(n),i.nextTick(function(){f.prepend(n.clone)}),p(),function(){m.items.forEach(function(t,n){t.element[0]===e[0]&&(m.items.splice(n,1),t.clone.remove())}),p()}}function s(){m.items.forEach(l),m.items=m.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=f.prop("scrollTop"),n=m.items.length-1;n>=0;n--)if(t>m.items[n].top){e=m.items[n];break}u(e)}function l(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==f[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var r=i.floatingScrollbars()?"0":n;i.bidi(e.clone,"margin-left",e.left,r),i.bidi(e.clone,"margin-right",r,e.right)}function c(){var e=f.prop("scrollTop"),t=e>(c.prevScrollTop||0);if(c.prevScrollTop=e,0===e)return void u(null);if(t){if(m.next&&m.next.top<=e)return void u(m.next);if(m.current&&m.next&&m.next.top-e<=m.next.height)return void h(m.current,e+(m.next.top-m.next.height-e))}if(!t){if(m.current&&m.prev&&e<m.current.top)return void u(m.prev);if(m.next&&m.current&&e>=m.next.top-m.current.height)return void h(m.current,e+(m.next.top-e-m.current.height))}m.current&&h(m.current,e)}function u(e){if(m.current!==e){m.current&&(h(m.current,null),d(m.current,null)),e&&d(e,"active"),m.current=e;var t=m.items.indexOf(e);m.next=m.items[t+1],m.prev=m.items[t-1],d(m.next,"next"),d(m.prev,"prev")}}function d(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function h(t,r){t&&(null===r||r===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=r,i.bidi(t.clone,e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+r+"px,0)","translateY("+r+"px)")))}var f=r.$element,p=t.throttle(s);a(f),f.on("$scrollstart",p),f.on("$scroll",c);var m;return m={prev:null,current:null,next:null,items:[],add:o,refreshElements:s}}function a(e){function n(){+i.now()-o>a?(r=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),t.throttle(n))}var r,o,a=200;e.on("scroll touchmove",function(){r||(r=!0,t.throttle(n),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),o=+i.now()})}var s=i.checkStickySupport();return function(e,t,n){var i=t.controller("mdContent");if(i)if(s)t.css({position:s,top:0,"z-index":2});else{var a=i.$element.data("$$sticky");a||(a=o(i),i.$element.data("$$sticky",a));var l=n||r(t.clone())(e),c=a.add(t,l);e.$on("$destroy",c)}}}e.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e)}(),function(){function e(e,n,i,r,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,l,c,u){function d(e){return t.element(e[0].querySelector(".md-subheader-content"))}i(s),s.addClass("_md"),r.prefixer().removeAttribute(s,"ng-repeat");var h=s[0].outerHTML;l.$set("role","heading"),o.expect(s,"aria-level","2"),u(a,function(e){d(s).append(e)}),s.hasClass("md-no-sticky")||u(a,function(t){var i=n('<div class="md-subheader-wrapper" aria-hidden="true">'+h+"</div>")(a);r.nextTick(function(){d(i).append(t)}),e(a,s,i)})}}}e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e)}(),function(){function e(e){function t(e){function t(t,r,o){r.css("touch-action","none");var a=e(o[n]);r.on(i,function(e){t.$applyAsync(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}t.$inject=["$parse"];var n="md"+e,i="$md."+e.toLowerCase();return t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,i,r,o,a,s){function l(e,l){var u=c.compile(e,l).post;return e.addClass("md-dragging"),function(e,l,c,d){function h(t){v&&v(e)||(t.stopPropagation(),l.addClass("md-dragging"),w={width:y.prop("offsetWidth")})}function f(e){if(w){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/w.width,n=g.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),y.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),w.translate=n}}function p(t){if(w){t.stopPropagation(),l.removeClass("md-dragging"),y.css(i.CSS.TRANSFORM,"");var n=g.$viewValue?w.translate<.5:w.translate>.5;n&&m(!g.$viewValue),w=null,e.skipToggle=!0,s(function(){e.skipToggle=!1},1)}}function m(t){e.$apply(function(){g.$setViewValue(t),g.$render()})}var g=(d[0],d[1]||n.fakeNgModel()),v=(d[2],null);null!=c.disabled?v=function(){return!0}:c.ngDisabled&&(v=r(c.ngDisabled));var y=t.element(l[0].querySelector(".md-thumb-container")),b=t.element(l[0].querySelector(".md-container")),_=t.element(l[0].querySelector(".md-label"));o(function(){l.removeClass("md-dragging")}),u(e,l,c,d),v&&e.$watch(v,function(e){l.attr("tabindex",e?-1:0)}),c.$observe("mdInvert",function(e){var t=n.parseAttributeBoolean(e);t?l.prepend(_):l.prepend(b),l.toggleClass("md-inverted",t)}),a.register(b,"drag"),b.on("$md.dragstart",h).on("$md.drag",f).on("$md.dragend",p);var w}}var c=e[0];return{restrict:"E",priority:i.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:l}}e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){r=e}function i(e,n,i,o){function a(t,a,s){r=s.textContent||s.content;var u=!o("gt-sm");return a=i.extractElementByName(a,"md-toast",!0),s.element=a,s.onSwipe=function(e,t){var r=e.type.replace("$md.",""),o=r.replace("swipe","");"down"===o&&s.position.indexOf("top")!=-1&&!u||"up"===o&&(s.position.indexOf("bottom")!=-1||u)||("left"!==o&&"right"!==o||!u)&&(a.addClass("md-"+r),i.nextTick(n.cancel))},s.openClass=l(s.position),a.addClass(s.toastClass),s.parent.addClass(s.openClass),i.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),a.on(c,s.onSwipe),a.addClass(u?"md-bottom":s.position.split(" ").map(function(e){return"md-"+e}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),e.enter(a,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,n,r){return n.off(c,r.onSwipe),r.parent&&r.parent.addClass("md-toast-animating"),r.openClass&&r.parent.removeClass(r.openClass),(1==r.$destroy?n.remove():e.leave(n)).then(function(){r.parent&&r.parent.removeClass("md-toast-animating"),i.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","")})}function l(e){return o("gt-xs")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var c="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:a,onRemove:s,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var i=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(i){var r=document.createElement("md-template");r.innerHTML=e;for(var o=0;o<r.children.length;o++)if("MD-TOAST"===r.children[o].nodeName){var a=t.element('<div class="md-toast-content">');a.append(t.element(r.children[o].childNodes)),r.children[o].appendChild(a[0])}return r.innerHTML}return e||""}}}i.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var r,o="ok",a=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:i}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(t){var n=this;n.highlightAction&&(t.highlightClasses=["md-highlight",n.highlightClass]),t.$watch(function(){return r},function(){n.content=r}),this.resolve=function(){e.hide(o)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return a}e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"],t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n)}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(e,n,i,r,o){var a=t.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,c){function u(){function r(e){var t=l.parent().find("md-content");!m&&t.length&&u(null,t),e=s.$eval(e),e===!1?g():g=h()}function u(e,t){t&&l.parent()[0]===t.parent()[0]&&(m&&m.off("scroll",_),m=t,g=h())}function d(e){var t=e?e.target.scrollTop:y;w(),v=Math.min(p/b,Math.max(0,v+t-y)),l.css(n.CSS.TRANSFORM,a([-v*b])),m.css(n.CSS.TRANSFORM,a([(p-v)*b])),y=t,i.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!v?o.removeClass(l,"md-whiteframe-z1"):!e&&v&&o.addClass(l,"md-whiteframe-z1")})}function h(){return m?(m.on("scroll",_),m.attr("scroll-shrink","true"),i.nextTick(f,!1),function(){m.off("scroll",_),m.attr("scroll-shrink","false"),f()}):t.noop}function f(){p=l.prop("offsetHeight");var e=-p*b+"px";m.css({"margin-top":e,"margin-bottom":e}),d()}var p,m,g=t.noop,v=0,y=0,b=c.mdShrinkSpeedFactor||.5,_=e.throttle(d),w=i.debounce(f,5e3);s.$on("$mdContentLoaded",u),c.$observe("mdScrollShrink",r),c.ngShow&&s.$watch(c.ngShow,f),c.ngHide&&s.$watch(c.ngHide,f),s.$on("$destroy",g)}l.addClass("_md"),r(l),i.nextTick(function(){l.addClass("_md-toolbar-transitions")},!1),t.isDefined(c.mdScrollShrink)&&u()}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e)}(),function(){function n(e,n,i,r,o,a,s,l){function c(c,g,v){function y(){c.mdZIndex=c.mdZIndex||h,c.mdDelay=c.mdDelay||f,m[c.mdDirection]||(c.mdDirection=p)}function b(e){if(e||!L.attr("aria-label")){var t=e||o(g.text().trim())(c.$parent);L.attr("aria-label",t)}}function _(){y(),O&&O.panelEl&&O.panelEl.removeClass(M),M="md-origin-"+c.mdDirection,A=m[c.mdDirection],T=s.newPanelPosition().relativeTo(L).addPanelPosition(A.x,A.y),O&&O.panelEl&&(O.panelEl.addClass(M),O.updatePosition(T))}function w(){function t(e){return e.some(function(e){return"disabled"===e.attributeName&&L[0].disabled}),!1}function i(){E(!1)}function o(){N=document.activeElement===L[0]}function s(e){"focus"===e.type&&N?N=!1:c.mdVisible||(L.on(d,h),E(!0),"touchstart"===e.type&&L.one("touchend",function(){a.nextTick(function(){r.one("touchend",h)},!1)}))}function h(){P=c.hasOwnProperty("mdAutohide")?c.mdAutohide:v.hasOwnProperty("mdAutohide"),(P||D||r[0].activeElement!==L[0])&&($&&(e.cancel($),E.queued=!1,$=null),L.off(d,h),L.triggerHandler("blur"),E(!1)),D=!1}function f(){D=!0}function p(){l.deregister("scroll",i,!0),l.deregister("blur",o),l.deregister("resize",I),L.off(u,s).off(d,h).off("mousedown",f),h(),m&&m.disconnect()}if(L[0]&&"MutationObserver"in n){var m=new MutationObserver(function(e){t(e)&&a.nextTick(function(){E(!1)})});m.observe(L[0],{attributes:!0})}N=!1,l.register("scroll",i,!0),l.register("blur",o),l.register("resize",I),c.$on("$destroy",p),L.on("mousedown",f),L.on(u,s)}function x(){function e(){c.$destroy()}if(g[0]&&"MutationObserver"in n){var t=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||c.visibleWatcher||(c.visibleWatcher=c.$watch("mdVisible",k))})});t.observe(g[0],{attributes:!0}),v.hasOwnProperty("mdVisible")&&(c.visibleWatcher=c.$watch("mdVisible",k))}else c.visibleWatcher=c.$watch("mdVisible",k);c.$watch("mdDirection",_),g.one("$destroy",e),L.one("$destroy",e),c.$on("$destroy",function(){E(!1),O&&O.destroy(),t&&t.disconnect(),g.remove()}),g.text().indexOf(o.startSymbol())>-1&&c.$watch(function(){return g.text().trim()},b)}function E(t){E.queued&&E.value===!!t||!E.queued&&c.mdVisible===!!t||(E.value=!!t,E.queued||(t?(E.queued=!0,$=e(function(){c.mdVisible=E.value,E.queued=!1,$=null,c.visibleWatcher||k(c.mdVisible)},c.mdDelay)):a.nextTick(function(){c.mdVisible=!1,c.visibleWatcher||k(!1)})))}function k(e){e?C():S()}function C(){if(!g[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!O){var e="tooltip-"+a.nextUid(),n=t.element(document.body),i=s.newPanelAnimation().openFrom(L).closeTo(L).withAnimation({open:"md-show",close:"md-hide"}),r={id:e,attachTo:n,contentElement:g,propagateContainerEvents:!0,panelClass:"md-tooltip "+M,animation:i,position:T,zIndex:c.mdZIndex,focusOnOpen:!1};O=s.create(r)}O.open().then(function(){O.panelEl.attr("role","tooltip")})}function S(){O&&O.close()}var M,A,T,O,P,$,L=a.getParentWithPointerEvents(g),I=i.throttle(_),D=!1,N=null;y(),b(),g.detach(),_(),w(),x()}var u="focus touchstart mouseenter",d="blur touchcancel mouseleave",h=100,f=0,p="bottom",m={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{
mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:c}}function i(){function n(e){o[e.type]&&o[e.type].forEach(function(t){t.call(this,e)},this)}function i(t,i,r){var s=o[t]=o[t]||[];s.length||(r?e.addEventListener(t,n,!0):a.on(t,n)),s.indexOf(i)===-1&&s.push(i)}function r(t,i,r){var s=o[t],l=s?s.indexOf(i):-1;l>-1&&(s.splice(l,1),0===s.length&&(r?e.removeEventListener(t,n,!0):a.off(t,n)))}var o={},a=t.element(e);return{register:i,deregister:r}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],t.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",i)}(),function(){function e(){return{restrict:"AE",controller:n,controllerAs:"$ctrl",bindToController:!0}}function n(e){e.addClass("md-truncate")}n.$inject=["$element"],t.module("material.components.truncate",["material.core"]).directive("mdTruncate",e)}(),function(){function e(){return{controller:i,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function i(e,n,i,r,o,a,s,l,c){this.$rootScope=o,this.$scope=s,this.$element=l,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=i.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=l[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var u=t.bind(this,this.updateSize);e(t.bind(this,function(){u();var e=n.debounce(u,10,null,!1),i=t.element(a);this.size||e(),i.on("resize",e),s.$on("$destroy",function(){i.off("resize",e)}),s.$emit("$md-resize-enable"),s.$on("$md-resize",u)}))}function r(e){return{controller:o,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var i=n.mdVirtualRepeat,r=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),o=r[1],a=e(r[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,i,r){i[0].link_(i[1],r,o,a,s)}}}}function o(e,n,i,r,o,a,s,l){this.$scope=e,this.$element=n,this.$attrs=i,this.$browser=r,this.$document=o,this.$rootScope=a,this.$$rAF=s,this.onDemand=l.parseAttributeBoolean(i.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function a(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}i.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],o.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],r.$inject=["$parse"],t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",r);var s=3;i.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},i.prototype.isHorizontal=function(){return this.horizontal},i.prototype.getSize=function(){return this.size},i.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},i.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},i.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},i.prototype.getScrollSize=function(){return this.scrollSize},i.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},i.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var i=Math.floor(e/this.maxElementPixels),r=document.createElement("div");r.style[t]=this.maxElementPixels+"px",r.style[n]="1px";for(var o=0;o<i;o++)this.sizer.appendChild(r.cloneNode(!1));r.style[t]=e-i*this.maxElementPixels+"px",this.sizer.appendChild(r)}},i.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},i.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},i.prototype.getScrollOffset=function(){return this.scrollOffset},i.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},i.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},i.prototype.resetScroll=function(){this.scrollTo(0)},i.prototype.handleScroll_=function(){var e="rtl"!=document.dir&&"rtl"!=document.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(t===this.scrollOffset||t>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var i=Math.max(0,Math.floor(t/n)-s),r=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?i*n:-(i*n))+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var o=Math.floor(t/n);o!==this.topIndex&&o<this.repeater.getItemCount()&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.Block,o.prototype.link_=function(e,n,i,r,o){this.container=e,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=r,this.extraName=o,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},o.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(e){e.element.remove()})},o.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},o.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new a(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},o.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))},o.prototype.getItemSize=function(){return this.itemSize},o.prototype.getItemCount=function(){return this.itemsLength},o.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var i=e&&e.length||0,r=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}if(i!==this.itemsLength&&(r=!0,this.itemsLength=i),this.items=e,(e!==n||r)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(i*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var a=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.container.scrollToIndex(a)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var s,l,c=[],u=[];for(s=this.newStartIndex;s<this.newEndIndex&&null==this.blocks[s];s++)l=this.getBlock_(s),this.updateBlock_(l,s),c.push(l);for(;null!=this.blocks[s];s++)this.updateBlock_(this.blocks[s],s);for(var d=s-1;s<this.newEndIndex;s++)l=this.getBlock_(s),this.updateBlock_(l,s),u.push(l);c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling),u.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(u),this.blocks[d]&&this.blocks[d].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},o.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,i){n={element:t,"new":!0,scope:i},this.updateScope_(i,e),this.parentNode.appendChild(t[0])})),n},o.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},o.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},o.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},o.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},o.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+s,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-s)},a.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){function e(e){function t(t,a,s){var l="";s.$observe("mdWhiteframe",function(t){t=parseInt(t,10)||o,t!=n&&(t>r||t<i)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between "+i+" and "+r,a[0]),t=o);var c=t==n?"":"md-whiteframe-"+t+"dp";s.$updateClass(c,l),l=c})}var n=-1,i=1,r=24,o=4;return{link:t}}e.$inject=["$log"],t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",e)}(),function(){function e(e,s,l,c,u,d,h,f,p,m,g,v){function y(){l.initOptionalProperties(e,p,{searchText:"",selectedItem:null,clearButton:!1}),u(s),E(),l.nextTick(function(){S(),w(),e.autofocus&&s.on("focus",x)})}function b(){e.requireMatch&&$e&&$e.$setValidity("md-require-match",!!e.selectedItem||!e.searchText)}function _(){function t(){var e=0,t=s.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=Ce.scrollContainer.getBoundingClientRect(),t={};e.right>f.right-o&&(t.left=d.right-e.width+"px"),Ce.$.scrollContainer.css(t)}if(!Ce)return l.nextTick(_,!1,e);var c,u=(e.dropdownItems||r)*i,d=Ce.wrap.getBoundingClientRect(),h=Ce.snap.getBoundingClientRect(),f=Ce.root.getBoundingClientRect(),m=h.bottom-f.top,g=f.bottom-h.top,v=d.left-f.left,y=d.width,b=t(),w=e.dropdownPosition;if(w||(w=m>g&&f.height-d.bottom-o<u?"top":"bottom"),p.mdFloatingLabel&&(v+=a,y-=2*a),c={left:v+"px",minWidth:y+"px",maxWidth:Math.max(d.right-f.left,f.right-d.left)-o+"px"},"top"===w)c.top="auto",c.bottom=g+"px",c.maxHeight=Math.min(u,d.top-f.top-o)+"px";else{var x=f.bottom-d.bottom-o+l.getViewportTop();c.top=m-b+"px",c.bottom="auto",c.maxHeight=Math.min(u,x)+"px"}Ce.$.scrollContainer.css(c),l.nextTick(n,!1)}function w(){Ce.$.root.length&&(u(Ce.$.scrollContainer),Ce.$.scrollContainer.detach(),Ce.$.root.append(Ce.$.scrollContainer),h.pin&&h.pin(Ce.$.scrollContainer,f))}function x(){Ce.input.focus()}function E(){var n=parseInt(e.delay,10)||0;p.$observe("disabled",function(e){xe.isDisabled=l.parseAttributeBoolean(e,!1)}),p.$observe("required",function(e){xe.isRequired=l.parseAttributeBoolean(e,!1)}),p.$observe("readonly",function(e){xe.isReadonly=l.parseAttributeBoolean(e,!1)}),e.$watch("searchText",n?l.debounce(F,n):F),e.$watch("selectedItem",I),t.element(d).on("resize",Le),e.$on("$destroy",k)}function k(){if(xe.hidden||l.enableScrolling(),t.element(d).off("resize",Le),Ce){var e=["ul","scroller","scrollContainer","input"];t.forEach(e,function(e){Ce.$[e].remove()})}}function C(){xe.hidden||_()}function S(){var e=M();Ce={main:s[0],scrollContainer:s[0].querySelector(".md-virtual-repeat-container"),scroller:s[0].querySelector(".md-virtual-repeat-scroller"),ul:s.find("ul")[0],input:s.find("input")[0],wrap:e.wrap,snap:e.snap,root:document.body},Ce.li=Ce.ul.getElementsByTagName("li"),Ce.$=A(Ce),$e=Ce.$.input.controller("ngModel")}function M(){var e,n;for(e=s;e.length&&(n=e.attr("md-autocomplete-snap"),!t.isDefined(n));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===n.toLowerCase()?e[0]:s.find("md-autocomplete-wrap")[0]};var i=s.find("md-autocomplete-wrap")[0];return{snap:i,wrap:i}}function A(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.element(e[i]));return n}function T(e,n){!e&&n?(_(),he(!0,Ie.Count|Ie.Selected),Ce&&(l.disableScrollAround(Ce.ul),Pe=O(t.element(Ce.wrap)))):e&&!n&&(l.enableScrolling(),Pe&&(Pe(),Pe=null))}function O(e){function t(e){e.preventDefault()}return e.on("wheel",t),e.on("touchmove",t),function(){e.off("wheel",t),e.off("touchmove",t)}}function P(){Me=!0}function $(){Te||xe.hidden||Ce.input.focus(),Me=!1,xe.hidden=K()}function L(){Ce.input.focus()}function I(n,i){b(),n?G(n).then(function(t){e.searchText=t,R(n,i)}):i&&e.searchText&&G(i).then(function(n){t.isString(e.searchText)&&n.toString().toLowerCase()===e.searchText.toLowerCase()&&(e.searchText="")}),n!==i&&D()}function D(){t.isFunction(e.itemChange)&&e.itemChange(W(e.selectedItem))}function N(){t.isFunction(e.textChange)&&e.textChange()}function R(e,t){Ae.forEach(function(n){n(e,t)})}function z(e){Ae.indexOf(e)==-1&&Ae.push(e)}function j(e){var t=Ae.indexOf(e);t!=-1&&Ae.splice(t,1)}function F(t,n){xe.index=Y(),t!==n&&(b(),G(e.selectedItem).then(function(i){t!==i&&(e.selectedItem=null,t!==n&&N(),oe()?ye():(xe.matches=[],X(!1),he(!1,Ie.Count)))}))}function B(e){Te=!1,Me||(xe.hidden=K(),we("ngBlur",{$event:e}))}function H(e){e&&(Me=!1,Te=!1),Ce.input.blur()}function U(e){Te=!0,Z()&&oe()&&ye(),xe.hidden=K(),we("ngFocus",{$event:e})}function q(t){switch(t.keyCode){case c.KEY_CODE.DOWN_ARROW:if(xe.loading)return;t.stopPropagation(),t.preventDefault(),xe.index=Math.min(xe.index+1,xe.matches.length-1),pe(),he(!1,Ie.Selected);break;case c.KEY_CODE.UP_ARROW:if(xe.loading)return;t.stopPropagation(),t.preventDefault(),xe.index=xe.index<0?xe.matches.length-1:Math.max(0,xe.index-1),pe(),he(!1,Ie.Selected);break;case c.KEY_CODE.TAB:if($(),xe.hidden||xe.loading||xe.index<0||xe.matches.length<1)return;se(xe.index);break;case c.KEY_CODE.ENTER:if(xe.hidden||xe.loading||xe.index<0||xe.matches.length<1)return;if(ne())return;t.stopPropagation(),t.preventDefault(),se(xe.index);break;case c.KEY_CODE.ESCAPE:if(t.preventDefault(),!J())return;t.stopPropagation(),ce(),e.searchText&&Q("clear")&&ue(),xe.hidden=!0,Q("blur")&&H(!0)}}function V(){return t.isNumber(e.minLength)?e.minLength:1}function G(n){function i(t){return t&&e.itemText?e.itemText(W(t)):null}return m.when(i(n)||n).then(function(e){return e&&!t.isString(e)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e})}function W(e){if(!e)return n;var t={};return xe.itemName&&(t[xe.itemName]=e),t}function Y(){return e.autoselect?0:-1}function X(e){xe.loading!=e&&(xe.loading=e),xe.hidden=K()}function K(){return!Z()||!ee()}function Z(){return!(xe.loading&&!te())&&(!ne()&&!!Te)}function J(){return Q("blur")||!xe.hidden||xe.loading||Q("clear")&&e.searchText}function Q(t){return!e.escapeOptions||e.escapeOptions.toLowerCase().indexOf(t)!==-1}function ee(){return oe()&&te()||ve()}function te(){return!!xe.matches.length}function ne(){return!!xe.scope.selectedItem}function ie(){return xe.loading&&!ne()}function re(){return G(xe.matches[xe.index])}function oe(){return(e.searchText||"").length>=V()}function ae(e,t,n){Object.defineProperty(xe,e,{get:function(){return n},set:function(e){var i=n;n=e,t(e,i)}})}function se(t){l.nextTick(function(){G(xe.matches[t]).then(function(e){var t=Ce.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=xe.matches[t],X(!1)})},!1)}function le(){ce(),ue()}function ce(){xe.index=0,xe.matches=[]}function ue(){X(!0),e.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),Ce.input.dispatchEvent(t),Ce.input.blur(),e.searchText="",Ce.input.focus()}function de(n){function i(t){t&&(t=m.when(t),Oe++,X(!0),l.nextTick(function(){t.then(r)["finally"](function(){0===--Oe&&X(!1)})},!0,e))}function r(t){Se[a]=t,(n||"")===(e.searchText||"")&&be(t)}var o=e.$parent.$eval(ke),a=n.toLowerCase(),s=t.isArray(o),c=!!o.then;s?r(o):c&&i(o)}function he(e,t){var n=e?"polite":"assertive",i=[];t&Ie.Selected&&xe.index!==-1&&i.push(re()),t&Ie.Count&&i.push(m.resolve(fe())),m.all(i).then(function(e){v.announce(e.join(" "),n)})}function fe(){switch(xe.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+xe.matches.length+" matches available."}}function pe(){if(Ce.li[0]){var e=Ce.li[0].offsetHeight,t=e*xe.index,n=t+e,i=Ce.scroller.clientHeight,r=Ce.scroller.scrollTop;t<r?ge(t):n>r+i&&ge(n-i)}}function me(){return 0!==Oe}function ge(e){Ce.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function ve(){var e=(xe.scope.searchText||"").length;return xe.hasNotFound&&!te()&&(!xe.loading||me())&&e>=V()&&(Te||Me)&&!ne()}function ye(){var t=e.searchText||"",n=t.toLowerCase();!e.noCache&&Se[n]?be(Se[n]):de(t),xe.hidden=K()}function be(t){xe.matches=t,xe.hidden=K(),xe.loading&&X(!1),e.selectOnMatch&&_e(),_(),he(!0,Ie.Count)}function _e(){var t=e.searchText,n=xe.matches,i=n[0];1===n.length&&G(i).then(function(n){var i=t==n;e.matchInsensitive&&!i&&(i=t.toLowerCase()==n.toLowerCase()),i&&se(0)})}function we(t,n){p[t]&&e.$parent.$eval(p[t],n||{})}var xe=this,Ee=e.itemsExpr.split(/ in /i),ke=Ee[1],Ce=null,Se={},Me=!1,Ae=[],Te=!1,Oe=0,Pe=null,$e=null,Le=l.debounce(C);ae("hidden",T,!0),xe.scope=e,xe.parent=e.$parent,xe.itemName=Ee[0],xe.matches=[],xe.loading=!1,xe.hidden=!0,xe.index=null,xe.id=l.nextUid(),xe.isDisabled=null,xe.isRequired=null,xe.isReadonly=null,xe.hasNotFound=!1,xe.keydown=q,xe.blur=B,xe.focus=U,xe.clear=le,xe.select=se,xe.listEnter=P,xe.listLeave=$,xe.mouseUp=L,xe.getCurrentDisplayValue=re,xe.registerSelectedItemWatcher=z,xe.unregisterSelectedItemWatcher=j,xe.notFoundVisible=ve,xe.loadingIsVisible=ie,xe.positionDropdown=_;var Ie={Count:1,Selected:2};return y()}e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var i=48,r=5,o=8,a=2}(),function(){function e(e){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(e,n){var i=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],r=e.find("input");return i.forEach(function(e){var t=n[n.$normalize(e)];null!==t&&r.attr(e,t)}),function(e,n,i,r){r.hasNotFound=!!n.attr("md-has-not-found"),t.isDefined(i.mdClearButton)||e.floatingLabel||(e.clearButton=!0)}},template:function(t,n){function i(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function r(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function o(){return n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=u?'tabindex="'+u+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+c+"</div>            </md-input-container>":'            <input type="search"                '+(null!=u?'tabindex="'+u+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}function a(){return'<button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+e.mdClose+'"></md-icon></button>'}var s=r(),l=i(),c=t.html(),u=n.tabindex;return s&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+o()+"          "+a()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+l+"                  </li>"+s+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,i){return function(e,n,r){function o(n,i){l[i]=e[n],e.$watch(n,function(e){t.nextTick(function(){l[i]=e})})}function a(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||l.$digest(),t=n=!1}))}),l.$watch(function(){n=!0})}var s=e.$mdAutocompleteCtrl,l=s.parent.$new(),c=s.itemName;o("$index","$index"),o("item",c),a(),i(l,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e)}(),function(){function e(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}e.$inject=["$scope","$element","$attrs"],t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.prototype.init=function(e,t){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:e(n),contentText:t(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},e.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},e.prototype.applyRegex=function(e){var n=this.resolveTokens(e);this.$element.empty(),n.forEach(function(e){if(e.isMatch){var n=t.element('<span class="highlight">').text(e.text);this.$element.append(n)}else this.$element.append(document.createTextNode(e))}.bind(this))},e.prototype.resolveTokens=function(e){function t(t,i){var r=e.slice(t,i);r&&n.push(r)}var n=[],i=0;return e.replace(this.regex,function(e,r){t(i,r),n.push({text:e,isMatch:!0}),i=r+e.length}),t(i),n},e.prototype.createRegex=function(e,t){var n="",i="",r=this.sanitizeRegex(e);return t.indexOf("^")>=0&&(n="^"),t.indexOf("$")>=0&&(i="$"),new RegExp(n+r+i,t.replace(/[$\^]/g,""))},e.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var r=t(i.mdHighlightText),o=e(n.html());return function(e,t,n,i){i.init(r,o)}}}}e.$inject=["$interpolate","$parse"],t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function i(e,t,i,r,o){this.$scope=e,this.$element=t,this.$mdConstant=i,this.$timeout=r,this.$mdUtil=o,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}i.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],t.module("material.components.chips").controller("MdChipCtrl",i),i.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},i.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return t.element(e[0])},i.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])},i.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},i.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex(),t=this.getContentElement().text();t?(this.parentController.updateChipContents(e,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},i.prototype.selectNodeContents=function(t){var n,i;document.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(t),n.select()):e.getSelection&&(i=e.getSelection(),n=document.createRange(),n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n))},i.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),
this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},i.prototype.chipKeyDown=function(e){this.isEditting||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},i.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function e(e,i,r,o){function a(n,i,a,l){var c=l.shift(),u=l.shift(),d=t.element(i[0].querySelector(".md-chip-content"));e(i),c&&(u.init(c),d.append(r(s)(n)),d.on("blur",function(){c.resetSelectedChip(),c.$scope.$applyAsync()})),o(function(){c&&c.shouldFocusLastChip&&c.focusLastChipThenInput()})}var s=i.processTemplate(n);return{restrict:"E",require:["^?mdChips","mdChip"],link:a,controller:"MdChipCtrl"}}e.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function e(e){function t(t,n,i,r){n.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}e.$inject=["$timeout"],t.module("material.components.chips").directive("mdChipRemove",e)}(),function(){function e(e){function t(t,n,i){var r=t.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$index=t.$index,o.$mdChipsCtrl=r;var a=r.$scope.$eval(i.mdChipTransclude);n.html(a),e(n.contents())(o)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}e.$inject=["$compile"],t.module("material.components.chips").directive("mdChipTransclude",e)}(),function(){function e(e,t,i,r,o,a,s){this.$timeout=a,this.$mdConstant=i,this.$scope=e,this.parent=e.$parent,this.$mdUtil=s,this.$log=r,this.$element=o,this.$attrs=t,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(t.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(t.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=n,this.init()}e.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var n=300;t.module("material.components.chips").controller("MdChipsCtrl",e),e.prototype.init=function(){var e=this;e.wrapperId="_md-chips-wrapper-"+e.$mdUtil.nextUid(),e.$scope.$watchCollection("$mdChipsCtrl.items",function(){e.setupInputAria(),e.setupWrapperAria()}),e.$attrs.$observe("mdChipAppendDelay",function(t){e.chipAppendDelay=parseInt(t)||n})},e.prototype.setupInputAria=function(){var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0))},e.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" "))):(t.removeAttr("role"),t.removeAttr("aria-owns"))},e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),this.separatorKeys.indexOf(e.keyCode)!==-1){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},e.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},e.prototype.updateChipContents=function(e,t){e>=0&&e<this.items.length&&(this.items[e]=t,this.ngModelCtrl.$setDirty())},e.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},e.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(e){var t=this,n=t.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]');t.removeChip(e),t.$timeout(function(){t.$timeout(function(){t.selectAndFocusChipSafe(n)})})},e.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var i=this.items.some(function(n){return t.equals(e,n)});if(i)return}if(!(null==e||this.items.indexOf(e)+1)){var r=this.items.push(e),o=r-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:o})}},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return t.isString(e)?e:""},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},e.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);this.ngModelCtrl.$setDirty(),this.validateModel(),t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||e===-1)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},e.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},e.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),e!=-1&&this.focusChip(e)},e.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this,o=function(e,n){i.$evalAsync(t.bind(r,n,e))};e.attr({tabindex:0}).on("keydown",function(e){o(e,r.inputKeydown)}).on("focus",function(e){o(e,r.onInputFocus)}).on("blur",function(e){o(e,r.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},e.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){function e(e,t,a,s,l,c){function u(n,i){function r(e){if(i.ngModel){var t=o[0].querySelector(e);return t&&t.outerHTML}}var o=i.$mdUserTemplate;i.$mdUserTemplate=null;var u=r("md-chips>md-chip-template"),d=t.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","),f=r(d)||h.remove,p=u||h["default"],m=r("md-chips>md-autocomplete")||r("md-chips>input")||h.input,g=o.find("md-chip");return o[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,r,o,s){t.initOptionalProperties(n,i),e(r);var d=s[0];if(u&&(d.enableChipEdit=!1),d.chipContentsTemplate=p,d.chipRemoveTemplate=f,d.chipInputTemplate=m,d.mdCloseIcon=c.mdClose,r.attr({tabindex:-1}).on("focus",function(){d.onFocus()}),i.ngModel&&(d.configureNgModel(r.controller("ngModel")),o.mdTransformChip&&d.useTransformChipExpression(),o.mdOnAppend&&d.useOnAppendExpression(),o.mdOnAdd&&d.useOnAddExpression(),o.mdOnRemove&&d.useOnRemoveExpression(),o.mdOnSelect&&d.useOnSelectExpression(),m!=h.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){if(0===m.indexOf("<md-autocomplete")){var e=r.find("md-autocomplete");d.configureAutocomplete(e.controller("mdAutocomplete"))}d.configureUserInput(r.find("input"))})}),t.nextTick(function(){var e=r.find("input");e&&e.toggleClass("md-input",!0)})),g.length>0){var v=a(g.clone())(n.$parent);l(function(){r.find("md-chips-wrap").prepend(v)})}}}function d(){return{chips:t.processTemplate(n),input:t.processTemplate(i),"default":t.processTemplate(r),remove:t.processTemplate(o)}}var h=d();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),h.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:u,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',i='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){return this.contactQuery({$query:e})},e.prototype.itemName=function(e){return e[this.contactName]}}(),function(){function e(e,t){function i(n,i){return function(n,r,o,a){var s=a;t.initOptionalProperties(n,i),e(r),r.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",function(e){s.chipAppendDelay=e})}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:i,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil"],t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){!function(){function e(){return{template:function(e,t){var n=t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"',i='<div ng-switch="calendarCtrl.currentView" '+n+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return i},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o.configureNgModel(r)}}}function n(e,n,i,o,a,s,l,c,u){s(e),this.$element=e,this.$scope=n,this.dateUtil=i,this.$mdUtil=o,this.keyCode=a.KEY_CODE,this.$$rAF=l,this.$mdDateLocale=u,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=r++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||e.attr("tabindex","-1");var d,h=t.bind(this,this.handleKeyEvent);d=e.parent().hasClass("md-datepicker-calendar")?t.element(document.body):e,d.on("keydown",h),n.$on("$destroy",function(){d.off("keydown",h)}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}n.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendar",e);var i=340,r=0;n.prototype.$onInit=function(){this.currentView=this._currentView||"month";var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},n.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},n.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},n.prototype.setCurrentView=function(e,n){var i=this;i.$mdUtil.nextTick(function(){i.currentView=e,n&&(i.displayDate=t.isDate(n)?n:new Date(n))})},n.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector(".md-focus");t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=e)}else{var r=this.$element[0].querySelector("[ng-switch]");r&&r.focus()}},n.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());var n=t.getActionFromKeyEvent(e);n&&(e.preventDefault(),e.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",n))})},n.prototype.hideVerticalScrollbar=function(e){function t(){var t=n.width||i,r=n.scrollbarWidth,a=e.calendarScroller;o.style.width=t+"px",a.style.width=t+r+"px",a.style.paddingRight=r+"px"}var n=this,r=e.$element[0],o=r.querySelector(".md-calendar-scroll-mask");n.width>0?t():n.$$rAF(function(){var i=e.calendarScroller;n.scrollbarWidth=i.offsetWidth-i.clientWidth,n.width=r.querySelector("table").offsetWidth,t()})},n.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},n.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}()}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(r-i)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+i+'"><tr aria-hidden="true" style="height:'+i+'px;"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar","mdCalendarMonth"],controller:n,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o.initialize(r)}}}function n(e,t,n,i,r,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.dateLocale=o,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var e=r.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",r.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonth",e);var i=265,r=45;n.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},n.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},n.prototype.changeSelectedDate=function(e){var t=this,n=t.calendarCtrl,i=n.selectedDate;n.selectedDate=e,this.changeDisplayDate(e).then(function(){var t=n.SELECTED_DATE_CLASS,r="month";if(i){var o=document.getElementById(n.getDateId(i,r));o&&(o.classList.remove(t),o.setAttribute("aria-selected","false"))}if(e){var a=document.getElementById(n.getDateId(e,r));a&&(a.classList.add(t),a.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*i}return this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var r=document.createElement("th");r.textContent=t[(i+e)%7],n.appendChild(r)}this.$element.find("thead").append(n)},n.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeSelectedDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)n.setNgModelValue(i);else{var r=null,o=this.dateUtil;switch(t){case"move-right":r=o.incrementDays(i,1);break;case"move-left":r=o.incrementDays(i,-1);break;case"move-page-down":r=o.incrementMonths(i,1);break;case"move-page-up":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementDays(i,7);break;case"move-row-up":r=o.incrementDays(i,-7);break;case"start":r=o.getFirstDateOfMonth(i);break;case"end":r=o.getLastDateOfMonth(i)}r&&(r=this.dateUtil.clampDate(r,n.minDate,n.maxDate),this.changeDisplayDate(r).then(function(){n.focus(r)}))}}}()}(),function(){!function(){function e(e,i){var r=e('<md-icon md-svg-src="'+i.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,n,i,o){var a=o[0],s=o[1],l=o[2];l.calendarCtrl=a,l.monthCtrl=s,l.arrowIcon=r.cloneNode(!0),e.$watch(function(){return l.offset},function(e){t.isNumber(e)&&l.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}e.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonthBody",e),n.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),e){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),i.id=n.getDateId(e,"month"),i.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=r,i.appendChild(o),i.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=r}return i},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),i=this.getLocaleDay_(n),r=this.dateUtil.getNumberOfDaysInMonth(t),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),d=document.createElement("span");if(d.textContent=this.dateLocale.monthHeaderFormatter(t),u.appendChild(d),u.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?u.classList.add("md-calendar-month-label-disabled"):(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),u.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){u.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(u),o.insertBefore(h,s),l)return o}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var f=c;f<i;f++)s.appendChild(this.buildDateCell());for(var p=i,m=n,g=1;g<=r;g++){if(7===p){if(l)return o;p=0,a++,s=this.buildDateRow(a),o.appendChild(s)}m.setDate(g);var v=this.buildDateCell(m);s.appendChild(v),p++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var y=this.buildDateRow(),b=0;b<7;b++)y.appendChild(this.buildDateCell());o.appendChild(y)}return o},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function e(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+i+'"><tr aria-hidden="true" style="height:'+i+'px;"></tr></tbody></table></md-virtual-repeat-container></div>',
require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o.initialize(r)}}}function n(e,t,n,i,r){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var o=this;this.cellClickHandler=function(){o.calendarCtrl.setCurrentView("month",r.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],t.module("material.components.datepicker").directive("mdCalendarYear",e);var i=88;n.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},n.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},n.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*i}return this.$q.when()},n.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)this.changeDate(i).then(function(){n.setCurrentView("month",i),n.focus(i)});else{var r=null,o=this.dateUtil;switch(t){case"move-right":r=o.incrementMonths(i,1);break;case"move-left":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementMonths(i,6);break;case"move-row-up":r=o.incrementMonths(i,-6)}if(r){var a=n.minDate?o.getFirstDateOfMonth(n.minDate):null,s=n.maxDate?o.getFirstDateOfMonth(n.maxDate):null;r=o.getFirstDateOfMonth(this.dateUtil.clampDate(r,a,s)),this.changeDate(r).then(function(){n.focus(r)})}}},n.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(e,e.handleKeyEvent))}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:n,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,n,i,r){var o=r[0],a=r[1],s=r[2];s.calendarCtrl=o,s.yearCtrl=a,e.$watch(function(){return s.offset},function(e){t.isNumber(e)&&s.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarYearBody",e),n.prototype.generateContent=function(){var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,i=this.yearCtrl,r=this.buildBlankCell(),o=new Date(e,t,1);r.setAttribute("aria-label",this.dateLocale.monthFormatter(o)),r.id=n.getDateId(o,"year"),r.setAttribute("data-timestamp",o.getTime()),this.dateUtil.isSameMonthAndYear(o,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(o,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[t];if(this.dateUtil.isMonthWithinRange(o,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,r.appendChild(s),r.addEventListener("click",i.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(o,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=a;return r},n.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},n.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),i=document.createDocumentFragment(),r=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,r.appendChild(o),t=0;t<6;t++)r.appendChild(this.buildMonthCell(n,t));i.appendChild(r);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),t=6;t<12;t++)a.appendChild(this.buildMonthCell(n,t));return i.appendChild(a),i}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e,t){function n(e,n){if(!e)return"";var i=e.toLocaleTimeString(),r=e;return 0!==e.getHours()||i.indexOf("11:")===-1&&i.indexOf("23:")===-1||(r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),t("date")(r,"M/d/yyyy",n)}function i(e){return new Date(e)}function r(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function o(e){return g.shortMonths[e.getMonth()]+" "+e.getFullYear()}function a(e){return g.months[e.getMonth()]+" "+e.getFullYear()}function s(e){return"Week "+e}function l(e){return[g.days[e.getDay()],g.months[e.getMonth()],g.dates[e.getDate()],e.getFullYear()].join(" ")}for(var c=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),u=Array(32),d=1;d<=31;d++)u[d]=d;var h="Calendar",f="Open calendar",p=new Date(1880,0,1),m=new Date(p.getFullYear()+250,0,1),g={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||c,dates:this.dates||u,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||n,parseDate:this.parseDate||i,isDateComplete:this.isDateComplete||r,monthHeaderFormatter:this.monthHeaderFormatter||o,monthFormatter:this.monthFormatter||a,weekNumberFormatter:this.weekNumberFormatter||s,longDateFormatter:this.longDateFormatter||l,msgCalendar:this.msgCalendar||h,msgOpenCalendar:this.msgOpenCalendar||f,firstRenderableDate:this.firstRenderableDate||p,lastRenderableDate:this.lastRenderableDate||m};return g},t.prototype.$get.$inject=["$locale","$filter"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function i(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function r(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){return e.getDate()==t.getDate()&&o(e,t)}function s(e,t){var n=i(e);return o(n,t)}function l(e,t){var n=r(e);return o(t,n)}function c(e,t){return v((e.getTime()+t.getTime())/2)}function u(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function d(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function h(e,t){var i=new Date(e.getFullYear(),e.getMonth()+t,1),r=n(i);return r<e.getDate()?i.setDate(r):i.setDate(e.getDate()),i}function f(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function p(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function m(e){return e&&e.getTime&&!isNaN(e.getTime())}function g(e){m(e)&&e.setHours(0,0,0,0)}function v(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),g(n),n}function y(e,t,n){var i=v(e),r=m(t)?v(t):null,o=m(n)?v(n):null;return(!r||r<=i)&&(!o||o>=i)}function b(e,t){return h(e,12*t)}function _(e,t){return t.getFullYear()-e.getFullYear()}function w(e,t,n){var i=e;return t&&e<t&&(i=new Date(t.getTime())),n&&e>n&&(i=new Date(n.getTime())),i}function x(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))}function E(e,t,n){var i=e.getMonth(),r=e.getFullYear();return(!t||t.getFullYear()<r||t.getMonth()<=i)&&(!n||n.getFullYear()>r||n.getMonth()>=i)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:i,getDateInPreviousMonth:r,isInNextMonth:s,isInPreviousMonth:l,getDateMidpoint:c,isSameMonthAndYear:o,getWeekOfMonth:u,incrementDays:d,incrementMonths:h,getLastDateOfMonth:p,isSameDay:a,getMonthDistance:f,isValidDate:m,setDateTimeToMidnight:g,createDateAtMidnight:v,isDateWithinRange:y,incrementYears:b,getYearDistance:_,clampDate:w,getTimestampFromNode:x,isMonthWithinRange:E}})}()}(),function(){!function(){function n(e,n,r,o){return{template:function(t,n){var i=n.mdHideIcons,r=n.ariaLabel||n.mdPlaceholder,o="all"===i||"calendar"===i?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+e.mdCalendar+'"></md-icon></md-button>',a="";return"all"!==i&&"triangle"!==i&&(a='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(c)),o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+a+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:i,controllerAs:"ctrl",bindToController:!0,link:function(e,i,a,c){var u=c[0],d=c[1],h=c[2],f=c[3],p=n.parseAttributeBoolean(a.mdNoAsterisk);if(d.configureNgModel(u,h,o),h){var m=i[0].querySelector(".md-errors-spacer");m&&i.after(t.element("<div>").append(m)),h.setHasPlaceholder(a.mdPlaceholder),h.input=i,h.element.addClass(s).toggleClass(l,"calendar"!==a.mdHideIcons&&"all"!==a.mdHideIcons),h.label?p||a.$observe("required",function(e){h.label.toggleClass("md-required",!!e)}):r.expect(i,"aria-label",a.mdPlaceholder),e.$watch(h.isErrorGetter||function(){return u.$invalid&&(u.$touched||f&&f.$submitted)},h.setInvalid)}else if(f)var g=e.$watch(function(){return f.$submitted},function(e){e&&(d.updateErrorState(),g())})}}}function i(n,i,r,o,a,s,l,c,u,d,h){this.$window=o,this.dateUtil=u,this.$mdConstant=a,this.$mdUtil=l,this.$$rAF=d,this.$mdDateLocale=c,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=i[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=i[0].querySelector(".md-datepicker-input-container"),this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=i[0].querySelector(".md-datepicker-button"),this.inputMask=t.element(i[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=i,this.$attrs=r,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(i[0].disabled||t.isString(r.disabled)),this.isCalendarOpen=!1,this.openOnFocus=r.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+l.nextUid(),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowEventName=f.test(navigator.userAgent||navigator.vendor||e.opera)?"orientationchange":"resize",this.windowEventHandler=l.debounce(t.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=t.bind(this,this.handleWindowBlur),this.ngDateFilter=h("date"),this.leftMargin=20,this.topMargin=null,r.tabindex?(this.ngInputElement.attr("tabindex",r.tabindex),r.$set("tabindex",null)):r.$set("tabindex","-1"),r.$set("aria-owns",this.calendarPaneId),s(i),s(t.element(this.calendarPane));var p=this;n.$on("$destroy",function(){p.detachCalendarPane()}),r.mdIsOpen&&n.$watch("ctrl.isOpen",function(e){e?p.openCalendarPane({target:p.inputElement}):p.closeCalendarPane()}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}i.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],n.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],t.module("material.components.datepicker").directive("mdDatepicker",n);var r=3,o="md-datepicker-invalid",a="md-datepicker-open",s="_md-datepicker-floating-label",l="_md-datepicker-has-calendar-icon",c="_md-datepicker-has-triangle-icon",u=500,d=368,h=360,f=/ipad|iphone|ipod|android/i;i.prototype.$onInit=function(){this.locale=this.dateLocale?t.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},i.prototype.configureNgModel=function(e,n,i){this.ngModelCtrl=e,this.mdInputContainer=n,this.$attrs.$set("type","date"),i[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[e]);var r=this;r.ngModelCtrl.$formatters.push(function(e){if(e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof e);return r.onExternalChange(e),e}),e.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState));var o=r.$mdUtil.getModelOption(e,"updateOn");o&&this.ngInputElement.on(o,t.bind(this.$element,this.$element.triggerHandler,o))},i.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.setModelValue(n),e.onExternalChange(n),e.closeCalendarPane()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));var n=t.isDefined(this.debounceInterval)?this.debounceInterval:u;e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,n,e))},i.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==i.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",t.bind(e,e.openCalendarPane)),t.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){t.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},i.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},i.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},i.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var i=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=i)}if(this.dateUtil.isValidDate(this.maxDate)){var r=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=r)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);t.element(this.inputContainer).toggleClass(o,!this.ngModelCtrl.$valid)},i.prototype.clearErrorState=function(){this.inputContainer.classList.remove(o),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},i.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+r},i.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},i.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},i.prototype.attachCalendarPane=function(){var e=this.calendarPane,n=document.body;e.style.transform="",this.$element.addClass(a),this.mdInputContainer&&this.mdInputContainer.element.addClass(a),t.element(n).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),r=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var o=i.top-r.top-this.topMargin,s=i.left-r.left-this.leftMargin,l=r.top<0&&0==document.body.scrollTop?-r.top:document.body.scrollTop,c=r.left<0&&0==document.body.scrollLeft?-r.left:document.body.scrollLeft,u=l+this.$window.innerHeight,f=c+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),s+h>f){if(f-h>0)s=f-h;else{s=c;var p=this.$window.innerWidth/h;e.style.transform="scale("+p+")"}e.classList.add("md-datepicker-pos-adjusted")}o+d>u&&u-d>l&&(o=u-d,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=s+"px",e.style.top=o+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},i.prototype.detachCalendarPane=function(){this.$element.removeClass(a),this.mdInputContainer&&this.mdInputContainer.element.removeClass(a),t.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},i.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener(this.windowEventName,this.windowEventHandler)}},i.prototype.closeCalendarPane=function(){function t(){n.isCalendarOpen=n.isOpen=!1}if(this.isCalendarOpen){var n=this;n.detachCalendarPane(),n.ngModelCtrl.$setTouched(),n.evalAttr("ngBlur"),n.documentElement.off("click touchstart",n.bodyClickHandler),e.removeEventListener(n.windowEventName,n.windowEventHandler),n.calendarPaneOpenedFrom.focus(),n.calendarPaneOpenedFrom=null,n.openOnFocus?n.$mdUtil.nextTick(t):t()}},i.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},i.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},i.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},i.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}},i.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},i.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},i.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},i.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}()}(),function(){function e(e,t,n,i){function r(i,r,o){function a(){var e=r.parent();return!(!e.attr("aria-label")&&!e.text())||!(!e.parent().attr("aria-label")&&!e.parent().text())}function s(){o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&r.addClass("md-font "+o.mdFontIcon),r.addClass(u))}function l(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(r.removeClass(c),r.addClass(o.mdFontIcon),c=o.mdFontIcon);var t=e.fontSet(o.mdFontSet);u!==t&&(r.removeClass(u),r.addClass(t),u=t)}}t(r);var c=o.mdFontIcon,u=e.fontSet(o.mdFontSet);s(),o.$observe("mdFontIcon",l),o.$observe("mdFontSet",l);var d=(r[0].getAttribute(o.$attr.mdSvgSrc),o.alt||o.mdFontIcon||o.mdSvgIcon||r.text()),h=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");o["aria-label"]||(""===d||a()?r.text()||n.expect(r,"aria-hidden","true"):(n.expect(r,"aria-label",d),n.expect(r,"role","img"))),h&&o.$observe(h,function(t){r.empty(),t&&e(t).then(function(e){r.empty(),r.append(e)})})}return{restrict:"E",link:r}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",e])}(),function(){function n(){}function i(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function r(n,i,r,o,a,s){function l(e){if(e=e||"",t.isString(e)||(e=s.getTrustedUrl(e)),b[e])return r.when(u(b[e]));if(w.test(e)||x.test(e))return p(e).then(d(e));e.indexOf(":")==-1&&(e="$default:"+e);var i=n[e]?h:f;return i(e).then(d(e))}function c(e){var i=t.isUndefined(e)||!(e&&e.length);if(i)return n.defaultFontSet;var r=e;return t.forEach(n.fontSets,function(t){t.alias==e&&(r=t.fontSet||r)}),r}function u(e){var n=e.clone(),i="_cache"+a.nextUid();return n.id&&(n.id+=i),t.forEach(n.querySelectorAll("[id]"),function(e){e.id+=i}),n}function d(e){return function(t){return b[e]=m(t)?t:new g(t,n[e]),b[e].clone()}}function h(e){var t=n[e];return p(t.url).then(function(e){return new g(e,t)})}function f(e){function t(t){var n=e.slice(e.lastIndexOf(":")+1),r=t.querySelector("#"+n);return r?new g(r,s):i(e)}function i(e){var t="icon "+e+" not found";return o.warn(t),r.reject(t||e)}var a=e.substring(0,e.lastIndexOf(":"))||"$default",s=n[a];return s?p(s.url).then(t):i(e)}function p(n){function a(n){var i=x.exec(n),o=/base64/i.test(n),a=o?e.atob(i[2]):i[2];return r.when(t.element(a)[0])}function s(e){return r(function(n,r){var a=function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;o.warn(n),r(e)},s=function(i){_[e]||(_[e]=t.element("<div>").append(i)[0].querySelector("svg")),n(_[e])};i(e,!0).then(s,a)})}return x.test(n)?a(n):s(n)}function m(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function g(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function v(){var e=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}function y(){return this.element.cloneNode(!0)}var b={},_={},w=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,x=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return g.prototype={clone:y,prepare:v},l.fontSet=c,l}r.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",n);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};n.prototype={icon:function(e,t,n){return e.indexOf(":")==-1&&(e="$default:"+e),o[e]=new i(t,n),this},iconSet:function(e,t,n){return o[e]=new i(t,n),this},defaultIconSet:function(e,t){var n="$default";return o[n]||(o[n]=new i(e,t)),o[n].viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){return o.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return o.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,n,i,a){return r(o,e,t,n,i,a)}]}}(),function(){function e(e,i,r,o,a,s,l,c,u){var d,h,f=a.prefixer(),p=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(n,i){i=i||{},d=n,h=r[0].querySelector(f.buildSelector(["ng-click","ng-mouseenter"])),h.setAttribute("aria-expanded","false"),this.isInMenuBar=i.isInMenuBar,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){p.isOpen=!1,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)})}),a.nextTick(function(){p.onIsOpenChanged(p.isOpen)});var s="menu_container_"+a.nextUid();d.attr("id",s),t.element(h).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",t.bind(this,function(){this.disableHoverListener(),e.destroy()})),d.on("$destroy",function(){e.destroy()})};var m,g,v=[];this.enableHoverListener=function(){v.push(l.$on("$mdMenuOpen",function(e,t){d[0].contains(t[0])&&(p.currentlyOpenMenu=t.controller("mdMenu"),p.isAlreadyOpening=!1,p.currentlyOpenMenu.registerContainerProxy(p.triggerContainerProxy.bind(p)))})),v.push(l.$on("$mdMenuClose",function(e,t){d[0].contains(t[0])&&(p.currentlyOpenMenu=n)})),g=t.element(a.nodesToArray(d[0].children[0].children)),g.on("mouseenter",p.handleMenuItemHover),g.on("mouseleave",p.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",p.handleMenuItemHover),g&&g.off("mouseleave",p.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!p.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");m=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),p.currentlyOpenMenu&&p.currentlyOpenMenu!=n){var e=p.nestLevel+1;p.currentlyOpenMenu.close(!0,{closeTo:e}),p.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(p.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var i=e.currentTarget.querySelector(".md-button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){m&&(s.cancel(m),m=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),p.isOpen||(p.enableHoverListener(),p.isOpen=!0,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)}),h=h||(t?t.target:r[0]),h.setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",r),e.show({scope:o,mdMenuCtrl:p,nestLevel:p.nestLevel,element:d,target:h,preserveElement:!0,parent:"body"})["finally"](function(){h.setAttribute("aria-expanded","false"),p.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(d.attr("aria-hidden","false"),r[0].classList.add("md-open"),t.forEach(p.nestedMenus,function(e){e.classList.remove("md-open")})):(d.attr("aria-hidden","true"),r[0].classList.remove("md-open")),o.$mdMenuIsOpen=p.isOpen},this.focusMenuContainer=function(){var e=d[0].querySelector(f.buildSelector(["md-menu-focus-target","md-autofocus"]));e||(e=d[0].querySelector(".md-button:not([disabled])")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return p.isOpen?e.destroy():c.when(!1)},this.close=function(n,i){if(p.isOpen){p.isOpen=!1,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)});var s=t.extend({},i,{skipFocus:n});if(o.$emit("$mdMenuClose",r,s),e.hide(null,i),!n){var l=p.restoreFocusTo||r.find("button")[0];l instanceof t.element&&(l=l[0]),l&&l.focus()}}},this.positionMode=function(){var e=(i.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=t.bind(this,function(){return u.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],t.module("material.components.menu").controller("mdMenuCtrl",e)}(),function(){function e(e){function n(n){n.addClass("md-menu");var o=n.children()[0],a=n.children()[1],s=e.prefixer();s.hasAttribute(o,"ng-click")||(o=o.querySelector(s.buildSelector(["ng-click","ng-mouseenter"]))||o);var l="MD-BUTTON"===o.nodeName||"BUTTON"===o.nodeName;
if(o&&l&&!o.hasAttribute("type")&&o.setAttribute("type","button"),!o)throw Error(r+"Expected the menu to have a trigger element.");if(!a||"MD-MENU-CONTENT"!==a.nodeName)throw Error(r+"Expected the menu to contain a `md-menu-content` element.");o&&o.setAttribute("aria-haspopup","true");var c=n[0].querySelectorAll("md-menu"),u=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return c&&t.forEach(e.nodesToArray(c),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",u+1)}),i}function i(e,n,i,r){var o=r[0],a=!!r[1],s=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),l=n.children()[1];n.addClass("_md"),l.hasAttribute("role")||l.setAttribute("role","menu"),s.append(l),n.on("$destroy",function(){s.remove()}),n.append(s),s[0].style.display="none",o.init(s,{isInMenuBar:a})}var r="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:n}}e.$inject=["$mdUtil"],t.module("material.components.menu").directive("mdMenu",e)}(),function(){function e(e){function i(e,i,a,s,l,c,u,d,h,f){function p(n,i,r){return r.nestLevel?t.noop:(r.disableParentScroll&&!e.getClosest(r.target,"MD-DIALOG")?r.restoreScroll=e.disableScrollAround(r.element,r.parent):r.disableParentScroll=!1,r.hasBackdrop&&(r.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),h.enter(r.backdrop,s[0].body)),function(){r.backdrop&&r.backdrop.remove(),r.disableParentScroll&&r.restoreScroll()})}function m(e,t,n){function i(){return d(t,{addClass:"md-leave"}).start()}function r(){t.removeClass("md-active"),b(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),t.removeClass("md-clickable"),n.$destroy===!0?r():i().then(r)}function g(n,r,o){function s(){return o.parent.append(r),r[0].style.display="",c(function(e){var t=_(r,o);r.removeClass("md-leave"),d(r,{addClass:"md-active",from:x.toCss(t),to:x.toCss({transform:""})}).start().then(e)})}function h(){if(!o.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(o,{alreadyOpen:!1,isRemoved:!1,target:t.element(o.target),parent:t.element(o.parent),menuContentEl:t.element(r[0].querySelector("md-menu-content"))})}function m(){var e=function(e,t){return u.throttle(function(){if(!o.isRemoved){var n=_(e,t);e.css(x.toCss(n))}})}(r,o);return l.addEventListener("resize",e),l.addEventListener("orientationchange",e),function(){l.removeEventListener("resize",e),l.removeEventListener("orientationchange",e)}}function g(){return o.backdrop?(o.backdrop.on("click",y),function(){o.backdrop.off("click",y)}):t.noop}function y(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}function b(){function i(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:v(t,o.menuContentEl,o,-1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:v(t,o.menuContentEl,o,1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var i=e.getClosest(t.target,"MD-MENU");i&&i!=o.parent[0]?t.target.click():o.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function r(t){function i(){n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}function r(e,t){if(!e)return!1;for(var n,i=0;n=t[i];++i)if(w.hasAttribute(e,n))return!0;return!1}var a=t.target;do{if(a==o.menuContentEl[0])return;if((r(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!r(a,["md-prevent-menu-close"])){var s=e.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||s&&s!=o.parent[0]||i();break}}while(a=a.parentNode)}if(!o.menuContentEl[0])return t.noop;o.menuContentEl.on("keydown",i),o.menuContentEl[0].addEventListener("click",r,!0);var s=o.menuContentEl[0].querySelector(w.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!s)for(var l=o.menuContentEl[0].children.length,c=0;c<l;c++){var u=o.menuContentEl[0].children[c];if(s=u.querySelector(".md-button:not([disabled])"))break;if(u.firstElementChild&&!u.firstElementChild.disabled){s=u.firstElementChild;break}}return s&&s.focus(),function(){o.menuContentEl.off("keydown",i),o.menuContentEl[0].removeEventListener("click",r,!0)}}return h(o),o.menuContentEl[0]?i.inherit(o.menuContentEl,o.target):f.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",r),o.cleanupResizing=m(),o.hideBackdrop=p(n,r,o),s().then(function(e){return o.alreadyOpen=!0,o.cleanupInteraction=b(),o.cleanupBackdrop=g(),r.addClass("md-clickable"),e})}function v(t,n,i,r){for(var o,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(a),c=l+r;c>=0&&c<s.length;c+=r){var u=s[c].querySelector(".md-button");if(o=y(u))break}return o}function y(e){if(e&&e.getAttribute("tabindex")!=-1)return e.focus(),s[0].activeElement==e}function b(e,t){t.preserveElement?r(e).style.display="none":r(e).parentNode===r(t.parent)&&r(t.parent).removeChild(r(e))}function _(t,i){function r(e){e.top=Math.max(Math.min(e.top,y.bottom-u.offsetHeight),y.top),e.left=Math.max(Math.min(e.left,y.right-u.offsetWidth),y.left)}function a(){for(var e=0;e<d.children.length;++e)if("none"!=l.getComputedStyle(d.children[e]).display)return d.children[e]}var c,u=t[0],d=t[0].firstElementChild,h=d.getBoundingClientRect(),f=s[0].body,p=f.getBoundingClientRect(),m=l.getComputedStyle(d),g=i.target[0].querySelector(w.buildSelector("md-menu-origin"))||i.target[0],v=g.getBoundingClientRect(),y={left:p.left+o,top:Math.max(p.top,0)+o,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-o,right:p.right-o},b={top:0,left:0,right:0,bottom:0},_={top:0,left:0,right:0,bottom:0},x=i.mdMenuCtrl.positionMode();"target"!=x.top&&"target"!=x.left&&"target-right"!=x.left||(c=a(),c&&(c=c.firstElementChild||c,c=c.querySelector(w.buildSelector("md-menu-align-target"))||c,b=c.getBoundingClientRect(),_={top:parseFloat(u.style.top||0),left:parseFloat(u.style.left||0)}));var E={},k="top ";switch(x.top){case"target":E.top=_.top+v.top-b.top;break;case"cascade":E.top=v.top-parseFloat(m.paddingTop)-g.style.top;break;case"bottom":E.top=v.top+v.height;break;default:throw new Error('Invalid target mode "'+x.top+'" specified for md-menu on Y axis.')}var C="rtl"==e.bidi();switch(x.left){case"target":E.left=_.left+v.left-b.left,k+=C?"right":"left";break;case"target-left":E.left=v.left,k+="left";break;case"target-right":E.left=v.right-h.width+(h.right-b.right),k+="right";break;case"cascade":var S=C?v.left-h.width<y.left:v.right+h.width<y.right;E.left=S?v.right-g.style.left:v.left-g.style.left-h.width,k+=S?"left":"right";break;case"right":C?(E.left=v.right-v.width,k+="left"):(E.left=v.right-h.width,k+="right");break;case"left":C?(E.left=v.right-h.width,k+="right"):(E.left=v.left,k+="left");break;default:throw new Error('Invalid target mode "'+x.left+'" specified for md-menu on X axis.')}var M=i.mdMenuCtrl.offsets();E.top+=M.top,E.left+=M.left,r(E);var A=Math.round(100*Math.min(v.width/u.offsetWidth,1))/100,T=Math.round(100*Math.min(v.height/u.offsetHeight,1))/100;return{top:Math.round(E.top),left:Math.round(E.left),transform:i.alreadyOpen?n:e.supplant("scale({0},{1})",[A,T]),transformOrigin:k}}var w=e.prefixer(),x=e.dom.animator;return{parent:"body",onShow:g,onRemove:m,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function r(e){return e instanceof t.element&&(e=e[0]),e}i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var o=8;return e("$mdMenu").setDefaults({methods:["target"],options:i})}e.$inject=["$$interimElementProvider"],t.module("material.components.menu").provider("$mdMenu",e)}(),function(){function e(e,n,r,o,a,s,l,c){this.$element=r,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=c;var u=this;t.forEach(i,function(e){u[e]=t.bind(u,u[e])})}e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],t.module("material.components.menuBar").controller("MenuBarController",e);var i=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,i=this.$scope,r=this,o=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){r.getMenus().indexOf(n[0])!=-1&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),r.currentlyOpenMenu=n.controller("mdMenu"),r.currentlyOpenMenu.registerContainerProxy(r.handleKeyDown),r.enableOpenOnHover())})),o.push(this.$rootScope.$on("$mdMenuClose",function(i,o,a){var s=r.getMenus();if(s.indexOf(o[0])!=-1&&(e[0].classList.remove("md-open"),o[0].classList.remove("md-open")),e[0].contains(o[0])){for(var l=o[0];l&&s.indexOf(l)==-1;)l=t.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),r.currentlyOpenMenu=n,r.disableOpenOnHover(),r.setKeyboardMode(!0))}})),i.$on("$destroy",function(){for(r.disableOpenOnHover();o.length;)o.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){t.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),t.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),i=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(i)},e.prototype.scheduleOpenMenu=function(e){var t=this,i=this.$timeout;e!=t.currentlyOpenMenu&&(i.cancel(t.pendingMenuOpen),t.pendingMenuOpen=i(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,r=i&&i.isOpen;this.setKeyboardMode(!0);var o,a,s;switch(e.keyCode){case n.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu(),o=!0;break;case n.UP_ARROW:i&&i.close(),o=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),r&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),r&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0}o&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();n==-1&&(n=this.getOpenMenuIndex());var i=!1;if(n==-1?(n=0,i=!0):(e<0&&n>0||e>0&&n<t.length-e)&&(n+=e,i=!0),i)return t[n].querySelector("button").focus(),t[n]},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},e.prototype.handleParentClick=function(e){var n=this.querySelector("md-menu.md-open");n&&!n.contains(e.target)&&t.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,r){return r.ariaRole||i[0].setAttribute("role","menubar"),t.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var i=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(i,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),i.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,i,r){t.addClass("_md"),n(e,t),r.init()}}}}e.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuBar",e)}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}e.$inject=["$scope","$element","$attrs"],t.module("material.components.menuBar").controller("MenuItemController",e),e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==s){var e=a.ngValue?o.$eval(a.ngValue):a.value;return r.$modelValue==e}return r.$modelValue}function n(e){e?c.off("click",u):c.on("click",u)}var i=this,r=this.ngModel,o=this.$scope,a=this.$attrs,s=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var l=this.iconEl,c=t.element(this.buttonEl),u=this.handleClick;a.$observe("disabled",n),n(a.disabled),r.$render=function(){i.clearNgAria(),e()?(l.style.display="",c.attr("aria-checked","true")):(l.style.display="none",c.attr("aria-checked","false"))},o.$$postDigest(r.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,i=this.ngModel,r=this.$attrs;"checkbox"==n?t=!i.$modelValue:"radio"==n&&(t=r.ngValue?this.$scope.$eval(r.ngValue):r.value),i.$setViewValue(t),i.$render()}}(),function(){function e(e,n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,r){function o(e,i,r){r=r||n,r instanceof t.element&&(r=r[0]),r.hasAttribute(e)||r.setAttribute(e,i)}function a(i){var r=e.prefixer(i);t.forEach(r,function(e){if(n[0].hasAttribute(e)){var t=n[0].getAttribute(e);u[0].setAttribute(e,t),n[0].removeAttribute(e)}})}var s=r.type,l="md-in-menu-bar";if("checkbox"!=s&&"radio"!=s||!n.hasClass(l))o("role","menuitem",n[0].querySelector("md-button, button, a"));else{var c=n[0].textContent,u=t.element('<md-button type="button"></md-button>'),d='<md-icon md-svg-src="'+i.mdChecked+'"></md-icon>';u.html(c),u.attr("tabindex","0"),n.html(""),n.append(t.element(d)),n.append(u),n.addClass("md-indent").removeClass(l),o("role","checkbox"==s?"menuitemcheckbox":"menuitemradio",u),a("ng-disabled")}return function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}}e.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(e,n,i,r,o,a){function s(a,s,b){function _(t,i,o,s,l,u){function p(e){A.attr("stroke-dashoffset",c(y,b,e,E)),A.attr("transform","rotate("+x+" "+y/2+" "+y/2+")")}var m=++$,g=r.now(),v=i-t,y=d(a.mdDiameter),b=h(y),_=o||n.easeFn,w=s||n.duration,x=-90*(l||0),E=u||100;i===t?p(i):k=f(function C(){var n=e.Math.max(0,e.Math.min(r.now()-g,w));p(_(n,t,v,w)),m===$&&n<w&&(k=f(C))})}function w(){_(T,O,n.easeFnIndeterminate,n.durationIndeterminate,P,75),P=++P%4}function x(){C||(C=o(w,n.durationIndeterminate,0,!1),w(),s.addClass(y).removeAttr("aria-valuenow"))}function E(){C&&(o.cancel(C),C=null,s.removeClass(y))}var k,C,S=s[0],M=t.element(S.querySelector("svg")),A=t.element(S.querySelector("path")),T=n.startIndeterminate,O=n.endIndeterminate,P=0,$=0;i(s),s.toggleClass(v,b.hasOwnProperty("disabled")),a.mdMode===g&&x(),a.$on("$destroy",function(){E(),k&&p(k)}),a.$watchGroup(["value","mdMode",function(){var e=S.disabled;return e===!0||e===!1?e:t.isDefined(s.attr("disabled"))}],function(e,t){var n=e[1],i=e[2],r=t[2];if(i!==r&&s.toggleClass(v,!!i),i)E();else if(n!==m&&n!==g&&(n=g,b.$set("mdMode",n)),n===g)x();else{var o=u(e[0]);E(),s.attr("aria-valuenow",o),_(u(t[0]),o)}}),a.$watch("mdDiameter",function(t){var n=d(t),i=h(n),r=u(a.value),o=n/2+"px",f={width:n+"px",height:n+"px"};M[0].setAttribute("viewBox","0 0 "+n+" "+n),M.css(f).css("transform-origin",o+" "+o+" "+o),s.css(f),A.attr("stroke-width",i),A.attr("stroke-linecap","square"),a.mdMode==g?(A.attr("d",l(n,i,!0)),A.attr("stroke-dasharray",(n-i)*e.Math.PI*.75),A.attr("stroke-dashoffset",c(n,i,1,75))):(A.attr("d",l(n,i,!1)),A.attr("stroke-dasharray",(n-i)*e.Math.PI),A.attr("stroke-dashoffset",c(n,i,0,100)),_(r,r))})}function l(e,t,n){var i=e/2,r=t/2,o=i+","+r,a=r+","+i,s=i-r;return"M"+o+"A"+s+","+s+" 0 1 1 "+a+(n?"":"A"+s+","+s+" 0 0 1 "+o)}function c(t,n,i,r){return(t-n)*e.Math.PI*(3*(r||100)/100-i/100)}function u(t){return e.Math.max(0,e.Math.min(t||0,100))}function d(e){var t=n.progressSize;if(e){var i=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(i=i/100*t),i}return t}function h(e){return n.strokeWidth/100*e}var f=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t.noop,p=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||t.noop,m="determinate",g="indeterminate",v="_md-progress-circular-disabled",y="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,n){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(n.mdMode)){var i=n.hasOwnProperty("value")?m:g;n.$set("mdMode",i)}else n.$set("mdMode",n.mdMode.trim());return s}}}e.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],t.module("material.components.progressCircular").directive("mdProgressCircular",e)}(),function(){function e(){function e(e,t,n,i){return n*e/i+t}function n(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(6*o*r+-15*r*r+10*o)}var i={progressSize:50,strokeWidth:10,duration:100,easeFn:e,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:e,materialEase:n}};return{configure:function(e){return i=t.extend(i,e||{})},$get:function(){return i}}}t.module("material.components.progressCircular").provider("$mdProgressCircular",e)}(),function(){function e(){function e(e,i,r,o){if(o){var a=o.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),l=n(i,"md-tab-label").remove(),c=o.insertTab({scope:e,parent:e.$parent,index:a,element:i,template:s.html(),label:l.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&o.select(c.getIndex(),!0)}),e.$watch("disabled",function(){o.refreshIndex()}),e.$watch(function(){return o.getTabElementIndex(i)},function(e){c.index=e,o.updateTabOrder()}),e.$on("$destroy",function(){o.removeTab(c)})}}function n(e,n){for(var i=e[0].children,r=0,o=i.length;r<o;r++){var a=i[r];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(i,r){var o=n(i,"md-tab-label"),a=n(i,"md-tab-body");if(0===o.length&&(o=t.element("<md-tab-label></md-tab-label>"),r.label?o.text(r.label):o.append(i.contents()),0===a.length)){var s=i.contents().detach();a=t.element("<md-tab-body></md-tab-body>"),a.append(s)}return i.append(o),a.html()&&i.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,i){i&&i.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var i=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){i(e,{$event:t})})})}}}}e.$inject=["$parse"],t.module("material.components.tabs").directive("mdTabScroll",e)}(),function(){function e(e,i,r,o,a,s,l,c,u,d,h){function f(){y("stretchTabs",w),X("focusIndex",M,he.selectedIndex||0),X("offsetLeft",S,0),X("hasContent",C,!1),X("maxTabWidth",E,J()),X("shouldPaginate",k,!1),b("noInkBar",R),b("dynamicHeight",z),b("noPagination"),b("swipeContent"),b("noDisconnect"),b("autoselect"),b("noSelectClick"),b("centerTabs",x,!1),b("enableDisconnect"),he.scope=e,he.parent=e.$parent,he.tabs=[],he.lastSelectedIndex=null,he.hasFocus=!1,he.styleTabItemFocus=!1,he.shouldCenterTabs=G(),he.tabContentPrefix="tab-content-",p()}function p(){he.selectedIndex=he.selectedIndex||0,m(),v(),g(),d(i),s.nextTick(function(){pe=B(),ae(),ne(),se(),he.tabs[he.selectedIndex]&&he.tabs[he.selectedIndex].scope.select(),ve=!0,K()})}function m(){var e=c.$mdTabsTemplate,n=t.element(i[0].querySelector("md-tab-data"));n.html(e),u(n.contents())(he.parent),delete c.$mdTabsTemplate}function g(){t.element(r).on("resize",N),e.$on("$destroy",_)}function v(){e.$watch("$mdTabsCtrl.selectedIndex",A)}function y(e,t){var n=c.$normalize("md-"+e);t&&X(e,t),c.$observe(n,function(t){he[e]=t})}function b(e,t){function n(t){he[e]="false"!==t}var i=c.$normalize("md-"+e);t&&X(e,t),c.hasOwnProperty(i)&&n(c[i]),c.$observe(i,n)}function _(){ge=!0,t.element(r).off("resize",N)}function w(e){var n=B();t.element(n.wrapper).toggleClass("md-stretch-tabs",V()),se()}function x(e){he.shouldCenterTabs=G()}function E(e,n){if(e!==n){var i=B();t.forEach(i.tabs,function(t){t.style.maxWidth=e+"px"}),s.nextTick(he.updateInkBarStyles)}}function k(e,t){e!==t&&(he.maxTabWidth=J(),he.shouldCenterTabs=G(),s.nextTick(function(){he.maxTabWidth=J(),ne(he.selectedIndex)}))}function C(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function S(n){var i=B(),r=he.shouldCenterTabs?"":"-"+n+"px";t.element(i.paging).css(o.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function M(e,t){e!==t&&B().tabs[e]&&(ne(),te())}function A(t,n){t!==n&&(he.selectedIndex=Y(t),he.lastSelectedIndex=n,he.updateInkBarStyles(),ae(),ne(t),e.$broadcast("$mdTabsChanged"),he.tabs[n]&&he.tabs[n].scope.deselect(),he.tabs[t]&&he.tabs[t].scope.select())}function T(e){var t=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function O(){O.watcher||(O.watcher=e.$watch(function(){s.nextTick(function(){O.watcher&&i.prop("offsetParent")&&(O.watcher(),O.watcher=null,N())},!1)}))}function P(e){switch(e.keyCode){case o.KEY_CODE.LEFT_ARROW:e.preventDefault(),ee(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:e.preventDefault(),ee(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:e.preventDefault(),fe||$(he.focusIndex)}}function $(e,t){fe||(he.focusIndex=he.selectedIndex=e),t&&he.noSelectClick||s.nextTick(function(){he.tabs[e].element.triggerHandler("click")},!1)}function L(e){he.shouldPaginate&&(e.preventDefault(),he.offsetLeft=ce(he.offsetLeft-e.wheelDelta))}function I(){var e,t,n=B(),i=n.canvas.clientWidth,r=i+he.offsetLeft;for(e=0;e<n.tabs.length&&(t=n.tabs[e],!(t.offsetLeft+t.offsetWidth>r));e++);i>t.offsetWidth?he.offsetLeft=ce(t.offsetLeft):he.offsetLeft=ce(t.offsetLeft+(t.offsetWidth-i+1))}function D(){var e,t,n=B();for(e=0;e<n.tabs.length&&(t=n.tabs[e],!(t.offsetLeft+t.offsetWidth>=he.offsetLeft));e++);n.canvas.clientWidth>t.offsetWidth?he.offsetLeft=ce(t.offsetLeft+t.offsetWidth-n.canvas.clientWidth):he.offsetLeft=ce(t.offsetLeft)}function N(){he.lastSelectedIndex=he.selectedIndex,he.offsetLeft=ce(he.offsetLeft),s.nextTick(function(){he.updateInkBarStyles(),K()})}function R(e){t.element(B().inkBar).toggleClass("ng-hide",e)}function z(e){i.toggleClass("md-dynamic-height",e)}function j(e){if(!ge){var t=he.selectedIndex,n=he.tabs.splice(e.getIndex(),1)[0];oe(),he.selectedIndex===t&&(n.scope.deselect(),he.tabs[he.selectedIndex]&&he.tabs[he.selectedIndex].scope.select()),s.nextTick(function(){K(),he.offsetLeft=ce(he.offsetLeft)})}}function F(e,n){var i=ve,r={getIndex:function(){return he.tabs.indexOf(o)},isActive:function(){return this.getIndex()===he.selectedIndex},isLeft:function(){return this.getIndex()<he.selectedIndex},isRight:function(){return this.getIndex()>he.selectedIndex},shouldRender:function(){return!he.noDisconnect||this.isActive()},hasFocus:function(){return he.styleTabItemFocus&&he.hasFocus&&this.getIndex()===he.focusIndex},id:s.nextUid(),hasContent:!(!e.template||!e.template.trim())},o=t.extend(r,e);return t.isDefined(n)?he.tabs.splice(n,0,o):he.tabs.push(o),ie(),re(),s.nextTick(function(){K(),de(o),i&&he.autoselect&&s.nextTick(function(){s.nextTick(function(){$(he.tabs.indexOf(o))})})}),o}function B(){var e={},t=i[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function H(){return he.offsetLeft>0}function U(){var e=B(),t=e.tabs[e.tabs.length-1];return t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+he.offsetLeft}function q(){var e=he.tabs[he.focusIndex];return e&&e.id?"tab-item-"+e.id:null}function V(){switch(he.stretchTabs){case"always":return!0;case"never":return!1;default:return!he.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}function G(){return he.centerTabs&&!he.shouldPaginate}function W(){if(he.noPagination||!ve)return!1;var e=i.prop("clientWidth");return t.forEach(B().dummies,function(t){e-=t.offsetWidth}),e<0}function Y(e){if(e===-1)return-1;var t,n,i=Math.max(he.tabs.length-e,e);for(t=0;t<=i;t++){if(n=he.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=he.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function X(e,t,n){Object.defineProperty(he,e,{get:function(){return n},set:function(e){var i=n;n=e,t&&t(e,i)}})}function K(){he.maxTabWidth=J(),he.shouldPaginate=W()}function Z(e){var n=0;return t.forEach(e,function(e){n+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(n)}function J(){return i.prop("clientWidth")}function Q(){var e=he.tabs[he.selectedIndex],t=he.tabs[he.focusIndex];he.tabs=he.tabs.sort(function(e,t){return e.index-t.index}),he.selectedIndex=he.tabs.indexOf(e),he.focusIndex=he.tabs.indexOf(t)}function ee(e,t){var n,i=t?"focusIndex":"selectedIndex",r=he[i];for(n=r+e;he.tabs[n]&&he.tabs[n].scope.disabled;n+=e);he.tabs[n]&&(he[i]=n)}function te(){he.styleTabItemFocus="keyboard"===h.getLastInteractionType(),B().dummies[he.focusIndex].focus()}function ne(e){var n=B();if(t.isNumber(e)||(e=he.focusIndex),n.tabs[e]&&!he.shouldCenterTabs){var i=n.tabs[e],r=i.offsetLeft,o=i.offsetWidth+r;he.offsetLeft=Math.max(he.offsetLeft,ce(o-n.canvas.clientWidth+64)),he.offsetLeft=Math.min(he.offsetLeft,ce(r))}}function ie(){me.forEach(function(e){s.nextTick(e)}),me=[]}function re(){for(var e=!1,t=0;t<he.tabs.length;t++)if(he.tabs[t].hasContent){e=!0;break}he.hasContent=e}function oe(){he.selectedIndex=Y(he.selectedIndex),he.focusIndex=Y(he.focusIndex)}function ae(){if(!he.dynamicHeight)return i.css("height","");if(!he.tabs.length)return me.push(ae);var e=B(),t=e.contents[he.selectedIndex],r=t?t.offsetHeight:0,o=e.wrapper.offsetHeight,a=r+o,c=i.prop("clientHeight");if(c!==a){"bottom"===i.attr("md-align-tabs")&&(c-=o,a-=o,i.attr("md-border-bottom")!==n&&++c),fe=!0;var u={height:c+"px"},d={height:a+"px"};i.css(u),l(i,{from:u,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),fe=!1})}}function se(){var e=B();if(!e.tabs[he.selectedIndex])return void t.element(e.inkBar).css({left:"auto",right:"auto"});if(!he.tabs.length)return me.push(he.updateInkBarStyles);if(!i.prop("offsetParent"))return O();var n=he.selectedIndex,r=e.paging.offsetWidth,o=e.tabs[n],a=o.offsetLeft,l=r-a-o.offsetWidth;if(he.shouldCenterTabs){var c=Z(e.tabs);r>c&&s.nextTick(se,!1)}le(),t.element(e.inkBar).css({left:a+"px",right:l+"px"})}function le(){var e=B(),n=he.selectedIndex,i=he.lastSelectedIndex,r=t.element(e.inkBar);t.isNumber(i)&&r.toggleClass("md-left",n<i).toggleClass("md-right",n>i)}function ce(e){var t=B();if(!t.tabs.length||!he.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return e=Math.max(0,e),e=Math.min(i-t.canvas.clientWidth,e)}function ue(e,n){var i=B(),r={colorElement:t.element(i.inkBar)};a.attach(e,n,r)}function de(e){if(e.hasContent){var n=i[0].querySelectorAll('[md-tab-id="'+e.id+'"]');t.element(n).attr("aria-controls",he.tabContentPrefix+e.id)}}var he=this,fe=!1,pe=B(),me=[],ge=!1,ve=!1;he.$onInit=f,he.updatePagination=s.debounce(K,100),he.redirectFocus=te,he.attachRipple=ue,he.insertTab=F,he.removeTab=j,he.select=$,he.scroll=L,he.nextPage=I,he.previousPage=D,he.keydown=P,he.canPageForward=U,he.canPageBack=H,he.refreshIndex=oe,he.incrementIndex=ee,he.getTabElementIndex=T,he.updateInkBarStyles=s.debounce(se,100),he.updateTabOrder=s.debounce(Q,100),he.getFocusedTabId=q,1===t.version.major&&t.version.minor<=4&&this.$onInit()}e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction"],t.module("material.components.tabs").controller("MdTabsController",e)}(),function(){function e(e){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,n){return n.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="{{$mdTabsCtrl.getFocusedTabId()}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>';
},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){return{require:"^?mdTabs",link:function(n,i,r,o){if(o){var a,s,l=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in t){var c={childList:!0,subtree:!0,characterData:!0};a=new MutationObserver(l),a.observe(i[0],c),s=a.disconnect.bind(a)}else{var u=e.debounce(l,15,null,!1);i.on("DOMSubtreeModified",u),s=i.off.bind(i,"DOMSubtreeModified",u)}n.$on("$destroy",function(){s()})}}}}e.$inject=["$mdUtil","$window"],t.module("material.components.tabs").directive("mdTabsDummyWrapper",e)}(),function(){function e(e,t){function n(n,i,r,o){function a(){n.$watch("connected",function(e){e===!1?s():l()}),n.$on("$destroy",l)}function s(){o.enableDisconnect&&t.disconnectScope(c)}function l(){o.enableDisconnect&&t.reconnectScope(c)}if(o){var c=o.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),e(i.contents())(c),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.tabs").directive("mdTabsTemplate",e)}(),function(){t.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
}()}(window,window.angular),window.ngMaterial={version:{full:"1.1.3"}},jQuery&&function(e){function t(t,n){var i=e('<div class="minicolors" />'),r=e.minicolors.defaults;t.data("minicolors-initialized")||(n=e.extend(!0,{},r,n),i.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity).toggleClass("minicolors-no-data-uris",n.dataUris!==!0),void 0!==n.position&&e.each(n.position.split(" "),function(){i.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",7).wrap(i).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-swatch").on("click",function(e){e.preventDefault(),t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),n.inline&&t.parent().addClass("minicolors-inline"),s(t,!1),t.data("minicolors-initialized",!0))}function n(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function i(e){var t=e.parent(),n=t.find(".minicolors-panel"),i=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(r(),t.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(e.get(0))}))}function r(){e(".minicolors-focus").each(function(){var t=e(this),n=t.find(".minicolors-input"),i=t.find(".minicolors-panel"),r=n.data("minicolors-settings");i.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(n.get(0)),t.removeClass("minicolors-focus")})})}function o(e,t,n){var i,r,o,s,l=e.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=e.find("[class$=-picker]"),d=e.offset().left,h=e.offset().top,f=Math.round(t.pageX-d),p=Math.round(t.pageY-h),m=n?c.animationSpeed:0;t.originalEvent.changedTouches&&(f=t.originalEvent.changedTouches[0].pageX-d,p=t.originalEvent.changedTouches[0].pageY-h),f<0&&(f=0),p<0&&(p=0),f>e.width()&&(f=e.width()),p>e.height()&&(p=e.height()),e.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(i=75-f,r=75-p,o=Math.sqrt(i*i+r*r),s=Math.atan2(r,i),s<0&&(s+=2*Math.PI),o>75&&(o=75,f=75-75*Math.cos(s),p=75-75*Math.sin(s)),f=Math.round(f),p=Math.round(p)),e.is(".minicolors-grid")?u.stop(!0).animate({top:p+"px",left:f+"px"},m,c.animationEasing,function(){a(l,e)}):u.stop(!0).animate({top:p+"px"},m,c.animationEasing,function(){a(l,e)})}function a(e,t){function n(e,t){var n,i;return e.length&&t?(n=e.offset().left,i=e.offset().top,{x:n-t.offset().left+e.outerWidth()/2,y:i-t.offset().top+e.outerHeight()/2}):null}var i,r,o,a,s,c,u,h=e.val(),p=e.attr("data-opacity"),m=e.parent(),v=e.data("minicolors-settings"),y=m.find(".minicolors-swatch"),b=m.find(".minicolors-grid"),_=m.find(".minicolors-slider"),w=m.find(".minicolors-opacity-slider"),x=b.find("[class$=-picker]"),E=_.find("[class$=-picker]"),k=w.find("[class$=-picker]"),C=n(x,b),S=n(E,_),M=n(k,w);if(t.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":a=b.width()/2-C.x,s=b.height()/2-C.y,c=Math.sqrt(a*a+s*s),u=Math.atan2(s,a),u<0&&(u+=2*Math.PI),c>75&&(c=75,C.x=69-75*Math.cos(u),C.y=69-75*Math.sin(u)),r=f(c/.75,0,100),i=f(180*u/Math.PI,0,360),o=f(100-Math.floor(S.y*(100/_.height())),0,100),h=g({h:i,s:r,b:o}),_.css("backgroundColor",g({h:i,s:r,b:100}));break;case"saturation":i=f(parseInt(C.x*(360/b.width()),10),0,360),r=f(100-Math.floor(S.y*(100/_.height())),0,100),o=f(100-Math.floor(C.y*(100/b.height())),0,100),h=g({h:i,s:r,b:o}),_.css("backgroundColor",g({h:i,s:100,b:o})),m.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":i=f(parseInt(C.x*(360/b.width()),10),0,360),r=f(100-Math.floor(C.y*(100/b.height())),0,100),o=f(100-Math.floor(S.y*(100/_.height())),0,100),h=g({h:i,s:r,b:o}),_.css("backgroundColor",g({h:i,s:r,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:i=f(360-parseInt(S.y*(360/_.height()),10),0,360),r=f(Math.floor(C.x*(100/b.width())),0,100),o=f(100-Math.floor(C.y*(100/b.height())),0,100),h=g({h:i,s:r,b:o}),b.css("backgroundColor",g({h:i,s:100,b:100}))}e.val(d(h,v.letterCase))}t.is(".minicolors-opacity-slider")&&(p=v.opacity?parseFloat(1-M.y/w.height()).toFixed(2):1,v.opacity&&e.attr("data-opacity",p)),y.find("SPAN").css({backgroundColor:h,opacity:p}),l(e,h,p)}function s(e,t){var n,i,r,o,a,s,c,u=e.parent(),p=e.data("minicolors-settings"),m=u.find(".minicolors-swatch"),y=u.find(".minicolors-grid"),b=u.find(".minicolors-slider"),_=u.find(".minicolors-opacity-slider"),w=y.find("[class$=-picker]"),x=b.find("[class$=-picker]"),E=_.find("[class$=-picker]");switch(n=d(h(e.val(),!0),p.letterCase),n||(n=d(h(p.defaultValue,!0),p.letterCase)),i=v(n),t||e.val(n),p.opacity&&(r=""===e.attr("data-opacity")?1:f(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),e.attr("data-opacity",r),m.find("SPAN").css("opacity",r),a=f(_.height()-_.height()*r,0,_.height()),E.css("top",a+"px")),m.find("SPAN").css("backgroundColor",n),p.control){case"wheel":s=f(Math.ceil(.75*i.s),0,y.height()/2),c=i.h*Math.PI/180,o=f(75-Math.cos(c)*s,0,y.width()),a=f(75-Math.sin(c)*s,0,y.height()),w.css({top:a+"px",left:o+"px"}),a=150-i.b/(100/y.height()),""===n&&(a=0),x.css("top",a+"px"),b.css("backgroundColor",g({h:i.h,s:i.s,b:100}));break;case"saturation":o=f(5*i.h/12,0,150),a=f(y.height()-Math.ceil(i.b/(100/y.height())),0,y.height()),w.css({top:a+"px",left:o+"px"}),a=f(b.height()-i.s*(b.height()/100),0,b.height()),x.css("top",a+"px"),b.css("backgroundColor",g({h:i.h,s:100,b:i.b})),u.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":o=f(5*i.h/12,0,150),a=f(y.height()-Math.ceil(i.s/(100/y.height())),0,y.height()),w.css({top:a+"px",left:o+"px"}),a=f(b.height()-i.b*(b.height()/100),0,b.height()),x.css("top",a+"px"),b.css("backgroundColor",g({h:i.h,s:i.s,b:100})),u.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:o=f(Math.ceil(i.s/(100/y.width())),0,y.width()),a=f(y.height()-Math.ceil(i.b/(100/y.height())),0,y.height()),w.css({top:a+"px",left:o+"px"}),a=f(b.height()-i.h/(360/b.height()),0,b.height()),x.css("top",a+"px"),y.css("backgroundColor",g({h:i.h,s:100,b:100}))}e.data("minicolors-initialized")&&l(e,n,r)}function l(e,t,n){var i=e.data("minicolors-settings"),r=e.data("minicolors-lastChange");r&&r.hex===t&&r.opacity===n||(e.data("minicolors-lastChange",{hex:t,opacity:n}),i.change&&(i.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){i.change.call(e.get(0),t,n)},i.changeDelay))):i.change.call(e.get(0),t,n)),e.trigger("change").trigger("input"))}function c(t){var n=h(e(t).val(),!0),i=b(n),r=e(t).attr("data-opacity");return i?(void 0!==r&&e.extend(i,{a:parseFloat(r)}),i):null}function u(t,n){var i=h(e(t).val(),!0),r=b(i),o=e(t).attr("data-opacity");return r?(void 0===o&&(o=1),n?"rgba("+r.r+", "+r.g+", "+r.b+", "+parseFloat(o)+")":"rgb("+r.r+", "+r.g+", "+r.b+")"):null}function d(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function h(e,t){return e=e.replace(/[^A-F0-9]/gi,""),3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e)}function f(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function p(e){var t={},n=Math.round(e.h),i=Math.round(255*e.s/100),r=Math.round(255*e.b/100);if(0===i)t.r=t.g=t.b=r;else{var o=r,a=(255-i)*r/255,s=(o-a)*(n%60)/60;360===n&&(n=0),n<60?(t.r=o,t.b=a,t.g=a+s):n<120?(t.g=o,t.b=a,t.r=o-s):n<180?(t.g=o,t.r=a,t.b=a+s):n<240?(t.b=o,t.r=a,t.g=o-s):n<300?(t.b=o,t.g=a,t.r=a+s):n<360?(t.r=o,t.g=a,t.b=o-s):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function m(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){1===t.length&&(n[e]="0"+t)}),"#"+n.join("")}function g(e){return m(p(e))}function v(e){var t=y(b(e));return 0===t.s&&(t.h=360),t}function y(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return t.b=i,t.s=0!==i?255*r/i:0,0!==t.s?e.r===i?t.h=(e.g-e.b)/r:e.g===i?t.h=2+(e.b-e.r)/r:t.h=4+(e.r-e.g)/r:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function b(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},e.extend(e.fn,{minicolors:function(o,a){switch(o){case"destroy":return e(this).each(function(){n(e(this))}),e(this);case"hide":return r(),e(this);case"opacity":return void 0===a?e(this).attr("data-opacity"):(e(this).each(function(){s(e(this).attr("data-opacity",a))}),e(this));case"rgbObject":return c(e(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return u(e(this),"rgbaString"===o);case"settings":return void 0===a?e(this).data("minicolors-settings"):(e(this).each(function(){var t=e(this).data("minicolors-settings")||{};n(e(this)),e(this).minicolors(e.extend(!0,t,a))}),e(this));case"show":return i(e(this).eq(0)),e(this);case"value":return void 0===a?e(this).val():(e(this).each(function(){s(e(this).val(a))}),e(this));default:return"create"!==o&&(a=o),e(this).each(function(){t(e(this),a)}),e(this)}}}),e(document).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||r()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var n=e(this);t.preventDefault(),e(document).data("minicolors-target",n),o(n,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var n=e(document).data("minicolors-target");n&&o(n,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var n=e(this).parent().find(".minicolors-input");t.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&i(t)}).on("blur.minicolors",".minicolors-input",function(){var t=e(this),n=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(h(t.val(),!0)),""===t.val()&&t.val(h(n.defaultValue,!0)),t.val(d(t.val(),n.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var n=e(this);if(n.data("minicolors-initialized"))switch(t.keyCode){case 9:r();break;case 13:case 27:r(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&s(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){s(t,!0)},1)})}(jQuery),function(e,t,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],i=c(n,t.noop);return i.chars(e),n.join("")}function o(e,n){var i,r={},o=e.split(",");for(i=0;i<o.length;i++)r[n?t.lowercase(o[i]):o[i]]=!0;return r}function a(e,n){function i(e,i,o,a){if(i=t.lowercase(i),C[i])for(;b.last()&&S[b.last()];)r("",b.last());k[i]&&b.last()==i&&r("",i),a=w[i]||!!a,a||b.push(i);var l={};o.replace(f,function(e,t,n,i,r){var o=n||i||r||"";l[t]=s(o)}),n.start&&n.start(i,l,a)}function r(e,i){var r,o=0;if(i=t.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,l,c,b=[],_=e;for(b.last=function(){return b[b.length-1]};e;){if(c="",a=!0,b.last()&&A[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),r("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),a=!1)):m.test(e)?(l=e.match(h),l&&(e=e.substring(l[0].length),l[0].replace(h,r),a=!1)):p.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,i)),a=!1):(c+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),c+=o<0?e:e.substring(0,o),e=o<0?"":e.substring(o),n.chars&&n.chars(s(c)))),e==_)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);_=e}r()}function s(e){return e?(I.innerHTML=e.replace(/</g,"&lt;"),I.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!i&&A[e]&&(i=e),i||T[e]!==!0||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;L[a]!==!0||O[a]===!0&&!n(i,s)||(r(" "),r(o),r('="'),r(l(i)),r('"'))}),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||T[e]!==!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(l(e))}}}var u=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,m=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^\#-~| |!])/g,w=o("area,br,col,hr,img,wbr"),x=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E=o("rp,rt"),k=t.extend({},E,x),C=t.extend({},x,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=t.extend({},E,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),M=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),A=o("script,style"),T=t.extend({},w,C,S,k,M),O=o("background,cite,href,longdesc,src,usemap,xlink:href"),P=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),$=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),L=t.extend({},O,$,P),I=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(o,a){function s(e){e&&f.push(r(e))}function l(e,n){f.push("<a "),t.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var c,u,d,h=o,f=[];c=h.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(h.substr(0,d)),l(u,c[0].replace(i,"")),h=h.substring(d+c[0].length);return s(h),e(f.join(""))}}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n,i=null,r=!1,o=!1;n={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=a(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=c(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=c(e,a)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=c(e,a)),e},sceParameters:function(e,t){return"params"===t&&(e=c(e,l)),e}},n.escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return r=!0,i=e,this},this.$get=["$injector","$log",function(a,s){var l={},c=function(e,t,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,t,i);else if(angular.isFunction(n[r]))e=n[r](e,t,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=a.get(n[r])}catch(o){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=l[n[r]](e,t,i)}}),e},u=function(){r||o||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return a.has("$sanitize")&&(e=a.get("$sanitize")),a.has("$sce")&&(t=a.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,n,r){if(i||u(),n||null===n||(n=i),!n)return e;r||(r="service");var o=angular.isArray(n)?n:[n];return c(e,t,r,o)}}}];var a=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},c=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var i=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,r){angular.isFunction(e)||(i[r]=c(e,t,n))}),n.splice(-1,1),i}return angular.isNumber(e)?e:angular.isUndefined(e)||null===e?e:t(e)}}function n(e,t,n,i){"use strict";var r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_={},w=[],x=e,E=[],k="translate-cloak",C=!1,S=!1,M=".",A=!1,T=!1,O=0,P=!0,$="default",L={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n[0].toLowerCase()}},I="2.15.1",D=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,r=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if(n=r.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=r[o[e]],n&&n.length)return n;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var N=function(){var e=D()||"";return L[$]&&(e=L[$](e)),e};N.displayName="angular-translate/service: getLocale";var R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},z=function(){return this.toString().replace(/^\s+|\s+$/g,"")},j=function(e){if(e){for(var t=[],n=angular.lowercase(e),i=0,r=w.length;i<r;i++)t.push(angular.lowercase(w[i]));if(R(t,n)>-1)return e;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(a=o[s],R(t,angular.lowercase(a))>-1))return a}}var u=e.split("_");return u.length>1&&R(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},F=function(e,t){if(!e&&!t)return _;if(e&&!t){if(angular.isString(e))return _[e]}else angular.isObject(_[e])||(_[e]={}),angular.extend(_[e],B(t));return this};this.translations=F,this.cloakClassName=function(e){return e?(k=e,this):k},this.nestedObjectDelimeter=function(e){return e?(M=e,this):M};var B=function(e,t,n,i){var r,o,a,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?B(s,t.concat(r),n,r):(o=t.length?""+t.join(M)+M+r:r,t.length&&r===i&&(a=""+t.join(M),n[a]="@:"+o),n[o]=s));return n};B.displayName="flatObject",this.addInterpolation=function(e){return E.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(H(e),this):r};var H=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return U(e),this};var U=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(r)&&R(a,r)<0&&a.push(r),this):s?a[0]:a};this.use=function(e){if(e){if(!_[e]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return N()};var q=function(e){return e?(x=e,this):d?d+x:x};this.storageKey=q,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return p=e,m=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return h=e,this},this.usePostCompiling=function(e){return C=!!e,this},this.forceAsyncReload=function(e){return S=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},$=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():N();return r=w.length?j(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(o=t),this):w},this.useLoaderCache=function(e){return e===!1?y=void 0:e===!0?y=!0:"undefined"==typeof e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?O:(O=e,this)},this.statefulFilter=function(e){return void 0===e?P:(P=e,this)},this.postProcess=function(e){return b=e?e:void 0,this},this.keepContent=function(e){return T=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var o,d,$,L=t.get(f||"$translateDefaultInterpolation"),D=!1,V={},G={},W=function(e,t,n,s,c){!l&&r&&(l=r);var h=c&&c!==l?j(c)||c:l;if(c&&ue(c),angular.isArray(e)){var f=function(e){for(var r={},o=[],a=function(e){var o=i.defer(),a=function(t){r[e]=t,o.resolve([e,t])};return W(e,t,n,s,c).then(a,a),o.promise},l=0,u=e.length;l<u;l++)o.push(a(e[l]));return i.all(o).then(function(){return r})};return f(e)}var p=i.defer();e&&(e=z.apply(e));var m=function(){var e=r?G[r]:G[h];if(d=0,u&&!e){var t=o.get(x);if(e=G[t],a&&a.length){var n=R(a,t);d=0===n?1:0,R(a,r)<0&&a.push(r)}}return e}();if(m){var g=function(){c||(h=l),ae(e,t,n,s,h).then(p.resolve,p.reject)};g.displayName="promiseResolved",m["finally"](g)["catch"](angular.noop)}else ae(e,t,n,s,h).then(p.resolve,p.reject);return p.promise},Y=function(e){return g&&(e=[g,e].join(" ")),v&&(e=[e,v].join(" ")),e},X=function(e){l=e,u&&o.put(W.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),L.setLocale(l);var t=function(e,t){V[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(V,t),n.$emit("$translateChangeEnd",{language:e})},K=function(e){if(!e)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:e}),D=!0;var o=y;"string"==typeof o&&(o=t.get(o));var a=angular.extend({},m,{key:e,$http:angular.extend({},{cache:o},m.$http)}),s=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,B(e))}):angular.extend(i,B(t)),D=!1,r.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(p)(a).then(s,l),r.promise};if(u&&(o=t.get(u),!o.get||!o.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(E.length){var Z=function(e){var n=t.get(e);n.setLocale(r||l),V[n.getInterpolationIdentifier()]=n};Z.displayName="interpolationFactoryAdder",angular.forEach(E,Z)}var J=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(_,e))t.resolve(_[e]);else if(G[e]){var n=function(e){F(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",G[e].then(n,t.reject)}else t.reject();return t.promise},Q=function(e,t,n,r,o){var a=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,t)&&null!==i[t]){r.setLocale(e);var s=i[t];if("@:"===s.substr(0,2))Q(e,s.substr(2),n,r,o).then(a.resolve,a.reject);else{var c=r.interpolate(i[t],n,"service",o,t);c=ce(t,i[t],c,n,e),a.resolve(c)}r.setLocale(l)}else a.reject()};return s.displayName="fallbackTranslationResolver",J(e).then(s,a.reject),a.promise},ee=function(e,t,n,i,r){var o,a=_[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)&&null!==a[t]){if(i.setLocale(e),o=i.interpolate(a[t],n,"filter",r,t),o=ce(t,a[t],o,n,e,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return ee(e,s.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return ee(e,o.substr(2),n,i,r);i.setLocale(l)}return o},te=function(e,n,i,r){return h?t.get(h)(e,l,n,i,r):e},ne=function(e,t,n,r,o,s){var l=i.defer();if(e<a.length){var c=a[e];Q(c,t,n,r,s).then(function(e){l.resolve(e)},function(){return ne(e+1,t,n,r,o,s).then(l.resolve,l.reject)})}else if(o)l.resolve(o);else{var u=te(t,n,o);h&&u?l.resolve(u):l.reject(Y(t))}return l.promise},ie=function(e,t,n,i,r){var o;if(e<a.length){var s=a[e];o=ee(s,t,n,i,r),o||""===o||(o=ie(e+1,t,n,i))}return o},re=function(e,t,n,i,r){return ne($>0?$:d,e,t,n,i,r)},oe=function(e,t,n,i){return ie($>0?$:d,e,t,n,i)},ae=function(e,t,n,r,o,s){var l=i.defer(),c=o?_[o]:_,u=n?V[n]:L;if(c&&Object.prototype.hasOwnProperty.call(c,e)&&null!==c[e]){var d=c[e];if("@:"===d.substr(0,2))W(d.substr(2),t,n,r,o).then(l.resolve,l.reject);else{var f=u.interpolate(d,t,"service",s,e);f=ce(e,d,f,t,o),l.resolve(f)}}else{var p;h&&!D&&(p=te(e,t,r)),o&&a&&a.length?re(e,t,u,r,s).then(function(e){l.resolve(e)},function(e){l.reject(Y(e))}):h&&!D&&p?r?l.resolve(r):l.resolve(p):r?l.resolve(r):l.reject(Y(e))}return l.promise},se=function(e,t,n,i,r){var o,s=i?_[i]:_,l=L;if(V&&Object.prototype.hasOwnProperty.call(V,n)&&(l=V[n]),s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]){var c=s[e];"@:"===c.substr(0,2)?o=se(c.substr(2),t,n,i,r):(o=l.interpolate(c,t,"filter",r,e),o=ce(e,c,o,t,i,r))}else{var u;h&&!D&&(u=te(e,t,r)),i&&a&&a.length?(d=0,o=oe(e,t,l,r)):o=h&&!D&&u?u:Y(e)}return o},le=function(e){c===e&&(c=void 0),G[e]=void 0},ce=function(e,n,i,r,o,a){var s=b;return s&&("string"==typeof s&&(s=t.get(s)),s)?s(e,n,i,r,o,a):i},ue=function(e){_[e]||!p||G[e]||(G[e]=K(e).then(function(e){return F(e.key,e.table),e}))};W.preferredLanguage=function(e){return e&&H(e),r},W.cloakClassName=function(){return k},W.nestedObjectDelimeter=function(){return M},W.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(U(e),p&&a&&a.length)for(var t=0,n=a.length;t<n;t++)G[a[t]]||(G[a[t]]=K(a[t]));W.use(W.use())}return s?a[0]:a},W.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=R(a,e);t>-1&&($=t)}else $=0},W.proposedLanguage=function(){return c},W.storage=function(){return o},W.negotiateLocale=j,W.use=function(e){if(!e)return l;var t=i.defer();t.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:e});var r=j(e);return w.length>0&&!r?i.reject(e):(r&&(e=r),c=e,!S&&_[e]||!p||G[e]?G[e]?G[e].then(function(e){return c===e.key&&X(e.key),t.resolve(e.key),e},function(e){return!l&&a&&a.length>0&&a[0]!==e?W.use(a[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),X(e)):(G[e]=K(e).then(function(n){return F(n.key,n.table),t.resolve(n.key),c===e&&X(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),G[e]["finally"](function(){le(e)})["catch"](angular.noop)),t.promise)},W.resolveClientLocale=function(){return N()},W.storageKey=function(){return q()},W.isPostCompilingEnabled=function(){return C},W.isForceAsyncReloadEnabled=function(){return S},W.isKeepContent=function(){return T},W.refresh=function(e){function t(e){var t=K(e);return G[e]=t,t.then(function(t){_[e]={},F(e,t.table),o[e]=!0},angular.noop),t}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:e});var r=i.defer(),o={};if(r.promise.then(function(){for(var e in _)_.hasOwnProperty(e)&&(e in o||delete _[e]);
l&&X(l)},angular.noop)["finally"](function(){n.$emit("$translateRefreshEnd",{language:e})}),e)_[e]?t(e).then(r.resolve,r.reject):r.reject();else{var s=a&&a.slice()||[];l&&s.indexOf(l)===-1&&s.push(l),i.all(s.map(t)).then(r.resolve,r.reject)}return r.promise},W.instant=function(e,t,n,i,o){var s=i&&i!==l?j(i)||i:l;if(null===e||angular.isUndefined(e))return e;if(i&&ue(i),angular.isArray(e)){for(var c={},u=0,d=e.length;u<d;u++)c[e[u]]=W.instant(e[u],t,n,i,o);return c}if(angular.isString(e)&&e.length<1)return e;e&&(e=z.apply(e));var f,p=[];r&&p.push(r),s&&p.push(s),a&&a.length&&(p=p.concat(a));for(var m=0,y=p.length;m<y;m++){var b=p[m];if(_[b]&&"undefined"!=typeof _[b][e]&&(f=se(e,t,n,s,o)),"undefined"!=typeof f)break}if(!f&&""!==f)if(g||v)f=Y(e);else{f=L.interpolate(e,t,"filter",o);var w;h&&!D&&(w=te(e,t,o)),h&&!D&&w&&(f=w)}return f},W.versionInfo=function(){return I},W.loaderCache=function(){return y},W.directivePriority=function(){return O},W.statefulFilter=function(){return P},W.isReady=function(){return A};var de=i.defer();de.promise.then(function(){A=!0}),W.onReady=function(e){var t=i.defer();return angular.isFunction(e)&&t.promise.then(e),A?t.resolve():de.promise.then(t.resolve),t.promise},W.getAvailableLanguageKeys=function(){return w.length>0?w:null},W.getTranslationTable=function(e){return e=e||W.use(),e&&_[e]?angular.copy(_[e]):null};var he=n.$on("$translateReady",function(){de.resolve(),he(),he=null}),fe=n.$on("$translateChangeEnd",function(){de.resolve(),fe(),fe=null});if(p){if(angular.equals(_,{})&&W.use()&&W.use(W.use()),a&&a.length)for(var pe=function(e){return F(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},me=0,ge=a.length;me<ge;me++){var ve=a[me];!S&&_[ve]||(G[ve]=K(ve).then(pe))}}else n.$emit("$translateReady",{language:W.use()});return W}]}function i(e,t){"use strict";var n,i={},r="default";return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i,r,o,a){i=i||{},i=t.sanitize(i,"params",o,r);var s;return angular.isNumber(n)?s=""+n:angular.isString(n)?(s=e(n)(i),s=t.sanitize(s,"text",o,r)):s="",s},i}function r(e,t,n,i,r){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=s[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",f="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(s,p,m){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=o(s);var g={},v=function(e,t,n){if(t.translateValues&&angular.extend(e,i(t.translateValues)(s.$parent)),d)for(var r in n)if(Object.prototype.hasOwnProperty.call(t,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var o=angular.lowercase(r.substr(14,1))+r.substr(15);e[o]=n[r]}},y=function(e){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=a.apply(p.text()),i=n.match(h);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],g.translate=t(i[2])(s.$parent);var r=n.match(f);angular.isArray(r)&&r[2]&&r[2].length&&(y._unwatchOld=s.$watch(r[2],function(e){g.translate=e,k()}))}else g.translate=n?n:void 0}else g.translate=e;k()},b=function(e){m.$observe(e,function(t){g[e]=t,k()})};v(s.interpolateParams,m,l);var _=!0;m.$observe("translate",function(e){"undefined"==typeof e?y(""):""===e&&_||(g.translate=e,k()),_=!1});for(var w in m)m.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&w.length>13&&b(w);if(m.$observe("translateDefault",function(e){s.defaultText=e,k()}),c&&m.$observe("translateValues",function(e){e&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(e)(s.$parent))})}),d){var x=function(e){m.$observe(e,function(t){var n=angular.lowercase(e.substr(14,1))+e.substr(15);s.interpolateParams[n]=t})};for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&"translateValue"===E.substr(0,14)&&"translateValues"!==E&&x(E)}var k=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&C(e,g[e],s,s.interpolateParams,s.defaultText,s.translateNamespace)},C=function(t,n,i,r,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,r,u,o,i.translateLanguage).then(function(e){S(e,i,!0,t)},function(e){S(e,i,!1,t)})):S(n,i,!1,t)},S=function(t,i,r,o){if(r||"undefined"!=typeof i.defaultText&&(t=i.defaultText),"translate"===o){(r||!r&&!e.isKeepContent()&&"undefined"==typeof m.translateKeepContent)&&p.empty().append(i.preText+t+i.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(a&&!s||c)&&n(p.contents())(i)}else{var u=m.$attr[o];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),p.attr(u,t)}};(c||d||m.translateDefault)&&s.$watch("interpolateParams",k,!0),s.$on("translateLanguageChanged",k);var M=r.$on("$translateChangeSuccess",k);p.text().length?y(m.translate?m.translate:""):m.translate&&y(m.translate),k(),s.$on("$destroy",M)}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function a(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,i,r){var o,a,l={},c=function(){angular.forEach(o,function(t,o){t&&(l[o]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,a,r.translateInterpolation,void 0,n.translateLanguage).then(function(e){i.attr(o,e)},function(e){i.attr(o,e)}))}),angular.forEach(l,function(e,t){o[t]||(i.removeAttr(t),delete l[t])})};s(n,r.translateAttr,function(e){o=e},c),s(n,r.translateValues,function(e){a=e},c),r.translateValues&&n.$watch(r.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=t.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(e,t,n,i){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),i()},!0),n(e.$eval(t)))}function l(e,t){"use strict";return{compile:function(n){var i=function(t){t.addClass(e.cloakClassName())},r=function(t){t.removeClass(e.cloakClassName())};return i(n),function(n,o,a){var s=r.bind(this,o),l=i.bind(this,o);a.translateCloak&&a.translateCloak.length?(a.$observe("translateCloak",function(t){e(t).then(s,l)}),t.$on("$translateChangeSuccess",function(){e(a.translateCloak).then(s,l)})):e.onReady(s)}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=o(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function d(e,t){"use strict";var n=function(n,i,r,o){if(!angular.isObject(i)){var a=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};i=e(i)(a)}return t.instant(n,i,r,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function h(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],d.$inject=["$parse","$translate"],h.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",d),d.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.displayName="$translationCache","pascalprecht.translate"}),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var i=function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var r=[i.prefix,n.key,i.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[r]&&(r=n.fileMap[r]),t(angular.extend({url:r,method:"GET"},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},r=[],o=n.files.length,a=0;a<o;a++)r.push(i({prefix:n.files[a].prefix,key:n.key,suffix:n.files[a].suffix}));return e.all(r).then(function(e){for(var t=e.length,n={},i=0;i<t;i++)for(var r in e[i])n[r]=e[i][r];return n})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(e){"object"==typeof exports?module.exports=e():"function"==typeof window.define&&window.define.amd?window.define([],e):window.BezierEasing=e()}(function(){function e(e,t,c,u){function d(e,t){return 1-3*t+3*e}function h(e,t){return 3*t-6*e}function f(e){return 3*e}function p(e,t,n){return((d(t,n)*e+h(t,n))*e+f(t))*e}function m(e,t,n){return 3*d(t,n)*e*e+2*h(t,n)*e+f(t)}function g(t,i){for(var r=0;r<n;++r){var o=m(i,e,c);if(0===o)return i;var a=p(i,e,c)-t;i-=a/o}return i}function v(){for(var t=0;t<a;++t)x[t]=p(t*s,e,c)}function y(t,n,i){var a,s,l=0;do s=n+(i-n)/2,a=p(s,e,c)-t,a>0?i=s:n=s;while(Math.abs(a)>r&&++l<o);return s}function b(t){for(var n=0,r=1,o=a-1;r!=o&&x[r]<=t;++r)n+=s;--r;var l=(t-x[r])/(x[r+1]-x[r]),u=n+l*s,d=m(u,e,c);return d>=i?g(t,u):0==d?u:y(t,n,n+s)}function _(){E=!0,e==t&&c==u||v()}if(4!==arguments.length)throw new Error("BezierEasing requires 4 arguments.");for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))throw new Error("BezierEasing arguments should be integers.");if(e<0||e>1||c<0||c>1)throw new Error("BezierEasing x values must be in [0, 1] range.");var x=l?new Float32Array(a):new Array(a),E=!1,k=function(n){return E||_(),e===t&&c===u?n:0===n?0:1===n?1:p(b(n),t,u)};k.getControlPoints=function(){return[{x:e,y:t},{x:c,y:u}]};var C="BezierEasing("+[e,t,c,u]+")";return k.toString=function(){return C},k}var t=this,n=4,i=.001,r=1e-7,o=10,a=11,s=1/(a-1),l="Float32Array"in t;return e.css={ease:e(.25,.1,.25,1),linear:e(0,0,1,1),"ease-in":e(.42,0,1,1),"ease-out":e(0,0,.58,1),"ease-in-out":e(.42,0,.58,1)},e}),function(e){"use strict";var t,n=e.Uint8Array,i=e.HTMLCanvasElement,r=i&&i.prototype,o=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",s=function(e){for(var i,r,o,a=e.length,s=new n(a/4*3|0),l=0,c=0,u=[0,0],d=0,h=0;a--;)r=e.charCodeAt(l++),i=t[r-43],255!==i&&i!==o&&(u[1]=u[0],u[0]=r,h=h<<6|i,d++,4===d&&(s[c++]=h>>>16,61!==u[1]&&(s[c++]=h>>>8),61!==u[0]&&(s[c++]=h),d=0));return s};n&&(t=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!i||r.toBlob&&r.toBlobHD||(r.toBlob||(r.toBlob=function(e,t){if(t||(t="image/png"),this.mozGetAsFile)return void e(this.mozGetAsFile("canvas",t));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(t))return void e(this.msToBlob());var i,r=Array.prototype.slice.call(arguments,1),l=this[a].apply(this,r),c=l.indexOf(","),u=l.substring(c+1),d=o.test(l.substring(0,c));Blob.fake?(i=new Blob,d?i.encoding="base64":i.encoding="URI",i.data=u,i.size=u.length):n&&(i=d?new Blob([s(u)],{type:t}):new Blob([decodeURIComponent(u)],{type:t})),e(i)}),!r.toBlobHD&&r.toDataURLHD?r.toBlobHD=function(){a="toDataURLHD";var e=this.toBlob();return a="toDataURL",e}:r.toBlobHD=r.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=0,a=0,s=r.ext.buttons,l=function(t,n){n===!0&&(n={}),e.isArray(n)&&(n={buttons:n}),this.c=e.extend(!0,{},l.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new r.Api(t),buttons:[],subButtons:[],listenKeys:"",namespace:"dtb"+o++},this.dom={container:e("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};e.extend(l.prototype,{action:function(e,t){var n=this._indexToButton(e).conf;this.s.dt;return t===i?n.action:(n.action=t,this)},active:function(e,t){var n=this._indexToButton(e),r=this.c.dom.button.active;return t===i?n.node.hasClass(r):(n.node.toggleClass(r,t===i||t),this)},add:function(e,t){if("string"==typeof e&&e.indexOf("-")!==-1){var n=e.split("-");this.c.buttons[1*n[0]].buttons.splice(1*n[1],0,t)}else this.c.buttons.splice(1*e,0,t);return this.dom.container.empty(),this._buildButtons(this.c.buttons),this},container:function(){return this.dom.container},disable:function(e){var t=this._indexToButton(e);return t.node.addClass(this.c.dom.button.disabled),this},destroy:function(){e("body").off("keyup."+this.s.namespace);var t,n,i,r,o=this.s.buttons,a=this.s.subButtons;for(t=0,n=o.length;t<n;t++)for(this.removePrep(t),i=0,r=a[t].length;i<r;i++)this.removePrep(t+"-"+i);this.removeCommit(),this.dom.container.remove();var s=this.s.dt.settings()[0];for(t=0,n=s.length;t<n;t++)if(s.inst===this){s.splice(t,1);break}return this},enable:function(e,t){if(t===!1)return this.disable(e);var n=this._indexToButton(e);return n.node.removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(e){var t=this._indexToButton(e);return t.node},removeCommit:function(){var e,t,n,i=this.s.buttons,r=this.s.subButtons;for(e=i.length-1;e>=0;e--)null===i[e]&&(i.splice(e,1),r.splice(e,1),this.c.buttons.splice(e,1));for(e=0,t=r.length;e<t;e++)for(n=r[e].length-1;n>=0;n--)null===r[e][n]&&(r[e].splice(n,1),this.c.buttons[e].buttons.splice(n,1));return this},removePrep:function(e){var t,n=this.s.dt;if("number"==typeof e||e.indexOf("-")===-1)t=this.s.buttons[1*e],t.conf.destroy&&t.conf.destroy.call(n.button(e),n,t,t.conf),t.node.remove(),this._removeKey(t.conf),this.s.buttons[1*e]=null;else{var i=e.split("-");t=this.s.subButtons[1*i[0]][1*i[1]],t.conf.destroy&&t.conf.destroy.call(n.button(e),n,t,t.conf),t.node.remove(),this._removeKey(t.conf),this.s.subButtons[1*i[0]][1*i[1]]=null}return this},text:function(e,t){var n=this._indexToButton(e),r=this.c.dom.collection.buttonLiner,o="string"==typeof e&&e.indexOf("-")!==-1&&r&&r.tag?r.tag:this.c.dom.buttonLiner.tag,a=this.s.dt,s=function(e){return"function"==typeof e?e(a,n.node,n.conf):e};return t===i?s(n.conf.text):(n.conf.text=t,o?n.node.children(o).html(s(t)):n.node.html(s(t)),this)},toIndex:function(e){var t,n,i,r,o=this.s.buttons,a=this.s.subButtons;for(t=0,n=o.length;t<n;t++)if(o[t].node[0]===e)return t+"";for(t=0,n=a.length;t<n;t++)for(i=0,r=a[t].length;i<r;i++)if(a[t][i].node[0]===e)return t+"-"+i},_constructor:function(){var t=this,i=this.s.dt,r=i.settings()[0];r._buttons||(r._buttons=[]),r._buttons.push({inst:this,name:this.c.name}),this._buildButtons(this.c.buttons),i.on("destroy",function(){t.destroy()}),e("body").on("keyup."+this.s.namespace,function(e){if(!n.activeElement||n.activeElement===n.body){var i=String.fromCharCode(e.keyCode).toLowerCase();t.s.listenKeys.toLowerCase().indexOf(i)!==-1&&t._keypress(i,e)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=e.isPlainObject(t.key)?t.key.key:t.key)},_buildButtons:function(t,n,r){var o=this.s.dt,a=0;n||(n=this.dom.container,this.s.buttons=[],this.s.subButtons=[]);for(var s=0,l=t.length;s<l;s++){var c=this._resolveExtends(t[s]);if(c)if(e.isArray(c))this._buildButtons(c,n,r);else{var u=this._buildButton(c,r!==i);if(u){var d=u.node;if(n.append(u.inserter),r===i?(this.s.buttons.push({node:d,conf:c,inserter:u.inserter}),this.s.subButtons.push([])):this.s.subButtons[r].push({node:d,conf:c,inserter:u.inserter}),c.buttons){var h=this.c.dom.collection;c._collection=e("<"+h.tag+"/>").addClass(h.className),this._buildButtons(c.buttons,c._collection,a)}c.init&&c.init.call(o.button(d),o,d,c),a++}}}},_buildButton:function(t,n){var i=this.c.dom.button,r=this.c.dom.buttonLiner,o=this.c.dom.collection,s=this.s.dt,l=function(e){return"function"==typeof e?e(s,u,t):e};if(n&&o.button&&(i=o.button),n&&o.buttonLiner&&(r=o.buttonLiner),t.available&&!t.available(s,t))return!1;var c=function(t,n,i,r){r.action.call(n.button(i),t,n,i,r),e(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,r])},u=e("<"+i.tag+"/>").addClass(i.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!u.hasClass(i.disabled)&&t.action&&c(e,s,u,t),u.blur()}).on("keyup.dtb",function(e){13===e.keyCode&&!u.hasClass(i.disabled)&&t.action&&c(e,s,u,t)});r.tag?u.append(e("<"+r.tag+"/>").html(l(t.text)).addClass(r.className)):u.html(l(t.text)),t.enabled===!1&&u.addClass(i.disabled),t.className&&u.addClass(t.className),t.titleAttr&&u.attr("title",t.titleAttr),t.namespace||(t.namespace=".dt-button-"+a++);var d,h=this.c.dom.buttonContainer;return d=h&&h.tag?e("<"+h.tag+"/>").addClass(h.className).append(u):u,this._addKey(t),{node:u,inserter:d}},_indexToButton:function(e){if("number"==typeof e||e.indexOf("-")===-1)return this.s.buttons[1*e];var t=e.split("-");return this.s.subButtons[1*t[0]][1*t[1]]},_keypress:function(t,n){var i,r,o,a,s=this.s.buttons,l=this.s.subButtons,c=function(i,r){if(i.key)if(i.key===t)r.click();else if(e.isPlainObject(i.key)){if(i.key.key!==t)return;if(i.key.shiftKey&&!n.shiftKey)return;if(i.key.altKey&&!n.altKey)return;if(i.key.ctrlKey&&!n.ctrlKey)return;if(i.key.metaKey&&!n.metaKey)return;r.click()}};for(i=0,r=s.length;i<r;i++)c(s[i].conf,s[i].node);for(i=0,r=l.length;i<r;i++)for(o=0,a=l[i].length;o<a;o++)c(l[i][o].conf,l[i][o].node)},_removeKey:function(t){if(t.key){var n=e.isPlainObject(t.key)?t.key.key:t.key,i=this.s.listenKeys.split(""),r=e.inArray(n,i);i.splice(r,1),this.s.listenKeys=i.join("")}},_resolveExtends:function(t){var n,r,o=this.s.dt,a=function(n){for(var r=0;!e.isPlainObject(n)&&!e.isArray(n);){if(n===i)return;if("function"==typeof n){if(n=n(o,t),!n)return!1}else if("string"==typeof n){if(!s[n])throw"Unknown button type: "+n;n=s[n]}if(r++,r>30)throw"Buttons: Too many iterations"}return e.isArray(n)?n:e.extend({},n)};for(t=a(t);t&&t.extend;){if(!s[t.extend])throw"Cannot extend unknown button type: "+t.extend;var l=a(s[t.extend]);if(e.isArray(l))return l;if(!l)return!1;var c=l.className;t=e.extend({},l,t),c&&t.className!==c&&(t.className=c+" "+t.className);var u=t.postfixButtons;if(u){for(t.buttons||(t.buttons=[]),n=0,r=u.length;n<r;n++)t.buttons.push(u[n]);t.postfixButtons=null}var d=t.prefixButtons;if(d){for(t.buttons||(t.buttons=[]),n=0,r=d.length;n<r;n++)t.buttons.splice(n,0,d[n]);t.prefixButtons=null}t.extend=l.extend}return t}}),l.background=function(t,n,r){r===i&&(r=400),t?e("<div/>").addClass(n).css("display","none").appendTo("body").fadeIn(r):e("body > div."+n).fadeOut(r,function(){e(this).remove()})},l.instanceSelector=function(t,n){if(!t)return e.map(n,function(e){return e.inst});var i=[],r=e.map(n,function(e){return e.name}),o=function(t){if(e.isArray(t))for(var a=0,s=t.length;a<s;a++)o(t[a]);else if("string"==typeof t)if(t.indexOf(",")!==-1)o(t.split(","));else{var l=e.inArray(e.trim(t),r);l!==-1&&i.push(n[l].inst)}else"number"==typeof t&&i.push(n[t].inst)};return o(t),i},l.buttonSelector=function(t,n){for(var r=[],o=function(t,n){var a,s,l=[];e.each(n.s.buttons,function(e,t){null!==t&&l.push({node:t.node[0],name:t.conf.name})}),e.each(n.s.subButtons,function(t,n){e.each(n,function(e,t){null!==t&&l.push({node:t.node[0],name:t.conf.name})})});var c=e.map(l,function(e){return e.node});if(e.isArray(t)||t instanceof e)for(a=0,s=t.length;a<s;a++)o(t[a],n);else if(null===t||t===i||"*"===t)for(a=0,s=l.length;a<s;a++)r.push({inst:n,idx:n.toIndex(l[a].node)});else if("number"==typeof t)r.push({inst:n,idx:t});else if("string"==typeof t)if(t.indexOf(",")!==-1){var u=t.split(",");for(a=0,s=u.length;a<s;a++)o(e.trim(u[a]),n)}else if(t.match(/^\d+(\-\d+)?$/))r.push({inst:n,idx:t});else if(t.indexOf(":name")!==-1){var d=t.replace(":name","");for(a=0,s=l.length;a<s;a++)l[a].name===d&&r.push({inst:n,idx:n.toIndex(l[a].node)})}else e(c).filter(t).each(function(){r.push({inst:n,idx:n.toIndex(this)})});else if("object"==typeof t&&t.nodeName){var h=e.inArray(t,c);h!==-1&&r.push({inst:n,idx:n.toIndex(c[h])})}},a=0,s=t.length;a<s;a++){var l=t[a];o(n,l)}return r},l.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"a",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},l.version="1.1.2",e.extend(s,{collection:{text:function(e,t,n){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(i,r,o,a){var s=o,c=s.offset(),u=e(r.table().container()),d=!1;e("div.dt-button-background").length&&(d=e("div.dt-button-collection").offset(),e(n).trigger("click.dtb-collection")),a._collection.addClass(a.collectionLayout).css("display","none").appendTo("body").fadeIn(a.fade);var h=a._collection.css("position");if(d&&"absolute"===h)a._collection.css({top:d.top+5,left:d.left+5});else if("absolute"===h){a._collection.css({top:c.top+s.outerHeight(),left:c.left});var f=c.left+a._collection.outerWidth(),p=u.offset().left+u.width();f>p&&a._collection.css("left",c.left-(f-p))}else{var m=a._collection.height()/2;m>e(t).height()/2&&(m=e(t).height()/2),a._collection.css("marginTop",m*-1)}a.background&&l.background(!0,a.backgroundClassName,a.fade),setTimeout(function(){e("div.dt-button-background").on("click.dtb-collection",function(){}),e("body").on("click.dtb-collection",function(t){e(t.target).parents().andSelf().filter(a._collection).length||(a._collection.fadeOut(a.fade,function(){a._collection.detach()}),e("div.dt-button-background").off("click.dtb-collection"),l.background(!1,a.backgroundClassName,a.fade),e("body").off("click.dtb-collection"),r.off("buttons-action.b-internal"))})},10),a.autoClose&&r.on("buttons-action.b-internal",function(){e("div.dt-button-background").click()})},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400},copy:function(e,t){return s.copyHtml5?"copyHtml5":s.copyFlash&&s.copyFlash.available(e,t)?"copyFlash":void 0},csv:function(e,t){return s.csvHtml5&&s.csvHtml5.available(e,t)?"csvHtml5":s.csvFlash&&s.csvFlash.available(e,t)?"csvFlash":void 0},excel:function(e,t){return s.excelHtml5&&s.excelHtml5.available(e,t)?"excelHtml5":s.excelFlash&&s.excelFlash.available(e,t)?"excelFlash":void 0},pdf:function(e,t){return s.pdfHtml5&&s.pdfHtml5.available(e,t)?"pdfHtml5":s.pdfFlash&&s.pdfFlash.available(e,t)?"pdfFlash":void 0},pageLength:function(t,n){var i=t.settings()[0].aLengthMenu,r=e.isArray(i[0])?i[0]:i,o=e.isArray(i[0])?i[1]:i,a=function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())};return{extend:"collection",text:a,className:"buttons-page-length",autoClose:!0,buttons:e.map(r,function(e,t){return{text:o[t],action:function(t,n,i,r){n.page.len(e).draw()},init:function(t,n,i){var r=this,o=function(){r.active(t.page.len()===e)};t.on("length.dt"+i.namespace,o),o()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}),init:function(e,t,n){var i=this;e.on("length.dt"+n.namespace,function(){i.text(a(e))})},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}}),r.Api.register("buttons()",function(e,t){return t===i&&(t=e,e=i),this.iterator(!0,"table",function(n){if(n._buttons)return l.buttonSelector(l.instanceSelector(e,n._buttons),t)},!0)}),r.Api.register("button()",function(e,t){var n=this.buttons(e,t);return n.length>1&&n.splice(1,n.length),n}),r.Api.registerPlural("buttons().active()","button().active()",function(e){return e===i?this.map(function(e){return e.inst.active(e.idx)}):this.each(function(t){t.inst.active(t.idx,e)})}),r.Api.registerPlural("buttons().action()","button().action()",function(e){return e===i?this.map(function(e){return e.inst.action(e.idx)}):this.each(function(t){t.inst.action(t.idx,e)})}),r.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.idx,e)})}),r.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.idx)})}),r.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=e();return e(this.each(function(e){t=t.add(e.inst.node(e.idx))})),t}),r.Api.registerPlural("buttons().text()","button().text()",function(e){return e===i?this.map(function(e){return e.inst.text(e.idx)}):this.each(function(t){t.inst.text(t.idx,e)})}),r.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.idx).trigger("click")})}),r.Api.registerPlural("buttons().containers()","buttons().container()",function(){var t=e();return e(this.each(function(e){t=t.add(e.inst.container())})),t}),r.Api.register("button().add()",function(e,t){return 1===this.length&&this[0].inst.add(e,t),this.button(e)}),r.Api.register("buttons().destroy()",function(e){return this.pluck("inst").unique().each(function(e){e.destroy()}),this}),r.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(e){e.inst.removePrep(e.idx)}),this.pluck("inst").unique().each(function(e){e.removeCommit()}),this});var c;r.Api.register("buttons.info()",function(t,n,r){var o=this;return t===!1?(e("#datatables_buttons_info").fadeOut(function(){e(this).remove()}),clearTimeout(c),c=null,this):(c&&clearTimeout(c),e("#datatables_buttons_info").length&&e("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",e('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(e("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body").fadeIn(),r!==i&&0!==r&&(c=setTimeout(function(){o.buttons.info(!1)},r)),this)}),r.Api.register("buttons.exportData()",function(e){if(this.context.length)return d(new r.Api(this.context[0]),e)});var u=e("<textarea/>")[0],d=function(t,n){for(var i=e.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(e){return r(e)},footer:function(e){return r(e)},body:function(e){return r(e)}}},n),r=function(e){return"string"!=typeof e?e:(i.stripHtml&&(e=e.replace(/<.*?>/g,"")),i.trim&&(e=e.replace(/^\s+|\s+$/g,"")),i.stripNewlines&&(e=e.replace(/\n/g," ")),i.decodeEntities&&(u.innerHTML=e,e=u.value),e)},o=t.columns(i.columns).indexes().map(function(e,n){return i.format.header(t.column(e).header().innerHTML,e)}).toArray(),a=t.table().footer()?t.columns(i.columns).indexes().map(function(e,n){var r=t.column(e).footer();return i.format.footer(r?r.innerHTML:"",e)}).toArray():null,s=t.rows(i.rows,i.modifier).indexes().toArray(),l=t.cells(s,i.columns).render(i.orthogonal).toArray(),c=o.length,d=c>0?l.length/c:0,h=new Array(d),f=0,p=0,m=d;p<m;p++){for(var g=new Array(c),v=0;v<c;v++)g[v]=i.format.body(l[f],v,p),f++;h[p]=g}return{header:o,footer:a,body:h}};return e.fn.dataTable.Buttons=l,e.fn.DataTable.Buttons=l,e(n).on("init.dt plugin-init.dt",function(e,t,n){if("dt"===e.namespace){var i=t.oInit.buttons||r.defaults.buttons;i&&!t._buttons&&new l(t,i).container()}}),r.ext.feature.push({fnInit:function(e){var t=new r.Api(e),n=t.init().buttons||r.defaults.buttons;return new l(t,n).container()},cFeature:"B"}),l}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=function(e){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(n){var i=t.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},s=e.webkitRequestFileSystem,l=e.requestFileSystem||s||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",d=0,h=500,f=function(t){var i=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?i():setTimeout(i,h)},p=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){c(o)}}},m=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},g=function(t,c){t=m(t);var h,g,v,y=this,b=t.type,_=!1,w=function(){p(y,"writestart progress write writeend".split(" "))},x=function(){if(!_&&h||(h=n().createObjectURL(t)),g)g.location.href=h;else{var r=e.open(h,"_blank");r===i&&"undefined"!=typeof safari&&(e.location.href=h)}y.readyState=y.DONE,w(),f(h)},E=function(e){return function(){if(y.readyState!==y.DONE)return e.apply(this,arguments)}},k={create:!0,exclusive:!1};return y.readyState=y.INIT,c||(c="download"),o?(h=n().createObjectURL(t),r.href=h,r.download=c,a(r),y.readyState=y.DONE,w(),void f(h)):(e.chrome&&b&&b!==u&&(v=t.slice||t.webkitSlice,t=v.call(t,0,t.size,u),_=!0),s&&"download"!==c&&(c+=".download"),(b===u||s)&&(g=e),l?(d+=t.size,void l(e.TEMPORARY,d,E(function(e){e.root.getDirectory("saved",k,E(function(e){var n=function(){e.getFile(c,k,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){g.location.href=e.toURL(),y.readyState=y.DONE,p(y,"writeend",t),f(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=y["on"+e]}),n.write(t),y.abort=function(){n.abort(),y.readyState=y.DONE;
},y.readyState=y.WRITING}),x)}),x)};e.getFile(c,{create:!1},E(function(e){e.remove(),n()}),E(function(e){e.code===e.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},v=g.prototype,y=function(e,t){return new g(e,t)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t){return navigator.msSaveOrOpenBlob(m(e),t)}:(v.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,y)}}(t),a=function(t,n){var r="*"===t.filename&&"*"!==t.title&&t.title!==i?t.title:t.filename;return"function"==typeof r&&(r=r()),r.indexOf("*")!==-1&&(r=r.replace("*",e("title").text())),r=r.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),n===i||n===!0?r+t.extension:r},s=function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),t},l=function(t){var n=t.title;return"function"==typeof n&&(n=n()),n.indexOf("*")!==-1?n.replace("*",e("title").text()):n},c=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},u=function(e,t){for(var n=c(t),r=e.buttons.exportData(t.exportOptions),o=t.fieldBoundary,a=t.fieldSeparator,s=new RegExp(o,"g"),l=t.escapeChar!==i?t.escapeChar:"\\",u=function(e){for(var t="",n=0,i=e.length;n<i;n++)n>0&&(t+=a),t+=o?o+(""+e[n]).replace(s,l+o)+o:e[n];return t},d=t.header?u(r.header)+n:"",h=t.footer&&r.footer?n+u(r.footer):"",f=[],p=0,m=r.body.length;p<m;p++)f.push(u(r.body[p]));return{str:d+f.join(n)+h,rows:f.length}},d=function(){return navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Opera")===-1},h={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\t<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\t<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\t<Default Extension="xml" ContentType="application/xml"/>\t<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\t<Default Extension="jpeg" ContentType="image/jpeg"/>\t<Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\t<Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\t<fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/>\t<workbookPr showInkAnnotation="0" autoCompressPictures="0"/>\t<bookViews>\t\t<workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/>\t</bookViews>\t<sheets>\t\t<sheet name="__SHEET_NAME__" sheetId="1" r:id="rId1"/>\t</sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\t<sheetData>\t\t__DATA__\t</sheetData></worksheet>'};return r.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(t,i,r,o){var a=u(i,o),s=a.str,l=e("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});o.customize&&(s=o.customize(s,o));var c=e("<textarea readonly/>").val(s).appendTo(l);if(n.queryCommandSupported("copy")){l.appendTo(i.table().container()),c[0].focus(),c[0].select();try{return n.execCommand("copy"),l.remove(),void i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),i.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},a.rows),2e3)}catch(d){}}var h=e("<span>"+i.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i></i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(l);i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),h,0),c[0].focus(),c[0].select();var f=e(h).closest(".dt-button-info"),p=function(){f.off("click.buttons-copy"),e(n).off(".buttons-copy"),i.buttons.info(!1)};f.on("click.buttons-copy",p),e(n).on("keydown.buttons-copy",function(e){27===e.keyCode&&p()}).on("copy.buttons-copy cut.buttons-copy",function(){p()})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1},r.ext.buttons.csvHtml5={className:"buttons-csv buttons-html5",available:function(){return t.FileReader!==i&&t.Blob},text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,i,r){var s=(c(r),u(t,r).str),l=r.charset;r.customize&&(s=r.customize(s,r)),l!==!1?(l||(l=n.characterSet||n.charset),l&&(l=";charset="+l)):l="",o(new Blob([s],{type:"text/csv"+l}),a(r))},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},r.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return t.FileReader!==i&&t.JSZip!==i&&!d()},text:function(e){return e.i18n("buttons.excel","Excel")},action:function(n,r,l,c){var u="",d=r.buttons.exportData(c.exportOptions),f=function(t){for(var n=[],r=0,o=t.length;r<o;r++)null!==t[r]&&t[r]!==i||(t[r]=""),n.push("number"==typeof t[r]||t[r].match&&e.trim(t[r]).match(/^-?\d+(\.\d+)?$/)&&"0"!==t[r].charAt(0)?'<c t="n"><v>'+t[r]+"</v></c>":'<c t="inlineStr"><is><t>'+(t[r].replace?t[r].replace(/&(?!amp;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):t[r])+"</t></is></c>");return"<row>"+n.join("")+"</row>"};c.header&&(u+=f(d.header));for(var p=0,m=d.body.length;p<m;p++)u+=f(d.body[p]);c.footer&&(u+=f(d.footer));var g=new t.JSZip,v=g.folder("_rels"),y=g.folder("xl"),b=g.folder("xl/_rels"),_=g.folder("xl/worksheets");g.file("[Content_Types].xml",h["[Content_Types].xml"]),v.file(".rels",h["_rels/.rels"]),y.file("workbook.xml",h["xl/workbook.xml"].replace("__SHEET_NAME__",s(c))),b.file("workbook.xml.rels",h["xl/_rels/workbook.xml.rels"]),_.file("sheet1.xml",h["xl/worksheets/sheet1.xml"].replace("__DATA__",u)),o(g.generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a(c))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1},r.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return t.FileReader!==i&&t.pdfMake},text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(n,i,r,s){var u=(c(s),i.buttons.exportData(s.exportOptions)),h=[];s.header&&h.push(e.map(u.header,function(e){return{text:"string"==typeof e?e:e+"",style:"tableHeader"}}));for(var f=0,p=u.body.length;f<p;f++)h.push(e.map(u.body[f],function(e){return{text:"string"==typeof e?e:e+"",style:f%2?"tableBodyEven":"tableBodyOdd"}}));s.footer&&h.push(e.map(u.footer,function(e){return{text:"string"==typeof e?e:e+"",style:"tableFooter"}}));var m={pageSize:s.pageSize,pageOrientation:s.orientation,content:[{table:{headerRows:1,body:h},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};s.message&&m.content.unshift({text:s.message,style:"message",margin:[0,0,0,12]}),s.title&&m.content.unshift({text:l(s,!1),style:"title",margin:[0,0,0,12]}),s.customize&&s.customize(m,s);var g=t.pdfMake.createPdf(m);"open"!==s.download||d()?g.getBuffer(function(e){var t=new Blob([e],{type:"application/pdf"});o(t,a(s))}):g.open()},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,message:null,customize:null,download:"download"},r.Buttons}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=n.createElement("a"),a=function(t){var n,i=e(t).clone()[0];return"link"===i.nodeName.toLowerCase()&&(o.href=i.href,n=o.host,n.indexOf("/")===-1&&0!==o.pathname.indexOf("/")&&(n+="/"),i.href=o.protocol+"//"+n+o.pathname+o.search),i.outerHTML};return r.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(n,i,r,o){var s=i.buttons.exportData(o.exportOptions),l=function(e,t){for(var n="<tr>",i=0,r=e.length;i<r;i++)n+="<"+t+">"+e[i]+"</"+t+">";return n+"</tr>"},c='<table class="'+i.table().node().className+'">';o.header&&(c+="<thead>"+l(s.header,"th")+"</thead>"),c+="<tbody>";for(var u=0,d=s.body.length;u<d;u++)c+=l(s.body[u],"td");c+="</tbody>",o.footer&&(c+="<tfoot>"+l(s.footer,"th")+"</tfoot>");var h=t.open("",""),f=o.title;"function"==typeof f&&(f=f()),f.indexOf("*")!==-1&&(f=f.replace("*",e("title").text())),h.document.close();var p="<title>"+f+"</title>";e("style, link").each(function(){p+=a(this)}),e(h.document.head).html(p),e(h.document.body).html("<h1>"+f+"</h1><div>"+o.message+"</div>"+c),o.customize&&o.customize(h),setTimeout(function(){o.autoPrint&&(h.print(),h.close())},250)},title:"*",message:"",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},r.Buttons}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=function(t,r){return this instanceof o?(r===i&&(r={}),this.s={dt:e.fn.dataTable.Api(t).settings()[0],tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1},this.s=e.extend(this.s,o.oDefaults,r),this.s.heights.row=this.s.rowHeight,this.dom={force:n.createElement("div"),scroller:null,table:null,loader:null},void(this.s.dt.oScroller||(this.s.dt.oScroller=this,this._fnConstruct()))):void alert("Scroller warning: Scroller must be initialised with the 'new' keyword.")};e.extend(o.prototype,{fnRowToPixels:function(e,t,n){var r;if(n)r=this._domain("virtualToPhysical",e*this.s.heights.row);else{var o=e-this.s.baseRowTop;r=this.s.baseScrollTop+o*this.s.heights.row}return t||t===i?parseInt(r,10):r},fnPixelsToRow:function(e,t,n){var r=e-this.s.baseScrollTop,o=n?this._domain("physicalToVirtual",e)/this.s.heights.row:r/this.s.heights.row+this.s.baseRowTop;return t||t===i?parseInt(o,10):o},fnScrollToRow:function(t,n){var i=this,r=!1,o=this.fnRowToPixels(t),a=(this.s.displayBuffer-1)/2*this.s.viewportRows,s=t-a;s<0&&(s=0),(o>this.s.redrawBottom||o<this.s.redrawTop)&&this.s.dt._iDisplayStart!==s&&(r=!0,o=this.fnRowToPixels(t,!1,!0)),"undefined"==typeof n||n?(this.s.ani=r,e(this.dom.scroller).animate({scrollTop:o},function(){setTimeout(function(){i.s.ani=!1},25)})):e(this.dom.scroller).scrollTop(o)},fnMeasure:function(t){this.s.autoHeight&&this._fnCalcRowHeight();var n=this.s.heights;n.row&&(n.viewport=e(this.dom.scroller).height(),this.s.viewportRows=parseInt(n.viewport/n.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(t===i||t)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var e=this.s.dt,t=this.dom.scroller.scrollTop,n=e.fnRecordsDisplay(),i=Math.ceil(this.fnPixelsToRow(t+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(t,!1,this.s.ani)),end:n<i?n-1:i-1}},_fnConstruct:function(){var n=this;if(!this.s.dt.oFeatures.bPaginate)return void this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller");this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=e("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=e(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",e(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=e('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),e(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){n.s.dt.oApi._fnSaveState(n.s.dt)},500),e(this.dom.scroller).on("scroll.DTS",function(e){n._fnScroll.call(n)}),e(this.dom.scroller).on("touchstart.DTS",function(){n._fnScroll.call(n)}),this.s.dt.aoDrawCallback.push({fn:function(){n.s.dt.bInitialised&&n._fnDrawCallback.call(n)},sName:"Scroller"}),e(t).on("resize.DTS",function(){n.fnMeasure(!1),n._fnInfo()});var i=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(e,t){i&&n.s.dt.oLoadedState?(t.iScroller=n.s.dt.oLoadedState.iScroller,t.iScrollerTopRow=n.s.dt.oLoadedState.iScrollerTopRow,i=!1):(t.iScroller=n.dom.scroller.scrollTop,t.iScrollerTopRow=n.s.topRowFloat)},"Scroller_State"),this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0),e(this.s.dt.nTable).one("init.dt",function(){n.fnMeasure()}),this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){e(t).off("resize.DTS"),e(n.dom.scroller).off("touchstart.DTS scroll.DTS"),e(n.s.dt.nTableWrapper).removeClass("DTS"),e("div.DTS_Loading",n.dom.scroller.parentNode).remove(),e(n.s.dt.nTable).off("init.dt"),n.dom.table.style.position="",n.dom.table.style.top="",n.dom.table.style.left=""}})},_fnScroll:function(){var t,n=this,i=this.s.heights,r=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll){if(this.s.dt.bFiltered||this.s.dt.bSorted)return void(this.s.lastScrollTop=0);if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){n.s.dt.oApi._fnSaveState(n.s.dt)},250),r<this.s.redrawTop||r>this.s.redrawBottom){var o=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);if(Math.abs(r-this.s.lastScrollTop)>i.viewport||this.s.ani?(t=parseInt(this._domain("physicalToVirtual",r)/i.row,10)-o,this.s.topRowFloat=this._domain("physicalToVirtual",r)/i.row):(t=this.fnPixelsToRow(r)-o,this.s.topRowFloat=this.fnPixelsToRow(r,!1)),t<=0?t=0:t+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(t=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength,t<0&&(t=0)):t%2!==0&&t++,t!=this.s.dt._iDisplayStart){this.s.tableTop=e(this.s.dt.nTable).offset().top,this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop;var a=function(){null===n.s.scrollDrawReq&&(n.s.scrollDrawReq=r),n.s.dt._iDisplayStart=t,n.s.dt.oApi._fnDraw(n.s.dt)};this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(a,this.s.serverWait)):a(),this.dom.loader&&!this.s.loaderVisible&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}}else this.s.topRowFloat=this._domain("physicalToVirtual",r)/i.row;this.s.lastScrollTop=r,this.s.stateSaveThrottle()}},_domain:function(e,t){var n,i=this.s.heights;if(i.virtual===i.scroll)return t;var r=(i.scroll-i.viewport)/2,o=(i.virtual-i.viewport)/2;return n=o/(r*r),"virtualToPhysical"===e?t<o?Math.pow(t/n,.5):(t=2*o-t,t<0?i.scroll:2*r-Math.pow(t/n,.5)):"physicalToVirtual"===e?t<r?t*t*n:(t=2*r-t,t<0?i.virtual:2*o-t*t*n):void 0},_fnDrawCallback:function(){var t=this,n=this.s.heights,i=this.dom.scroller.scrollTop,r=(i+n.viewport,e(this.s.dt.nTable).height()),o=this.s.dt._iDisplayStart,a=this.s.dt._iDisplayLength,s=this.s.dt.fnRecordsDisplay();this.s.skip=!0,this._fnScrollForce(),i=0===o?this.s.topRowFloat*n.row:o+a>=s?n.scroll-(s-this.s.topRowFloat)*n.row:this._domain("virtualToPhysical",this.s.topRowFloat*n.row),this.dom.scroller.scrollTop=i,this.s.baseScrollTop=i,this.s.baseRowTop=this.s.topRowFloat;var l=i-(this.s.topRowFloat-o)*n.row;0===o?l=0:o+a>=s&&(l=n.scroll-r),this.dom.table.style.top=l+"px",this.s.tableTop=l,this.s.tableBottom=r+this.s.tableTop;var c=(i-this.s.tableTop)*this.s.boundaryScale;if(this.s.redrawTop=i-c,this.s.redrawBottom=i+c,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.iScroller){var u=!(!this.s.dt.sAjaxSource&&!t.s.dt.ajax||this.s.dt.oFeatures.bServerSide);(u&&2==this.s.dt.iDraw||!u&&1==this.s.dt.iDraw)&&setTimeout(function(){e(t.dom.scroller).scrollTop(t.s.dt.oLoadedState.iScroller),t.s.redrawTop=t.s.dt.oLoadedState.iScroller-n.viewport/2,setTimeout(function(){t.s.ingnoreScroll=!1},0)},0)}else t.s.ingnoreScroll=!1;this.s.dt.oFeatures.bInfo&&setTimeout(function(){t._fnInfo.call(t)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var e=this.s.heights,t=1e6;e.virtual=e.row*this.s.dt.fnRecordsDisplay(),e.scroll=e.virtual,e.scroll>t&&(e.scroll=t),this.dom.force.style.height=e.scroll>this.s.heights.row?e.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var t=this.s.dt,n=t.nTable,i=n.cloneNode(!1),r=e("<tbody/>").appendTo(i),o=e('<div class="'+t.oClasses.sWrapper+' DTS"><div class="'+t.oClasses.sScrollWrapper+'"><div class="'+t.oClasses.sScrollBody+'"></div></div></div>');for(e("tbody tr:lt(4)",n).clone().appendTo(r);e("tr",r).length<3;)r.append("<tr><td>&nbsp;</td></tr>");e("div."+t.oClasses.sScrollBody,o).append(i);var a=this.s.dt.nHolding||n.parentNode;e(a).is(":visible")||(a="body"),o.appendTo(a),this.s.heights.row=e("tr",r).eq(1).outerHeight(),o.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var t,n=this.s.dt,i=n.oLanguage,r=this.dom.scroller.scrollTop,o=Math.floor(this.fnPixelsToRow(r,!1,this.s.ani)+1),a=n.fnRecordsTotal(),s=n.fnRecordsDisplay(),l=Math.ceil(this.fnPixelsToRow(r+this.s.heights.viewport,!1,this.s.ani)),c=s<l?s:l,u=n.fnFormatNumber(o),d=n.fnFormatNumber(c),h=n.fnFormatNumber(a),f=n.fnFormatNumber(s);t=0===n.fnRecordsDisplay()&&n.fnRecordsDisplay()==n.fnRecordsTotal()?i.sInfoEmpty+i.sInfoPostFix:0===n.fnRecordsDisplay()?i.sInfoEmpty+" "+i.sInfoFiltered.replace("_MAX_",h)+i.sInfoPostFix:n.fnRecordsDisplay()==n.fnRecordsTotal()?i.sInfo.replace("_START_",u).replace("_END_",d).replace("_MAX_",h).replace("_TOTAL_",f)+i.sInfoPostFix:i.sInfo.replace("_START_",u).replace("_END_",d).replace("_MAX_",h).replace("_TOTAL_",f)+" "+i.sInfoFiltered.replace("_MAX_",n.fnFormatNumber(n.fnRecordsTotal()))+i.sInfoPostFix;var p=i.fnInfoCallback;p&&(t=p.call(n.oInstance,n,o,c,a,s,t));var m=n.aanFeatures.i;if("undefined"!=typeof m)for(var g=0,v=m.length;g<v;g++)e(m[g]).html(t);e(n.nTable).triggerHandler("info.dt")}}}),o.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},o.oDefaults=o.defaults,o.version="1.4.2","function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.10.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,n=t.scroller||t.oScroller||{};new o(e,n)},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),e(n).on("preInit.dt.dtscroller",function(t,n){if("dt"===t.namespace){var i=n.oInit.scroller,a=r.defaults.scroller;if(i||a){var s=e.extend({},i,a);i!==!1&&new o(n,s)}}}),e.fn.dataTable.Scroller=o,e.fn.DataTable.Scroller=o;var a=e.fn.dataTable.Api;return a.register("scroller()",function(){return this}),a.register("scroller().rowToPixels()",function(e,t,n){var i=this.context;if(i.length&&i[0].oScroller)return i[0].oScroller.fnRowToPixels(e,t,n)}),a.register("scroller().pixelsToRow()",function(e,t,n){var i=this.context;if(i.length&&i[0].oScroller)return i[0].oScroller.fnPixelsToRow(e,t,n)}),a.register("scroller().scrollToRow()",function(e,t){return this.iterator("table",function(n){n.oScroller&&n.oScroller.fnScrollToRow(e,t)}),this}),a.register("row().scrollTo()",function(e){var t=this;return this.iterator("row",function(n,i){if(n.oScroller){var r=t.rows({order:"applied",search:"applied"}).indexes().indexOf(i);n.oScroller.fnScrollToRow(r,e)}}),this}),a.register("scroller.measure()",function(e){return this.iterator("table",function(t){t.oScroller&&t.oScroller.fnMeasure(e)}),this}),a.register("scroller.page()",function(){var e=this.context;if(e.length&&e[0].oScroller)return e[0].oScroller.fnPageInfo()}),o}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";function r(e,t,n){var i,r,o,a=function(t,n){if(t>n){var i=n;n=t,t=i}var r=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(r=!0),e===n?(r=!1,!0):r})},s=function(t,n){var i=e.rows({search:"applied"}).indexes();if(i.indexOf(t)>i.indexOf(n)){var r=n;n=t,t=r}var o=!1;return i.filter(function(e){return e===t&&(o=!0),e===n?(o=!1,!0):o})};e.cells({selected:!0}).any()||n?(r=a(n.column,t.column),o=s(n.row,t.row)):(r=a(0,t.column),o=s(0,t.row)),i=e.cells(o,r).flatten(),e.cells(t,{selected:!0}).any()?e.cells(i).deselect():e.cells(i).select()}function o(t){var n=t.settings()[0],i=n._select.selector;e(t.table().body()).off("mousedown.dtSelect",i).off("mouseup.dtSelect",i).off("click.dtSelect",i),e("body").off("click.dtSelect")}function a(n){var i=e(n.table().body()),r=n.settings()[0],o=r._select.selector;i.on("mousedown.dtSelect",o,function(e){e.shiftKey&&i.css("-moz-user-select","none").one("selectstart.dtSelect",o,function(){return!1})}).on("mouseup.dtSelect",o,function(e){i.css("-moz-user-select","")}).on("click.dtSelect",o,function(i){var r,o=n.select.items();if(!t.getSelection||!t.getSelection().toString()){var a=n.settings()[0];if(e(i.target).closest("div.dataTables_wrapper")[0]==n.table().container()){var s=e(i.target).closest("td, th"),l=n.cell(s).index();n.cell(s).any()&&("row"===o?(r=l.row,h(i,n,a,"row",r)):"column"===o?(r=n.cell(s).index().column,h(i,n,a,"column",r)):"cell"===o&&(r=n.cell(s).index(),h(i,n,a,"cell",r)),a._select_lastCell=l)}}}),e("body").on("click.dtSelect",function(t){if(r._select.blurable){if(e(t.target).parents().filter(n.table().container()).length)return;if(e(t.target).parents("div.DTE").length)return;d(r,!0)}})}function s(t,n,i,r){r&&!t.flatten().length||(i.unshift(t),e(t.table().node()).triggerHandler(n+".dt",i))}function l(t){var n=t.settings()[0];if(n._select.info&&n.aanFeatures.i){var i=e('<span class="select-info"/>'),r=function(n,r){i.append(e('<span class="select-item"/>').append(t.i18n("select."+n+"s",{_:"%d "+n+"s selected",0:"",1:"1 "+n+" selected"},r)))};r("row",t.rows({selected:!0}).flatten().length),r("column",t.columns({selected:!0}).flatten().length),r("cell",t.cells({selected:!0}).flatten().length),e.each(n.aanFeatures.i,function(t,n){n=e(n);var r=n.children("span.select-info");r.length&&r.remove(),""!==i.text()&&n.append(i)})}}function c(t){var n=new p.Api(t);t.aoRowCreatedCallback.push({fn:function(n,i,r){var o,a,s=t.aoData[r];for(s._select_selected&&e(n).addClass(t._select.className),o=0,a=t.aoColumns.length;o<a;o++)(t.aoColumns[o]._select_selected||s._selected_cells&&s._selected_cells[o])&&e(s.anCells[o]).addClass(t._select.className)},sName:"select-deferRender"}),n.on("preXhr.dt.dtSelect",function(){var e=n.rows({selected:!0}).ids(!0).filter(function(e){return e!==i}),t=n.cells({selected:!0}).eq(0).map(function(e){var t=n.row(e.row).id(!0);return t?{row:t,column:e.column}:i}).filter(function(e){return e!==i});n.one("draw.dt.dtSelect",function(){n.rows(e).select(),t.any()&&t.each(function(e){n.cells(e.row,e.column).select()})})}),n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt",function(){l(n)}),n.on("destroy.dtSelect",function(){o(n),n.off(".dtSelect")})}function u(t,n,i,r){var o=t[n+"s"]({search:"applied"}).indexes(),a=e.inArray(r,o),s=e.inArray(i,o);if(t[n+"s"]({selected:!0}).any()||a!==-1){if(a>s){var l=s;s=a,a=l}o.splice(s+1,o.length),o.splice(0,a)}else o.splice(e.inArray(i,o)+1,o.length);t[n](i,{selected:!0}).any()?(o.splice(e.inArray(i,o),1),t[n+"s"](o).deselect()):t[n+"s"](o).select()}function d(e,t){if(t||"single"===e._select.style){var n=new p.Api(e);n.rows({selected:!0}).deselect(),n.columns({selected:!0}).deselect(),n.cells({selected:!0}).deselect()}}function h(e,t,n,i,o){var a=t.select.style(),s=t[i](o,{selected:!0}).any();if("os"===a)if(e.ctrlKey||e.metaKey)t[i](o).select(!s);else if(e.shiftKey)"cell"===i?r(t,o,n._select_lastCell||null):u(t,i,o,n._select_lastCell?n._select_lastCell[i]:null);else{var l=t[i+"s"]({selected:!0});s&&1===l.flatten().length?t[i](o).deselect():(l.deselect(),t[i](o).select())}else t[i](o).select(!s)}function f(e,t){return function(n){return n.i18n("buttons."+e,t)}}var p=e.fn.dataTable;p.select={},p.select.version="1.1.2",p.select.init=function(t){var n=t.settings()[0],r=n.oInit.select,o=p.defaults.select,a=r===i?o:r,s="row",l="api",c=!1,u=!0,d="td, th",h="selected";n._select={},a===!0?l="os":"string"==typeof a?l=a:e.isPlainObject(a)&&(a.blurable!==i&&(c=a.blurable),a.info!==i&&(u=a.info),a.items!==i&&(s=a.items),a.style!==i&&(l=a.style),a.selector!==i&&(d=a.selector),a.className!==i&&(h=a.className)),t.select.selector(d),t.select.items(s),t.select.style(l),t.select.blurable(c),t.select.info(u),n._select.className=h,e.fn.dataTable.ext.order["select-checkbox"]=function(t,n){return this.api().column(n,{order:"index"}).nodes().map(function(n){return"row"===t._select.items?e(n).parent().hasClass(t._select.className):"cell"===t._select.items&&e(n).hasClass(t._select.className)})},e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){p.ext.selector[t.type].push(function(e,n,r){var o,a=n.selected,s=[];if(a===i)return r;for(var l=0,c=r.length;l<c;l++)o=e[t.prop][r[l]],(a===!0&&o._select_selected===!0||a===!1&&!o._select_selected)&&s.push(r[l]);return s})}),p.ext.selector.cell.push(function(e,t,n){var r,o=t.selected,a=[];if(o===i)return n;for(var s=0,l=n.length;s<l;s++)r=e.aoData[n[s].row],(o===!0&&r._selected_cells&&r._selected_cells[n[s].column]===!0||o===!1&&(!r._selected_cells||!r._selected_cells[n[s].column]))&&a.push(n[s]);return a});var m=p.Api.register,g=p.Api.registerPlural;return m("select()",function(){return this.iterator("table",function(e){p.select.init(new p.Api(e))})}),m("select.blurable()",function(e){return e===i?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),m("select.info()",function(e){return l===i?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),m("select.items()",function(e){return e===i?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,s(new p.Api(t),"selectItems",[e])})}),m("select.style()",function(e){return e===i?this.context[0]._select.style:this.iterator("table",function(t){t._select.style=e,t._select_init||c(t);var n=new p.Api(t);o(n),"api"!==e&&a(n),s(new p.Api(t),"selectStyle",[e])})}),m("select.selector()",function(e){return e===i?this.context[0]._select.selector:this.iterator("table",function(t){o(new p.Api(t)),t._select.selector=e,"api"!==t._select.style&&a(new p.Api(t))})}),g("rows().select()","row().select()",function(t){var n=this;return t===!1?this.deselect():(this.iterator("row",function(t,n){d(t),t.aoData[n]._select_selected=!0,e(t.aoData[n].nTr).addClass(t._select.className)}),this.iterator("table",function(e,t){s(n,"select",["row",n[t]],!0)}),this)}),g("columns().select()","column().select()",function(t){var n=this;return t===!1?this.deselect():(this.iterator("column",function(t,n){d(t),t.aoColumns[n]._select_selected=!0;var i=new p.Api(t).column(n);e(i.header()).addClass(t._select.className),e(i.footer()).addClass(t._select.className),i.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(e,t){s(n,"select",["column",n[t]],!0)}),this)}),g("cells().select()","cell().select()",function(t){var n=this;return t===!1?this.deselect():(this.iterator("cell",function(t,n,r){d(t);var o=t.aoData[n];o._selected_cells===i&&(o._selected_cells=[]),o._selected_cells[r]=!0,o.anCells&&e(o.anCells[r]).addClass(t._select.className)}),this.iterator("table",function(e,t){s(n,"select",["cell",n[t]],!0)}),this)}),g("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,n){t.aoData[n]._select_selected=!1,e(t.aoData[n].nTr).removeClass(t._select.className)}),this.iterator("table",function(e,n){s(t,"deselect",["row",t[n]],!0)}),this}),g("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,n){t.aoColumns[n]._select_selected=!1;var i=new p.Api(t),r=i.column(n);e(r.header()).removeClass(t._select.className),e(r.footer()).removeClass(t._select.className),i.cells(null,n).indexes().each(function(n){var i=t.aoData[n.row],r=i._selected_cells;!i.anCells||r&&r[n.column]||e(i.anCells[n.column]).removeClass(t._select.className)})}),this.iterator("table",function(e,n){s(t,"deselect",["column",t[n]],!0)}),this}),g("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,n,i){var r=t.aoData[n];r._selected_cells[i]=!1,r.anCells&&!t.aoColumns[i]._select_selected&&e(r.anCells[i]).removeClass(t._select.className)}),this.iterator("table",function(e,n){s(t,"deselect",["cell",t[n]],!0)}),this}),e.extend(p.ext.buttons,{selected:{text:f("selected","Selected"),className:"buttons-selected",init:function(e,t,n){var i=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var e=i.rows({selected:!0}).any()||i.columns({selected:!0}).any()||i.cells({selected:!0}).any();i.enable(e)}),this.disable()}},selectedSingle:{text:f("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,n){var i=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(1===t)}),this.disable()}},selectAll:{text:f("selectAll","Select all"),className:"buttons-select-all",action:function(){var e=this.select.items();this[e+"s"]().select()}},selectNone:{text:f("selectNone","Deselect all"),className:"buttons-select-none",action:function(){d(this.settings()[0],!0)},init:function(e,t,n){var i=this;
e.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(t>0)}),this.disable()}}}),e.each(["Row","Column","Cell"],function(e,t){var n=t.toLowerCase();p.ext.buttons["select"+t+"s"]={text:f("select"+t+"s","Select "+n+"s"),className:"buttons-select-"+n+"s",action:function(){this.select.items(n)},init:function(e,t,i){var r=this;e.on("selectItems.dt.DT",function(e,t,i){r.active(i===n)})}}}),e(n).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&p.select.init(new p.Api(t))}),p.select}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=function(t,n){if(!r.versionCheck||!r.versionCheck("1.10.8"))throw"KeyTable requires DataTables 1.10.8 or newer";this.c=e.extend(!0,{},r.defaults.keyTable,o.defaults,n),this.s={dt:new r.Api(t),enable:!0,focusDraw:!1,waitingForDraw:!1,lastFocus:null},this.dom={};var i=this.s.dt.settings()[0],a=i.keytable;return a?a:(i.keytable=this,void this._constructor())};return e.extend(o.prototype,{blur:function(){this._blur()},enable:function(e){this.s.enable=e},focus:function(e,t){this._focus(this.s.dt.cell(e,t))},focused:function(e){var t=this.s.lastFocus;if(!t)return!1;var n=this.s.lastFocus.cell.index();return e.row===n.row&&e.column===n.column},_constructor:function(){this._tabInput();var t=this,i=this.s.dt,r=e(i.table().node());"static"===r.css("position")&&r.css("position","relative"),e(i.table().body()).on("click.keyTable","th, td",function(e){if(t.s.enable!==!1){var n=i.cell(this);n.any()&&t._focus(n,null,!1,e)}}),e(n).on("keydown.keyTable",function(e){t._key(e)}),this.c.blurable&&e(n).on("mousedown.keyTable",function(n){e(n.target).parents(".dataTables_filter").length&&t._blur(),e(n.target).parents().filter(i.table().container()).length||e(n.target).parents("div.DTE").length||e(n.target).parents("div.editor-datetime").length||e(n.target).parents().filter(".DTFC_Cloned").length||t._blur()}),this.c.editor&&i.on("key.keyTable",function(e,n,i,r,o){t._editor(i,o)}),i.settings()[0].oFeatures.bStateSave&&i.on("stateSaveParams.keyTable",function(e,n,i){i.keyTable=t.s.lastFocus?t.s.lastFocus.cell.index():null}),i.on("draw.keyTable",function(r){if(!t.s.focusDraw){var o=t.s.lastFocus;if(o&&o.node&&e(o.node).closest("body")===n.body){var a=t.s.lastFocus.relative,s=i.page.info(),l=a.row+s.start;if(0===s.recordsDisplay)return;l>=s.recordsDisplay&&(l=s.recordsDisplay-1),t._focus(l,a.column,!0,r)}}}),i.on("destroy.keyTable",function(){i.off(".keyTable"),e(i.table().body()).off("click.keyTable","th, td"),e(n.body).off("keydown.keyTable").off("click.keyTable")});var o=i.state.loaded();o&&o.keyTable?i.one("init",function(){var e=i.cell(o.keyTable);e.any()&&e.focus()}):this.c.focus&&i.cell(this.c.focus).focus()},_blur:function(){if(this.s.enable&&this.s.lastFocus){var t=this.s.lastFocus.cell;e(t.node()).removeClass(this.c.className),this.s.lastFocus=null,this._updateFixedColumns(t.index().column),this._emitEvent("key-blur",[this.s.dt,t])}},_columns:function(){var e=this.s.dt,t=e.columns(this.c.columns).indexes(),n=[];return e.columns(":visible").every(function(e){t.indexOf(e)!==-1&&n.push(e)}),n},_editor:function(t,n){var i=this,r=this.s.dt,o=this.c.editor;16!==t&&(n.stopPropagation(),13===t&&n.preventDefault(),o.one("open.keyTable",function(){o.off("cancelOpen.keyTable"),e("div.DTE input, div.DTE textarea").select(),r.keys.enable(i.c.editorKeys),r.one("key-blur.editor",function(){o.displayed()&&o.submit()}),o.one("close",function(){r.keys.enable(!0),r.off("key-blur.editor")})}).one("cancelOpen.keyTable",function(){o.off("open.keyTable")}).inline(this.s.lastFocus.cell.index()))},_emitEvent:function(t,n){this.s.dt.iterator("table",function(i,r){e(i.nTable).triggerHandler(t,n)})},_focus:function(r,o,a,s){var l=this,c=this.s.dt,u=c.page.info(),d=this.s.lastFocus;if(s||(s=null),this.s.enable){if("number"!=typeof r){var h=r.index();o=h.column,r=c.rows({filter:"applied",order:"applied"}).indexes().indexOf(h.row),u.serverSide&&(r+=u.start)}if(u.length!==-1&&(r<u.start||r>=u.start+u.length))return this.s.focusDraw=!0,this.s.waitingForDraw=!0,void c.one("draw",function(){l.s.focusDraw=!1,l.s.waitingForDraw=!1,l._focus(r,o,i,s)}).page(Math.floor(r/u.length)).draw(!1);if(e.inArray(o,this._columns())!==-1){u.serverSide&&(r-=u.start);var f=c.cell(":eq("+r+")",o,{search:"applied"});if(d){if(d.node===f.node())return;this._blur()}var p=e(f.node());if(p.addClass(this.c.className),this._updateFixedColumns(o),a===i||a===!0){this._scroll(e(t),e(n.body),p,"offset");var m=c.table().body().parentNode;if(m!==c.table().header().parentNode){var g=e(m.parentNode);this._scroll(g,g,p,"position")}}this.s.lastFocus={cell:f,node:f.node(),relative:{row:c.rows({page:"current"}).indexes().indexOf(f.index().row),column:f.index().column}},this._emitEvent("key-focus",[this.s.dt,f,s||null]),c.state.save()}}},_key:function(t){if(this.s.waitingForDraw)return void t.preventDefault();var n=this.s.enable,i=n===!0||"navigation-only"===n;if(n&&!(0===t.keyCode||t.ctrlKey||t.metaKey||t.altKey)){var r=this.s.lastFocus;if(r){var o=this.s.dt;if(!this.c.keys||e.inArray(t.keyCode,this.c.keys)!==-1)switch(t.keyCode){case 9:this._shift(t,t.shiftKey?"left":"right",!0);break;case 27:this.s.blurable&&n===!0&&this._blur();break;case 33:case 34:i&&(t.preventDefault(),o.page(33===t.keyCode?"previous":"next").draw(!1));break;case 35:case 36:if(i){t.preventDefault();var a=o.cells({page:"current"}).indexes(),s=this._columns();this._focus(o.cell(a[35===t.keyCode?a.length-1:s[0]]),null,!0,t)}break;case 37:i&&this._shift(t,"left");break;case 38:i&&this._shift(t,"up");break;case 39:i&&this._shift(t,"right");break;case 40:i&&this._shift(t,"down");break;default:n===!0&&this._emitEvent("key",[o,t.keyCode,this.s.lastFocus.cell,t])}}}},_scroll:function(e,t,n,i){var r=n[i](),o=n.outerHeight(),a=n.outerWidth(),s=t.scrollTop(),l=t.scrollLeft(),c=e.height(),u=e.width();r.top<s&&t.scrollTop(r.top),r.left<l&&t.scrollLeft(r.left),r.top+o>s+c&&o<c&&t.scrollTop(r.top+o-c),r.left+a>l+u&&a<u&&t.scrollLeft(r.left+a-u)},_shift:function(t,n,i){var r=this.s.dt,o=r.page.info(),a=o.recordsDisplay,s=this.s.lastFocus.cell,l=this._columns();if(s){var c=r.rows({filter:"applied",order:"applied"}).indexes().indexOf(s.index().row);o.serverSide&&(c+=o.start);var u=r.columns(l).indexes().indexOf(s.index().column),d=c,h=l[u];"right"===n?u>=l.length-1?(d++,h=l[0]):h=l[u+1]:"left"===n?0===u?(d--,h=l[l.length-1]):h=l[u-1]:"up"===n?d--:"down"===n&&d++,d>=0&&d<a&&e.inArray(h,l)!==-1?(t.preventDefault(),this._focus(d,h,!0,t)):i&&this.c.blurable?this._blur():t.preventDefault()}},_tabInput:function(){var t=this,n=this.s.dt,i=null!==this.c.tabIndex?this.c.tabIndex:n.settings()[0].iTabIndex;if(i!=-1){var r=e('<div><input type="text" tabindex="'+i+'"/></div>').css({position:"absolute",height:1,width:0,overflow:"hidden"}).insertBefore(n.table().node());r.children().on("focus",function(e){n.cell(":eq(0)",{page:"current"}).any()&&t._focus(n.cell(":eq(0)","0:visible",{page:"current"}),null,!0,e)})}},_updateFixedColumns:function(e){var t=this.s.dt,n=t.settings()[0];if(n._oFixedColumns){var i=n._oFixedColumns.s.iLeftColumns,r=n.aoColumns.length-n._oFixedColumns.s.iRightColumns;(e<i||e>=r)&&t.fixedColumns().update()}}}),o.defaults={blurable:!0,className:"focus",columns:"",editor:null,editorKeys:"navigation-only",focus:null,keys:null,tabIndex:null},o.version="2.2.1",e.fn.dataTable.KeyTable=o,e.fn.DataTable.KeyTable=o,r.Api.register("cell.blur()",function(){return this.iterator("table",function(e){e.keytable&&e.keytable.blur()})}),r.Api.register("cell().focus()",function(){return this.iterator("cell",function(e,t,n){e.keytable&&e.keytable.focus(t,n)})}),r.Api.register("keys.disable()",function(){return this.iterator("table",function(e){e.keytable&&e.keytable.enable(!1)})}),r.Api.register("keys.enable()",function(e){return this.iterator("table",function(t){t.keytable&&t.keytable.enable(e===i||e)})}),r.ext.selector.cell.push(function(e,t,n){var r=t.focused,o=e.keytable,a=[];if(!o||r===i)return n;for(var s=0,l=n.length;s<l;s++)(r===!0&&o.focused(n[s])||r===!1&&!o.focused(n[s]))&&a.push(n[s]);return a}),e(n).on("preInit.dt.dtk",function(t,n,i){if("dt"===t.namespace){var a=n.oInit.keys,s=r.defaults.keys;if(a||s){var l=e.extend({},s,a);a!==!1&&new o(n,l)}}}),o}),function(){function e(){return{restrict:"AEC",require:"dxStartWith",controller:"dxStartWithCtrl",scope:!0,terminal:!0,transclude:!0,multiElement:!0,$$tlb:!0,compile:function(e,t){var n=t.dxStartWith||t.root,r=n.match(i),o=r[1],a=r[3]||"";return function(e,t,n,i,r){i.alias=a,i.transclude=r,i.transclude(e,function(e,n){function i(e){n.$dxPrior=e,""!==a&&(n[a]=e)}t.append(e),n.$dxLevel=0,n.$dxIsRoot=!0,n.$watch(o,i)})}}}}function t(){return{restrict:"AEC",require:"^dxStartWith",scope:!0,terminal:!0,multiElement:!0,compile:function(e,t){var n=t.dxConnect||t.connect;return function(e,t,i,r){alias=r.alias||"",r.transclude(e,function(e,i){function r(e){i.$dxPrior=e,""!==alias&&(i[alias]=e)}t.append(e),i.$dxLevel=i.$dxLevel+1,i.$dxIsRoot=!1,i.$watch(n,r)})}}}}var n=angular.module("dotjem.angular.tree",[]),i=/^(\S+)(\s+as\s+(\w+))?$/;n.controller("dxStartWithCtrl",[function(){}]),n.directive("dxStartWith",e),n.directive("dxConnect",t)}();var saveAs=saveAs||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",u=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,u)},h=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){l(o)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},p=function(t,l,u){u||(t=f(t));var p,m=this,g=t.type,v=g===c,y=function(){h(m,"writestart progress write writeend".split(" "))},b=function(){if((s||v&&a)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,m.readyState=m.DONE,y()},i.readAsDataURL(t),void(m.readyState=m.INIT)}if(p||(p=n().createObjectURL(t)),v)e.location.href=p;else{var r=e.open(p,"_blank");r||(e.location.href=p)}m.readyState=m.DONE,y(),d(p)};return m.readyState=m.INIT,r?(p=n().createObjectURL(t),void setTimeout(function(){i.href=p,i.download=l,o(i),y(),d(p),m.readyState=m.DONE})):void b()},m=p.prototype,g=function(e,t,n){return new p(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.geoapi=e()}}(function(){var e;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===d?62:t===s||t===h?63:t<l?-1:t<l+10?t-l+26+26:t<u+26?t-u:t<c+26?t-c+26:void 0}function n(e){function n(e){c[d++]=e}var i,r,a,s,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;l="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,c=new o(3*e.length/4-l),a=l>0?e.length-4:e.length;var d=0;for(i=0,r=0;i<a;i+=4,r+=3)s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(s>>8&255),n(255&s)),c}function r(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,a,s=e.length%3,l="";for(r=0,a=e.length-s;r<a;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],l+=n(o);switch(s){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),d="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}("undefined"==typeof n?this.base64js={}:n)},{}],2:[function(e,t,n){(function(t){"use strict";function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new o(e,arguments[1]):new o(e)}function a(e,t){if(e=m(e,t<0?0:0|g(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var i=0|y(t,n);return e=m(e,i),e.write(t,n),e}function l(e,t){if(o.isBuffer(t))return c(e,t);if(K(t))return u(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return d(e,t);if(t instanceof ArrayBuffer)return h(e,t)}return t.length?f(e,t):p(e,t)}function c(e,t){var n=0|g(t.length);return e=m(e,n),t.copy(e,0,0,n),e}function u(e,t){var n=0|g(t.length);e=m(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function d(e,t){var n=0|g(t.length);e=m(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e,t){return o.TYPED_ARRAY_SUPPORT?(t.byteLength,e=o._augment(new Uint8Array(t))):e=d(e,new Uint8Array(t)),e}function f(e,t){var n=0|g(t.length);e=m(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e,t){var n,i=0;"Buffer"===t.type&&K(t.data)&&(n=t.data,i=0|g(n.length)),e=m(e,i);for(var r=0;r<i;r+=1)e[r]=255&n[r];return e}function m(e,t){o.TYPED_ARRAY_SUPPORT?(e=o._augment(new Uint8Array(t)),e.__proto__=o.prototype):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=o.poolSize>>>1;return n&&(e.parent=Z),e}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e,t){if(!(this instanceof v))return new v(e,t);var n=new o(e,t);return delete n.parent,n}function y(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,n){var i=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return T(this,t,n);case"binary":return O(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function _(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function w(e,t,n,i){return W(U(t,e.length-n),e,n,i)}function x(e,t,n,i){return W(q(t),e,n,i)}function E(e,t,n,i){return x(e,t,n,i)}function k(e,t,n,i){return W(G(t),e,n,i)}function C(e,t,n,i){return W(V(t,e.length-n),e,n,i)}function S(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var l,c,u,d;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[r+1],128===(192&l)&&(d=(31&o)<<6|63&l,d>127&&(a=d));break;case 3:l=e[r+1],c=e[r+2],128===(192&l)&&128===(192&c)&&(d=(15&o)<<12|(63&l)<<6|63&c,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:l=e[r+1],c=e[r+2],u=e[r+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,d>65535&&d<1114112&&(a=d))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return A(i)}function A(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=J));return n}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(127&e[r]);return i}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(e[r]);return i}function P(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;o++)r+=H(e[o]);return r}function $(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,i,r,a){if(!o.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>r||t<a)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function R(e,t,n,i,r,o){if(t>r||t<o)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function z(e,t,n,i,r){return r||R(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,i,23,4),n+4}function j(e,t,n,i,r){return r||R(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,i,52,8),n+8}function F(e){if(e=B(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function B(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;a<i;a++){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function G(e){return Y.toByteArray(F(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}var Y=e("base64-js"),X=e("ieee754"),K=e("isarray");n.Buffer=o,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Z={};o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a&&e[r]===t[r];)++r;return r!==a&&(n=e[r],i=t[r]),n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new o(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new o(t),r=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(i,r),r+=a.length}return i},o.byteLength=y,o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):b.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:o.compare(this,e)},o.prototype.indexOf=function(e,t){function n(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[i===-1?0:r-i]){if(i===-1&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(o.isBuffer(e))return n(this,e,t);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(e){return this.readUInt8(e)},o.prototype.set=function(e,t){return this.writeUInt8(e,t)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=t,t=0|n,n=r}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"binary":return E(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i;if(o.TYPED_ARRAY_SUPPORT)i=o._augment(this.subarray(e,t));else{var r=t-e;i=new o(r,(void 0));for(var a=0;a<r;a++)i[a]=this[a+e]}return i.length&&(i.parent=this.parent||this),i},o.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),X.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),X.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),X.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),X.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||I(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||I(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=0,a=1,s=e<0?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=e<0?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;r--)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;r++)e[r+t]=this[r+n];else e._set(this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;i<n;i++)this[i]=e;else{var r=U(e.toString()),o=r.length;for(i=t;i<n;i++)this[i]=r[i%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=o.prototype;o._augment=function(e){return e.constructor=o,e._isBuffer=!0,e._set=e.set,e.get=Q.get,e.set=Q.set,e.write=Q.write,e.toString=Q.toString,e.toLocaleString=Q.toString,e.toJSON=Q.toJSON,e.equals=Q.equals,e.compare=Q.compare,e.indexOf=Q.indexOf,e.copy=Q.copy,e.slice=Q.slice,e.readUIntLE=Q.readUIntLE,e.readUIntBE=Q.readUIntBE,e.readUInt8=Q.readUInt8,e.readUInt16LE=Q.readUInt16LE,e.readUInt16BE=Q.readUInt16BE,e.readUInt32LE=Q.readUInt32LE,e.readUInt32BE=Q.readUInt32BE,e.readIntLE=Q.readIntLE,e.readIntBE=Q.readIntBE,e.readInt8=Q.readInt8,e.readInt16LE=Q.readInt16LE,e.readInt16BE=Q.readInt16BE,e.readInt32LE=Q.readInt32LE,e.readInt32BE=Q.readInt32BE,e.readFloatLE=Q.readFloatLE,e.readFloatBE=Q.readFloatBE,e.readDoubleLE=Q.readDoubleLE,e.readDoubleBE=Q.readDoubleBE,e.writeUInt8=Q.writeUInt8,e.writeUIntLE=Q.writeUIntLE,e.writeUIntBE=Q.writeUIntBE,e.writeUInt16LE=Q.writeUInt16LE,e.writeUInt16BE=Q.writeUInt16BE,
e.writeUInt32LE=Q.writeUInt32LE,e.writeUInt32BE=Q.writeUInt32BE,e.writeIntLE=Q.writeIntLE,e.writeIntBE=Q.writeIntBE,e.writeInt8=Q.writeInt8,e.writeInt16LE=Q.writeInt16LE,e.writeInt16BE=Q.writeInt16BE,e.writeInt32LE=Q.writeInt32LE,e.writeInt32BE=Q.writeInt32BE,e.writeFloatLE=Q.writeFloatLE,e.writeFloatBE=Q.writeFloatBE,e.writeDoubleLE=Q.writeDoubleLE,e.writeDoubleBE=Q.writeDoubleBE,e.fill=Q.fill,e.inspect=Q.inspect,e.toArrayBuffer=Q.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:6,isarray:9}],3:[function(t,n,r){!function(i,r){"use strict";"undefined"!=typeof e&&e.amd?e("canvgModule",["rgbcolor","stackblur"],r):"undefined"!=typeof n&&n.exports&&(n.exports=r(t("rgbcolor"),t("stackblur"))),i.canvg=r(i.RGBColor,i.stackBlur)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=[0,0,0],n=function(n,i){var r=e.match(n);null!=r&&(t[i]+=r.length,e=e.replace(n," "))};return e=e.replace(/:not\(([^\)]*)\)/g,"     $1 "),e=e.replace(/{[\s\S]*/gm," "),n(s,1),n(l,0),n(c,1),n(u,2),n(d,1),n(h,1),e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),n(f,2),t.join("")}function r(r){var a={opts:r};a.FRAMERATE=30,a.MAX_VIRTUAL_PIXELS=3e4,a.log=function(e){},1==a.opts.log&&"undefined"!=typeof console&&(a.log=function(e){}),a.init=function(e){var t=0;a.UniqueId=function(){return t++,"canvg"+t},a.Definitions={},a.Styles={},a.StylesSpecificity={},a.Animations=[],a.Images=[],a.ctx=e,a.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},a.init(),a.ImagesLoaded=function(){for(var e=0;e<a.Images.length;e++)if(!a.Images[e].loaded)return!1;return!0},a.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},a.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},a.ajax=function(e){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t?(t.open("GET",e,!1),t.send(null),t.responseText):null},a.parseXml=function(e){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var t=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,t.loadXml(e,n),t}if(window.DOMParser){var i=new DOMParser;return i.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},a.Property=function(e,t){this.name=e,this.value=t},a.Property.prototype.getValue=function(){return this.value},a.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},a.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},a.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},a.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},a.Property.prototype.addOpacity=function(t){var n=this.value;if(null!=t.value&&""!=t.value&&"string"==typeof this.value){var i=new e(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t.numValue()+")")}return new a.Property(this.name,n)},a.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),a.Definitions[e]},a.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},a.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(a.ctx,e,t);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var i=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&(n.attribute("patternTransform",!0).value=i.value)}return n.createPattern(a.ctx,e)}return null},a.Property.prototype.getDPI=function(e){return 96},a.Property.prototype.getEM=function(e){var t=12,n=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);return n.hasValue()&&(t=n.toPixels(e)),t},a.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},a.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*a.ViewPort.ComputeSize(e);var i=this.numValue();return t&&i<1?i*a.ViewPort.ComputeSize(e):i},a.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():e.match(/ms$/)?this.numValue():this.numValue()},a.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var s={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return a.Property.prototype.toTextBaseline=function(){return this.hasValue()?s[this.value]:null},a.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,i,r,o){var s=null!=o?this.Parse(o):this.CreateFont("","","","","",a.ctx.font);return{fontFamily:r||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:n||s.fontWeight,fontVariant:t||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(t){for(var n={},i=a.trim(a.compressSpaces(t||"")).split(" "),r={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",s=0;s<i.length;s++)r.fontStyle||e.Styles.indexOf(i[s])==-1?r.fontVariant||e.Variants.indexOf(i[s])==-1?r.fontWeight||e.Weights.indexOf(i[s])==-1?r.fontSize?"inherit"!=i[s]&&(o+=i[s]):("inherit"!=i[s]&&(n.fontSize=i[s].split("/")[0]),r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=!0):("inherit"!=i[s]&&(n.fontWeight=i[s]),r.fontStyle=r.fontVariant=r.fontWeight=!0):("inherit"!=i[s]&&(n.fontVariant=i[s]),r.fontStyle=r.fontVariant=!0):("inherit"!=i[s]&&(n.fontStyle=i[s]),r.fontStyle=!0);return""!=o&&(n.fontFamily=o),n}},a.ToNumberArray=function(e){for(var t=a.trim(a.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},a.Point=function(e,t){this.x=e,this.y=t},a.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},a.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},a.CreatePoint=function(e){var t=a.ToNumberArray(e);return new a.Point(t[0],t[1])},a.CreatePath=function(e){for(var t=a.ToNumberArray(e),n=[],i=0;i<t.length;i+=2)n.push(new a.Point(t[i],t[i+1]));return n},a.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,o){var a=e+2/3*(n-e),s=t+2/3*(i-t),l=a+1/3*(r-e),c=s+1/3*(o-t);this.addBezierCurve(e,t,a,l,s,c,r,o)},this.addBezierCurve=function(e,t,n,r,o,a,s,l){var c=[e,t],u=[n,r],d=[o,a],h=[s,l];for(this.addPoint(c[0],c[1]),this.addPoint(h[0],h[1]),i=0;i<=1;i++){var f=function(e){return Math.pow(1-e,3)*c[i]+3*Math.pow(1-e,2)*e*u[i]+3*(1-e)*Math.pow(e,2)*d[i]+Math.pow(e,3)*h[i]},p=6*c[i]-12*u[i]+6*d[i],m=-3*c[i]+9*u[i]-9*d[i]+3*h[i],g=3*u[i]-3*c[i];if(0!=m){var v=Math.pow(p,2)-4*g*m;if(!(v<0)){var y=(-p+Math.sqrt(v))/(2*m);0<y&&y<1&&(0==i&&this.addX(f(y)),1==i&&this.addY(f(y)));var b=(-p-Math.sqrt(v))/(2*m);0<b&&b<1&&(0==i&&this.addX(f(b)),1==i&&this.addY(f(b)))}}else{if(0==p)continue;var _=-g/p;0<_&&_<1&&(0==i&&this.addX(f(_)),1==i&&this.addY(f(_)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},a.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=a.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var t=a.ToNumberArray(e);this.angle=new a.Property("angle",t[0]),this.cx=t[1]||0,this.cy=t[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=a.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=a.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],n=this.m[2],i=this.m[4],r=this.m[1],o=this.m[3],a=this.m[5],s=0,l=0,c=1,u=1/(t*(o*c-a*l)-n*(r*c-a*s)+i*(r*l-o*s));e.transform(u*(o*c-a*l),u*(a*s-r*c),u*(i*l-n*c),u*(t*c-i*s),u*(n*a-i*o),u*(i*r-t*a))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new a.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var n=a.trim(a.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++){var r=a.trim(n[i].split("(")[0]),o=n[i].split("(")[1].replace(")",""),s=this.Type[r];if("undefined"!=typeof s){var l=new s(o);l.type=r,this.transforms.push(l)}}},a.AspectRatio=function(e,t,n,i,r,o,s,l,c,u){t=a.compressSpaces(t),t=t.replace(/^defer\s/,"");var d=t.split(" ")[0]||"xMidYMid",h=t.split(" ")[1]||"meet",f=n/i,p=r/o,m=Math.min(f,p),g=Math.max(f,p);"meet"==h&&(i*=m,o*=m),"slice"==h&&(i*=g,o*=g),c=new a.Property("refX",c),u=new a.Property("refY",u),c.hasValue()&&u.hasValue()?e.translate(-m*c.toPixels("x"),-m*u.toPixels("y")):(d.match(/^xMid/)&&("meet"==h&&m==p||"slice"==h&&g==p)&&e.translate(n/2-i/2,0),d.match(/YMid$/)&&("meet"==h&&m==f||"slice"==h&&g==f)&&e.translate(0,r/2-o/2),d.match(/^xMax/)&&("meet"==h&&m==p||"slice"==h&&g==p)&&e.translate(n-i,0),d.match(/YMax$/)&&("meet"==h&&m==f||"slice"==h&&g==f)&&e.translate(0,r-o)),"none"==d?e.scale(f,p):"meet"==h?e.scale(m,m):"slice"==h&&e.scale(g,g),e.translate(null==s?0:-s,null==l?0:-l)},a.Element={},a.EmptyProperty=new a.Property("EMPTY",""),a.Element.ElementBase=function(e){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new a.Property(e,""),this.attributes[e]=n),n||a.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return a.EmptyProperty},this.style=function(e,t,n){var i=this.styles[e];if(null!=i)return i;var r=this.attribute(e);if(null!=r&&r.hasValue())return this.styles[e]=r,r;if(1!=n){var o=this.parent;if(null!=o){var s=o.style(e);if(null!=s&&s.hasValue())return s}}return 1==t&&(i=new a.Property(e,""),this.styles[e]=i),i||a.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;t&&(n=a.CreateElement(e)),n.parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var t in a.Styles)if("@"!=t[0]&&o(e,t)){var n=a.Styles[t],i=a.StylesSpecificity[t];if(null!=n)for(var r in n){var s=this.stylesSpecificity[r];"undefined"==typeof s&&(s="000"),i>s&&(this.styles[r]=n[r],this.stylesSpecificity[r]=i)}}};var t=new RegExp("^[A-Z-]+$"),n=function(e){return t.test(e)?e.toLowerCase():e};if(null!=e&&1==e.nodeType){for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i],s=n(r.nodeName);this.attributes[s]=new a.Property(s,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var l=this.attribute("style").value.split(";"),i=0;i<l.length;i++)if(""!=a.trim(l[i])){var c=l[i].split(":"),u=a.trim(c[0]),d=a.trim(c[1]);this.styles[u]=new a.Property(u,d)}this.attribute("id").hasValue()&&null==a.Definitions[this.attribute("id").value]&&(a.Definitions[this.attribute("id").value]=this);for(var i=0;i<e.childNodes.length;i++){var h=e.childNodes[i];if(1==h.nodeType&&this.addChild(h,!0),this.captureTextNodes&&(3==h.nodeType||4==h.nodeType)){var f=h.value||h.text||h.textContent||"";""!=a.compressSpaces(f)&&this.addChild(new a.Element.tspan(h),!1)}}}},a.Element.RenderedElementBase=function(e){this.base=a.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var t=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=t&&(e.fillStyle=t)}else if(this.style("fill").hasValue()){var n=this.style("fill");"currentColor"==n.value&&(n.value=this.style("color").value),"inherit"!=n.value&&(e.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value)}if(this.style("fill-opacity").hasValue()){var n=new a.Property("fill",e.fillStyle);n=n.addOpacity(this.style("fill-opacity")),e.fillStyle=n.value}if(this.style("stroke").isUrlDefinition()){var t=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=t&&(e.strokeStyle=t)}else if(this.style("stroke").hasValue()){var i=this.style("stroke");"currentColor"==i.value&&(i.value=this.style("color").value),"inherit"!=i.value&&(e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("stroke-opacity").hasValue()){var i=new a.Property("stroke",e.strokeStyle);i=i.addOpacity(this.style("stroke-opacity")),e.strokeStyle=i.value}if(this.style("stroke-width").hasValue()){var r=this.style("stroke-width").toPixels();e.lineWidth=0==r?.001:r}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var o=a.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(o):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=o:"undefined"==typeof e.mozDash||1==o.length&&0==o[0]||(e.mozDash=o);var s=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=s:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=s:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=s)}if("undefined"!=typeof e.font&&(e.font=a.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()){var l=new a.Transform(this.style("transform",!1,!0).value);l.apply(e)}if(this.style("clip-path",!1,!0).hasValue()){var c=this.style("clip-path",!1,!0).getDefinition();null!=c&&c.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},a.Element.RenderedElementBase.prototype=new a.Element.ElementBase,a.Element.PathElementBase=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new a.BoundingBox},this.renderChildren=function(e){this.path(e),a.Mouse.checkPath(this,e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()){var n=this.style("marker-start").getDefinition();n.render(e,t[0][0],t[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)n.render(e,t[i][0],t[i][1]);if(this.style("marker-end").isUrlDefinition()){var n=this.style("marker-end").getDefinition();n.render(e,t[t.length-1][0],t[t.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},a.Element.PathElementBase.prototype=new a.Element.RenderedElementBase,a.Element.svg=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),a.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,"undefined"!=typeof e.font&&"undefined"!=typeof window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t=a.ViewPort.width(),n=a.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){t=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");var i=0,r=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),r=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(i,r),e.lineTo(t,r),e.lineTo(t,n),e.lineTo(i,n),e.closePath(),e.clip())}if(a.ViewPort.SetCurrent(t,n),this.attribute("viewBox").hasValue()){var o=a.ToNumberArray(this.attribute("viewBox").value),s=o[0],l=o[1];t=o[2],n=o[3],a.AspectRatio(e,this.attribute("preserveAspectRatio").value,a.ViewPort.width(),t,a.ViewPort.height(),n,s,l,this.attribute("refX").value,this.attribute("refY").value),a.ViewPort.RemoveCurrent(),a.ViewPort.SetCurrent(o[2],o[3])}}},a.Element.svg.prototype=new a.Element.RenderedElementBase,a.Element.rect=function(e){this.base=a.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=s),o=Math.min(o,i/2),s=Math.min(s,r/2),null!=e&&(e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+o,n),e.closePath()),new a.BoundingBox(t,n,t+i,n+r)}},a.Element.rect.prototype=new a.Element.PathElementBase,a.Element.circle=function(e){this.base=a.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!0),e.closePath()),new a.BoundingBox(t-i,n-i,t+i,n+i)}},a.Element.circle.prototype=new a.Element.PathElementBase,a.Element.ellipse=function(e){this.base=a.Element.PathElementBase,this.base(e),this.path=function(e){var t=4*((Math.sqrt(2)-1)/3),n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(r,o-i),e.bezierCurveTo(r+t*n,o-i,r+n,o-t*i,r+n,o),e.bezierCurveTo(r+n,o+t*i,r+t*n,o+i,r,o+i),e.bezierCurveTo(r-t*n,o+i,r-n,o+t*i,r-n,o),e.bezierCurveTo(r-n,o-t*i,r-t*n,o-i,r,o-i),e.closePath()),new a.BoundingBox(r-n,o-i,r+n,o+i)}},a.Element.ellipse.prototype=new a.Element.PathElementBase,a.Element.line=function(e){this.base=a.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new a.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new a.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new a.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},a.Element.line.prototype=new a.Element.PathElementBase,a.Element.polyline=function(e){this.base=a.Element.PathElementBase,this.base(e),this.points=a.CreatePath(this.attribute("points").value),this.path=function(e){var t=new a.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.length>0&&e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},a.Element.polyline.prototype=new a.Element.PathElementBase,a.Element.polygon=function(e){this.base=a.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},a.Element.polygon.prototype=new a.Element.polyline,a.Element.path=function(e){this.base=a.Element.PathElementBase,this.base(e);var t=this.attribute("d").value;t=t.replace(/,/gm," ");for(var n=0;n<2;n++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2");for(var n=0;n<2;n++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=a.compressSpaces(t),t=a.trim(t),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new a.Point(0,0),this.control=new a.Point(0,0),this.current=new a.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new a.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new a.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(t),this.path=function(e){var t=this.PathParser;t.reset();var n=new a.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var i=t.getAsCurrentPoint();for(t.addMarker(i),n.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();){var i=t.getAsCurrentPoint();t.addMarker(i,t.start),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var r=t.current,i=t.getAsCurrentPoint();t.addMarker(i,r),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var o=new a.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(o,t.current),t.current=o,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){var o=new a.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(o,t.current),t.current=o,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var s=t.current,l=t.getPoint(),c=t.getAsControlPoint(),u=t.getAsCurrentPoint();t.addMarker(u,c,l),n.addBezierCurve(s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y),null!=e&&e.bezierCurveTo(l.x,l.y,c.x,c.y,u.x,u.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){var s=t.current,l=t.getReflectedControlPoint(),c=t.getAsControlPoint(),u=t.getAsCurrentPoint();t.addMarker(u,c,l),n.addBezierCurve(s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y),null!=e&&e.bezierCurveTo(l.x,l.y,c.x,c.y,u.x,u.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){var s=t.current,c=t.getAsControlPoint(),u=t.getAsCurrentPoint();t.addMarker(u,c,c),n.addQuadraticCurve(s.x,s.y,c.x,c.y,u.x,u.y),null!=e&&e.quadraticCurveTo(c.x,c.y,u.x,u.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){var s=t.current,c=t.getReflectedControlPoint();t.control=c;var u=t.getAsCurrentPoint();t.addMarker(u,c,c),n.addQuadraticCurve(s.x,s.y,c.x,c.y,u.x,u.y),null!=e&&e.quadraticCurveTo(c.x,c.y,u.x,u.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){var s=t.current,d=t.getScalar(),h=t.getScalar(),f=t.getScalar()*(Math.PI/180),p=t.getScalar(),m=t.getScalar(),u=t.getAsCurrentPoint(),g=new a.Point(Math.cos(f)*(s.x-u.x)/2+Math.sin(f)*(s.y-u.y)/2,-Math.sin(f)*(s.x-u.x)/2+Math.cos(f)*(s.y-u.y)/2),v=Math.pow(g.x,2)/Math.pow(d,2)+Math.pow(g.y,2)/Math.pow(h,2);v>1&&(d*=Math.sqrt(v),h*=Math.sqrt(v));var y=(p==m?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(h,2)-Math.pow(d,2)*Math.pow(g.y,2)-Math.pow(h,2)*Math.pow(g.x,2))/(Math.pow(d,2)*Math.pow(g.y,2)+Math.pow(h,2)*Math.pow(g.x,2)));isNaN(y)&&(y=0);var b=new a.Point(y*d*g.y/h,y*-h*g.x/d),_=new a.Point((s.x+u.x)/2+Math.cos(f)*b.x-Math.sin(f)*b.y,(s.y+u.y)/2+Math.sin(f)*b.x+Math.cos(f)*b.y),w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},x=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},E=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(x(e,t))},k=E([1,0],[(g.x-b.x)/d,(g.y-b.y)/h]),C=[(g.x-b.x)/d,(g.y-b.y)/h],S=[(-g.x-b.x)/d,(-g.y-b.y)/h],M=E(C,S);x(C,S)<=-1&&(M=Math.PI),x(C,S)>=1&&(M=0);var A=1-m?1:-1,T=k+A*(M/2),O=new a.Point(_.x+d*Math.cos(T),_.y+h*Math.sin(T));if(t.addMarkerAngle(O,T-A*Math.PI/2),t.addMarkerAngle(u,T-A*Math.PI),n.addPoint(u.x,u.y),null!=e){var x=d>h?d:h,P=d>h?1:d/h,$=d>h?h/d:1;e.translate(_.x,_.y),e.rotate(f),e.scale(P,$),e.arc(0,0,x,k,k+M,1-m),e.scale(1/P,1/$),e.rotate(-f),e.translate(-_.x,-_.y)}}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return n},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},a.Element.path.prototype=new a.Element.PathElementBase,a.Element.pattern=function(e){this.base=a.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),r=new a.Element.svg;r.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new a.Property("width",n+"px"),r.attributes.height=new a.Property("height",i+"px"),r.attributes.transform=new a.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var o=document.createElement("canvas");o.width=n,o.height=i;var s=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var c=-1;c<=1;c++)s.save(),r.attributes.x=new a.Property("x",l*o.width),r.attributes.y=new a.Property("y",c*o.height),r.render(s),s.restore();var u=e.createPattern(o,"repeat");return u}},a.Element.pattern.prototype=new a.Element.ElementBase,a.Element.marker=function(e){
this.base=a.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new a.Element.svg;i.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new a.Property("refX",this.attribute("refX").value),i.attributes.refY=new a.Property("refY",this.attribute("refY").value),i.attributes.width=new a.Property("width",this.attribute("markerWidth").value),i.attributes.height=new a.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new a.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new a.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},a.Element.marker.prototype=new a.Element.ElementBase,a.Element.defs=function(e){this.base=a.Element.ElementBase,this.base(e),this.render=function(e){}},a.Element.defs.prototype=new a.Element.ElementBase,a.Element.GradientBase=function(e){this.base=a.Element.ElementBase,this.base(e),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(e){for(var t=0;t<this.attributesToInherit.length;t++){var n=this.attributesToInherit[t];!this.attribute(n).hasValue()&&e.attribute(n).hasValue()&&(this.attribute(n,!0).value=e.attribute(n).value)}},this.createGradient=function(e,t,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var r=function(e){if(n.hasValue()){var t=new a.Property("color",e);return t.addOpacity(n).value}return e},o=this.getGradient(e,t);if(null==o)return r(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)o.addColorStop(i.stops[s].offset,r(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=a.ViewPort.viewPorts[0],c=new a.Element.rect;c.attributes.x=new a.Property("x",-a.MAX_VIRTUAL_PIXELS/3),c.attributes.y=new a.Property("y",-a.MAX_VIRTUAL_PIXELS/3),c.attributes.width=new a.Property("width",a.MAX_VIRTUAL_PIXELS),c.attributes.height=new a.Property("height",a.MAX_VIRTUAL_PIXELS);var u=new a.Element.g;u.attributes.transform=new a.Property("transform",this.attribute("gradientTransform").value),u.children=[c];var d=new a.Element.svg;d.attributes.x=new a.Property("x",0),d.attributes.y=new a.Property("y",0),d.attributes.width=new a.Property("width",l.width),d.attributes.height=new a.Property("height",l.height),d.children=[u];var h=document.createElement("canvas");h.width=l.width,h.height=l.height;var f=h.getContext("2d");return f.fillStyle=o,d.render(f),f.createPattern(h,"no-repeat")}return o}},a.Element.GradientBase.prototype=new a.Element.ElementBase,a.Element.linearGradient=function(e){this.base=a.Element.GradientBase,this.base(e),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(e,t){var n="objectBoundingBox"==this.gradientUnits()?t.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==o&&r==a?null:e.createLinearGradient(i,r,o,a)}},a.Element.linearGradient.prototype=new a.Element.GradientBase,a.Element.radialGradient=function(e){this.base=a.Element.GradientBase,this.base(e),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=i,a=r;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(o,a,0,i,r,s)}},a.Element.radialGradient.prototype=new a.Element.GradientBase,a.Element.stop=function(e){this.base=a.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var t=this.style("stop-color",!0);""===t.value&&(t.value="#000"),this.style("stop-opacity").hasValue()&&(t=t.addOpacity(this.style("stop-opacity"))),this.color=t.value},a.Element.stop.prototype=new a.Element.ElementBase,a.Element.AnimateBase=function(e){this.base=a.Element.ElementBase,this.base(e),a.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var i=this.attribute("type").value;n=i+"("+n+")"}this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var t=e.progress*(this.values.value.length-1),n=Math.floor(t),i=Math.ceil(t);e.from=new a.Property("from",parseFloat(this.values.value[n])),e.to=new a.Property("to",parseFloat(this.values.value[i])),e.progress=(t-n)/(i-n)}else e.from=this.from,e.to=this.to;return e}},a.Element.AnimateBase.prototype=new a.Element.ElementBase,a.Element.animate=function(e){this.base=a.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress;return t+this.initialUnits}},a.Element.animate.prototype=new a.Element.AnimateBase,a.Element.animateColor=function(t){this.base=a.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),n=new e(t.from.value),i=new e(t.to.value);if(n.ok&&i.ok){var r=n.r+(i.r-n.r)*t.progress,o=n.g+(i.g-n.g)*t.progress,a=n.b+(i.b-n.b)*t.progress;return"rgb("+parseInt(r,10)+","+parseInt(o,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},a.Element.animateColor.prototype=new a.Element.AnimateBase,a.Element.animateTransform=function(e){this.base=a.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=a.ToNumberArray(e.from.value),n=a.ToNumberArray(e.to.value),i="",r=0;r<t.length;r++)i+=t[r]+(n[r]-t[r])*e.progress+" ";return i}},a.Element.animateTransform.prototype=new a.Element.animate,a.Element.font=function(e){this.base=a.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n,n.style("font-family").hasValue()&&(a.Definitions[n.style("font-family").value]=this)):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},a.Element.font.prototype=new a.Element.ElementBase,a.Element.fontface=function(e){this.base=a.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},a.Element.fontface.prototype=new a.Element.ElementBase,a.Element.missingglyph=function(e){this.base=a.Element.path,this.base(e),this.horizAdvX=0},a.Element.missingglyph.prototype=new a.Element.path,a.Element.glyph=function(e){this.base=a.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},a.Element.glyph.prototype=new a.Element.path,a.Element.text=function(e){this.captureTextNodes=!0,this.base=a.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e);var t=this.style("dominant-baseline").toTextBaseline();null==t&&(t=this.style("alignment-baseline").toTextBaseline()),null!=t&&(e.textBaseline=t)},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize);return new a.BoundingBox(e,t-n,e+Math.floor(2*n/3)*this.children[0].getText().length,t)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,this,t)},this.getAnchorDelta=function(e,t,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var r=0,o=n;o<t.children.length;o++){var a=t.children[o];if(o>n&&a.attribute("x").hasValue())break;r+=a.measureTextRecursive(e)}return-1*("end"==i?r:r/2)}return 0},this.renderChild=function(e,t,n,i){var r=n.children[i];r.attribute("x").hasValue()?(r.x=r.attribute("x").toPixels("x")+t.getAnchorDelta(e,n,i),r.attribute("dx").hasValue()&&(r.x+=r.attribute("dx").toPixels("x"))):(r.attribute("dx").hasValue()&&(t.x+=r.attribute("dx").toPixels("x")),r.x=t.x),t.x=r.x+r.measureText(e),r.attribute("y").hasValue()?(r.y=r.attribute("y").toPixels("y"),r.attribute("dy").hasValue()&&(r.y+=r.attribute("dy").toPixels("y"))):(r.attribute("dy").hasValue()&&(t.y+=r.attribute("dy").toPixels("y")),r.y=t.y),t.y=r.y,r.render(e);for(var i=0;i<r.children.length;i++)t.renderChild(e,t,r,i)}},a.Element.text.prototype=new a.Element.RenderedElementBase,a.Element.TextElementBase=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i=t[n],r=null;if(e.isArabic){var o="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(o="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(o="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(o="initial"),"undefined"!=typeof e.glyphs[i]&&(r=e.glyphs[i][o],null==r&&"glyph"==e.glyphs[i].type&&(r=e.glyphs[i]))}else r=e.glyphs[i];return null==r&&(r=e.missingGlyph),r},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(a.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(a.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(a.Font.Parse(a.ctx.font).fontStyle),r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var o=a.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var l=this.getGlyph(t,r,s),c=n/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(c,-c);var u=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=u,e.scale(1/c,-1/c),e.translate(-this.x,-this.y),this.x+=n*(l.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,"undefined"==typeof o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var n=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),i=0,r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var o=a.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var l=this.getGlyph(t,r,s);i+=(l.horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,"undefined"==typeof o[s]||isNaN(o[s])||(i+=o[s])}return i}var c=a.compressSpaces(this.getText());if(!e.measureText)return 10*c.length;e.save(),this.setContext(e);var u=e.measureText(c).width;return e.restore(),u}},a.Element.TextElementBase.prototype=new a.Element.RenderedElementBase,a.Element.tspan=function(e){this.captureTextNodes=!0,this.base=a.Element.TextElementBase,this.base(e),this.text=a.compressSpaces(e.value||e.text||e.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},a.Element.tspan.prototype=new a.Element.TextElementBase,a.Element.tref=function(e){this.base=a.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.getHrefAttribute().getDefinition();if(null!=e)return e.children[0].getText()}},a.Element.tref.prototype=new a.Element.TextElementBase,a.Element.a=function(e){this.base=a.Element.TextElementBase,this.base(e),this.hasText=e.childNodes.length>0;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var t=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);a.Mouse.checkBoundingBox(this,new a.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))}else if(this.children.length>0){var n=new a.Element.g;n.children=this.children,n.parent=this,n.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){a.ctx.canvas.style.cursor="pointer"}},a.Element.a.prototype=new a.Element.TextElementBase,a.Element.image=function(e){this.base=a.Element.RenderedElementBase,this.base(e);var t=this.getHrefAttribute().value;if(""!=t){var n=t.match(/\.svg$/);if(a.Images.push(this),this.loaded=!1,n)this.img=a.ajax(t),this.loaded=!0;else{this.img=document.createElement("img"),1==a.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){a.log('ERROR: image "'+t+'" not found'),i.loaded=!0},this.img.src=t}this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");0!=r&&0!=o&&(e.save(),n?e.drawSvg(this.img,t,i,r,o):(e.translate(t,i),a.AspectRatio(e,this.attribute("preserveAspectRatio").value,r,this.img.width,o,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new a.BoundingBox(e,t,e+n,t+i)}}},a.Element.image.prototype=new a.Element.RenderedElementBase,a.Element.g=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new a.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},a.Element.g.prototype=new a.Element.RenderedElementBase,a.Element.symbol=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.render=function(e){}},a.Element.symbol.prototype=new a.Element.RenderedElementBase,a.Element.style=function(e){this.base=a.Element.ElementBase,this.base(e);for(var t="",i=0;i<e.childNodes.length;i++)t+=e.childNodes[i].data;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),t=a.compressSpaces(t);for(var r=t.split("}"),i=0;i<r.length;i++)if(""!=a.trim(r[i]))for(var o=r[i].split("{"),s=o[0].split(","),l=o[1].split(";"),c=0;c<s.length;c++){var u=a.trim(s[c]);if(""!=u){for(var d=a.Styles[u]||{},h=0;h<l.length;h++){var f=l[h].indexOf(":"),p=l[h].substr(0,f),m=l[h].substr(f+1,l[h].length-f);null!=p&&null!=m&&(d[a.trim(p)]=new a.Property(a.trim(p),a.trim(m)))}if(a.Styles[u]=d,a.StylesSpecificity[u]=n(u),"@font-face"==u)for(var g=d["font-family"].value.replace(/"/g,""),v=d.src.value.split(","),y=0;y<v.length;y++)if(v[y].indexOf('format("svg")')>0)for(var b=v[y].indexOf("url"),_=v[y].indexOf(")",b),w=v[y].substr(b+5,_-b-6),x=a.parseXml(a.ajax(w)),E=x.getElementsByTagName("font"),k=0;k<E.length;k++){var C=a.CreateElement(E[k]);a.Definitions[g]=C}}}},a.Element.style.prototype=new a.Element.ElementBase,a.Element.use=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var t=this.getHrefAttribute().getDefinition();this.path=function(e){null!=t&&t.path(e)},this.getBoundingBox=function(){if(null!=t)return t.getBoundingBox()},this.renderChildren=function(e){if(null!=t){var n=t;"symbol"==t.type&&(n=new a.Element.svg,n.type="svg",n.attributes.viewBox=new a.Property("viewBox",t.attribute("viewBox").value),n.attributes.preserveAspectRatio=new a.Property("preserveAspectRatio",t.attribute("preserveAspectRatio").value),n.attributes.overflow=new a.Property("overflow",t.attribute("overflow").value),n.children=t.children),"svg"==n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new a.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new a.Property("height",this.attribute("height").value)));var i=n.parent;n.parent=null,n.render(e),n.parent=i}}},a.Element.use.prototype=new a.Element.RenderedElementBase,a.Element.mask=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");if(0==r&&0==o){for(var s=new a.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var n=Math.floor(s.x1),i=Math.floor(s.y1),r=Math.floor(s.width()),o=Math.floor(s.height())}var c=t.attribute("mask").value;t.attribute("mask").value="";var u=document.createElement("canvas");u.width=n+r,u.height=i+o;var d=u.getContext("2d");this.renderChildren(d);var h=document.createElement("canvas");h.width=n+r,h.height=i+o;var f=h.getContext("2d");t.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=d.createPattern(u,"no-repeat"),f.fillRect(0,0,n+r,i+o),e.fillStyle=f.createPattern(h,"no-repeat"),e.fillRect(0,0,n+r,i+o),t.attribute("mask").value=c},this.render=function(e){}},a.Element.mask.prototype=new a.Element.ElementBase,a.Element.clipPath=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e){var t=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var n=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},t.call(e);for(var i=0;i<this.children.length;i++){var r=this.children[i];if("undefined"!=typeof r.path){var o=null;r.style("transform",!1,!0).hasValue()&&(o=new a.Transform(r.style("transform",!1,!0).value),o.apply(e)),r.path(e),CanvasRenderingContext2D.prototype.closePath=n,o&&o.unapply(e)}}n.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=t,CanvasRenderingContext2D.prototype.closePath=n},this.render=function(e){}},a.Element.clipPath.prototype=new a.Element.ElementBase,a.Element.filter=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),i=Math.floor(n.x1),r=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=t.style("filter").value;t.style("filter").value="";for(var l=0,c=0,u=0;u<this.children.length;u++){var d=this.children[u].extraFilterDistance||0;l=Math.max(l,d),c=Math.max(c,d)}var h=document.createElement("canvas");h.width=o+2*l,h.height=a+2*c;var f=h.getContext("2d");f.translate(-i+l,-r+c),t.render(f);for(var u=0;u<this.children.length;u++)"function"==typeof this.children[u].apply&&this.children[u].apply(f,0,0,o+2*l,a+2*c);e.drawImage(h,0,0,o+2*l,a+2*c,i-l,r-c,o+2*l,a+2*c),t.style("filter",!0).value=s},this.render=function(e){}},a.Element.filter.prototype=new a.Element.ElementBase,a.Element.feMorphology=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){}},a.Element.feMorphology.prototype=new a.Element.ElementBase,a.Element.feComposite=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){}},a.Element.feComposite.prototype=new a.Element.ElementBase,a.Element.feColorMatrix=function(e){function t(e,t,n,i,r,o){return e[n*i*4+4*t+o]}function n(e,t,n,i,r,o,a){e[n*i*4+4*t+o]=a}function i(e,t){var n=r[e];return n*(n<0?t-255:t)}this.base=a.Element.ElementBase,this.base(e);var r=a.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var o=r[0];r=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var s=r[0]*Math.PI/180,l=function(e,t,n){return e+Math.cos(s)*t+Math.sin(s)*n};r=[l(.213,.787,-.213),l(.715,-.715,-.715),l(.072,-.072,.928),0,0,l(.213,-.213,.143),l(.715,.285,.14),l(.072,-.072,-.283),0,0,l(.213,-.213,-.787),l(.715,-.715,.715),l(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(e,r,o,a,s){for(var l=e.getImageData(0,0,a,s),o=0;o<s;o++)for(var r=0;r<a;r++){var c=t(l.data,r,o,a,s,0),u=t(l.data,r,o,a,s,1),d=t(l.data,r,o,a,s,2),h=t(l.data,r,o,a,s,3);n(l.data,r,o,a,s,0,i(0,c)+i(1,u)+i(2,d)+i(3,h)+i(4,1)),n(l.data,r,o,a,s,1,i(5,c)+i(6,u)+i(7,d)+i(8,h)+i(9,1)),n(l.data,r,o,a,s,2,i(10,c)+i(11,u)+i(12,d)+i(13,h)+i(14,1)),n(l.data,r,o,a,s,3,i(15,c)+i(16,u)+i(17,d)+i(18,h)+i(19,1))}e.clearRect(0,0,a,s),e.putImageData(l,0,0)}},a.Element.feColorMatrix.prototype=new a.Element.ElementBase,a.Element.feGaussianBlur=function(e){this.base=a.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,i,r,o){return"undefined"==typeof t.canvasRGBA?void a.log("ERROR: StackBlur.js must be included for blur to work"):(e.canvas.id=a.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),t.canvasRGBA(e.canvas.id,n,i,r,o,this.blurRadius),void document.body.removeChild(e.canvas))}},a.Element.feGaussianBlur.prototype=new a.Element.ElementBase,a.Element.title=function(e){},a.Element.title.prototype=new a.Element.ElementBase,a.Element.desc=function(e){},a.Element.desc.prototype=new a.Element.ElementBase,a.Element.MISSING=function(e){a.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},a.Element.MISSING.prototype=new a.Element.ElementBase,a.CreateElement=function(e){var t=e.nodeName.replace(/^[^:]+:/,"");t=t.replace(/\-/g,"");var n=null;return n="undefined"!=typeof a.Element[t]?new a.Element[t](e):new a.Element.MISSING(e),n.type=e.nodeName,n},a.load=function(e,t){a.loadXml(e,a.ajax(t))},a.loadXml=function(e,t){a.loadXmlDoc(e,a.parseXml(t))},a.loadXmlDoc=function(e,t){a.init(e);var n=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=a.opts.ignoreMouse&&(e.canvas.onclick=function(e){var t=n(new a.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));a.Mouse.onclick(t.x,t.y)},e.canvas.onmousemove=function(e){var t=n(new a.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));a.Mouse.onmousemove(t.x,t.y)});var i=a.CreateElement(t.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var r=!0,o=function(){a.ViewPort.Clear(),e.canvas.parentNode&&a.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=a.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var n=e.canvas.clientWidth||e.canvas.width,o=e.canvas.clientHeight||e.canvas.height;if(1==a.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(n=i.style("width").toPixels("x"),o=i.style("height").toPixels("y")),a.ViewPort.SetCurrent(n,o),null!=a.opts.offsetX&&(i.attribute("x",!0).value=a.opts.offsetX),null!=a.opts.offsetY&&(i.attribute("y",!0).value=a.opts.offsetY),null!=a.opts.scaleWidth||null!=a.opts.scaleHeight){var s=null,l=null,c=a.ToNumberArray(i.attribute("viewBox").value);null!=a.opts.scaleWidth&&(i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/a.opts.scaleWidth:isNaN(c[2])||(s=c[2]/a.opts.scaleWidth)),null!=a.opts.scaleHeight&&(i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/a.opts.scaleHeight:isNaN(c[3])||(l=c[3]/a.opts.scaleHeight)),null==s&&(s=l),null==l&&(l=s),i.attribute("width",!0).value=a.opts.scaleWidth,i.attribute("height",!0).value=a.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/s+","+1/l+")"}1!=a.opts.ignoreClear&&e.clearRect(0,0,n,o),i.render(e),r&&(r=!1,"function"==typeof a.opts.renderCallback&&a.opts.renderCallback(t))},s=!0;a.ImagesLoaded()&&(s=!1,o()),a.intervalID=setInterval(function(){var e=!1;if(s&&a.ImagesLoaded()&&(s=!1,e=!0),1!=a.opts.ignoreMouse&&(e|=a.Mouse.hasEvents()),1!=a.opts.ignoreAnimation)for(var t=0;t<a.Animations.length;t++)e|=a.Animations[t].update(1e3/a.FRAMERATE);"function"==typeof a.opts.forceRedraw&&1==a.opts.forceRedraw()&&(e=!0),e&&(o(),a.Mouse.runEvents())},1e3/a.FRAMERATE)},a.stop=function(){a.intervalID&&clearInterval(a.intervalID)},a.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){a.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}},a}var o,a=function(e,t,n){if(null!=e||null!=t||null!=n){"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=r(n||{});1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=i);var o=e.getContext("2d");"undefined"!=typeof t.documentElement?i.loadXmlDoc(o,t):"<"==t.substr(0,1)?i.loadXml(o,t):i.load(o,t)}else for(var s=document.querySelectorAll("svg"),l=0;l<s.length;l++){var c=s[l],u=document.createElement("canvas");u.width=c.clientWidth,u.height=c.clientHeight,c.parentNode.insertBefore(u,c),c.parentNode.removeChild(c);var d=document.createElement("div");d.appendChild(c),a(u,d.innerHTML)}};"undefined"!=typeof Element.prototype.matches?o=function(e,t){return e.matches(t)}:"undefined"!=typeof Element.prototype.webkitMatchesSelector?o=function(e,t){return e.webkitMatchesSelector(t)}:"undefined"!=typeof Element.prototype.mozMatchesSelector?o=function(e,t){return e.mozMatchesSelector(t)}:"undefined"!=typeof Element.prototype.msMatchesSelector?o=function(e,t){return e.msMatchesSelector(t)}:"undefined"!=typeof Element.prototype.oMatchesSelector?o=function(e,t){return e.oMatchesSelector(t)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(o=function(e,t){return $(e).is(t)}),"undefined"==typeof o&&(o=Sizzle.matchesSelector));var s=/(\[[^\]]+\])/g,l=/(#[^\s\+>~\.\[:]+)/g,c=/(\.[^\s\+>~\.\[:]+)/g,u=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,d=/(:[\w-]+\([^\)]*\))/gi,h=/(:[^\s\+>~\.\[:]+)/g,f=/([^\s\+>~\.\[:]+)/g;return"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r,o){var s={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r};for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l]);a(this.canvas,e,s)}),a})},{rgbcolor:67,stackblur:74}],4:[function(e,t,n){function i(e){return!!e.match(/(Lat)(itude)?/gi)}function r(e){return!!e.match(/(L)(on|ng)(gitude)?/i)}function o(e){return"object"==typeof e?Object.keys(e).length:0}function a(e){var t=[",",";","\t","|"],n=[];return t.forEach(function(t){var i=d(t).parse(e);if(i.length>=1){for(var r=o(i[0]),a=0;a<i.length;a++)if(o(i[a])!==r)return;n.push({delimiter:t,arity:Object.keys(i[0]).length})}}),n.length?n.sort(function(e,t){return t.arity-e.arity})[0].delimiter:null}function s(e){var t=a(e);return t?d(t).parse(e):null}function l(e,t,n){n||(n=t,t={}),t.delimiter=t.delimiter||",";var o=t.latfield||"",s=t.lonfield||"",l=t.crs||"",c=[],u={
type:"FeatureCollection",features:c};if(""!==l&&(u.crs={type:"name",properties:{name:l}}),"auto"===t.delimiter&&"string"==typeof e&&(t.delimiter=a(e),!t.delimiter))return n({type:"Error",message:"Could not autodetect delimiter"});var f="string"==typeof e?d(t.delimiter).parse(e):e;if(!f.length)return n(null,u);if(!o||!s){for(var p in f[0])!o&&i(p)&&(o=p),!s&&r(p)&&(s=p);if(!o||!s){var m=[];for(var g in f[0])m.push(g);return n({type:"Error",message:"Latitude and longitude fields not present",data:f,fields:m})}}for(var v=[],y=0;y<f.length;y++)if(void 0!==f[y][s]&&void 0!==f[y][s]){var b,_,w,x=f[y][s],E=f[y][o];w=h(x,"EW"),w&&(x=w),w=h(E,"NS"),w&&(E=w),b=parseFloat(x),_=parseFloat(E),isNaN(b)||isNaN(_)?v.push({message:"A row contained an invalid value for latitude or longitude",row:f[y]}):(t.includeLatLon||(delete f[y][s],delete f[y][o]),c.push({type:"Feature",properties:f[y],geometry:{type:"Point",coordinates:[parseFloat(b),parseFloat(_)]}}))}n(v.length?v:null,u)}function c(e){for(var t=e.features,n={type:"Feature",geometry:{type:"LineString",coordinates:[]}},i=0;i<t.length;i++)n.geometry.coordinates.push(t[i].geometry.coordinates);return n.properties=t.reduce(function(e,t){for(var n in t.properties)e[n]||(e[n]=[]),e[n].push(t.properties[n]);return e},{}),{type:"FeatureCollection",features:[n]}}function u(e){for(var t=e.features,n={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},i=0;i<t.length;i++)n.geometry.coordinates[0].push(t[i].geometry.coordinates);return n.properties=t.reduce(function(e,t){for(var n in t.properties)e[n]||(e[n]=[]),e[n].push(t.properties[n]);return e},{}),{type:"FeatureCollection",features:[n]}}var d=e("dsv"),h=e("sexagesimal");t.exports={isLon:r,isLat:i,csv:d.csv.parse,tsv:d.tsv.parse,dsv:d,auto:s,csv2geojson:l,toLine:c,toPolygon:u}},{dsv:5,sexagesimal:68}],5:[function(e,t,n){t.exports=new Function('dsv.version = "0.0.3";\n\ndsv.tsv = dsv("\\t");\ndsv.csv = dsv(",");\n\nfunction dsv(delimiter) {\n  var dsv = {},\n      reFormat = new RegExp("[\\"" + delimiter + "\\n]"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  dsv.parse = function(text, f) {\n    var o;\n    return dsv.parseRows(text, function(row, i) {\n      if (o) return o(row, i - 1);\n      var a = new Function("d", "return {" + row.map(function(name, i) {\n        return JSON.stringify(name) + ": d[" + i + "]";\n      }).join(",") + "}");\n      o = f ? function(row, i) { return f(a(row), i); } : a;\n    });\n  };\n\n  dsv.parseRows = function(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        var c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.substring(j + 1, i).replace(/""/g, "\\"");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var c = text.charCodeAt(I++), k = 1;\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.substring(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.substring(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && !(a = f(a, n++))) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  };\n\n  dsv.format = function(rows) {\n    if (Array.isArray(rows[0])) return dsv.formatRows(rows); // deprecated; use formatRows\n    var fieldSet = {}, fields = [];\n\n    // Compute unique fields in order of discovery.\n    rows.forEach(function(row) {\n      for (var field in row) {\n        if (!(field in fieldSet)) {\n          fields.push(fieldSet[field] = field);\n        }\n      }\n    });\n\n    return [fields.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return fields.map(function(field) {\n        return formatValue(row[field]);\n      }).join(delimiter);\n    })).join("\\n");\n  };\n\n  dsv.formatRows = function(rows) {\n    return rows.map(formatRow).join("\\n");\n  };\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return reFormat.test(text) ? "\\"" + text.replace(/\\"/g, "\\"\\"") + "\\"" : text;\n  }\n\n  return dsv;\n}\n;return dsv')()},{}],6:[function(e,t,n){n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,i),o-=c}return(f?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*m}},{}],7:[function(e,t,n){(function(e){"use strict";function n(){u=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}u=!1}function i(e){1!==d.push(e)||u||r()}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,r=function(){c.port2.postMessage(0)}}var u,d=[];t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}t.exports=function(e){return null!=e&&(i(e)||r(e)||!!e._isBuffer)}},{}],9:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],10:[function(e,t,n){"use strict";function i(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}}var r=e("./dataReader");i.prototype=new r,i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":15}],11:[function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e,t){for(var n,r,o,a,s,l,c,u="",d=0;d<e.length;)n=e.charCodeAt(d++),r=e.charCodeAt(d++),o=e.charCodeAt(d++),a=n>>2,s=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,c=63&o,isNaN(r)?l=c=64:isNaN(o)&&(c=64),u=u+i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(c);return u},n.decode=function(e,t){var n,r,o,a,s,l,c,u="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)a=i.indexOf(e.charAt(d++)),s=i.indexOf(e.charAt(d++)),l=i.indexOf(e.charAt(d++)),c=i.indexOf(e.charAt(d++)),n=a<<2|s>>4,r=(15&s)<<4|l>>2,o=(3&l)<<6|c,u+=String.fromCharCode(n),64!=l&&(u+=String.fromCharCode(r)),64!=c&&(u+=String.fromCharCode(o));return u}},{}],12:[function(e,t,n){"use strict";function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=i},{}],13:[function(e,t,n){"use strict";n.STORE={magic:"\0\0",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("./flate")},{"./flate":18}],14:[function(e,t,n){"use strict";var i=e("./utils"),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==i.getTypeOf(e);"undefined"==typeof t&&(t=0);var o=0,a=0,s=0;t^=-1;for(var l=0,c=e.length;l<c;l++)s=n?e[l]:e.charCodeAt(l),a=255&(t^s),o=r[a],t=t>>>8^o;return t^-1}},{"./utils":31}],15:[function(e,t,n){"use strict";function i(e){this.data=null,this.length=0,this.index=0,this.zero=0}var r=e("./utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=i},{"./utils":31}],16:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],17:[function(e,t,n){"use strict";var i=e("./utils");n.string2binary=function(e){return i.string2binary(e)},n.string2Uint8Array=function(e){return i.transformTo("uint8array",e)},n.uint8Array2String=function(e){return i.transformTo("string",e)},n.string2Blob=function(e){var t=i.transformTo("arraybuffer",e);return i.arrayBuffer2Blob(t)},n.arrayBuffer2Blob=function(e){return i.arrayBuffer2Blob(e)},n.transformTo=function(e,t){return i.transformTo(e,t)},n.getTypeOf=function(e){return i.getTypeOf(e)},n.checkSupport=function(e){return i.checkSupport(e)},n.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,n.pretty=function(e){return i.pretty(e)},n.findCompression=function(e){return i.findCompression(e)},n.isRegExp=function(e){return i.isRegExp(e)}},{"./utils":31}],18:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako");n.uncompressInputType=i?"uint8array":"array",n.compressInputType=i?"uint8array":"array",n.magic="\b\0",n.compress=function(e,t){return r.deflateRaw(e,{level:t.level||-1})},n.uncompress=function(e){return r.inflateRaw(e)}},{pako:34}],19:[function(e,t,n){"use strict";function i(e,t){return this instanceof i?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void(this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new i(e,t)}var r=e("./base64");i.prototype=e("./object"),i.prototype.load=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.utils=e("./deprecatedPublicUtils"),i.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},i.compressions=e("./compressions"),t.exports=i},{"./base64":11,"./compressions":13,"./defaults":16,"./deprecatedPublicUtils":17,"./load":20,"./object":23,"./support":27}],20:[function(e,t,n){"use strict";var i=e("./base64"),r=e("./utf8"),o=e("./utils"),a=e("./zipEntries");t.exports=function(e,t){var n,s,l,c;for(t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),t.base64&&(e=i.decode(e)),s=new a(e,t),n=s.files,l=0;l<n.length;l++)c=n[l],this.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:t.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},{"./base64":11,"./utf8":30,"./utils":31,"./zipEntries":32}],21:[function(e,t,n){(function(e){"use strict";t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,e("buffer").Buffer)},{buffer:2}],22:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}var r=e("./uint8ArrayReader");i.prototype=new r,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./uint8ArrayReader":28}],23:[function(e,t,n){"use strict";var i=e("./support"),r=e("./utils"),o=e("./crc32"),a=e("./signature"),s=e("./defaults"),l=e("./base64"),c=e("./compressions"),u=e("./compressedObject"),d=e("./nodeBuffer"),h=e("./utf8"),f=e("./stringWriter"),p=e("./uint8ArrayWriter"),m=function(e){if(e._data instanceof u&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===r.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},g=function(e){var t=m(e),n=r.getTypeOf(t);return"string"===n?!e.options.binary&&i.nodebuffer?d(t,"utf-8"):e.asBinary():t},v=function(e){var t=m(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?T.utf8decode(t):r.transformTo("string",t),e||this.options.binary||(t=r.transformTo("string",T.utf8encode(t))),t)},y=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var e=g(this);return r.transformTo("nodebuffer",e)},asUint8Array:function(){var e=g(this);return r.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},_=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=r.extend(e,s),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},w=function(e,t,n){var i,o=r.getTypeOf(t);if(n=_(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=E(e)),n.createFolders&&(i=x(e))&&k.call(this,i,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null,o=null;else if("string"===o)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=r.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(o||t instanceof u))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===o&&(t=r.transformTo("uint8array",t))}var a=new y(e,t,n);return this.files[e]=a,a},x=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},E=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},k=function(e,t){return t="undefined"!=typeof t&&t,e=E(e),this.files[e]||w.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},C=function(e,t,n){var i,a=new u;return e._data instanceof u?(a.uncompressedSize=e._data.uncompressedSize,a.crc32=e._data.crc32,0===a.uncompressedSize||e.dir?(t=c.STORE,a.compressedContent="",a.crc32=0):e._data.compressionMethod===t.magic?a.compressedContent=e._data.getCompressedContent():(i=e._data.getContent(),a.compressedContent=t.compress(r.transformTo(t.compressInputType,i),n))):(i=g(e),i&&0!==i.length&&!e.dir||(t=c.STORE,i=""),a.uncompressedSize=i.length,a.crc32=o(i),a.compressedContent=t.compress(r.transformTo(t.compressInputType,i),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=t.magic,a},S=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},M=function(e,t){return 63&(e||0)},A=function(e,t,n,i,s,l){var c,u,d,f,p=(n.compressedContent,l!==h.utf8encode),m=r.transformTo("string",l(t.name)),g=r.transformTo("string",h.utf8encode(t.name)),v=t.comment||"",y=r.transformTo("string",l(v)),_=r.transformTo("string",h.utf8encode(v)),w=g.length!==t.name.length,x=_.length!==v.length,E=t.options,k="",C="",A="";d=t._initialMetadata.dir!==t.dir?t.dir:E.dir,f=t._initialMetadata.date!==t.date?t.date:E.date;var T=0,O=0;d&&(T|=16),"UNIX"===s?(O=798,T|=S(t.unixPermissions,d)):(O=20,T|=M(t.dosPermissions,d)),c=f.getHours(),c<<=6,c|=f.getMinutes(),c<<=5,c|=f.getSeconds()/2,u=f.getFullYear()-1980,u<<=4,u|=f.getMonth()+1,u<<=5,u|=f.getDate(),w&&(C=b(1,1)+b(o(m),4)+g,k+="up"+b(C.length,2)+C),x&&(A=b(1,1)+b(this.crc32(y),4)+_,k+="uc"+b(A.length,2)+A);var P="";P+="\n\0",P+=p||!w&&!x?"\0\0":"\0\b",P+=n.compressionMethod,P+=b(c,2),P+=b(u,2),P+=b(n.crc32,4),P+=b(n.compressedSize,4),P+=b(n.uncompressedSize,4),P+=b(m.length,2),P+=b(k.length,2);var $=a.LOCAL_FILE_HEADER+P+m+k,L=a.CENTRAL_FILE_HEADER+b(O,2)+P+b(y.length,2)+"\0\0\0\0"+b(T,4)+b(i,4)+m+k+y;return{fileRecord:$,dirRecord:L,compressedObject:n}},T={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,o,a=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],o=new y(i.name,i._data,r.extend(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,o)&&a.push(o));return a},file:function(e,t,n){if(1===arguments.length){if(r.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}return this.filter(function(t,n){return!n.dir&&t===e})[0]||null}return e=this.root+e,w.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(r.isRegExp(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=k.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){e=r.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),r.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,i=[],o=0,s=0,u=r.transformTo("string",e.encodeFileName(e.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var m=this.files[d],g=m.options.compression||e.compression.toUpperCase(),v=c[g];if(!v)throw new Error(g+" is not a valid compression method !");var y=m.options.compressionOptions||e.compressionOptions||{},_=C.call(this,m,v,y),w=A.call(this,d,m,_,o,e.platform,e.encodeFileName);o+=w.fileRecord.length+_.compressedSize,s+=w.dirRecord.length,i.push(w)}var x="";x=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(i.length,2)+b(i.length,2)+b(s,4)+b(o,4)+b(u.length,2)+u;var E=e.type.toLowerCase();for(t="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new p(o+s+x.length):new f(o+s+x.length),n=0;n<i.length;n++)t.append(i[n].fileRecord),t.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)t.append(i[n].dirRecord);t.append(x);var k=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(e.type.toLowerCase(),k);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",k),e.mimeType);case"base64":return e.base64?l.encode(k):k;default:return k}},crc32:function(e,t){return o(e,t)},utf8encode:function(e){return r.transformTo("string",h.utf8encode(e))},utf8decode:function(e){return h.utf8decode(e)}};t.exports=T},{"./base64":11,"./compressedObject":12,"./compressions":13,"./crc32":14,"./defaults":16,"./nodeBuffer":21,"./signature":24,"./stringWriter":26,"./support":27,"./uint8ArrayWriter":29,"./utf8":30,"./utils":31}],24:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],25:[function(e,t,n){"use strict";function i(e,t){this.data=e,t||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var r=e("./dataReader"),o=e("./utils");i.prototype=new r,i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":15,"./utils":31}],26:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){this.data=[]};r.prototype={append:function(e){e=i.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=r},{"./utils":31}],27:[function(e,t,n){(function(e){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof e,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var t=new ArrayBuffer(0);try{n.blob=0===new Blob([t],{type:"application/zip"}).size}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;o.append(t),n.blob=0===o.getBlob("application/zip").size}catch(i){n.blob=!1}}}}).call(this,e("buffer").Buffer)},{buffer:2}],28:[function(e,t,n){"use strict";function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}var r=e("./arrayReader");i.prototype=new r,i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./arrayReader":10}],29:[function(e,t,n){"use strict";var i=e("./utils"),r=function(e){this.data=new Uint8Array(e),this.index=0};r.prototype={append:function(e){0!==e.length&&(e=i.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=r},{"./utils":31}],30:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodeBuffer"),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},c=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t},u=function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(n=0,t=0;t<s;)if(r=e[t++],r<128)l[n++]=r;else if(o=a[r],o>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<s;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};n.utf8encode=function(e){return r.nodebuffer?o(e,"utf-8"):l(e)},n.utf8decode=function(e){if(r.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");e=i.transformTo(r.uint8array?"uint8array":"array",e);for(var t=[],n=0,o=e.length,a=65536;n<o;){var s=c(e,Math.min(n+a,o));r.uint8array?t.push(u(e.subarray(n,s))):t.push(u(e.slice(n,s))),n=s}return t.join("")}},{"./nodeBuffer":21,"./support":27,"./utils":31}],31:[function(e,t,n){"use strict";function i(e){return e}function r(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function o(e){var t=65536,i=[],r=e.length,o=n.getTypeOf(e),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,c(0))}}catch(l){s=!1}if(!s){for(var u="",d=0;d<e.length;d++)u+=String.fromCharCode(e[d]);return u}for(;a<r&&t>1;)try{"array"===o||"nodebuffer"===o?i.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+t,r)))):i.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+t,r)))),a+=t}catch(l){t=Math.floor(t/2)}return i.join("")}function a(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var s=e("./support"),l=e("./compressions"),c=e("./nodeBuffer");n.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},n.arrayBuffer2Blob=function(e,t){n.checkSupport("blob"),t=t||"application/zip";try{return new Blob([e],{type:t})}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;return o.append(e),o.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=o;var u={};u.string={string:i,array:function(e){return r(e,new Array(e.length))},arraybuffer:function(e){return u.string.uint8array(e).buffer},uint8array:function(e){return r(e,new Uint8Array(e.length))},nodebuffer:function(e){return r(e,c(e.length))}},u.array={string:o,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c(e)}},u.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return a(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c(new Uint8Array(e))}},u.uint8array={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return c(e)}},u.nodebuffer={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return u.nodebuffer.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:i},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),r=u[i][e](t);return r},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":s.nodebuffer&&c.test(e)?"nodebuffer":s.uint8array&&e instanceof Uint8Array?"uint8array":s.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=s[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return i},n.findCompression=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n}},{"./compressions":13,"./nodeBuffer":21,"./support":27}],32:[function(e,t,n){"use strict";function i(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var r=e("./stringReader"),o=e("./nodeBufferReader"),a=e("./uint8ArrayReader"),s=e("./arrayReader"),l=e("./utils"),c=e("./signature"),u=e("./zipEntry"),d=e("./support");e("./object");
i.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(t)+", expected "+l.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),r=i===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=d.uint8array?"uint8array":"array",n=l.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,r=0;r<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===c.CENTRAL_FILE_HEADER;)e=new u({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,c.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=n-i;if(r>0)this.isSignature(n,c.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){var t=l.getTypeOf(e);if(l.checkSupport(t),"string"!==t||d.uint8array)if("nodebuffer"===t)this.reader=new o(e);else if(d.uint8array)this.reader=new a(l.transformTo("uint8array",e));else{if(!d.array)throw new Error("Unexpected error: unsupported type '"+t+"'");this.reader=new s(l.transformTo("array",e))}else this.reader=new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./arrayReader":10,"./nodeBufferReader":22,"./object":23,"./signature":24,"./stringReader":25,"./support":27,"./uint8ArrayReader":28,"./utils":31,"./zipEntry":33}],33:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var r=e("./stringReader"),o=e("./utils"),a=e("./compressedObject"),s=e("./object"),l=e("./support"),c=0,u=3;i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var i=e.index;e.setIndex(t);var r=e.readData(n);return e.setIndex(i),r}},prepareContent:function(e,t,n,i,r){return function(){var e=o.transformTo(i.uncompressInputType,this.getCompressedContent()),t=i.uncompress(e);if(t.length!==r)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize==-1||this.uncompressedSize==-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=o.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===c&&(this.dosPermissions=63&this.externalFileAttributes),e===u&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index;for(this.extraFields=this.extraFields||{};e.index<r+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),i=e.readString(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null}},t.exports=i},{"./compressedObject":12,"./object":23,"./stringReader":25,"./support":27,"./utils":31}],34:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,r=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};i(s,r,o,a),t.exports=s},{"./lib/deflate":35,"./lib/inflate":36,"./lib/utils/common":37,"./lib/zlib/constants":40}],35:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:y,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==m)throw new Error(u[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,r),n!==m)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=e("./zlib/deflate"),l=e("./utils/common"),c=e("./utils/strings"),u=e("./zlib/messages"),d=e("./zlib/zstream"),h=Object.prototype.toString,f=0,p=4,m=0,g=1,v=2,y=-1,b=0,_=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?p:f,"string"==typeof e?r.input=c.string2buf(e):"[object ArrayBuffer]"===h.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),n=s.deflate(r,i),n!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==p&&i!==v)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==g);return i===p?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i!==v||(this.onEnd(m),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=o,n.gzip=a},{"./utils/common":37,"./utils/strings":38,"./zlib/deflate":42,"./zlib/messages":47,"./zlib/zstream":49}],36:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var a=e("./zlib/inflate"),s=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),u=e("./zlib/messages"),d=e("./zlib/zstream"),h=e("./zlib/gzheader"),f=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,u,d,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?h.input=l.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),n=a.inflate(h,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&m&&(d="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===f.call(m)?new Uint8Array(m):m,n=a.inflateSetDictionary(this.strm,d)),n===c.Z_BUF_ERROR&&g===!0&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(h.output,h.next_out),o=h.next_out-r,u=l.buf2string(h.output,r),h.next_out=o,h.avail_out=p-o,o&&s.arraySet(h.output,h.output,r,o,0),this.onData(u)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./utils/common":37,"./utils/strings":38,"./zlib/constants":40,"./zlib/gzheader":43,"./zlib/inflate":45,"./zlib/messages":47,"./zlib/zstream":49}],37:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],38:[function(e,t,n){"use strict";function i(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var l=new r.Buf8(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,a,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if(o=e[n++],o<128)c[r++]=o;else if(a=l[o],a>4)c[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<s;)o=o<<6|63&e[n++],a--;a>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":37}],39:[function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,o=o+r|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},{}],40:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],41:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^r[255&(e^t[s])];return e^-1}var o=i();t.exports=r},{}],42:[function(e,t,n){"use strict";function i(e,t){return e.msg=I[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(O.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){P._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,O.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=$(e.adler,t,r,n):2===e.state.wrap&&(e.adler=L(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+ue,f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,c[n+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=ue-(h-o),o=h-ue,i>a){if(e.match_start=t,a=i,i>=s)break;f=c[o+a-1],p=c[o+a]}}while((t=d[t&u])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function h(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-de)){O.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--n);n=a,t=n;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ce)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ce-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===D)return _e;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return _e;if(e.strstart-e.block_start>=e.w_size-de&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?xe:Ee):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?_e:_e}function p(e,t){for(var n,i;;){if(e.lookahead<de){if(h(e),e.lookahead<de&&t===D)return _e;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=ce)if(i=P._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===z?(s(e,!0),0===e.strm.avail_out?xe:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:we}function m(e,t){for(var n,i,r;;){if(e.lookahead<de){if(h(e),e.lookahead<de&&t===D)return _e;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===G||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ce,i=P._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return _e}else if(e.match_available){if(i=P._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return _e}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=P._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===z?(s(e,!0),0===e.strm.avail_out?xe:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:we}function g(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ue){if(h(e),e.lookahead<=ue&&t===D)return _e;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ue;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=P._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?xe:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:we}function v(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===D)return _e;break}if(e.match_length=0,n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?xe:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:we}function y(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function b(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=T[e.level].max_lazy,e.good_match=T[e.level].good_length,e.nice_match=T[e.level].nice_length,e.max_chain_length=T[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*se),this.dyn_dtree=new O.Buf16(2*(2*oe+1)),this.bl_tree=new O.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(le+1),this.heap=new O.Buf16(2*re+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*re+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?fe:ye,e.adler=2===t.wrap?0:1,t.last_flush=D,P._tr_init(t),F):i(e,H)}function x(e){var t=w(e);return t===F&&b(e.state),t}function E(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,F):H}function k(e,t,n,r,o,a){if(!e)return H;var s=1;if(t===V&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>Q||n!==J||r<8||r>15||t<0||t>9||a<0||a>X)return i(e,H);8===r&&(r=9);var l=new _;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ce-1)/ce),l.window=new O.Buf8(2*l.w_size),l.head=new O.Buf16(l.hash_size),l.prev=new O.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new O.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,x(e)}function C(e,t){return k(e,t,J,ee,te,K)}function S(e,t){var n,s,u,d;if(!e||!e.state||t>j||t<0)return e?i(e,H):H;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===be&&t!==z)return i(e,0===e.avail_out?q:H);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===fe)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=L(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pe):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),l(s,ke),s.status=ye);else{var h=J+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=W||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=f<<6,0!==s.strstart&&(h|=he),h+=31-h%31,s.status=ye,c(s,h),0!==s.strstart&&(c(s,e.adler>>>16),c(s,65535&e.adler)),e.adler=1}if(s.status===pe)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=L(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=L(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=L(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=L(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=L(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=L(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=ye)):s.status=ye),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,F}else if(0===e.avail_in&&r(t)<=r(n)&&t!==z)return i(e,q);if(s.status===be&&0!==e.avail_in)return i(e,q);if(0!==e.avail_in||0!==s.lookahead||t!==D&&s.status!==be){var p=s.strategy===W?v(s,t):s.strategy===Y?g(s,t):T[s.level].func(s,t);if(p!==xe&&p!==Ee||(s.status=be),p===_e||p===xe)return 0===e.avail_out&&(s.last_flush=-1),F;if(p===we&&(t===N?P._tr_align(s):t!==j&&(P._tr_stored_block(s,0,0,!1),t===R&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,F}return t!==z?F:s.wrap<=0?B:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(c(s,e.adler>>>16),c(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?F:B)}function M(e){var t;return e&&e.state?(t=e.state.status,t!==fe&&t!==pe&&t!==me&&t!==ge&&t!==ve&&t!==ye&&t!==be?i(e,H):(e.state=null,t===ye?i(e,U):F)):H}function A(e,t){var n,i,r,a,s,l,c,u,d=t.length;if(!e||!e.state)return H;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==fe||n.lookahead)return H;for(1===a&&(e.adler=$(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new O.Buf8(n.w_size),O.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,h(n);n.lookahead>=ce;){i=n.strstart,
r=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ce-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=ce-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=s,n.wrap=a,F}var T,O=e("../utils/common"),P=e("./trees"),$=e("./adler32"),L=e("./crc32"),I=e("./messages"),D=0,N=1,R=3,z=4,j=5,F=0,B=1,H=-2,U=-3,q=-5,V=-1,G=1,W=2,Y=3,X=4,K=0,Z=2,J=8,Q=9,ee=15,te=8,ne=29,ie=256,re=ie+1+ne,oe=30,ae=19,se=2*re+1,le=15,ce=3,ue=258,de=ue+ce+1,he=32,fe=42,pe=69,me=73,ge=91,ve=103,ye=113,be=666,_e=1,we=2,xe=3,Ee=4,ke=3;T=[new y(0,0,0,0,f),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],n.deflateInit=C,n.deflateInit2=k,n.deflateReset=x,n.deflateResetKeep=w,n.deflateSetHeader=E,n.deflate=S,n.deflateEnd=M,n.deflateSetDictionary=A,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":37,"./adler32":39,"./crc32":41,"./messages":47,"./trees":48}],43:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],44:[function(e,t,n){"use strict";var i=30,r=12;t.exports=function(e,t){var n,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,E,k,C,S,M,A;n=e.state,o=e.next_in,M=e.input,a=o+(e.avail_in-5),s=e.next_out,A=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,d=n.wsize,h=n.whave,f=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{g<15&&(m+=M[o++]<<g,g+=8,m+=M[o++]<<g,g+=8),w=v[m&b];t:for(;;){if(x=w>>>24,m>>>=x,g-=x,x=w>>>16&255,0===x)A[s++]=65535&w;else{if(!(16&x)){if(0===(64&x)){w=v[(65535&w)+(m&(1<<x)-1)];continue t}if(32&x){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}E=65535&w,x&=15,x&&(g<x&&(m+=M[o++]<<g,g+=8),E+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=M[o++]<<g,g+=8,m+=M[o++]<<g,g+=8),w=y[m&_];n:for(;;){if(x=w>>>24,m>>>=x,g-=x,x=w>>>16&255,!(16&x)){if(0===(64&x)){w=y[(65535&w)+(m&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(k=65535&w,x&=15,g<x&&(m+=M[o++]<<g,g+=8,g<x&&(m+=M[o++]<<g,g+=8)),k+=m&(1<<x)-1,k>u){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=x,g-=x,x=s-l,k>x){if(x=k-x,x>h&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(C=0,S=p,0===f){if(C+=d-x,x<E){E-=x;do A[s++]=p[C++];while(--x);C=s-k,S=A}}else if(f<x){if(C+=d+f-x,x-=f,x<E){E-=x;do A[s++]=p[C++];while(--x);if(C=0,f<E){x=f,E-=x;do A[s++]=p[C++];while(--x);C=s-k,S=A}}}else if(C+=f-x,x<E){E-=x;do A[s++]=p[C++];while(--x);C=s-k,S=A}for(;E>2;)A[s++]=S[C++],A[s++]=S[C++],A[s++]=S[C++],E-=3;E&&(A[s++]=S[C++],E>1&&(A[s++]=S[C++]))}else{C=s-k;do A[s++]=A[C++],A[s++]=A[C++],A[s++]=A[C++],E-=3;while(E>2);E&&(A[s++]=A[C++],E>1&&(A[s++]=A[C++]))}break}}break}}while(o<a&&s<c);E=g>>3,o-=E,g-=E<<3,m&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<c?257+(c-s):257-(s-c),n.hold=m,n.bits=g}},{}],45:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new y.Buf32(me),t.distcode=t.distdyn=new y.Buf32(ge),t.sane=1,t.back=-1,T):$}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):$}function s(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?$:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):$}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,n=s(e,t),n!==T&&(e.state=null),n):$}function c(e){return l(e,ye)}function u(e){if(be){var t;for(g=new y.Buf32(512),v=new y.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(x(k,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;x(C,e.lens,0,32,v,0,e.work,{bits:5}),be=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function d(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),i>=o.wsize?(y.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),y.arraySet(o.window,t,n-i,r,o.wnext),i-=r,i?(y.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function h(e,t){var n,r,o,a,s,l,c,h,f,p,m,g,v,me,ge,ve,ye,be,_e,we,xe,Ee,ke,Ce,Se=0,Me=new y.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return $;n=e.state,n.mode===Y&&(n.mode=X),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,h=n.hold,f=n.bits,p=l,m=c,Ee=T;e:for(;;)switch(n.mode){case R:if(0===n.wrap){n.mode=X;break}for(;f<16;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(2&n.wrap&&35615===h){n.check=0,Me[0]=255&h,Me[1]=h>>>8&255,n.check=_(n.check,Me,2,0),h=0,f=0,n.mode=z;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=he;break}if((15&h)!==N){e.msg="unknown compression method",n.mode=he;break}if(h>>>=4,f-=4,xe=(15&h)+8,0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=he;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&h?G:Y,h=0,f=0;break;case z:for(;f<16;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(n.flags=h,(255&n.flags)!==N){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Me[0]=255&h,Me[1]=h>>>8&255,n.check=_(n.check,Me,2,0)),h=0,f=0,n.mode=j;case j:for(;f<32;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.head&&(n.head.time=h),512&n.flags&&(Me[0]=255&h,Me[1]=h>>>8&255,Me[2]=h>>>16&255,Me[3]=h>>>24&255,n.check=_(n.check,Me,4,0)),h=0,f=0,n.mode=F;case F:for(;f<16;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Me[0]=255&h,Me[1]=h>>>8&255,n.check=_(n.check,Me,2,0)),h=0,f=0,n.mode=B;case B:if(1024&n.flags){for(;f<16;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Me[0]=255&h,Me[1]=h>>>8&255,n.check=_(n.check,Me,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,r,a,g,xe)),512&n.flags&&(n.check=_(n.check,r,g,a)),l-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=U;case U:if(2048&n.flags){if(0===l)break e;g=0;do xe=r[a+g++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe));while(xe&&g<l);if(512&n.flags&&(n.check=_(n.check,r,g,a)),l-=g,a+=g,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=q;case q:if(4096&n.flags){if(0===l)break e;g=0;do xe=r[a+g++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe));while(xe&&g<l);if(512&n.flags&&(n.check=_(n.check,r,g,a)),l-=g,a+=g,xe)break e}else n.head&&(n.head.comment=null);n.mode=V;case V:if(512&n.flags){for(;f<16;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Y;break;case G:for(;f<32;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}e.adler=n.check=i(h),h=0,f=0,n.mode=W;case W:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=f,P;e.adler=n.check=1,n.mode=Y;case Y:if(t===M||t===A)break e;case X:if(n.last){h>>>=7&f,f-=7&f,n.mode=ce;break}for(;f<3;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}switch(n.last=1&h,h>>>=1,f-=1,3&h){case 0:n.mode=K;break;case 1:if(u(n),n.mode=ne,t===A){h>>>=2,f-=2;break e}break;case 2:n.mode=Q;break;case 3:e.msg="invalid block type",n.mode=he}h>>>=2,f-=2;break;case K:for(h>>>=7&f,f-=7&f;f<32;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&h,h=0,f=0,n.mode=Z,t===A)break e;case Z:n.mode=J;case J:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break e;y.arraySet(o,r,a,g,s),l-=g,a+=g,c-=g,s+=g,n.length-=g;break}n.mode=Y;break;case Q:for(;f<14;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(n.nlen=(31&h)+257,h>>>=5,f-=5,n.ndist=(31&h)+1,h>>>=5,f-=5,n.ncode=(15&h)+4,h>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;f<3;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.lens[Ae[n.have++]]=7&h,h>>>=3,f-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ke={bits:n.lenbits},Ee=x(E,n.lens,0,19,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ee){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Se=n.lencode[h&(1<<n.lenbits)-1],ge=Se>>>24,ve=Se>>>16&255,ye=65535&Se,!(ge<=f);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(ye<16)h>>>=ge,f-=ge,n.lens[n.have++]=ye;else{if(16===ye){for(Ce=ge+2;f<Ce;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(h>>>=ge,f-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}xe=n.lens[n.have-1],g=3+(3&h),h>>>=2,f-=2}else if(17===ye){for(Ce=ge+3;f<Ce;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=ge,f-=ge,xe=0,g=3+(7&h),h>>>=3,f-=3}else{for(Ce=ge+7;f<Ce;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=ge,f-=ge,xe=0,g=11+(127&h),h>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=he;break}for(;g--;)n.lens[n.have++]=xe}}if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,ke={bits:n.lenbits},Ee=x(k,n.lens,0,n.nlen,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ee){e.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,ke={bits:n.distbits},Ee=x(C,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ke),n.distbits=ke.bits,Ee){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,t===A)break e;case ne:n.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=f,w(e,m),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,h=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;Se=n.lencode[h&(1<<n.lenbits)-1],ge=Se>>>24,ve=Se>>>16&255,ye=65535&Se,!(ge<=f);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(ve&&0===(240&ve)){for(be=ge,_e=ve,we=ye;Se=n.lencode[we+((h&(1<<be+_e)-1)>>be)],ge=Se>>>24,ve=Se>>>16&255,ye=65535&Se,!(be+ge<=f);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=be,f-=be,n.back+=be}if(h>>>=ge,f-=ge,n.back+=ge,n.length=ye,0===ve){n.mode=le;break}if(32&ve){n.back=-1,n.mode=Y;break}if(64&ve){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Ce=n.extra;f<Ce;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Se=n.distcode[h&(1<<n.distbits)-1],ge=Se>>>24,ve=Se>>>16&255,ye=65535&Se,!(ge<=f);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(0===(240&ve)){for(be=ge,_e=ve,we=ye;Se=n.distcode[we+((h&(1<<be+_e)-1)>>be)],ge=Se>>>24,ve=Se>>>16&255,ye=65535&Se,!(be+ge<=f);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=be,f-=be,n.back+=be}if(h>>>=ge,f-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=he;break}n.offset=ye,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(Ce=n.extra;f<Ce;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=se;case se:if(0===c)break e;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=he;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=o,v=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do o[s++]=me[v++];while(--g);0===n.length&&(n.mode=ie);break;case le:if(0===c)break e;o[s++]=n.length,c--,n.mode=ie;break;case ce:if(n.wrap){for(;f<32;){if(0===l)break e;l--,h|=r[a++]<<f,f+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?_(n.check,o,m,s-m):b(n.check,o,m,s-m)),m=c,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=he;break}h=0,f=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;f<32;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}h=0,f=0}n.mode=de;case de:Ee=O;break e;case he:Ee=L;break e;case fe:return I;case pe:default:return $}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=f,(n.wsize||m!==e.avail_out&&n.mode<he&&(n.mode<ce||t!==S))&&d(e,e.output,e.next_out,m-e.avail_out)?(n.mode=fe,I):(p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?_(n.check,o,m,e.next_out-m):b(n.check,o,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===ne||n.mode===Z?256:0),(0===p&&0===m||t===S)&&Ee===T&&(Ee=D),Ee)}function f(e){if(!e||!e.state)return $;var t=e.state;return t.window&&(t.window=null),e.state=null,T}function p(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?$:(n.head=t,t.done=!1,T)):$}function m(e,t){var n,i,r,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==W?$:n.mode===W&&(i=1,i=b(i,t,o,0),i!==n.check)?L:(r=d(e,t,o,o))?(n.mode=fe,I):(n.havedict=1,T)):$}var g,v,y=e("../utils/common"),b=e("./adler32"),_=e("./crc32"),w=e("./inffast"),x=e("./inftrees"),E=0,k=1,C=2,S=4,M=5,A=6,T=0,O=1,P=2,$=-2,L=-3,I=-4,D=-5,N=8,R=1,z=2,j=3,F=4,B=5,H=6,U=7,q=8,V=9,G=10,W=11,Y=12,X=13,K=14,Z=15,J=16,Q=17,ee=18,te=19,ne=20,ie=21,re=22,oe=23,ae=24,se=25,le=26,ce=27,ue=28,de=29,he=30,fe=31,pe=32,me=852,ge=592,ve=15,ye=ve,be=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=l,n.inflate=h,n.inflateEnd=f,n.inflateGetHeader=p,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":37,"./adler32":39,"./crc32":41,"./inffast":44,"./inftrees":46}],46:[function(e,t,n){"use strict";var i=e("../utils/common"),r=15,o=852,a=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,m,g,v,y){var b,_,w,x,E,k,C,S,M,A=y.bits,T=0,O=0,P=0,$=0,L=0,I=0,D=0,N=0,R=0,z=0,j=null,F=0,B=new i.Buf16(r+1),H=new i.Buf16(r+1),U=null,q=0;for(T=0;T<=r;T++)B[T]=0;for(O=0;O<p;O++)B[t[n+O]]++;for(L=A,$=r;$>=1&&0===B[$];$--);if(L>$&&(L=$),0===$)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(P=1;P<$&&0===B[P];P++);for(L<P&&(L=P),N=1,T=1;T<=r;T++)if(N<<=1,N-=B[T],N<0)return-1;if(N>0&&(e===s||1!==$))return-1;for(H[1]=0,T=1;T<r;T++)H[T+1]=H[T]+B[T];for(O=0;O<p;O++)0!==t[n+O]&&(v[H[t[n+O]]++]=O);if(e===s?(j=U=v,k=19):e===l?(j=u,F-=257,U=d,q-=257,k=256):(j=h,U=f,k=-1),z=0,O=0,T=P,E=g,I=L,D=0,w=-1,R=1<<L,x=R-1,e===l&&R>o||e===c&&R>a)return 1;for(;;){C=T-D,v[O]<k?(S=0,M=v[O]):v[O]>k?(S=U[q+v[O]],M=j[F+v[O]]):(S=96,M=0),b=1<<T-D,_=1<<I,P=_;do _-=b,m[E+(z>>D)+_]=C<<24|S<<16|M|0;while(0!==_);for(b=1<<T-1;z&b;)b>>=1;if(0!==b?(z&=b-1,z+=b):z=0,O++,0===--B[T]){if(T===$)break;T=t[n+v[O]]}if(T>L&&(z&x)!==w){for(0===D&&(D=L),E+=P,I=T-D,N=1<<I;I+D<$&&(N-=B[I+D],!(N<=0));)I++,N<<=1;if(R+=1<<I,e===l&&R>o||e===c&&R>a)return 1;w=z&x,m[w]=L<<24|I<<16|E-g|0}}return 0!==z&&(m[E+z]=T-D<<24|64<<16|0),y.bits=L,0}},{"../utils/common":37}],47:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],48:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?le[e]:le[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>X-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>X-e.bi_valid,e.bi_valid+=n-X):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=Y;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<W;n++)i=e.heap[n],o=l[2*l[2*i+1]+1]+1,o>p&&(o=p,m++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function f(e,t,n){var i,r,o=new Array(Y+1),a=0;for(i=1;i<=Y;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(o[s]++,s))}}function p(){var e,t,n,i,o,a=new Array(Y+1);for(n=0,i=0;i<H-1;i++)for(ue[i]=n,e=0;e<1<<te[i];e++)ce[n++]=i;for(ce[n-1]=i,o=0,i=0;i<16;i++)for(de[i]=o,e=0;e<1<<ne[i];e++)le[o++]=i;for(o>>=7;i<V;i++)for(de[i]=o<<7,e=0;e<1<<ne[i]-7;e++)le[256+o++]=i;for(t=0;t<=Y;t++)a[t]=0;for(e=0;e<=143;)ae[2*e+1]=8,e++,a[8]++;for(;e<=255;)ae[2*e+1]=9,e++,a[9]++;for(;e<=279;)ae[2*e+1]=7,e++,a[7]++;for(;e<=287;)ae[2*e+1]=8,e++,a[8]++;for(f(ae,q+1,a),e=0;e<V;e++)se[2*e+1]=5,se[2*e]=u(e,5);he=new r(ae,te,U+1,q,Y),fe=new r(se,ne,0,V,Y),pe=new r(new Array(0),ie,0,G,K)}function m(e){var t;for(t=0;t<q;t++)e.dyn_ltree[2*t]=0;for(t=0;t<V;t++)e.dyn_dtree[2*t]=0;for(t=0;t<G;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,i){g(e),i&&(s(e,n),s(e,~n)),$.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function y(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function b(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&y(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!y(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function _(e,t,n){var i,r,o,s,u=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?c(e,r,t):(o=ce[r],c(e,o+U+1,t),s=te[o],0!==s&&(r-=ue[o],l(e,r,s)),i--,o=a(i),c(e,o,n),s=ne[o],0!==s&&(i-=de[o],l(e,i,s)));while(u<e.last_lit);c(e,Z,t)}function w(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=W,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=c<2?++c:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)b(e,o,n);r=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,b(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),f(o,c,e.bl_count)}function x(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*J]++):s<=10?e.bl_tree[2*Q]++:e.bl_tree[2*ee]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function E(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(s<d){do c(e,r,e.bl_tree);while(0!==--s)}else 0!==r?(r!==o&&(c(e,r,e.bl_tree),s--),c(e,J,e.bl_tree),l(e,s-3,2)):s<=10?(c(e,Q,e.bl_tree),l(e,s-3,3)):(c(e,ee,e.bl_tree),l(e,s-11,7));s=0,o=r,0===a?(u=138,d=3):r===a?(u=6,d=3):(u=7,d=4)}}function k(e){var t;for(x(e,e.dyn_ltree,e.l_desc.max_code),x(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=G-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function C(e,t,n,i){var r;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),r=0;r<i;r++)l(e,e.bl_tree[2*re[r]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,n-1)}function S(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return I;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return D;for(t=32;t<U;t++)if(0!==e.dyn_ltree[2*t])return D;return I}function M(e){me||(p(),me=!0),e.l_desc=new o(e.dyn_ltree,he),e.d_desc=new o(e.dyn_dtree,fe),e.bl_desc=new o(e.bl_tree,pe),e.bi_buf=0,e.bi_valid=0,m(e)}function A(e,t,n,i){l(e,(R<<1)+(i?1:0),3),v(e,t,n,!0)}function T(e){l(e,z<<1,3),c(e,Z,ae),d(e)}function O(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===N&&(e.strm.data_type=S(e)),w(e,e.l_desc),w(e,e.d_desc),a=k(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&t!==-1?A(e,t,n,i):e.strategy===L||o===r?(l(e,(z<<1)+(i?1:0),3),_(e,ae,se)):(l(e,(j<<1)+(i?1:0),3),C(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),_(e,e.dyn_ltree,e.dyn_dtree)),m(e),i&&g(e)}function P(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+U+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var $=e("../utils/common"),L=4,I=0,D=1,N=2,R=0,z=1,j=2,F=3,B=258,H=29,U=256,q=U+1+H,V=30,G=19,W=2*q+1,Y=15,X=16,K=7,Z=256,J=16,Q=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(q+2));i(ae);var se=new Array(2*V);i(se);var le=new Array(oe);i(le);var ce=new Array(B-F+1);i(ce);var ue=new Array(H);i(ue);var de=new Array(V);i(de);var he,fe,pe,me=!1;n._tr_init=M,n._tr_stored_block=A,n._tr_flush_block=O,n._tr_tally=P,n._tr_align=T},{"../utils/common":37}],49:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}],50:[function(e,t,n){"use strict";function i(){}t.exports=i},{}],51:[function(e,t,n){"use strict";function i(e){function t(e,t){function r(e){c[t]=e,++u===n&!i&&(i=!0,l.resolve(h,c))}a(e).then(r,function(e){i||(i=!0,l.reject(h,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return a([]);for(var c=new Array(n),u=0,d=-1,h=new r(s);++d<n;)t(e[d],d);return h}var r=e("./promise"),o=e("./reject"),a=e("./resolve"),s=e("./INTERNAL"),l=e("./handlers");t.exports=i},{"./INTERNAL":50,"./handlers":52,"./promise":54,"./reject":57,"./resolve":58}],52:[function(e,t,n){"use strict";function i(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}var r=e("./tryCatch"),o=e("./resolveThenable"),a=e("./states");n.resolve=function(e,t){var s=r(i,t);if("error"===s.status)return n.reject(e,s.value);var l=s.value;if(l)o.safely(e,l);else{e.state=a.FULFILLED,e.outcome=t;for(var c=-1,u=e.queue.length;++c<u;)e.queue[c].callFulfilled(t)}return e},n.reject=function(e,t){e.state=a.REJECTED,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e}},{"./resolveThenable":59,"./states":60,"./tryCatch":61}],53:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all"),n.race=e("./race")},{"./all":51,"./promise":54,"./race":56,"./reject":57,"./resolve":58}],54:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s.PENDING,this.queue=[],this.outcome=void 0,e!==o&&a.safely(this,e)}var r=e("./unwrap"),o=e("./INTERNAL"),a=e("./resolveThenable"),s=e("./states"),l=e("./queueItem");t.exports=i,i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s.FULFILLED||"function"!=typeof t&&this.state===s.REJECTED)return this;var n=new i(o);if(this.state!==s.PENDING){var a=this.state===s.FULFILLED?e:t;r(n,a,this.outcome)}else this.queue.push(new l(n,e,t));return n}},{"./INTERNAL":50,"./queueItem":55,"./resolveThenable":59,"./states":60,"./unwrap":62}],55:[function(e,t,n){"use strict";function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),o=e("./unwrap");t.exports=i,i.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){r.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)}},{"./handlers":52,"./unwrap":62}],56:[function(e,t,n){"use strict";function i(e){function t(e){a(e).then(function(e){i||(i=!0,l.resolve(u,e))},function(e){i||(i=!0,l.reject(u,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return a([]);for(var c=-1,u=new r(s);++c<n;)t(e[c]);return u}var r=e("./promise"),o=e("./reject"),a=e("./resolve"),s=e("./INTERNAL"),l=e("./handlers");t.exports=i},{"./INTERNAL":50,"./handlers":52,"./promise":54,"./reject":57,"./resolve":58}],57:[function(e,t,n){"use strict";function i(e){var t=new r(o);return a.reject(t,e)}var r=e("./promise"),o=e("./INTERNAL"),a=e("./handlers");t.exports=i},{"./INTERNAL":50,"./handlers":52,"./promise":54}],58:[function(e,t,n){"use strict";function i(e){if(e)return e instanceof r?e:a.resolve(new r(o),e);var t=typeof e;switch(t){case"boolean":return s;case"undefined":return c;case"object":return l;case"number":return u;case"string":return d}}var r=e("./promise"),o=e("./INTERNAL"),a=e("./handlers");t.exports=i;var s=a.resolve(new r(o),!1),l=a.resolve(new r(o),null),c=a.resolve(new r(o),void 0),u=a.resolve(new r(o),0),d=a.resolve(new r(o),"")},{"./INTERNAL":50,"./handlers":52,"./promise":54}],59:[function(e,t,n){"use strict";function i(e,t){function n(t){s||(s=!0,r.reject(e,t))}function i(t){s||(s=!0,r.resolve(e,t))}function a(){t(i,n)}var s=!1,l=o(a);"error"===l.status&&n(l.value)}var r=e("./handlers"),o=e("./tryCatch");n.safely=i},{"./handlers":52,"./tryCatch":61}],60:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],61:[function(e,t,n){"use strict";function i(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}t.exports=i},{}],62:[function(e,t,n){"use strict";function i(e,t,n){r(function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)})}var r=e("immediate"),o=e("./handlers");t.exports=i},{"./handlers":52,immediate:7}],63:[function(e,t,n){!function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(){return 1}function i(e){h||"string"==typeof e||"number"==typeof e||(h=!0)}function r(e){return this instanceof r?("number"==typeof e&&(e={max:e}),e||(e={}),this._max=e.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=e.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=e.stale||!1,this._maxAge=e.maxAge||null,this._dispose=e.dispose,void this.reset()):new r(e)}function o(e,t,n){i(t);var r=e._cache[t];return r&&(a(e,r)?(u(e,r),e._allowStale||(r=void 0)):n&&s(e,r),r&&(r=r.value)),r}function a(e,t){if(!t||!t.maxAge&&!e._maxAge)return!1;var n=!1,i=Date.now()-t.now;return n=t.maxAge?i>t.maxAge:e._maxAge&&i>e._maxAge}function s(e,t){c(e,t),t.lu=e._mru++,e._lruList[t.lu]=t}function l(e){for(;e._lru<e._mru&&e._length>e._max;)u(e,e._lruList[e._lru])}function c(e,t){for(delete e._lruList[t.lu];e._lru<e._mru&&!e._lruList[e._lru];)e._lru++}function u(e,t){t&&(e._dispose&&e._dispose(t.key,t.value),e._length-=t.length,e._itemCount--,delete e._cache[t.key],c(e,t))}function d(e,t,n,i,r,o){this.key=e,this.value=t,this.lu=n,this.length=i,this.now=r,o&&(this.maxAge=o)}"object"==typeof t&&t.exports?t.exports=r:this.LRUCache=r;var h=!1;Object.defineProperty(r.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this._max=e,this._length>this._max&&l(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(r.prototype,"lengthCalculator",{set:function(e){if("function"!=typeof e){this._lengthCalculator=n,this._length=this._itemCount;for(var t in this._cache)this._cache[t].length=1}else{this._lengthCalculator=e,this._length=0;for(var t in this._cache)this._cache[t].length=this._lengthCalculator(this._cache[t].value),this._length+=this._cache[t].length}this._length>this._max&&l(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),r.prototype.forEach=function(e,t){t=t||this;for(var n=0,i=this._itemCount,r=this._mru-1;r>=0&&n<i;r--)if(this._lruList[r]){n++;var o=this._lruList[r];a(this,o)&&(u(this,o),this._allowStale||(o=void 0)),o&&e.call(t,o.value,o.key,this)}},r.prototype.keys=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var i=this._lruList[n];e[t++]=i.key}return e},r.prototype.values=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var i=this._lruList[n];e[t++]=i.value}return e},r.prototype.reset=function(){if(this._dispose&&this._cache)for(var e in this._cache)this._dispose(e,this._cache[e].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},r.prototype.dump=function(){for(var e=[],t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var i=this._lruList[n];a(this,i)||(++t,e.push({k:i.key,v:i.value,e:i.now+(i.maxAge||0)}))}return e},r.prototype.dumpLru=function(){return this._lruList},r.prototype.set=function(t,n,r){
r=r||this._maxAge,i(t);var o=r?Date.now():0,a=this._lengthCalculator(n);if(e(this._cache,t))return a>this._max?(u(this,this._cache[t]),!1):(this._dispose&&this._dispose(t,this._cache[t].value),this._cache[t].now=o,this._cache[t].maxAge=r,this._cache[t].value=n,this._length+=a-this._cache[t].length,this._cache[t].length=a,this.get(t),this._length>this._max&&l(this),!0);var s=new d(t,n,(this._mru++),a,o,r);return s.length>this._max?(this._dispose&&this._dispose(t,n),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[t]=s,this._itemCount++,this._length>this._max&&l(this),!0)},r.prototype.has=function(t){if(i(t),!e(this._cache,t))return!1;var n=this._cache[t];return!a(this,n)},r.prototype.get=function(e){return i(e),o(this,e,!0)},r.prototype.peek=function(e){return i(e),o(this,e,!1)},r.prototype.pop=function(){var e=this._lruList[this._lru];return u(this,e),e||null},r.prototype.del=function(e){i(e),u(this,this._cache[e])},r.prototype.load=function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n];i(r.k);var o=r.e||0;if(0===o)this.set(r.k,r.v);else{var a=o-t;a>0&&this.set(r.k,r.v,a)}}}}()},{}],64:[function(e,t,n){function i(e){var t=new DataView(e),n={};return n.lastUpdated=new Date(t.getUint8(1,!0)+1900,t.getUint8(2,!0),t.getUint8(3,!0)),n.records=t.getUint32(4,!0),n.headerLen=t.getUint16(8,!0),n.recLen=t.getUint16(10,!0),n}function r(e){for(var t=new DataView(e),n=[],i=32;;){if(n.push({name:String.fromCharCode.apply(this,new Uint8Array(e,i,10)).replace(/\0|\s+$/g,""),dataType:String.fromCharCode(t.getUint8(i+11)),len:t.getUint8(i+16),decimal:t.getUint8(i+17)}),13===t.getUint8(i+32))break;i+=32}return n}function o(e,t,n,i){var r=new Uint8Array(e,t,n),o=String.fromCharCode.apply(this,r).replace(/\0|\s+$/g,"");switch(i){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return"y"===o.toLowerCase()||"t"===o.toLowerCase();default:return o}}function a(e,t,n){for(var i,r,a={},s=0,l=n.length;s<l;)r=n[s],i=o(e,t,r.len,r.dataType),t+=r.len,"undefined"!=typeof i&&(a[r.name]=i),s++;return a}t.exports=function(e){for(var t=r(e),n=i(e),o=(t.length+1<<5)+2,s=n.recLen,l=n.records,c=[];l;)c.push(a(e,o,t)),o+=s,l--;return c}},{}],65:[function(t,n,i){!function(t,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof e&&e.amd?e(r):t.proj4=r()}(this,function(){"use strict";function e(e,t){if(e[t])return e[t];for(var n,i,r=Object.keys(e),o=t.toLowerCase().replace(Bt,""),a=-1;++a<r.length;)if(n=r[a],i=n.toLowerCase().replace(Bt,""),i===o)return e[n]}function t(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ut}function n(e){var n=new t(e);return n.output()}function i(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var i=t?{}:e,o=n.reduce(function(e,t){return r(t,e),e},i);t&&(e[t]=o)}function r(e,t){if(!Array.isArray(e))return void(t[e]=!0);var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void r(e[0],t[n])):void(t[n]=e[0]);if(!e.length)return void(t[n]=!0);if("TOWGS84"===n)return void(t[n]=e);Array.isArray(n)||(t[n]={});var o;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&r(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&r(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void i(t,n,e);default:for(o=-1;++o<e.length;)if(!Array.isArray(e[o]))return r(e,t[n]);return i(t,n,e)}}function o(e,t){var n=t[0],i=t[1];!(n in e)&&i in e&&(e[n]=e[i],3===t.length&&(e[n]=t[2](e[n])))}function a(e){return e*en}function s(e){function t(t){var n=e.to_meter||1;return t*n}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):(e.to_meter=e.UNIT.convert,10)));var n=e.GEOGCS;"GEOGCS"===e.type&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36")),e.b&&!isFinite(e.b)&&(e.b=e.a);var i=function(t){return o(e,t)},r=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]];r.forEach(i),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=a(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function l(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?l[e]=Ht(arguments[1]):l[e]=tn(arguments[1]):l[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?l.apply(t,e):l(e)});if("string"==typeof e){if(e in l)return l[e]}else"EPSG"in e?l["EPSG:"+e.EPSG]=e:"ESRI"in e?l["ESRI:"+e.ESRI]=e:"IAU2000"in e&&(l["IAU2000:"+e.IAU2000]=e);return}}function c(e){return"string"==typeof e}function u(e){return e in l}function d(e){return nn.some(function(t){return e.indexOf(t)>-1})}function h(e){return"+"===e[0]}function f(e){return c(e)?u(e)?l[e]:d(e)?tn(e):h(e)?Ht(e):void 0:e}function p(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=on(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function m(e){var t=e.x,n=e.y;if(n*Dt>90&&n*Dt<-90&&t*Dt>180&&t*Dt<-180)return null;var i,r;if(Math.abs(Math.abs(n)-Tt)<=Lt)return null;if(this.sphere)i=this.x0+this.a*this.k0*sn(t-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Nt+.5*n));else{var o=Math.sin(n),a=ln(this.e,n,o);i=this.x0+this.a*this.k0*sn(t-this.long0),r=this.y0-this.a*this.k0*Math.log(a)}return e.x=i,e.y=r,e}function g(e){var t,n,i=e.x-this.x0,r=e.y-this.y0;if(this.sphere)n=Tt-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(n=cn(this.e,o),n===-9999)return null}return t=sn(this.long0+i/(this.a*this.k0)),e.x=t,e.y=n,e}function v(){}function y(e){return e}function b(e,t){var n=gn.length;return!e.names||(gn[n]=e,e.names.forEach(function(e){mn[e.toLowerCase()]=n}),this)}function _(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!=typeof mn[t]&&gn[mn[t]]?gn[mn[t]]:void 0}function w(){pn.forEach(b)}function x(e,t,n,i){var r=e*e,o=t*t,a=(r-o)/r,s=0;i?(e*=1-a*(Ot+a*(Pt+a*$t)),r=e*e,a=0):s=Math.sqrt(a);var l=(r-o)/o;return{es:a,e:s,ep2:l}}function E(t,n,i,r,o){if(!t){var a=e(yn,r);a||(a=bn),t=a.a,n=a.b,i=a.rf}return i&&!n&&(n=(1-1/i)*t),(0===i||Math.abs(t-n)<Lt)&&(o=!0,n=t),{a:t,b:n,rf:i,sphere:o}}function k(e,t,n,i,r,o){var a={};return void 0===e||"none"===e?a.datum_type=Mt:a.datum_type=St,t&&(a.datum_params=t.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=kt),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=Ct,a.datum_params[3]*=At,a.datum_params[4]*=At,a.datum_params[5]*=At,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=i,a.es=r,a.ep2=o,a}function C(t,n){if(!(this instanceof C))return new C(t);n=n||function(e){if(e)throw e};var i=f(t);if("object"!=typeof i)return void n(t);var r=C.projections.get(i.projName);if(!r)return void n(t);if(i.datumCode&&"none"!==i.datumCode){var o=e(_n,i.datumCode);o&&(i.datum_params=o.towgs84?o.towgs84.split(","):null,i.ellps=o.ellipse,i.datumName=o.datumName?o.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84";var a=E(i.a,i.b,i.rf,i.ellps,i.sphere),s=x(a.a,a.b,a.rf,i.R_A),l=i.datum||k(i.datumCode,i.datum_params,a.a,a.b,s.es,s.ep2);rn(this,i),rn(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),n(null,this)}function S(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===kt?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==Ct||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function M(e,t,n){var i,r,o,a,s=e.x,l=e.y,c=e.z?e.z:0;if(l<-Tt&&l>-1.001*Tt)l=-Tt;else if(l>Tt&&l<1.001*Tt)l=Tt;else if(l<-Tt||l>Tt)return null;return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(l),a=Math.cos(l),o=r*r,i=n/Math.sqrt(1-t*o),{x:(i+c)*a*Math.cos(s),y:(i+c)*a*Math.sin(s),z:(i*(1-t)+c)*r}}function A(e,t,n,i){var r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_=1e-12,w=_*_,x=30,E=e.x,k=e.y,C=e.z?e.z:0;if(r=Math.sqrt(E*E+k*k),o=Math.sqrt(E*E+k*k+C*C),r/n<_){if(v=0,o/n<_)return y=Tt,b=-i,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(k,E);a=C/o,s=r/o,l=1/Math.sqrt(1-t*(2-t)*s*s),d=s*(1-t)*l,h=a*l,g=0;do g++,u=n/Math.sqrt(1-t*h*h),b=r*d+C*h-u*(1-t*h*h),c=t*u/(u+b),l=1/Math.sqrt(1-c*(2-c)*s*s),f=s*(1-c)*l,p=a*l,m=p*d-f*h,d=f,h=p;while(m*m>w&&g<x);return y=Math.atan(p/Math.abs(f)),{x:v,y:y,z:b}}function T(e,t,n){if(t===kt)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===Ct){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+s*e.z)+i,y:c*(l*e.x+e.y-a*e.z)+r,z:c*(-s*e.x+a*e.y+e.z)+o}}}function O(e,t,n){if(t===kt)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===Ct){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=(e.x-i)/c,d=(e.y-r)/c,h=(e.z-o)/c;return{x:u+l*d-s*h,y:-l*u+d+a*h,z:s*u-a*d+h}}}function P(e){return e===kt||e===Ct}function $(e,t){return(e.datum.datum_type===kt||e.datum.datum_type===Ct)&&"WGS84"!==t.datumCode||(t.datum.datum_type===kt||t.datum.datum_type===Ct)&&"WGS84"!==e.datumCode}function L(e,t,n){var i;return Array.isArray(n)&&(n=En(n)),e.datum&&t.datum&&$(e,t)&&(i=new C("WGS84"),n=L(e,i,n),e=i),"enu"!==e.axis&&(n=xn(e,!1,n)),"longlat"===e.projName?n={x:n.x*It,y:n.y*It}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=wn(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y}),"longlat"===t.projName?n={x:n.x*Dt,y:n.y*Dt}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter})),"enu"!==t.axis?xn(t,!0,n):n}function I(e,t,n){var i;return Array.isArray(n)?(i=L(e,t,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):L(e,t,n)}function D(e){return e instanceof C?e:e.oProj?e.oProj:C(e)}function N(e,t,n){e=D(e);var i,r=!1;return"undefined"==typeof t?(t=e,e=kn,r=!0):("undefined"!=typeof t.x||Array.isArray(t))&&(n=t,t=e,e=kn,r=!0),t=D(t),n?I(e,t,n):(i={forward:function(n){return I(e,t,n)},inverse:function(n){return I(t,e,n)}},r&&(i.oProj=t),i)}function R(e,t){return t=t||5,V(H({lat:e[1],lon:e[0]}),t)}function z(e){var t=U(X(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function j(e){var t=U(X(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function F(e){return e*(Math.PI/180)}function B(e){return 180*(e/Math.PI)}function H(e){var t,n,i,r,o,a,s,l,c,u=e.lat,d=e.lon,h=6378137,f=.00669438,p=.9996,m=F(u),g=F(d);c=Math.floor((d+180)/6)+1,180===d&&(c=60),u>=56&&u<64&&d>=3&&d<12&&(c=32),u>=72&&u<84&&(d>=0&&d<9?c=31:d>=9&&d<21?c=33:d>=21&&d<33?c=35:d>=33&&d<42&&(c=37)),t=6*(c-1)-180+3,l=F(t),n=f/(1-f),i=h/Math.sqrt(1-f*Math.sin(m)*Math.sin(m)),r=Math.tan(m)*Math.tan(m),o=n*Math.cos(m)*Math.cos(m),a=Math.cos(m)*(g-l),s=h*((1-f/4-3*f*f/64-5*f*f*f/256)*m-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*m)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*m)-35*f*f*f/3072*Math.sin(6*m));var v=p*i*(a+(1-r+o)*a*a*a/6+(5-18*r+r*r+72*o-58*n)*a*a*a*a*a/120)+5e5,y=p*(s+i*Math.tan(m)*(a*a/2+(5-r+9*o+4*o*o)*a*a*a*a/24+(61-58*r+r*r+600*o-330*n)*a*a*a*a*a*a/720));return u<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:c,zoneLetter:q(u)}}function U(e){var t=e.northing,n=e.easting,i=e.zoneLetter,r=e.zoneNumber;if(r<0||r>60)return null;var o,a,s,l,c,u,d,h,f,p,m=.9996,g=6378137,v=.00669438,y=(1-Math.sqrt(1-v))/(1+Math.sqrt(1-v)),b=n-5e5,_=t;i<"N"&&(_-=1e7),h=6*(r-1)-180+3,o=v/(1-v),d=_/m,f=d/(g*(1-v/4-3*v*v/64-5*v*v*v/256)),p=f+(3*y/2-27*y*y*y/32)*Math.sin(2*f)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*f)+151*y*y*y/96*Math.sin(6*f),a=g/Math.sqrt(1-v*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),l=o*Math.cos(p)*Math.cos(p),c=g*(1-v)/Math.pow(1-v*Math.sin(p)*Math.sin(p),1.5),u=b/(a*m);var w=p-a*Math.tan(p)/c*(u*u/2-(5+3*s+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*s+298*l+45*s*s-252*o-3*l*l)*u*u*u*u*u*u/720);w=B(w);var x=(u-(1+2*s+l)*u*u*u/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*u*u*u*u*u/120)/Math.cos(p);x=h+B(x);var E;if(e.accuracy){var k=U({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});E={top:k.lat,right:k.lon,bottom:w,left:x}}else E={lat:w,lon:x};return E}function q(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function V(e,t){var n="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+G(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+i.substr(i.length-5,t)}function G(e,t,n){var i=W(n),r=Math.floor(e/1e5),o=Math.floor(t/1e5)%20;return Y(r,o,i)}function W(e){var t=e%Cn;return 0===t&&(t=Cn),t}function Y(e,t,n){var i=n-1,r=Sn.charCodeAt(i),o=Mn.charCodeAt(i),a=r+e-1,s=o+t,l=!1;a>$n&&(a=a-$n+An-1,l=!0),(a===Tn||r<Tn&&a>Tn||(a>Tn||r<Tn)&&l)&&a++,(a===On||r<On&&a>On||(a>On||r<On)&&l)&&(a++,a===Tn&&a++),a>$n&&(a=a-$n+An-1),s>Pn?(s=s-Pn+An-1,l=!0):l=!1,(s===Tn||o<Tn&&s>Tn||(s>Tn||o<Tn)&&l)&&s++,(s===On||o<On&&s>On||(s>On||o<On)&&l)&&(s++,s===Tn&&s++),s>Pn&&(s=s-Pn+An-1);var c=String.fromCharCode(a)+String.fromCharCode(s);return c}function X(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,i=null,r="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;r+=t,o++}var a=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;i=e.substring(o,o+=2);for(var l=W(a),c=K(i.charAt(0),l),u=Z(i.charAt(1),l);u<J(s);)u+=2e6;var d=n-o;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,f,p,m,g,v=d/2,y=0,b=0;return v>0&&(h=1e5/Math.pow(10,v),f=e.substring(o,o+v),y=parseFloat(f)*h,p=e.substring(o+v),b=parseFloat(p)*h),m=y+c,g=b+u,{easting:m,northing:g,zoneLetter:s,zoneNumber:a,accuracy:h}}function K(e,t){for(var n=Sn.charCodeAt(t-1),i=1e5,r=!1;n!==e.charCodeAt(0);){if(n++,n===Tn&&n++,n===On&&n++,n>$n){if(r)throw"Bad character: "+e;n=An,r=!0}i+=1e5}return i}function Z(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=Mn.charCodeAt(t-1),i=0,r=!1;n!==e.charCodeAt(0);){if(n++,n===Tn&&n++,n===On&&n++,n>Pn){if(r)throw"Bad character: "+e;n=An,r=!0}i+=1e5}return i}function J(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Q(e,t,n){if(!(this instanceof Q))return new Q(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&"undefined"==typeof t){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=n||0}function ee(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Wn(this.es),this.ml0=Yn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function te(e){var t,n,i,r=e.x,o=e.y,a=sn(r-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*a,u=Math.pow(c,2),d=this.ep2*Math.pow(l,2),h=Math.pow(d,2),f=Math.abs(l)>Lt?Math.tan(o):0,p=Math.pow(f,2),m=Math.pow(p,2);t=1-this.es*Math.pow(s,2),c/=Math.sqrt(t);var g=Yn(o,s,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-p+d+u/20*(5-18*p+m+14*d-58*p*d+u/42*(61+179*m-m*p-479*p)))))+this.x0,i=this.a*(this.k0*(g-this.ml0+s*a*c/2*(1+u/12*(5-p+9*d+4*h+u/30*(61+m-58*p+270*d-330*p*d+u/56*(1385+543*m-m*p-3111*p))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<Lt)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),v=Math.abs(i),v>=1){if(v-1>Lt)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return e.x=n,e.y=i,e}function ne(e){var t,n,i,r,o=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+a/this.k0,n=Kn(t,this.es,this.en),Math.abs(n)<Tt){var s=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>Lt?Math.tan(n):0,u=this.ep2*Math.pow(l,2),d=Math.pow(u,2),h=Math.pow(c,2),f=Math.pow(h,2);t=1-this.es*Math.pow(s,2);var p=o*Math.sqrt(t)/this.k0,m=Math.pow(p,2);t*=c,i=n-t*m/(1-this.es)*.5*(1-m/12*(5+3*h-9*u*h+u-4*d-m/30*(61+90*h-252*u*h+45*f+46*u-m/56*(1385+3633*h+4095*f+1574*f*h)))),r=sn(this.long0+p*(1-m/6*(1+2*h+u-m/20*(5+28*h+24*f+8*u*h+6*u-m/42*(61+662*h+1320*f+720*f*h))))/l)}else i=Tt*an(a),r=0;else{var g=Math.exp(o/this.k0),v=.5*(g-1/g),y=this.lat0+a/this.k0,b=Math.cos(y);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),i=Math.asin(t),a<0&&(i=-i),r=0===v&&0===b?0:sn(Math.atan2(v,b)+this.long0)}return e.x=r,e.y=i,e}function ie(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n*=t,this.cgb[1]=n*(7/3+t*(-1.6+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-2.4+t*(-24832/14175))),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-.6+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*-.03233083094085698,this.gtu[5]=.6650675310896665*n;var i=ii(this.cbg,this.lat0);this.Zb=-this.Qn*(i+ri(this.gtu,2*i))}function re(e){var t=sn(e.x-this.long0),n=e.y;n=ii(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(t),a=Math.cos(t);n=Math.atan2(i,a*r),t=Math.atan2(o*r,ei(i,r*a)),t=ni(Math.tan(t));var s=ai(this.gtu,2*n,2*t);n+=s[0],t+=s[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function oe(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var i,r;if(Math.abs(t)<=2.623395162778){var o=ai(this.utg,2*n,2*t);n+=o[0],t+=o[1],t=Math.atan(Qn(t));var a=Math.sin(n),s=Math.cos(n),l=Math.sin(t),c=Math.cos(t);n=Math.atan2(a*c,ei(l,c*s)),t=Math.atan2(l,c*s),i=sn(t+this.long0),r=ii(this.cgb,n)}else i=1/0,r=1/0;return e.x=i,e.y=r,e}function ae(){var e=ci(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*It,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,li.init.apply(this),this.forward=li.forward,this.inverse=li.inverse}function se(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Nt)/(Math.pow(Math.tan(.5*this.lat0+Nt),this.C)*fi(this.e*e,this.ratexp))}function le(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Nt),this.C)*fi(this.e*Math.sin(n),this.ratexp))-Tt,e.x=this.C*t,e}function ce(e){for(var t=1e-14,n=e.x/this.C,i=e.y,r=Math.pow(Math.tan(.5*i+Nt)/this.K,1/this.C),o=pi;o>0&&(i=2*Math.atan(r*fi(this.e*Math.sin(e.y),-.5*this.e))-Tt,!(Math.abs(i-e.y)<t));--o)e.y=i;return o?(e.x=n,e.y=i,e):null}function ue(){gi.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function de(e){var t,n,i,r;return e.x=sn(e.x-this.long0),gi.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),i=Math.cos(e.x),r=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*i),e.x=r*n*Math.sin(e.x),e.y=r*(this.cosc0*t-this.sinc0*n*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function he(e){var t,n,i,r,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Math.sqrt(e.x*e.x+e.y*e.y)){var a=2*Math.atan2(o,this.R2);t=Math.sin(a),n=Math.cos(a),r=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),i=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else r=this.phic0,i=0;return e.x=i,e.y=r,gi.inverse.apply(this,[e]),e.x=sn(e.x+this.long0),e}function fe(e,t,n){return t*=n,Math.tan(.5*(Tt+e))*Math.pow((1-t)/(1+t),.5*n)}function pe(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Lt&&(this.k0=.5*(1+an(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Lt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Lt&&(this.k0=.5*this.cons*on(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ln(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=on(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Tt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function me(e){var t,n,i,r,o,a,s=e.x,l=e.y,c=Math.sin(l),u=Math.cos(l),d=sn(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=Lt&&Math.abs(l+this.lat0)<=Lt?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(d)),e.x=this.a*t*u*Math.sin(d)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*u*Math.cos(d))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,c,this.e))-Tt,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=Lt?(o=ln(this.e,l*this.con,this.con*c),a=2*this.a*this.k0*o/this.cons,e.x=this.x0+a*Math.sin(s-this.long0),e.y=this.y0-this.con*a*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<Lt?(t=2*this.a*this.k0/(1+r*Math.cos(d)),e.y=t*i):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(d))),e.y=t*(this.cosX0*i-this.sinX0*r*Math.cos(d))+this.y0),e.x=t*r*Math.sin(d)+this.x0,e))}function ge(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,r,o,a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(a/(.5*this.a*this.k0));return t=this.long0,n=this.lat0,a<=Lt?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/a),t=sn(Math.abs(this.coslat0)<Lt?this.lat0>0?this.long0+Math.atan2(e.x,-1*e.y):this.long0+Math.atan2(e.x,e.y):this.long0+Math.atan2(e.x*Math.sin(s),a*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=Lt){if(a<=Lt)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*cn(this.e,i),t=this.con*sn(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=Lt?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+e.y*Math.sin(r)*this.cosX0/a),t=sn(this.long0+Math.atan2(e.x*Math.sin(r),a*this.cosX0*Math.cos(r)-e.y*this.sinX0*Math.sin(r)))),n=-1*cn(this.e,Math.tan(.5*(Tt+o)));return e.x=t,e.y=n,e}function ve(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,i=this.rf,r=1/i,o=2*r-Math.pow(r,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+a*t)/(1-a*t));this.K=s-this.alpha*l+this.alpha*a/2*c}function ye(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e}function be(e){for(var t=e.x-this.x0,n=e.y-this.y0,i=t/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,c=o,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=c,e}function _e(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i=ln(this.e,this.lat0,e),r=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));r*r<1&&(r=1);var o,a;if(isNaN(this.longc)){var s=ln(this.e,this.lat1,Math.sin(this.lat1)),l=ln(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(r+Math.sqrt(r*r-1))*Math.pow(i,this.bl):this.el=(r-Math.sqrt(r*r-1))*Math.pow(i,this.bl);var c=Math.pow(s,this.bl),u=Math.pow(l,this.bl);o=this.el/c,a=.5*(o-1/o);var d=(this.el*this.el-u*c)/(this.el*this.el+u*c),h=(u-c)/(u+c),f=sn(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*f)/h)/this.bl,this.long0=sn(this.long0);var p=sn(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/a),this.alpha=Math.asin(r*Math.sin(this.gamma0))}else o=this.lat0>=0?r+Math.sqrt(r*r-1):r-Math.sqrt(r*r-1),this.el=o*Math.pow(i,this.bl),a=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/r),this.long0=this.longc-Math.asin(a*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}function we(e){var t,n,i,r=e.x,o=e.y,a=sn(r-this.long0);if(Math.abs(Math.abs(o)-Tt)<=Lt)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(Nt+i*this.gamma0*.5)),t=-1*i*Tt*this.al/this.bl;else{var s=ln(this.e,o,Math.sin(o)),l=this.el/Math.pow(s,this.bl),c=.5*(l-1/l),u=.5*(l+1/l),d=Math.sin(this.bl*a),h=(c*Math.sin(this.gamma0)-d*Math.cos(this.gamma0))/u;n=Math.abs(Math.abs(h)-1)<=Lt?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-h)/(1+h))/this.bl,t=Math.abs(Math.cos(this.bl*a))<=Lt?this.al*this.bl*a:this.al*Math.atan2(c*Math.cos(this.gamma0)+d*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e}function xe(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),a=Math.sin(this.bl*t/this.al),s=(a*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<Lt?(e.x=this.long0,e.y=Tt):Math.abs(s+1)<Lt?(e.x=this.long0,e.y=-1*Tt):(e.y=cn(this.e,l),e.x=sn(this.long0-Math.atan2(r*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}function Ee(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Lt)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),i=on(this.e,t,n),r=ln(this.e,this.lat1,t),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=on(this.e,o,a),l=ln(this.e,this.lat2,o),c=ln(this.e,this.lat0,Math.sin(this.lat0));
Math.abs(this.lat1-this.lat2)>Lt?this.ns=Math.log(i/s)/Math.log(r/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function ke(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=Lt&&(n=an(n)*(Tt-2*Lt));var i,r,o=Math.abs(Math.abs(n)-Tt);if(o>Lt)i=ln(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if(o=n*this.ns,o<=0)return null;r=0}var a=this.ns*sn(t-this.long0);return e.x=this.k0*(r*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,e}function Ce(e){var t,n,i,r,o,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,i=Math.pow(t/(this.a*this.f0),n),r=cn(this.e,i),r===-9999)return null}else r=-Tt;return o=sn(l/this.ns+this.long0),e.x=o,e.y=r,e}function Se(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Me(e){var t,n,i,r,o,a,s,l=e.x,c=e.y,u=sn(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),i=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e}function Ae(e){var t,n,i,r,o,a,s,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),r=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,l=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(l=1),s=e.y,u+=1;while(0===l&&u<15);return u>=15?null:e}function Te(){this.sphere||(this.e0=Oi(this.es),this.e1=Pi(this.es),this.e2=$i(this.es),this.e3=Li(this.es),this.ml0=this.a*Ti(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Oe(e){var t,n,i=e.x,r=e.y;if(i=sn(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),s=Ii(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),u=c*c,d=this.es*a*a/(1-this.es),h=this.a*Ti(this.e0,this.e1,this.e2,this.e3,r);t=s*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),n=h-this.ml0+s*o/a*u*(.5+(5-l+6*d)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function Pe(e){e.x-=this.x0,e.y-=this.y0;var t,n,i=e.x/this.a,r=e.y/this.a;if(this.sphere){var o=r+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=Ni(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Tt)<=Lt)return e.x=this.long0,e.y=Tt,r<0&&(e.y*=-1),e;var l=Ii(this.a,this.e,Math.sin(s)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),d=i*this.a/l,h=d*d;t=s-l*Math.tan(s)/c*d*d*(.5-(1+3*u)*d*d/24),n=d*(1-h*(u/3+(1+3*u)*u*h/15))/Math.cos(s)}return e.x=sn(n+this.long0),e.y=Di(t),e}function $e(){var e=Math.abs(this.lat0);if(Math.abs(e-Tt)<Lt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Lt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=ji(this.e,1),this.mmf=.5/(1-this.es),this.apa=De(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ji(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Le(e){var t,n,i,r,o,a,s,l,c,u,d=e.x,h=e.y;if(d=sn(d-this.long0),this.sphere){if(o=Math.sin(h),u=Math.cos(h),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*o+this.cosph0*u*i,n<=Lt)return null;n=Math.sqrt(2/n),t=n*u*Math.sin(d),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(h+this.phi0)<Lt)return null;n=Nt-.5*h,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(d),n*=i}}else{switch(s=0,l=0,c=0,i=Math.cos(d),r=Math.sin(d),o=Math.sin(h),a=ji(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:c=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=Tt+h,a=this.qp-a;break;case this.S_POLE:c=h-Tt,a=this.qp+a}if(Math.abs(c)<Lt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*s-this.sinb1*l*i):(c=Math.sqrt(2/(1+l*i)))*s*this.ymf,t=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(c=Math.sqrt(a))*r,n=i*(this.mode===this.S_POLE?c:-c)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function Ie(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,r,o,a,s,l=e.x/this.a,c=e.y/this.a;if(this.sphere){var u,d=0,h=0;if(u=Math.sqrt(l*l+c*c),n=.5*u,n>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=Lt?0:Math.asin(c*h/u),l*=h,c=d*u;break;case this.OBLIQ:n=Math.abs(u)<=Lt?this.phi0:Math.asin(d*this.sinph0+c*h*this.cosph0/u),l*=h*this.cosph0,c=(d-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=Tt-n;break;case this.S_POLE:n-=Tt}t=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,a=Math.sqrt(l*l+c*c),a<Lt)return e.x=0,e.y=this.phi0,e;r=2*Math.asin(.5*a/this.rq),i=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(s=i*this.sinb1+c*r*this.cosb1/a,o=this.qp*s,c=a*this.cosb1*i-c*this.sinb1*r):(s=c*r/a,o=this.qp*s,c=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),o=l*l+c*c,!o)return e.x=0,e.y=this.phi0,e;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(l,c),n=Ne(Math.asin(s),this.apa)}return e.x=sn(this.long0+t),e.y=n,e}function De(e){var t,n=[];return n[0]=e*qi,t=e*e,n[0]+=t*Vi,n[1]=t*Wi,t*=e,n[0]+=t*Gi,n[1]+=t*Yi,n[2]=t*Xi,n}function Ne(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}function Re(){Math.abs(this.lat1+this.lat2)<Lt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=on(this.e3,this.sin_po,this.cos_po),this.qs1=ji(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=on(this.e3,this.sin_po,this.cos_po),this.qs2=ji(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ji(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Lt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function ze(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=ji(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*sn(t-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return e.x=a,e.y=s,e}function je(e){var t,n,i,r,o,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),r=0,0!==t&&(r=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),o=sn(r/this.ns0+this.long0),e.x=o,e.y=a,e}function Fe(e,t){var n,i,r,o,a,s=Ji(.5*t);if(e<Lt)return s;for(var l=e*e,c=1;c<=25;c++)if(n=Math.sin(s),i=Math.cos(s),r=e*n,o=1-r*r,a=.5*o*o/i*(t/(1-l)-n/o+.5/e*Math.log((1-r)/(1+r))),s+=a,Math.abs(a)<=1e-7)return s;return null}function Be(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function He(e){var t,n,i,r,o,a,s,l,c=e.x,u=e.y;return i=sn(c-this.long0),t=Math.sin(u),n=Math.cos(u),r=Math.cos(i),a=this.sin_p14*t+this.cos_p14*n*r,o=1,a>0||Math.abs(a)<=Lt?(s=this.x0+this.a*o*n*Math.sin(i)/a,l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*r)/a):(s=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*r)),e.x=s,e.y=l,e}function Ue(e){var t,n,i,r,o,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(r=Math.atan2(t,this.rc),n=Math.sin(r),i=Math.cos(r),a=Ji(i*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n),o=sn(this.long0+o)):(a=this.phic0,o=0),e.x=o,e.y=a,e}function qe(){this.sphere||(this.k0=on(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Ve(e){var t,n,i=e.x,r=e.y,o=sn(i-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=ji(this.e,Math.sin(r));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e}function Ge(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=sn(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=ir(this.e,2*e.y*this.k0/this.a),t=sn(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}function We(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Ye(e){var t=e.x,n=e.y,i=sn(t-this.long0),r=Di(n-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*r,e}function Xe(e){var t=e.x,n=e.y;return e.x=sn(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Di(this.lat0+(n-this.y0)/this.a),e}function Ke(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oi(this.es),this.e1=Pi(this.es),this.e2=$i(this.es),this.e3=Li(this.es),this.ml0=this.a*Ti(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Ze(e){var t,n,i,r=e.x,o=e.y,a=sn(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=Lt?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(i)/Math.tan(o),n=this.a*(Di(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=Lt)t=this.a*a,n=-1*this.ml0;else{var s=Ii(this.a,this.e,Math.sin(o))/Math.tan(o);t=s*Math.sin(i),n=this.a*Ti(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(i))}return e.x=t+this.x0,e.y=n+this.y0,e}function Je(e){var t,n,i,r,o,a,s,l,c;if(i=e.x-this.x0,r=e.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=Lt)t=sn(i/this.a+this.long0),n=0;else{a=this.lat0+r/this.a,s=i*i/this.a/this.a+a*a,l=a;var u;for(o=lr;o;--o)if(u=Math.tan(l),c=-1*(a*(l*u+1)-l-.5*(l*l+s)*u)/((l-a)/u-1),l+=c,Math.abs(c)<=Lt){n=l;break}t=sn(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=Lt)n=0,t=sn(this.long0+i/this.a);else{a=(this.ml0+r)/this.a,s=i*i/this.a/this.a+a*a,l=a;var d,h,f,p,m;for(o=lr;o;--o)if(m=this.e*Math.sin(l),d=Math.sqrt(1-m*m)*Math.tan(l),h=this.a*Ti(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=h/this.a,c=(a*(d*p+1)-p-.5*d*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*a*p)/(4*d)+(a-p)*(d*f-2/Math.sin(2*l))-f),l-=c,Math.abs(c)<=Lt){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=sn(this.long0+Math.asin(i*d/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}function Qe(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function et(e){var t,n=e.x,i=e.y,r=i-this.lat0,o=n-this.long0,a=r/At*1e-5,s=o,l=1,c=0;for(t=1;t<=10;t++)l*=a,c+=this.A[t]*l;var u,d,h=c,f=s,p=1,m=0,g=0,v=0;for(t=1;t<=6;t++)u=p*h-m*f,d=m*h+p*f,p=u,m=d,g=g+this.B_re[t]*p-this.B_im[t]*m,v=v+this.B_im[t]*p+this.B_re[t]*m;return e.x=v*this.a+this.x0,e.y=g*this.a+this.y0,e}function tt(e){var t,n,i,r=e.x,o=e.y,a=r-this.x0,s=o-this.y0,l=s/this.a,c=a/this.a,u=1,d=0,h=0,f=0;for(t=1;t<=6;t++)n=u*l-d*c,i=d*l+u*c,u=n,d=i,h=h+this.C_re[t]*u-this.C_im[t]*d,f=f+this.C_im[t]*u+this.C_re[t]*d;for(var p=0;p<this.iterations;p++){var m,g,v=h,y=f,b=l,_=c;for(t=2;t<=6;t++)m=v*h-y*f,g=y*h+v*f,v=m,y=g,b+=(t-1)*(this.B_re[t]*v-this.B_im[t]*y),_+=(t-1)*(this.B_im[t]*v+this.B_re[t]*y);v=1,y=0;var w=this.B_re[1],x=this.B_im[1];for(t=2;t<=6;t++)m=v*h-y*f,g=y*h+v*f,v=m,y=g,w+=t*(this.B_re[t]*v-this.B_im[t]*y),x+=t*(this.B_im[t]*v+this.B_re[t]*y);var E=w*w+x*x;h=(b*w+_*x)/E,f=(_*w-b*x)/E}var k=h,C=f,S=1,M=0;for(t=1;t<=9;t++)S*=k,M+=this.D[t]*S;var A=this.lat0+M*At*1e5,T=this.long0+C;return e.x=T,e.y=A,e}function nt(){}function it(e){var t=e.x,n=e.y,i=sn(t-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=r,e.y=o,e}function rt(e){e.x-=this.x0,e.y-=this.y0;var t=sn(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}function ot(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Wn(this.es)}function at(e){var t,n,i=e.x,r=e.y;if(i=sn(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=mr;a;--a){var s=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<Lt)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;t=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*Yn(r,l,c,this.en),t=this.a*i*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function st(e){var t,n,i,r;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i/=this.C_x*(this.m+Math.cos(t)),this.m?t=Ji((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Ji(Math.sin(t)/this.n)),i=sn(i+this.long0),t=Di(t)):(t=Kn(e.y/this.a,this.es,this.en),r=Math.abs(t),r<Tt?(r=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)),i=sn(n)):r-Lt<Tt&&(i=this.long0)),e.x=i,e.y=t,e}function lt(){}function ct(e){for(var t=e.x,n=e.y,i=sn(t-this.long0),r=n,o=Math.PI*Math.sin(n),a=0;!0;a++){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<Lt)break}r/=2,Math.PI/2-Math.abs(n)<Lt&&(i=0);var l=.900316316158*this.a*i*Math.cos(r)+this.x0,c=1.4142135623731*this.a*Math.sin(r)+this.y0;return e.x=l,e.y=c,e}function ut(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var i=sn(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return e.x=i,e.y=r,e}function dt(){Math.abs(this.lat1+this.lat2)<Lt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oi(this.es),this.e1=Pi(this.es),this.e2=$i(this.es),this.e3=Li(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=on(this.e,this.sinphi,this.cosphi),this.ml1=Ti(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Lt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=on(this.e,this.sinphi,this.cosphi),this.ml2=Ti(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ti(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function ht(e){var t,n=e.x,i=e.y;if(this.sphere)t=this.a*(this.g-i);else{var r=Ti(this.e0,this.e1,this.e2,this.e3,i);t=this.a*(this.g-r)}var o=this.ns*sn(n-this.long0),a=this.x0+t*Math.sin(o),s=this.y0+this.rh-t*Math.cos(o);return e.x=a,e.y=s,e}function ft(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,i,r;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return r=sn(this.long0+o/this.ns),i=Di(this.g-n/this.a),e.x=r,e.y=i,e;var a=this.g-n/this.a;return i=Ni(a,this.e0,this.e1,this.e2,this.e3),r=sn(this.long0+o/this.ns),e.x=r,e.y=i,e}function pt(){this.R=this.a}function mt(e){var t,n,i=e.x,r=e.y,o=sn(i-this.long0);Math.abs(r)<=Lt&&(t=this.x0+this.R*o,n=this.y0);var a=Ji(2*Math.abs(r/Math.PI));(Math.abs(o)<=Lt||Math.abs(Math.abs(r)-Tt)<=Lt)&&(t=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,c=Math.sin(a),u=Math.cos(a),d=u/(c+u-1),h=d*d,f=d*(2/c-1),p=f*f,m=Math.PI*this.R*(s*(d-p)+Math.sqrt(l*(d-p)*(d-p)-(p+l)*(h-p)))/(p+l);o<0&&(m=-m),t=this.x0+m;var g=l+d;return m=Math.PI*this.R*(f*g-s*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n=r>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e}function gt(e){var t,n,i,r,o,a,s,l,c,u,d,h,f;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=e.x/d,r=e.y/d,o=i*i+r*r,a=-Math.abs(r)*(1+o),s=a-2*r*r+i*i,l=-2*a+1+2*r*r+o*o,f=r*r/l+(2*s*s*s/l/l/l-9*a*s/l/l)/27,c=(a-s*s/3/l)/l,u=2*Math.sqrt(-c/3),d=3*f/c/u,Math.abs(d)>1&&(d=d>=0?1:-1),h=Math.acos(d)/3,n=e.y>=0?(-u*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI:-(-u*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(i)<Lt?this.long0:sn(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),e.x=t,e.y=n,e}function vt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function yt(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,E,k=e.x,C=e.y,S=Math.sin(e.y),M=Math.cos(e.y),A=sn(k-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Lt?(e.x=this.x0+this.a*(Tt-C)*Math.sin(A),e.y=this.y0-this.a*(Tt-C)*Math.cos(A),e):Math.abs(this.sin_p12+1)<=Lt?(e.x=this.x0+this.a*(Tt+C)*Math.sin(A),e.y=this.y0+this.a*(Tt+C)*Math.cos(A),e):(y=this.sin_p12*S+this.cos_p12*M*Math.cos(A),g=Math.acos(y),v=g/Math.sin(g),e.x=this.x0+this.a*v*M*Math.sin(A),e.y=this.y0+this.a*v*(this.cos_p12*S-this.sin_p12*M*Math.cos(A)),e):(t=Oi(this.es),n=Pi(this.es),i=$i(this.es),r=Li(this.es),Math.abs(this.sin_p12-1)<=Lt?(o=this.a*Ti(t,n,i,r,Tt),a=this.a*Ti(t,n,i,r,C),e.x=this.x0+(o-a)*Math.sin(A),e.y=this.y0-(o-a)*Math.cos(A),e):Math.abs(this.sin_p12+1)<=Lt?(o=this.a*Ti(t,n,i,r,Tt),a=this.a*Ti(t,n,i,r,C),e.x=this.x0+(o+a)*Math.sin(A),e.y=this.y0+(o+a)*Math.cos(A),e):(s=S/M,l=Ii(this.a,this.e,this.sin_p12),c=Ii(this.a,this.e,S),u=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(c*M)),d=Math.atan2(Math.sin(A),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(A)),b=0===d?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(d)-Math.PI)<=Lt?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(A)*Math.cos(u)/Math.sin(d)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es),p=h*f,m=f*f,_=b*b,w=_*b,x=w*b,E=x*b,g=l*b*(1-_*m*(1-m)/6+w/8*p*(1-2*m)+x/120*(m*(4-7*m)-3*h*h*(1-7*m))-E/48*p),e.x=this.x0+g*Math.sin(d),e.y=this.y0+g*Math.cos(d),e))}function bt(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,E;if(this.sphere){if(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*Tt*this.a)return;return n=t/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(t)<=Lt?a=this.lat0:(a=Ji(r*this.sin_p12+e.y*i*this.cos_p12/t),s=Math.abs(this.lat0)-Tt,o=sn(Math.abs(s)<=Lt?this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y):this.long0+Math.atan2(e.x*i,t*this.cos_p12*r-e.y*this.sin_p12*i))),e.x=o,e.y=a,e}return l=Oi(this.es),c=Pi(this.es),u=$i(this.es),d=Li(this.es),Math.abs(this.sin_p12-1)<=Lt?(h=this.a*Ti(l,c,u,d,Tt),t=Math.sqrt(e.x*e.x+e.y*e.y),f=h-t,a=Ni(f/this.a,l,c,u,d),o=sn(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=a,e):Math.abs(this.sin_p12+1)<=Lt?(h=this.a*Ti(l,c,u,d,Tt),t=Math.sqrt(e.x*e.x+e.y*e.y),f=t-h,a=Ni(f/this.a,l,c,u,d),o=sn(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=a,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),g=Math.atan2(e.x,e.y),p=Ii(this.a,this.e,this.sin_p12),v=Math.cos(g),y=this.e*this.cos_p12*v,b=-y*y/(1-this.es),_=3*this.es*(1-b)*this.sin_p12*this.cos_p12*v/(1-this.es),w=t/p,x=w-b*(1+b)*Math.pow(w,3)/6-_*(1+3*b)*Math.pow(w,4)/24,E=1-b*x*x/2-w*x*x*x/6,m=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*v),o=sn(this.long0+Math.asin(Math.sin(g)*Math.sin(x)/Math.cos(m))),a=Math.atan((1-this.es*E*this.sin_p12/Math.sin(m))*Math.tan(m)/(1-this.es)),e.x=o,e.y=a,e)}function _t(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function wt(e){var t,n,i,r,o,a,s,l,c=e.x,u=e.y;return i=sn(c-this.long0),t=Math.sin(u),n=Math.cos(u),r=Math.cos(i),a=this.sin_p14*t+this.cos_p14*n*r,o=1,(a>0||Math.abs(a)<=Lt)&&(s=this.a*o*n*Math.sin(i),l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*r)),e.x=s,e.y=l,e}function xt(e){var t,n,i,r,o,a,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Ji(t/this.a),i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(t)<=Lt?(s=this.lat0,e.x=a,e.y=s,e):(s=Ji(r*this.sin_p14+e.y*i*this.cos_p14/t),o=Math.abs(this.lat0)-Tt,Math.abs(o)<=Lt?(a=sn(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)),e.x=a,e.y=s,e):(a=sn(this.long0+Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i)),e.x=a,e.y=s,e))}var Et=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]},kt=1,Ct=2,St=4,Mt=5,At=484813681109536e-20,Tt=Math.PI/2,Ot=.16666666666666666,Pt=.04722222222222222,$t=.022156084656084655,Lt="undefined"==typeof Number.EPSILON?1e-10:Number.EPSILON,It=.017453292519943295,Dt=57.29577951308232,Nt=Math.PI/4,Rt=2*Math.PI,zt=3.14159265359,jt={};jt.greenwich=0,jt.lisbon=-9.131906111111,jt.paris=2.337229166667,jt.bogota=-74.080916666667,jt.madrid=-3.687938888889,jt.rome=12.452333333333,jt.bern=7.439583333333,jt.jakarta=106.807719444444,jt.ferro=-17.666666666667,jt.brussels=4.367975,jt.stockholm=18.058277777778,jt.athens=23.7163375,jt.oslo=10.722916666667;var Ft={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Bt=/[\s_\-\/\(\)]/g,Ht=function(t){var n,i,r,o={},a=t.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),s={proj:"projName",datum:"datumCode",rf:function(e){o.rf=parseFloat(e)},lat_0:function(e){o.lat0=e*It},lat_1:function(e){o.lat1=e*It},lat_2:function(e){o.lat2=e*It},lat_ts:function(e){o.lat_ts=e*It},lon_0:function(e){o.long0=e*It},lon_1:function(e){o.long1=e*It},lon_2:function(e){o.long2=e*It},alpha:function(e){o.alpha=parseFloat(e)*It},lonc:function(e){o.longc=e*It},x_0:function(e){o.x0=parseFloat(e)},y_0:function(e){o.y0=parseFloat(e)},k_0:function(e){o.k0=parseFloat(e)},k:function(e){o.k0=parseFloat(e)},a:function(e){o.a=parseFloat(e)},b:function(e){o.b=parseFloat(e)},r_a:function(){o.R_A=!0},zone:function(e){o.zone=parseInt(e,10)},south:function(){o.utmSouth=!0},towgs84:function(e){o.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){o.to_meter=parseFloat(e)},units:function(t){o.units=t;var n=e(Ft,t);n&&(o.to_meter=n.to_meter)},from_greenwich:function(e){o.from_greenwich=e*It},pm:function(t){var n=e(jt,t);o.from_greenwich=(n?n:parseFloat(t))*It},nadgrids:function(e){"@null"===e?o.datumCode="none":o.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&t.indexOf(e.substr(0,1))!==-1&&t.indexOf(e.substr(1,1))!==-1&&t.indexOf(e.substr(2,1))!==-1&&(o.axis=e)}};for(n in a)i=a[n],n in s?(r=s[n],"function"==typeof r?r(i):o[r]=i):o[n]=i;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},Ut=1,qt=2,Vt=3,Gt=4,Wt=5,Yt=-1,Xt=/\s/,Kt=/[A-Za-z]/,Zt=/[A-Za-z84]/,Jt=/[,\]]/,Qt=/[\d\.E\-\+]/;t.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Gt)for(;Xt.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Ut:return this.neutral(e);case qt:return this.keyword(e);case Gt:return this.quoted(e);case Wt:return this.afterquote(e);case Vt:return this.number(e);case Yt:return}},t.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=Gt);if(Jt.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},t.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Ut)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Ut,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=Yt))):void 0},t.prototype.number=function(e){if(Qt.test(e))return void(this.word+=e);if(Jt.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},t.prototype.quoted=function(e){return'"'===e?void(this.state=Wt):void(this.word+=e)},t.prototype.keyword=function(e){if(Zt.test(e))return void(this.word+=e);if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=Ut)}if(Jt.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},t.prototype.neutral=function(e){if(Kt.test(e))return this.word=e,void(this.state=qt);if('"'===e)return this.word="",void(this.state=Gt);if(Qt.test(e))return this.word=e,void(this.state=Vt);if(Jt.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},t.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Yt)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var en=.017453292519943295,tn=function(e){var t=n(e),i=t.shift(),o=t.shift();t.unshift(["name",o]),t.unshift(["type",i]);var a={};return r(t,a),s(a),a};Et(l);var nn=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],rn=function(e,t){e=e||{};var n,i;if(!t)return e;for(i in t)n=t[i],void 0!==n&&(e[i]=n);return e},on=function(e,t,n){var i=e*t;return n/Math.sqrt(1-i*i)},an=function(e){return e<0?-1:1},sn=function(e){return Math.abs(e)<=zt?e:e-an(e)*Rt},ln=function(e,t,n){var i=e*n,r=.5*e;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(Tt-t))/i},cn=function(e,t){for(var n,i,r=.5*e,o=Tt-2*Math.atan(t),a=0;a<=15;a++)if(n=e*Math.sin(o),i=Tt-2*Math.atan(t*Math.pow((1-n)/(1+n),r))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999},un=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],dn={init:p,forward:m,inverse:g,names:un},hn=["longlat","identity"],fn={init:v,forward:y,inverse:y,names:hn},pn=[dn,fn],mn={},gn=[],vn={start:w,add:b,get:_},yn={};yn.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},yn.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},yn.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},yn.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},yn.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},yn.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},yn.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},yn.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},yn.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},yn.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},yn.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},yn.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},yn.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},yn.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},yn.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},yn.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},yn.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},yn.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},yn.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},yn.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},yn.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},yn.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},yn.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},yn.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},yn.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},yn.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},yn.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},yn.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},yn.hough={a:6378270,rf:297,ellipseName:"Hough"},yn.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},yn.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},yn.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},yn.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},yn.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},yn.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},yn.krass={a:6378245,rf:298.3,
ellipseName:"Krassovsky, 1942"},yn.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},yn.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},yn.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},yn.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},yn.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var bn=yn.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};yn.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var _n={};_n.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},_n.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},_n.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},_n.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},_n.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},_n.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},_n.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},_n.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},_n.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},_n.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},_n.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},_n.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},_n.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},_n.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},_n.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},_n.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},C.projections=vn,C.projections.start();var wn=function(e,t,n){return S(e,t)?n:e.datum_type===Mt||t.datum_type===Mt?n:e.es!==t.es||e.a!==t.a||P(e.datum_type)||P(t.datum_type)?(n=M(n,e.es,e.a),P(e.datum_type)&&(n=T(n,e.datum_type,e.datum_params)),P(t.datum_type)&&(n=O(n,t.datum_type,t.datum_params)),A(n,t.es,t.a,t.b)):n},xn=function(e,t,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(i=a,r="x"):1===o?(i=s,r="y"):(i=l,r="z"),e.axis[o]){case"e":c[r]=i;break;case"w":c[r]=-i;break;case"n":c[r]=i;break;case"s":c[r]=-i;break;case"u":void 0!==n[r]&&(c.z=i);break;case"d":void 0!==n[r]&&(c.z=-i);break;default:return null}return c},En=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},kn=C("WGS84"),Cn=6,Sn="AJSAJS",Mn="AFAFAF",An=65,Tn=73,On=79,Pn=86,$n=90,Ln={forward:R,inverse:z,toPoint:j};Q.fromMGRS=function(e){return new Q(j(e))},Q.prototype.toMGRS=function(e){return R([this.x,this.y],e)};var In="2.4.3",Dn=1,Nn=.25,Rn=.046875,zn=.01953125,jn=.01068115234375,Fn=.75,Bn=.46875,Hn=.013020833333333334,Un=.007120768229166667,qn=.3645833333333333,Vn=.005696614583333333,Gn=.3076171875,Wn=function(e){var t=[];t[0]=Dn-e*(Nn+e*(Rn+e*(zn+e*jn))),t[1]=e*(Fn-e*(Rn+e*(zn+e*jn)));var n=e*e;return t[2]=n*(Bn-e*(Hn+e*Un)),n*=e,t[3]=n*(qn-e*Vn),t[4]=n*e*Gn,t},Yn=function(e,t,n,i){return n*=t,t*=t,i[0]*e-n*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))},Xn=20,Kn=function(e,t,n){for(var i=1/(1-t),r=e,o=Xn;o;--o){var a=Math.sin(r),s=1-t*a*a;if(s=(Yn(r,a,Math.cos(r),n)-e)*(s*Math.sqrt(s))*i,r-=s,Math.abs(s)<Lt)return r}return r},Zn=["Transverse_Mercator","Transverse Mercator","tmerc"],Jn={init:ee,forward:te,inverse:ne,names:Zn},Qn=function(e){var t=Math.exp(e);return t=(t-1/t)/2},ei=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),i=Math.min(e,t)/(n?n:1);return n*Math.sqrt(1+Math.pow(i,2))},ti=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n},ni=function(e){var t=Math.abs(e);return t=ti(t*(1+t/(ei(1,t)+1))),e<0?-t:t},ii=function(e,t){for(var n,i=2*Math.cos(2*t),r=e.length-1,o=e[r],a=0;--r>=0;)n=-a+i*o+e[r],a=o,o=n;return t+n*Math.sin(2*t)},ri=function(e,t){for(var n,i=2*Math.cos(t),r=e.length-1,o=e[r],a=0;--r>=0;)n=-a+i*o+e[r],a=o,o=n;return Math.sin(t)*n},oi=function(e){var t=Math.exp(e);return t=(t+1/t)/2},ai=function(e,t,n){for(var i,r,o=Math.sin(t),a=Math.cos(t),s=Qn(n),l=oi(n),c=2*a*l,u=-2*o*s,d=e.length-1,h=e[d],f=0,p=0,m=0;--d>=0;)i=p,r=f,p=h,f=m,h=-i+c*p-u*f+e[d],m=-r+u*p+c*f;return c=o*l,u=a*s,[c*h-u*m,c*m+u*h]},si=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],li={init:ie,forward:re,inverse:oe,names:si},ci=function(e,t){if(void 0===e){if(e=Math.floor(30*(sn(t)+Math.PI)/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e},ui="etmerc",di=["Universal Transverse Mercator System","utm"],hi={init:ae,names:di,dependsOn:ui},fi=function(e,t){return Math.pow((1-e)/(1+e),t)},pi=20,mi=["gauss"],gi={init:se,forward:le,inverse:ce,names:mi},vi=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"],yi={init:ue,forward:de,inverse:he,names:vi},bi=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],_i={init:pe,forward:me,inverse:ge,names:bi,ssfn_:fe},wi=["somerc"],xi={init:ve,forward:ye,inverse:be,names:wi},Ei=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],ki={init:_e,forward:we,inverse:xe,names:Ei},Ci=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],Si={init:Ee,forward:ke,inverse:Ce,names:Ci},Mi=["Krovak","krovak"],Ai={init:Se,forward:Me,inverse:Ae,names:Mi},Ti=function(e,t,n,i,r){return e*r-t*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},Oi=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},Pi=function(e){return.375*e*(1+.25*e*(1+.46875*e))},$i=function(e){return.05859375*e*e*(1+.75*e)},Li=function(e){return e*e*e*(35/3072)},Ii=function(e,t,n){var i=t*n;return e/Math.sqrt(1-i*i)},Di=function(e){return Math.abs(e)<Tt?e:e-an(e)*Math.PI},Ni=function(e,t,n,i,r){var o,a;o=e/t;for(var s=0;s<15;s++)if(a=(e-(t*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN},Ri=["Cassini","Cassini_Soldner","cass"],zi={init:Te,forward:Oe,inverse:Pe,names:Ri},ji=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},Fi=1,Bi=2,Hi=3,Ui=4,qi=.3333333333333333,Vi=.17222222222222222,Gi=.10257936507936508,Wi=.06388888888888888,Yi=.0664021164021164,Xi=.016415012942191543,Ki=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Zi={init:$e,forward:Le,inverse:Ie,names:Ki,S_POLE:Fi,N_POLE:Bi,EQUIT:Hi,OBLIQ:Ui},Ji=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},Qi=["Albers_Conic_Equal_Area","Albers","aea"],er={init:Re,forward:ze,inverse:je,names:Qi,phi1z:Fe},tr=["gnom"],nr={init:Be,forward:He,inverse:Ue,names:tr},ir=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*Tt:Tt;for(var i,r,o,a,s=Math.asin(.5*t),l=0;l<30;l++)if(r=Math.sin(s),o=Math.cos(s),a=e*r,i=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-r/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),s+=i,Math.abs(i)<=1e-10)return s;return NaN},rr=["cea"],or={init:qe,forward:Ve,inverse:Ge,names:rr},ar=["Equirectangular","Equidistant_Cylindrical","eqc"],sr={init:We,forward:Ye,inverse:Xe,names:ar},lr=20,cr=["Polyconic","poly"],ur={init:Ke,forward:Ze,inverse:Je,names:cr},dr=["New_Zealand_Map_Grid","nzmg"],hr={init:Qe,forward:et,inverse:tt,names:dr},fr=["Miller_Cylindrical","mill"],pr={init:nt,forward:it,inverse:rt,names:fr},mr=20,gr=["Sinusoidal","sinu"],vr={init:ot,forward:at,inverse:st,names:gr},yr=["Mollweide","moll"],br={init:lt,forward:ct,inverse:ut,names:yr},_r=["Equidistant_Conic","eqdc"],wr={init:dt,forward:ht,inverse:ft,names:_r},xr=["Van_der_Grinten_I","VanDerGrinten","vandg"],Er={init:pt,forward:mt,inverse:gt,names:xr},kr=["Azimuthal_Equidistant","aeqd"],Cr={init:vt,forward:yt,inverse:bt,names:kr},Sr=["ortho"],Mr={init:_t,forward:wt,inverse:xt,names:Sr},Ar=function(e){e.Proj.projections.add(Jn),e.Proj.projections.add(li),e.Proj.projections.add(hi),e.Proj.projections.add(yi),e.Proj.projections.add(_i),e.Proj.projections.add(xi),e.Proj.projections.add(ki),e.Proj.projections.add(Si),e.Proj.projections.add(Ai),e.Proj.projections.add(zi),e.Proj.projections.add(Zi),e.Proj.projections.add(er),e.Proj.projections.add(nr),e.Proj.projections.add(or),e.Proj.projections.add(sr),e.Proj.projections.add(ur),e.Proj.projections.add(hr),e.Proj.projections.add(pr),e.Proj.projections.add(vr),e.Proj.projections.add(br),e.Proj.projections.add(wr),e.Proj.projections.add(Er),e.Proj.projections.add(Cr),e.Proj.projections.add(Mr)};return N.defaultDatum="WGS84",N.Proj=C,N.WGS84=new N.Proj("WGS84"),N.Point=Q,N.toPoint=En,N.defs=l,N.transform=L,N.mgrs=Ln,N.version=In,Ar(N),N})},{}],66:[function(e,t,n){t.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";e.exports=function(e,t,n){var i=Math.floor(6*e),r=6*e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=255,c=255,u=255;switch(i){case 0:l=n,c=s,u=o;break;case 1:l=a,c=n,u=o;break;case 2:l=o,c=n,u=s;break;case 3:l=o,c=a,u=n;break;case 4:l=s,c=o,u=n;break;case 5:l=n,c=o,u=a}return[Math.floor(255*l),Math.floor(255*c),Math.floor(255*u)]}},function(e,t,n){"use strict";var i=n(2);e.exports=function(e){var t=e.map(function(e){return i(e.toString(16))}).join("");return"#"+t}},function(e,t,n){"use strict";var i=2;e.exports=function(e){return e.length>i?e:new Array(i-e.length+1).join("0")+e}},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hue,n=e.saturation,i=e.value;return t||(t=Math.random()),t+=s,t%=1,"number"!=typeof n&&(n=.5),"number"!=typeof i&&(i=.95),o(t,n,i)}function r(e,t){var n=i(e,t);return a(n)}var o=n(0),a=n(1),s=.618033988749895;e.exports=r}])},{}],67:[function(e,t,n){t.exports=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,o=n[i].process,a=r.exec(e);if(a){var s=o(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,i=0;i<n.length;i++)for(var r=n[i].example,o=0;o<r.length;o++)e[e.length]=r[o];for(var a in t)e[e.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var i=0;i<e.length;i++)try{var l=document.createElement("li"),c=new RGBColor(e[i]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),u.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+e[i]+" -> "+c.toRGB()+" -> "+c.toHex());l.appendChild(u),l.appendChild(d),s.appendChild(l)}catch(h){}return s}}},{}],68:[function(e,t,n){function i(e,t){return a(e,t).val}function r(e){return o(e.lat,"lat")+" "+o(e.lon,"lon")}function o(e,t){var n={lat:["N","S"],lon:["E","W"]}[t]||"",i=n[e>=0?0:1],r=Math.abs(e),o=Math.floor(r),a=r-o,s=60*a,l=Math.floor(s),c=Math.floor(60*(s-l));return o+" "+(l?l+"' ":"")+(c?c+'" ':"")+i}function a(e,t,n){if(t||(t="NSEW"),"string"!=typeof e)return{val:null,regex:n};n=n||/[\s\,]*([\-|\|\]?[0-9.]+)? *(?:([0-9.]+)['] *)?(?:([0-9.]+)(?:''|"||) *)?([NSEW])?/gi;var i=n.exec(e);return i?i[4]&&t.indexOf(i[4])===-1?{val:null,regex:n}:{val:((i[1]?parseFloat(i[1]):0)+(i[2]?parseFloat(i[2])/60:0)+(i[3]?parseFloat(i[3])/3600:0))*(i[4]&&"S"===i[4]||"W"===i[4]?-1:1),regex:n,raw:i[0],dim:i[4]}:{val:null,regex:n}}function s(e,t){e=e.trim();var n=a(e,t);if(null===n.val)return null;var i=a(e,t,n.regex);return null===i.val?null:n.raw+i.raw!==e?null:n.dim?l(n.val,i.val,n.dim):[n.val,i.val]}function l(e,t,n){return"N"==n||"S"==n?[e,t]:"W"==n||"E"==n?[t,e]:void 0}t.exports=i,t.exports.pair=s,t.exports.format=o,t.exports.formatPair=r},{}],69:[function(e,t,n){"use strict";function i(e){return new r(function(t,n){var i=e.slice(-3),r=new XMLHttpRequest;r.open("GET",e,!0),"prj"!==i&&(r.responseType="arraybuffer"),r.addEventListener("load",function(){return r.status>399?"prj"===i?t(!1):n(new Error(r.status)):void t(r.response)},!1),r.send()})}var r=e("lie");t.exports=i},{lie:53}],70:[function(e,t,n){(function(n){"use strict";function i(e,t){return"string"==typeof e&&f.has(e)?d.resolve(f.get(e)):i.getShapefile(e,t).then(function(t){return"string"==typeof e&&f.set(e,t),t})}function r(e,t){return s(e).then(function(e){return i.parseZip(e,t)})}var o=e("proj4"),a=e("./unzip"),s=e("./binaryajax"),l=e("./parseShp"),c=e("./toArrayBuffer"),u=e("parsedbf"),d=e("lie"),h=e("lru-cache"),f=new h({max:20});i.combine=function(e){var t={};t.type="FeatureCollection",t.features=[];for(var n=0,i=e[0].length;n<i;)t.features.push({type:"Feature",geometry:e[0][n],properties:e[1][n]}),n++;return t},i.parseZip=function(e,t){var n,r=a(e),s=[];t=t||[];for(n in r)n.indexOf("__MACOSX")===-1&&("shp"===n.slice(-3).toLowerCase()?s.push(n.slice(0,-4)):"dbf"===n.slice(-3).toLowerCase()?r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=u(r[n]):"prj"===n.slice(-3).toLowerCase()?r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=o(r[n]):("json"===n.slice(-4).toLowerCase()||t.indexOf(n.split(".").pop())>-1)&&s.push(n.slice(0,-3)+n.slice(-3).toLowerCase()));if(!s.length)throw new Error("no layers founds");var c=s.map(function(e){var n;return"json"===e.slice(-4).toLowerCase()?(n=JSON.parse(r[e]),n.fileName=e.slice(0,e.lastIndexOf("."))):t.indexOf(e.slice(e.lastIndexOf(".")+1))>-1?(n=r[e],n.fileName=e):(n=i.combine([l(r[e+".shp"],r[e+".prj"]),r[e+".dbf"]]),n.fileName=e),n});return 1===c.length?c[0]:c},i.getShapefile=function(e,t){return"string"==typeof e?".zip"===e.slice(-4)?r(e,t):d.all([d.all([s(e+".shp"),s(e+".prj")]).then(function(e){return l(e[0],!!e[1]&&o(e[1]))}),s(e+".dbf").then(u)]).then(i.combine):new d(function(t){t(i.parseZip(e))})},i.parseShp=function(e,t){return n.isBuffer(e)&&(e=c(e)),n.isBuffer(t)&&(t=t.toString()),"string"==typeof t?(t=o(t),l(e,t)):l(e)},i.parseDbf=function(e){return n.isBuffer(e)&&(e=c(e)),u(e)},t.exports=i}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":8,"./binaryajax":69,"./parseShp":71,"./toArrayBuffer":72,"./unzip":73,lie:53,"lru-cache":63,parsedbf:64,proj4:65}],71:[function(e,t,n){"use strict";function i(e){for(var t,n,i=0,r=1,o=e.length;r<o;)t=n||e[0],n=e[r],i+=(n[0]-t[0])*(n[1]+t[1]),r++;return i>0}function r(e,t){return i(t)||!e.length?e.push([t]):e[e.length-1].push(t),e}function o(e){return e?function(t,n){return e.inverse([t.getFloat64(n,!0),t.getFloat64(n+8,!0)])}:function(e,t){return[e.getFloat64(t,!0),e.getFloat64(t+8,!0)]}}function a(e,t){return this instanceof a?(this.buffer=e,this.shpFuncs(t),void(this.rows=this.getRows())):new a(e,t)}a.prototype.parsePoint=function(e){return{type:"Point",coordinates:this.parseCoord(e,0)}},a.prototype.parseZPoint=function(e){var t=this.parsePoint(e);return t.coordinates.push(this.parseCoord(e,16)),t},a.prototype.parsePointArray=function(e,t,n){for(var i=[],r=0;r<n;)i.push(this.parseCoord(e,t)),t+=16,r++;return i},a.prototype.parseZPointArray=function(e,t,n,i){for(var r=0;r<n;)i[r].push(e.getFloat64(t,!0)),r++,t+=8;return i},a.prototype.parseArrayGroup=function(e,t,n,i,r){for(var o,a,s=[],l=0,c=0;l<i;)l++,n+=4,o=c,c=l===i?r:e.getInt32(n,!0),a=c-o,a&&(s.push(this.parsePointArray(e,t,a)),t+=a<<4);return s},a.prototype.parseZArrayGroup=function(e,t,n,i){for(var r=0;r<n;)i[r]=this.parseZPointArray(e,t,i[r].length,i[r]),t+=i[r].length<<3,r++;return i},a.prototype.parseMultiPoint=function(e){var t={},n=this.parseCoord(e,0),i=this.parseCoord(e,16);t.bbox=[n[0],n[1],i[0],i[1]];var r=e.getInt32(32,!0),o=36;return 1===r?(t.type="Point",t.coordinates=this.parseCoord(e,o)):(t.type="MultiPoint",t.coordinates=this.parsePointArray(e,o,r)),t},a.prototype.parseZMultiPoint=function(e){var t,n=this.parseMultiPoint(e);if("Point"===n.type)return n.coordinates.push(e.getFloat64(72,!0)),n;t=n.coordinates.length;var i=56+(t<<4);return n.coordinates=this.parseZPointArray(e,i,t,n.coordinates),n},a.prototype.parsePolyline=function(e){var t={},n=this.parseCoord(e,0),i=this.parseCoord(e,16);t.bbox=[n[0],n[1],i[0],i[1]];var r,o,a=e.getInt32(32,!0),s=e.getInt32(36,!0);return 1===a?(t.type="LineString",r=44,t.coordinates=this.parsePointArray(e,r,s)):(t.type="MultiLineString",r=40+(a<<2),o=40,t.coordinates=this.parseArrayGroup(e,r,o,a,s)),t},a.prototype.parseZPolyline=function(e){var t=this.parsePolyline(e),n=t.coordinates.length,i=60+(n<<4);return"LineString"===t.type?(t.coordinates=this.parseZPointArray(e,i,n,t.coordinates),t):(t.coordinates=this.parseZArrayGroup(e,i,n,t.coordinates),t)},a.prototype.polyFuncs=function(e){return"LineString"===e.type?(e.type="Polygon",e.coordinates=[e.coordinates],e):(e.coordinates=e.coordinates.reduce(r,[]),1===e.coordinates.length?(e.type="Polygon",e.coordinates=e.coordinates[0],e):(e.type="MultiPolygon",e))},a.prototype.parsePolygon=function(e){return this.polyFuncs(this.parsePolyline(e))},a.prototype.parseZPolygon=function(e){return this.polyFuncs(this.parseZPolyline(e))};var s={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};a.prototype.shpFuncs=function(e){var t=this.getShpCode();if(t>20&&(t-=20),!(t in s))throw new Error("I don't know that shp type");this.parseFunc=this[s[t]],this.parseCoord=o(e)},a.prototype.getShpCode=function(){return this.parseHeader().shpCode},a.prototype.parseHeader=function(){var e=new DataView(this.buffer,0,100);return{length:e.getInt32(24,!1),version:e.getInt32(28,!0),shpCode:e.getInt32(32,!0),bbox:[e.getFloat64(36,!0),e.getFloat64(44,!0),e.getFloat64(52,!0),e.getFloat64(52,!0)]}},a.prototype.getRows=function(){for(var e,t=100,n=this.buffer.byteLength,i=[];t<n;)e=this.getRow(t),t+=8,t+=e.len,e.type&&i.push(this.parseFunc(e.data));return i},a.prototype.getRow=function(e){var t=new DataView(this.buffer,e,12),n=t.getInt32(4,!1)<<1,i=new DataView(this.buffer,e+12,n-4);return{id:t.getInt32(0,!1),len:n,data:i,type:t.getInt32(8,!0)}},t.exports=function(e,t){return new a(e,t).rows}},{}],72:[function(e,t,n){"use strict";function i(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=-1,r=e.length;++i<r;)n[i]=e[i];return t}t.exports=i},{}],73:[function(e,t,n){"use strict";var i=e("jszip");t.exports=function(e){var t=new i(e),n=t.file(/.+/),r={};return n.forEach(function(e){"shp"===e.name.slice(-3).toLowerCase()||"dbf"===e.name.slice(-3).toLowerCase()?(r[e.name]=e.asText(),r[e.name]=e.asArrayBuffer()):r[e.name]=e.asText()}),r}},{jszip:19}],74:[function(e,t,n){function i(e,t,n,i){if(!(isNaN(i)||i<1)){i|=0;var s,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,E,k,C,S,M,A,T,O,P=i+i+1,$=t-1,L=n-1,I=i+1,D=I*(I+1)/2,N=new r,R=N;for(c=1;c<P;c++)if(R=R.next=new r,c==I)var z=R;R.next=N;var j=null,F=null;f=h=0;var B=o[i],H=a[i];for(l=0;l<n;l++){for(x=E=k=C=p=m=g=v=0,y=I*(S=e[h]),b=I*(M=e[h+1]),_=I*(A=e[h+2]),w=I*(T=e[h+3]),p+=D*S,m+=D*M,g+=D*A,v+=D*T,R=N,c=0;c<I;c++)R.r=S,R.g=M,R.b=A,R.a=T,R=R.next;for(c=1;c<I;c++)u=h+(($<c?$:c)<<2),p+=(R.r=S=e[u])*(O=I-c),m+=(R.g=M=e[u+1])*O,g+=(R.b=A=e[u+2])*O,v+=(R.a=T=e[u+3])*O,x+=S,E+=M,k+=A,C+=T,R=R.next;for(j=N,F=z,s=0;s<t;s++)e[h+3]=T=v*B>>H,0!=T?(T=255/T,e[h]=(p*B>>H)*T,e[h+1]=(m*B>>H)*T,e[h+2]=(g*B>>H)*T):e[h]=e[h+1]=e[h+2]=0,p-=y,m-=b,g-=_,v-=w,y-=j.r,b-=j.g,_-=j.b,w-=j.a,u=f+((u=s+i+1)<$?u:$)<<2,x+=j.r=e[u],E+=j.g=e[u+1],k+=j.b=e[u+2],C+=j.a=e[u+3],p+=x,m+=E,g+=k,v+=C,j=j.next,y+=S=F.r,b+=M=F.g,_+=A=F.b,w+=T=F.a,x-=S,E-=M,k-=A,C-=T,F=F.next,h+=4;f+=t}for(s=0;s<t;s++){for(E=k=C=x=m=g=v=p=0,h=s<<2,y=I*(S=e[h]),b=I*(M=e[h+1]),_=I*(A=e[h+2]),w=I*(T=e[h+3]),p+=D*S,m+=D*M,g+=D*A,v+=D*T,R=N,c=0;c<I;c++)R.r=S,R.g=M,R.b=A,R.a=T,R=R.next;for(d=t,c=1;c<=i;c++)h=d+s<<2,p+=(R.r=S=e[h])*(O=I-c),m+=(R.g=M=e[h+1])*O,g+=(R.b=A=e[h+2])*O,v+=(R.a=T=e[h+3])*O,x+=S,E+=M,k+=A,C+=T,R=R.next,c<L&&(d+=t);for(h=s,j=N,F=z,l=0;l<n;l++)u=h<<2,e[u+3]=T=v*B>>H,T>0?(T=255/T,e[u]=(p*B>>H)*T,e[u+1]=(m*B>>H)*T,e[u+2]=(g*B>>H)*T):e[u]=e[u+1]=e[u+2]=0,p-=y,m-=b,g-=_,v-=w,y-=j.r,b-=j.g,_-=j.b,w-=j.a,u=s+((u=l+I)<L?u:L)*t<<2,p+=x+=j.r=e[u],m+=E+=j.g=e[u+1],g+=k+=j.b=e[u+2],v+=C+=j.a=e[u+3],j=j.next,y+=S=F.r,b+=M=F.g,_+=A=F.b,w+=T=F.a,x-=S,E-=M,k-=A,C-=T,F=F.next,h+=t}}}function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.exports=i},{}],75:[function(t,n,i){!function(t,r){"function"==typeof e&&e.amd?e(function(){return r(t,t.document)}):"object"==typeof i?n.exports=t.document?r(t,t.document):function(e){return r(e,e.document)}:t.SVG=r(t,t.document)}("undefined"!=typeof window?window:this,function(e,t){function n(e,t,n,i){return n+i.replace(b.regex.dots," .")}function i(e){for(var t=e.slice(0),n=t.length;n--;)Array.isArray(t[n])&&(t[n]=i(t[n]));return t}function r(e,t){return e instanceof t}function o(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function a(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e){return 4==e.length?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function c(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function u(e,t,n){if(null==t||null==n){var i=e.bbox();null==t?t=i.width/i.height*n:null==n&&(n=i.height/i.width*t)}return{width:t,height:n}}function d(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function h(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function f(e){return e instanceof b.Matrix||(e=new b.Matrix(e)),e}function p(e,t){e.cx=null==e.cx?t.bbox().cx:e.cx,e.cy=null==e.cy?t.bbox().cy:e.cy}function m(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}function g(t){for(var n=t.childNodes.length-1;n>=0;n--)t.childNodes[n]instanceof e.SVGElement&&g(t.childNodes[n]);return b.adopt(t).id(b.eid(t.nodeName))}function v(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function y(e){var t=e.toString().match(b.regex.reference);if(t)return t[1]}var b=this.SVG=function(e){if(b.supported)return e=new b.Doc(e),b.parser.draw||b.prepare(),e};if(b.ns="http://www.w3.org/2000/svg",b.xmlns="http://www.w3.org/2000/xmlns/",b.xlink="http://www.w3.org/1999/xlink",b.svgjs="http://svgjs.com/svgjs",b.supported=function(){return!!t.createElementNS&&!!t.createElementNS(b.ns,"svg").createSVGRect}(),!b.supported)return!1;b.did=1e3,b.eid=function(e){return"Svgjs"+s(e)+b.did++},b.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},b.extend=function(){var e,t,n,i;for(e=[].slice.call(arguments),t=e.pop(),i=e.length-1;i>=0;i--)if(e[i])for(n in t)e[i].prototype[n]=t[n];b.Set&&b.Set.inherit&&b.Set.inherit()},b.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,b.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&b.extend(t,e.extend),e.construct&&b.extend(e.parent||b.Container,e.construct),t},b.adopt=function(t){if(!t)return null;if(t.instance)return t.instance;var n;return n="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new b.Nested:new b.Doc:"linearGradient"==t.nodeName?new b.Gradient("linear"):"radialGradient"==t.nodeName?new b.Gradient("radial"):b[s(t.nodeName)]?new(b[s(t.nodeName)]):new b.Element(t),n.type=t.nodeName,n.node=t,t.instance=n,n instanceof b.Doc&&n.namespace().defs(),n.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),n},b.prepare=function(){var e=t.getElementsByTagName("body")[0],n=(e?new b.Doc(e):b.adopt(t.documentElement).nested()).size(2,0);b.parser={body:e||t.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden"),poly:n.polyline().node,path:n.path().node,"native":b.create("svg")}},b.parser={"native":b.create("svg")},t.addEventListener("DOMContentLoaded",function(){b.parser.draw||b.prepare()},!1),b.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},b.utils={map:function(e,t){var n,i=e.length,r=[];for(n=0;n<i;n++)r.push(t(e[n]));return r},filter:function(e,t){var n,i=e.length,r=[];for(n=0;n<i;n++)t(e[n])&&r.push(e[n]);return r},radians:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof e.SVGElement})}},b.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},b.Color=function(e){
var t;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?b.regex.isRgb.test(e)?(t=b.regex.rgb.exec(e.replace(b.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):b.regex.isHex.test(e)&&(t=b.regex.hex.exec(l(e)),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"==typeof e&&(this.r=e.r,this.g=e.g,this.b=e.b))},b.extend(b.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+c(this.r)+c(this.g)+c(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new b.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new b.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),b.Color.test=function(e){return e+="",b.regex.isHex.test(e)||b.regex.isRgb.test(e)},b.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},b.Color.isColor=function(e){return b.Color.isRgb(e)||b.Color.test(e)},b.Array=function(e,t){e=(e||[]).valueOf(),0==e.length&&t&&(e=t.valueOf()),this.value=this.parse(e)},b.extend(b.Array,{morph:function(e){if(this.destination=this.parse(e),this.value.length!=this.destination.length){for(var t=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.indexOf(this.value[e])==-1&&n.push(this.value[e]);return this.value=n},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,i=[];t<n;t++)i.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new b.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.trim().split(b.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var e=new this.constructor;return e.value=i(this.value),e}}),b.PointArray=function(e,t){b.Array.call(this,e,t||[[0,0]])},b.PointArray.prototype=new b.Array,b.PointArray.prototype.constructor=b.PointArray,b.extend(b.PointArray,{toString:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.push(this.value[e].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,i=[];t<n;t++)i.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new b.PointArray(i)},parse:function(e){var t=[];if(e=e.valueOf(),Array.isArray(e)){if(Array.isArray(e[0]))return e}else e=e.trim().split(b.regex.delimiter).map(parseFloat);e.length%2!==0&&e.pop();for(var n=0,i=e.length;n<i;n+=2)t.push([e[n],e[n+1]]);return t},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var i=this.value.length-1;i>=0;i--)this.value[i]=[this.value[i][0]+e,this.value[i][1]+t];return this},size:function(e,t){var n,i=this.bbox();for(n=this.value.length-1;n>=0;n--)i.width&&(this.value[n][0]=(this.value[n][0]-i.x)*e/i.width+i.x),i.height&&(this.value[n][1]=(this.value[n][1]-i.y)*t/i.height+i.y);return this},bbox:function(){return b.parser.poly.setAttribute("points",this.toString()),b.parser.poly.getBBox()}}),b.PathArray=function(e,t){b.Array.call(this,e,t||[["M",0,0]])},b.PathArray.prototype=new b.Array,b.PathArray.prototype.constructor=b.PathArray,b.extend(b.PathArray,{toString:function(){return m(this.value)},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var i,r=this.value.length-1;r>=0;r--)i=this.value[r][0],"M"==i||"L"==i||"T"==i?(this.value[r][1]+=e,this.value[r][2]+=t):"H"==i?this.value[r][1]+=e:"V"==i?this.value[r][1]+=t:"C"==i||"S"==i||"Q"==i?(this.value[r][1]+=e,this.value[r][2]+=t,this.value[r][3]+=e,this.value[r][4]+=t,"C"==i&&(this.value[r][5]+=e,this.value[r][6]+=t)):"A"==i&&(this.value[r][6]+=e,this.value[r][7]+=t);return this},size:function(e,t){var n,i,r=this.bbox();for(n=this.value.length-1;n>=0;n--)i=this.value[n][0],"M"==i||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-r.x)*e/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*t/r.height+r.y):"H"==i?this.value[n][1]=(this.value[n][1]-r.x)*e/r.width+r.x:"V"==i?this.value[n][1]=(this.value[n][1]-r.y)*t/r.height+r.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-r.x)*e/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*t/r.height+r.y,this.value[n][3]=(this.value[n][3]-r.x)*e/r.width+r.x,this.value[n][4]=(this.value[n][4]-r.y)*t/r.height+r.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-r.x)*e/r.width+r.x,this.value[n][6]=(this.value[n][6]-r.y)*t/r.height+r.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*e/r.width,this.value[n][2]=this.value[n][2]*t/r.height,this.value[n][6]=(this.value[n][6]-r.x)*e/r.width+r.x,this.value[n][7]=(this.value[n][7]-r.y)*t/r.height+r.y);return this},equalCommands:function(e){var t,n,i;for(e=new b.PathArray(e),i=this.value.length===e.value.length,t=0,n=this.value.length;i&&t<n;t++)i=this.value[t][0]===e.value[t][0];return i},morph:function(e){return e=new b.PathArray(e),this.equalCommands(e)?this.destination=e:this.destination=null,this},at:function(e){if(!this.destination)return this;var t,n,i,r,o=this.value,a=this.destination.value,s=[],l=new b.PathArray;for(t=0,n=o.length;t<n;t++){for(s[t]=[o[t][0]],i=1,r=o[t].length;i<r;i++)s[t][i]=o[t][i]+(a[t][i]-o[t][i])*e;"A"===s[t][0]&&(s[t][4]=+(0!=s[t][4]),s[t][5]=+(0!=s[t][5]))}return l.value=s,l},parse:function(e){if(e instanceof b.PathArray)return e.valueOf();var t,i,r,o,a,s,l=0,c=0,u={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7};e="string"==typeof e?e.replace(b.regex.numbersWithDots,n).replace(b.regex.pathLetters," $& ").replace(b.regex.hyphen,"$1 -").trim().split(b.regex.delimiter):e.reduce(function(e,t){return[].concat.call(e,t)},[]);var s=[];do{for(b.regex.isPathLetter.test(e[0])?(o=e[0],e.shift()):"M"==o?o="L":"m"==o&&(o="l"),a=[o.toUpperCase()],t=0;t<u[a[0]];++t)a.push(parseFloat(e.shift()));o==a[0]?"M"==o||"L"==o||"C"==o||"Q"==o||"S"==o||"T"==o?(l=a[u[a[0]]-1],c=a[u[a[0]]]):"V"==o?c=a[1]:"H"==o?l=a[1]:"A"==o&&(l=a[6],c=a[7]):"m"==o||"l"==o||"c"==o||"s"==o||"q"==o||"t"==o?(a[1]+=l,a[2]+=c,null!=a[3]&&(a[3]+=l,a[4]+=c),null!=a[5]&&(a[5]+=l,a[6]+=c),l=a[u[a[0]]-1],c=a[u[a[0]]]):"v"==o?(a[1]+=c,c=a[1]):"h"==o?(a[1]+=l,l=a[1]):"a"==o&&(a[6]+=l,a[7]+=c,l=a[6],c=a[7]),"M"==a[0]&&(i=l,r=c),"Z"==a[0]&&(l=i,c=r),s.push(a)}while(e.length);return s},bbox:function(){return b.parser.path.setAttribute("d",this.toString()),b.parser.path.getBBox()}}),b.Number=b.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-3.4e38:3.4e38:"string"==typeof e?(t=e.match(b.regex.numberAndUnit),t&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5])):e instanceof b.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new b.Number(e),new b.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new b.Number(e),new b.Number(this-e,this.unit||e.unit)},times:function(e){return e=new b.Number(e),new b.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new b.Number(e),new b.Number(this/e,this.unit||e.unit)},to:function(e){var t=new b.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new b.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new b.Number(this.destination).minus(this).times(e).plus(this):this}}}),b.Element=b.invent({create:function(e){this._stroke=b.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var n=u(this,e,t);return this.width(new b.Number(n.width)).height(new b.Number(n.height))},clone:function(e,t){this.writeDataToDom();var n=g(this.node.cloneNode(!0));return e?e.add(n):this.after(n),n},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},inside:function(e,t){var n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(b.regex.delimiter)},hasClass:function(e){return this.classes().indexOf(e)!=-1},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return b.get(this.attr(e))},parent:function(t){var n=this;if(!n.node.parentNode)return null;if(n=b.adopt(n.node.parentNode),!t)return n;for(;n&&n.node instanceof e.SVGElement;){if("string"==typeof t?n.matches(t):n instanceof t)return n;n=b.adopt(n.node.parentNode)}},doc:function(){return this instanceof b.Doc?this:this.parent(b.Doc)},parents:function(e){var t=[],n=this;do{if(n=n.parent(e),!n||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return o(this.node,e)},"native":function(){return this.node},svg:function(e){var n=t.createElement("svg");if(!(e&&this instanceof b.Parent))return n.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,r=n.firstChild.childNodes.length;i<r;i++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){var e=this.each?this:this.lines();e.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return r(this,e)}}}),b.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1}},b.morph=function(e){return function(t,n){return new b.MorphObj(t,n).at(e)}},b.Situation=b.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new b.Number(e.duration).valueOf(),this.delay=new b.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),b.FX=b.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,n){"object"==typeof e&&(t=e.ease,n=e.delay,e=e.duration);var i=new b.Situation({duration:e||1e3,delay:n||0,ease:b.easing[t||"-"]||t});return this.queue(i),this},delay:function(e){var t=new b.Situation({duration:e,delay:0,ease:b.easing["-"]});return this.queue(t)},target:function(e){return e&&e instanceof b.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof b.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof b.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t,n=this.situation;if(n.init)return this;for(e in n.animations)t=this.target()[e](),n.animations[e]instanceof b.Number&&(t=new b.Number(t)),n.animations[e]=t.morph(n.animations[e]);for(e in n.attrs)n.attrs[e]=new b.MorphObj(this.target().attr(e),n.attrs[e]);for(e in n.styles)n.styles[e]=new b.MorphObj(this.target().style(e),n.styles[e]);return n.initialTransformation=this.target().matrixify(),n.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var e=this.situation;this.stop(),this.situation=e,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(e,t){var n=this.situation.duration/this._speed;return this.absPos=e,t||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(e){return 0===e?this.pause():e?(this._speed=e,this.at(this.absPos,!0)):this._speed},loop:function(e,t){var n=this.last();return n.loops=null==e||e,n.loop=0,t&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(e){var t=this.last();return"undefined"==typeof e?t.reversed=!t.reversed:t.reversed=e,this},progress:function(e){return e?this.situation.ease(this.pos):this.pos},after:function(e){var t=this.last(),n=function i(n){n.detail.situation==t&&(e.call(this,t),this.off("finished.fx",i))};return this.target().on("finished.fx",n),this._callStart()},during:function(e){var t=this.last(),n=function(n){n.detail.situation==t&&e.call(this,n.detail.pos,b.morph(n.detail.pos),n.detail.eased,t)};return this.target().off("during.fx",n).on("during.fx",n),this.after(function(){this.off("during.fx",n)}),this._callStart()},afterAll:function(e){var t=function n(t){e.call(this),this.off("allfinished.fx",n)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},duringAll:function(e){var t=function(t){e.call(this,t.detail.pos,b.morph(t.detail.pos),t.detail.eased,t.detail.situation)};return this.target().off("during.fx",t).on("during.fx",t),this.afterAll(function(){this.off("during.fx",t)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){if(e||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var t,n,i;t=Math.max(this.absPos,0),n=Math.floor(t),this.situation.loops===!0||n<this.situation.loops?(this.pos=t-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var e,t,n=this,i=this.target(),r=this.situation;for(e in r.animations)t=[].concat(r.animations[e]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(n.pos),n.pos):e}),i[e].apply(i,t);for(e in r.attrs)t=[e].concat(r.attrs[e]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(n.pos),n.pos):e}),i.attr.apply(i,t);for(e in r.styles)t=[e].concat(r.styles[e]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(n.pos),n.pos):e}),i.style.apply(i,t);if(r.transforms.length){for(t=r.initialTransformation,e=0,len=r.transforms.length;e<len;e++){var o=r.transforms[e];o instanceof b.Matrix?t=o.relative?t.multiply((new b.Matrix).morph(o).at(r.ease(this.pos))):t.morph(o).at(r.ease(this.pos)):(o.relative||o.undo(t.extract()),t=t.multiply(o.at(r.ease(this.pos))))}i.matrix(t)}return this},once:function(e,t,n){return n||(e=this.situation.ease(e)),this.situation.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:b.Element,construct:{animate:function(e,t,n){return(this.fx||(this.fx=new b.FX(this))).animate(e,t,n)},delay:function(e){return(this.fx||(this.fx=new b.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(e){if(this.fx){if(null==e)return this.fx.speed();this.fx.speed(e)}return this}}}),b.MorphObj=b.invent({create:function(e,t){return b.Color.isColor(t)?new b.Color(e).morph(t):b.regex.numberAndUnit.test(t)?new b.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),b.extend(b.FX,{attr:function(e,t,n){if("object"==typeof e)for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},style:function(e,t){if("object"==typeof e)for(var n in e)this.style(n,e[n]);else this.add(e,t,"styles");return this},x:function(e,t){if(this.target()instanceof b.G)return this.transform({x:e},t),this;var n=new b.Number(e);return n.relative=t,this.add("x",n)},y:function(e,t){if(this.target()instanceof b.G)return this.transform({y:e},t),this;var n=new b.Number(e);return n.relative=t,this.add("y",n)},cx:function(e){return this.add("cx",new b.Number(e))},cy:function(e){return this.add("cy",new b.Number(e))},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){if(this.target()instanceof b.Text)this.attr("font-size",e);else{var n;e&&t||(n=this.target().bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.add("width",new b.Number(e)).add("height",new b.Number(t))}return this},plot:function(){return this.add("plot",arguments.length>1?[].slice.call(arguments):arguments[0])},leading:function(e){return this.target().leading?this.add("leading",new b.Number(e)):this},viewbox:function(e,t,n,i){return this.target()instanceof b.Container&&this.add("viewbox",new b.ViewBox(e,t,n,i)),this},update:function(e){if(this.target()instanceof b.Stop){if("number"==typeof e||e instanceof b.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset)}return this}}),b.Box=b.invent({create:function(e,t,n,i){return"object"!=typeof e||e instanceof b.Element?(4==arguments.length&&(this.x=e,this.y=t,this.width=n,this.height=i),void v(this)):b.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height)},extend:{merge:function(e){var t=new this.constructor;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,v(t)},transform:function(e){var t=1/0,n=-(1/0),i=1/0,r=-(1/0),o=[new b.Point(this.x,this.y),new b.Point(this.x2,this.y),new b.Point(this.x,this.y2),new b.Point(this.x2,this.y2)];return o.forEach(function(o){o=o.transform(e),t=Math.min(t,o.x),n=Math.max(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y)}),bbox=new this.constructor,bbox.x=t,bbox.width=n-t,bbox.y=i,bbox.height=r-i,v(bbox),bbox}}}),b.BBox=b.invent({create:function(e){if(b.Box.apply(this,[].slice.call(arguments)),e instanceof b.Element){var n;try{if(t.documentElement.contains){if(!t.documentElement.contains(e.node))throw new Exception("Element not in the dom")}else{for(var i=e.node;i.parentNode;)i=i.parentNode;if(i!=t)throw new Exception("Element not in the dom")}n=e.node.getBBox()}catch(r){if(e instanceof b.Shape){var o=e.clone(b.parser.draw).show();n=o.node.getBBox(),o.remove()}else n={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}b.Box.call(this,n)}},inherit:b.Box,parent:b.Element,construct:{bbox:function(){return new b.BBox(this)}}}),b.BBox.prototype.constructor=b.BBox,b.extend(b.Element,{tbox:function(){return this.rbox(this.doc())}}),b.RBox=b.invent({create:function(e){b.Box.apply(this,[].slice.call(arguments)),e instanceof b.Element&&b.Box.call(this,e.node.getBoundingClientRect())},inherit:b.Box,parent:b.Element,extend:{addOffset:function(){return this.x+=e.pageXOffset,this.y+=e.pageYOffset,this}},construct:{rbox:function(e){return e?new b.RBox(this).transform(e.screenCTM().inverse()):new b.RBox(this).addOffset()}}}),b.RBox.prototype.constructor=b.RBox,b.Matrix=b.invent({create:function(e){var t,n=h([1,0,0,1,0,0]);for(e=e instanceof b.Element?e.matrixify():"string"==typeof e?h(e.split(b.regex.delimiter).map(parseFloat)):6==arguments.length?h([].slice.call(arguments)):Array.isArray(e)?h(e):"object"==typeof e?e:n,t=w.length-1;t>=0;--t)this[w[t]]=e&&"number"==typeof e[w[t]]?e[w[t]]:n[w[t]]},extend:{extract:function(){var e=d(this,0,1),t=d(this,1,0),n=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(t.y,t.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new b.Matrix(this)}},clone:function(){return new b.Matrix(this)},morph:function(e){return this.destination=new b.Matrix(e),this},at:function(e){if(!this.destination)return this;var t=new b.Matrix({a:this.a+(this.destination.a-this.a)*e,b:this.b+(this.destination.b-this.b)*e,c:this.c+(this.destination.c-this.c)*e,d:this.d+(this.destination.d-this.d)*e,e:this.e+(this.destination.e-this.e)*e,f:this.f+(this.destination.f-this.f)*e});return t},multiply:function(e){return new b.Matrix(this["native"]().multiply(f(e)["native"]()))},inverse:function(){return new b.Matrix(this["native"]().inverse())},translate:function(e,t){return new b.Matrix(this["native"]().translate(e||0,t||0))},scale:function(e,t,n,i){return 1==arguments.length?t=e:3==arguments.length&&(i=n,n=t,t=e),this.around(n,i,new b.Matrix(e,0,0,t,0,0))},rotate:function(e,t,n){return e=b.utils.radians(e),this.around(t,n,new b.Matrix(Math.cos(e),Math.sin(e),(-Math.sin(e)),Math.cos(e),0,0))},flip:function(e,t){return t="number"==typeof e?e:t,"x"==e?this.scale(-1,1,t,0):"y"==e?this.scale(1,-1,0,t):this.scale(-1,-1,t,t)},skew:function(e,t,n,i){return 1==arguments.length?t=e:3==arguments.length&&(i=n,n=t,t=e),e=b.utils.radians(e),t=b.utils.radians(t),this.around(n,i,new b.Matrix(1,Math.tan(t),Math.tan(e),1,0,0))},skewX:function(e,t,n){return this.skew(e,0,t,n)},skewY:function(e,t,n){return this.skew(0,e,t,n)},around:function(e,t,n){return this.multiply(new b.Matrix(1,0,0,1,e||0,t||0)).multiply(n).multiply(new b.Matrix(1,0,0,1,-e||0,-t||0))},"native":function(){for(var e=b.parser["native"].createSVGMatrix(),t=w.length-1;t>=0;t--)e[w[t]]=this[w[t]];return e},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:b.Element,construct:{ctm:function(){return new b.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof b.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new b.Matrix(t)}return new b.Matrix(this.node.getScreenCTM())}}}),b.Point=b.invent({create:function(e,t){var n,i={x:0,y:0};n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:i,this.x=n.x,this.y=n.y},extend:{clone:function(){return new b.Point(this)},morph:function(e,t){return this.destination=new b.Point(e,t),this},at:function(e){if(!this.destination)return this;var t=new b.Point({x:this.x+(this.destination.x-this.x)*e,y:this.y+(this.destination.y-this.y)*e});return t},"native":function(){var e=b.parser["native"].createSVGPoint();return e.x=this.x,e.y=this.y,e},transform:function(e){return new b.Point(this["native"]().matrixTransform(e["native"]()))}}}),b.extend(b.Element,{point:function(e,t){return new b.Point(e,t).transform(this.screenCTM().inverse())}}),b.extend(b.Element,{attr:function(e,t,n){if(null==e){for(e={},t=this.node.attributes,n=t.length-1;n>=0;n--)e[t[n].nodeName]=b.regex.isNumber.test(t[n].nodeValue)?parseFloat(t[n].nodeValue):t[n].nodeValue;return e}if("object"==typeof e)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return t=this.node.getAttribute(e),null==t?b.defaults.attrs[e]:b.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(b.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof b.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)}))),"number"==typeof t?t=new b.Number(t):b.Color.isColor(t)?t=new b.Color(t):Array.isArray(t)&&(t=new b.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),b.extend(b.Element,{transform:function(e,t){var n,i=this;if("object"!=typeof e)return n=new b.Matrix(i).extract(),"string"==typeof e?n[e]:n;if(n=new b.Matrix(i),t=!!t||!!e.relative,null!=e.a)n=t?n.multiply(new b.Matrix(e)):new b.Matrix(e);else if(null!=e.rotation)p(e,i),n=t?n.rotate(e.rotation,e.cx,e.cy):n.rotate(e.rotation-n.extract().rotation,e.cx,e.cy);else if(null!=e.scale||null!=e.scaleX||null!=e.scaleY){if(p(e,i),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,!t){var r=n.extract();e.scaleX=1*e.scaleX/r.scaleX,e.scaleY=1*e.scaleY/r.scaleY}n=n.scale(e.scaleX,e.scaleY,e.cx,e.cy)}else if(null!=e.skew||null!=e.skewX||null!=e.skewY){if(p(e,i),e.skewX=null!=e.skew?e.skew:null!=e.skewX?e.skewX:0,e.skewY=null!=e.skew?e.skew:null!=e.skewY?e.skewY:0,!t){var r=n.extract();n=n.multiply((new b.Matrix).skew(r.skewX,r.skewY,e.cx,e.cy).inverse())}n=n.skew(e.skewX,e.skewY,e.cx,e.cy)}else e.flip?n=n.flip(e.flip,null==e.offset?i.bbox()["c"+e.flip]:e.offset):null==e.x&&null==e.y||(t?n=n.translate(e.x,e.y):(null!=e.x&&(n.e=e.x),null!=e.y&&(n.f=e.y)));return this.attr("transform",n)}}),b.extend(b.FX,{transform:function(e,t){var n,i=this.target();return"object"!=typeof e?(n=new b.Matrix(i).extract(),"string"==typeof e?n[e]:n):(t=!!t||!!e.relative,null!=e.a?n=new b.Matrix(e):null!=e.rotation?(p(e,i),n=new b.Rotate(e.rotation,e.cx,e.cy)):null!=e.scale||null!=e.scaleX||null!=e.scaleY?(p(e,i),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,n=new b.Scale(e.scaleX,e.scaleY,e.cx,e.cy)):null!=e.skewX||null!=e.skewY?(p(e,i),e.skewX=null!=e.skewX?e.skewX:0,e.skewY=null!=e.skewY?e.skewY:0,n=new b.Skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?n=(new b.Matrix).flip(e.flip,null==e.offset?i.bbox()["c"+e.flip]:e.offset):null==e.x&&null==e.y||(n=new b.Translate(e.x,e.y)),n?(n.relative=t,this.last().transforms.push(n),this._callStart()):this)}}),b.extend(b.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var e=(this.attr("transform")||"").split(b.regex.transforms).slice(0,-1).map(function(e){var t=e.trim().split("(");return[t[0],t[1].split(b.regex.delimiter).map(function(e){return parseFloat(e)})]}).reduce(function(e,t){return"matrix"==t[0]?e.multiply(h(t[1])):e[t[0]].apply(e,t[1])},new b.Matrix);return e},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),b.Transformation=b.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[n];else if("object"==typeof e)for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,t===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(e){for(var t=[],n=0,i=this.arguments.length;n<i;++n)t.push(this[this.arguments[n]]);var r=this._undo||new b.Matrix;return r=(new b.Matrix).morph(b.Matrix.prototype[this.method].apply(r,t)).at(e),this.inversed?r.inverse():r},undo:function(e){for(var t=0,n=this.arguments.length;t<n;++t)e[this.arguments[t]]="undefined"==typeof this[this.arguments[t]]?0:e[this.arguments[t]];return e.cx=this.cx,e.cy=this.cy,this._undo=new(b[s(this.method)])(e,(!0)).at(1),this}}}),b.Translate=b.invent({parent:b.Matrix,inherit:b.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),b.Rotate=b.invent({parent:b.Matrix,inherit:b.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],
method:"rotate",at:function(e){var t=(new b.Matrix).rotate((new b.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(e),this.cx,this.cy);return this.inversed?t.inverse():t},undo:function(e){return this._undo=e,this}}}),b.Scale=b.invent({parent:b.Matrix,inherit:b.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),b.Skew=b.invent({parent:b.Matrix,inherit:b.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),b.extend(b.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(t in e)this.style(t,e[t]);else{if(!b.regex.isCss.test(e))return this.node.style[a(e)];for(e=e.split(/\s*;\s*/).filter(function(e){return!!e}).map(function(e){return e.split(/\s*:\s*/)});t=e.pop();)this.style(t[0],t[1])}else this.node.style[a(e)]=null===t||b.regex.isBlank.test(t)?"":t;return this}}),b.Parent=b.invent({create:function(e){this.constructor.call(this,e)},inherit:b.Element,extend:{children:function(){return b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(e){return b.adopt(e)})},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return b.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){var n,i,r=this.children();for(n=0,i=r.length;n<i;n++)r[n]instanceof b.Element&&e.apply(r[n],[n,r]),t&&r[n]instanceof b.Container&&r[n].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),b.extend(b.Parent,{ungroup:function(e,t){return 0===t||this instanceof b.Defs?this:(e=e||(this instanceof b.Doc?this:this.parent(b.Parent)),t=t||1/0,this.each(function(){return this instanceof b.Defs?this:this instanceof b.Parent?this.ungroup(e,t-1):this.toParent(e)}),this.node.firstChild||this.remove(),this)},flatten:function(e,t){return this.ungroup(e,t)}}),b.Container=b.invent({create:function(e){this.constructor.call(this,e)},inherit:b.Parent}),b.ViewBox=b.invent({create:function(e){var t,n,i,r,o,a,s,l,c=[0,0,0,0],u=1,d=1,h=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(e instanceof b.Element){for(s=e,l=e,a=(e.attr("viewBox")||"").match(h),o=e.bbox,i=new b.Number(e.width()),r=new b.Number(e.height());"%"==i.unit;)u*=i.value,i=new b.Number(s instanceof b.Doc?s.parent().offsetWidth:s.parent().width()),s=s.parent();for(;"%"==r.unit;)d*=r.value,r=new b.Number(l instanceof b.Doc?l.parent().offsetHeight:l.parent().height()),l=l.parent();this.x=0,this.y=0,this.width=i*u,this.height=r*d,this.zoom=1,a&&(t=parseFloat(a[0]),n=parseFloat(a[1]),i=parseFloat(a[2]),r=parseFloat(a[3]),this.zoom=this.width/this.height>i/r?this.height/r:this.width/i,this.x=t,this.y=n,this.width=i,this.height=r)}else e="string"==typeof e?e.match(h).map(function(e){return parseFloat(e)}):Array.isArray(e)?e:"object"==typeof e?[e.x,e.y,e.width,e.height]:4==arguments.length?[].slice.call(arguments):c,this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(e,t,n,i){return this.destination=new b.ViewBox(e,t,n,i),this},at:function(e){return this.destination?new b.ViewBox([this.x+(this.destination.x-this.x)*e,this.y+(this.destination.y-this.y)*e,this.width+(this.destination.width-this.width)*e,this.height+(this.destination.height-this.height)*e]):this}},parent:b.Container,construct:{viewbox:function(e,t,n,i){return 0==arguments.length?new b.ViewBox(this):this.attr("viewBox",new b.ViewBox(e,t,n,i))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){b.Element.prototype[e]=function(t){return b.on(this.node,e,t),this}}),b.listeners=[],b.handlerMap=[],b.listenerId=0,b.on=function(e,t,n,i){var r=n.bind(i||e.instance||e),o=(b.handlerMap.indexOf(e)+1||b.handlerMap.push(e))-1,a=t.split(".")[0],s=t.split(".")[1]||"*";b.listeners[o]=b.listeners[o]||{},b.listeners[o][a]=b.listeners[o][a]||{},b.listeners[o][a][s]=b.listeners[o][a][s]||{},n._svgjsListenerId||(n._svgjsListenerId=++b.listenerId),b.listeners[o][a][s][n._svgjsListenerId]=r,e.addEventListener(a,r,!1)},b.off=function(e,t,n){var i=b.handlerMap.indexOf(e),r=t&&t.split(".")[0],o=t&&t.split(".")[1];if(i!=-1)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;b.listeners[i][r]&&b.listeners[i][r][o||"*"]&&(e.removeEventListener(r,b.listeners[i][r][o||"*"][n],!1),delete b.listeners[i][r][o||"*"][n])}else if(o&&r){if(b.listeners[i][r]&&b.listeners[i][r][o]){for(n in b.listeners[i][r][o])b.off(e,[r,o].join("."),n);delete b.listeners[i][r][o]}}else if(o)for(t in b.listeners[i])for(namespace in b.listeners[i][t])o===namespace&&b.off(e,[t,o].join("."));else if(r){if(b.listeners[i][r]){for(namespace in b.listeners[i][r])b.off(e,[r,namespace].join("."));delete b.listeners[i][r]}}else{for(t in b.listeners[i])b.off(e,t);delete b.listeners[i],delete b.handlerMap[i]}},b.extend(b.Element,{on:function(e,t,n){return b.on(this.node,e,t,n),this},off:function(e,t){return b.off(this.node,e,t),this},fire:function(t,n){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new e.CustomEvent(t,{detail:n,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),b.Defs=b.invent({create:"defs",inherit:b.Container}),b.G=b.invent({create:"g",inherit:b.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)},y:function(e){return null==e?this.transform("y"):this.transform({y:e-this.y()},!0)},cx:function(e){return null==e?this.gbox().cx:this.x(e-this.gbox().width/2)},cy:function(e){return null==e?this.gbox().cy:this.y(e-this.gbox().height/2)},gbox:function(){var e=this.bbox(),t=this.transform();return e.x+=t.x,e.x2+=t.x,e.cx+=t.x,e.y+=t.y,e.y2+=t.y,e.cy+=t.y,e}},construct:{group:function(){return this.put(new b.G)}}}),b.extend(b.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),t instanceof b.Doc&&t.node.appendChild(t.defs().node),this},backward:function(){var e=this.position();return e>0&&this.parent().removeElement(this).add(this,e-1),this},front:function(){var e=this.parent();return e.node.appendChild(this.node),e instanceof b.Doc&&e.node.appendChild(e.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent().add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent().add(e,t+1),this}}),b.Mask=b.invent({create:function(){this.constructor.call(this,b.create("mask")),this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new b.Mask)}}}),b.extend(b.Element,{maskWith:function(e){return this.masker=e instanceof b.Mask?e:this.parent().mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),b.ClipPath=b.invent({create:function(){this.constructor.call(this,b.create("clipPath")),this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new b.ClipPath)}}}),b.extend(b.Element,{clipWith:function(e){return this.clipper=e instanceof b.ClipPath?e:this.parent().clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),b.Gradient=b.invent({create:function(e){this.constructor.call(this,b.create(e+"Gradient")),this.type=e},inherit:b.Container,extend:{at:function(e,t,n){return this.put(new b.Stop).update(e,t,n)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="gradientTransform"),b.Container.prototype.attr.call(this,e,t,n)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),b.extend(b.Gradient,b.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new b.Number(e),fy:new b.Number(t)}):this.attr({x1:new b.Number(e),y1:new b.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new b.Number(e),cy:new b.Number(t)}):this.attr({x2:new b.Number(e),y2:new b.Number(t)})}}),b.extend(b.Defs,{gradient:function(e,t){return this.put(new b.Gradient(e)).update(t)}}),b.Stop=b.invent({create:"stop",inherit:b.Element,extend:{update:function(e){return("number"==typeof e||e instanceof b.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new b.Number(e.offset)),this}}}),b.Pattern=b.invent({create:"pattern",inherit:b.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="patternTransform"),b.Container.prototype.attr.call(this,e,t,n)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),b.extend(b.Defs,{pattern:function(e,t,n){return this.put(new b.Pattern).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),b.Doc=b.invent({create:function(e){e&&(e="string"==typeof e?t.getElementById(e):e,"svg"==e.nodeName?this.constructor.call(this,e):(this.constructor.call(this,b.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:b.Container,extend:{namespace:function(){return this.attr({xmlns:b.ns,version:"1.1"}).attr("xmlns:xlink",b.xlink,b.xmlns).attr("xmlns:svgjs",b.svgjs,b.xmlns)},defs:function(){if(!this._defs){var e;(e=this.node.getElementsByTagName("defs")[0])?this._defs=b.adopt(e):this._defs=new b.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(e){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this}}}),b.Shape=b.invent({create:function(e){this.constructor.call(this,e)},inherit:b.Element}),b.Bare=b.invent({create:function(e,t){if(this.constructor.call(this,b.create(e)),t)for(var n in t.prototype)"function"==typeof t.prototype[n]&&(this[n]=t.prototype[n])},inherit:b.Element,extend:{words:function(e){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(t.createTextNode(e)),this}}}),b.extend(b.Parent,{element:function(e,t){return this.put(new b.Bare(e,t))}}),b.Symbol=b.invent({create:"symbol",inherit:b.Container,construct:{symbol:function(){return this.put(new b.Symbol)}}}),b.Use=b.invent({create:"use",inherit:b.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,b.xlink)}},construct:{use:function(e,t){return this.put(new b.Use).element(e,t)}}}),b.Rect=b.invent({create:"rect",inherit:b.Shape,construct:{rect:function(e,t){return this.put(new b.Rect).size(e,t)}}}),b.Circle=b.invent({create:"circle",inherit:b.Shape,construct:{circle:function(e){return this.put(new b.Circle).rx(new b.Number(e).divide(2)).move(0,0)}}}),b.extend(b.Circle,b.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),b.Ellipse=b.invent({create:"ellipse",inherit:b.Shape,construct:{ellipse:function(e,t){return this.put(new b.Ellipse).size(e,t).move(0,0)}}}),b.extend(b.Ellipse,b.Rect,b.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),b.extend(b.Circle,b.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new b.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new b.Number(e).divide(2))},size:function(e,t){var n=u(this,e,t);return this.rx(new b.Number(n.width).divide(2)).ry(new b.Number(n.height).divide(2))}}),b.Line=b.invent({create:"line",inherit:b.Shape,extend:{array:function(){return new b.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,n,i){return null==e?this.array():(e="undefined"!=typeof t?{x1:e,y1:t,x2:n,y2:i}:new b.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=u(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,n,i){return b.Line.prototype.plot.apply(this.put(new b.Line),null!=e?[e,t,n,i]:[0,0,0,0])}}}),b.Polyline=b.invent({create:"polyline",inherit:b.Shape,construct:{polyline:function(e){return this.put(new b.Polyline).plot(e||new b.PointArray)}}}),b.Polygon=b.invent({create:"polygon",inherit:b.Shape,construct:{polygon:function(e){return this.put(new b.Polygon).plot(e||new b.PointArray)}}}),b.extend(b.Polyline,b.Polygon,{array:function(){return this._array||(this._array=new b.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new b.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=u(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),b.extend(b.Line,b.Polyline,b.Polygon,{morphArray:b.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),b.Path=b.invent({create:"path",inherit:b.Shape,extend:{morphArray:b.PathArray,array:function(){return this._array||(this._array=new b.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new b.PathArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("d",this.array().move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){var n=u(this,e,t);return this.attr("d",this.array().size(n.width,n.height))},width:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new b.Path).plot(e||new b.PathArray)}}}),b.Image=b.invent({create:"image",inherit:b.Shape,extend:{load:function(t){if(!t)return this;var n=this,i=new e.Image;return b.on(i,"load",function(){var e=n.parent(b.Pattern);null!==e&&(0==n.width()&&0==n.height()&&n.size(i.width,i.height),e&&0==e.width()&&0==e.height()&&e.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:i.width,height:i.height,ratio:i.width/i.height,url:t}))}),b.on(i,"error",function(e){"function"==typeof n._error&&n._error.call(n,e)}),this.attr("href",i.src=this.src=t,b.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,n){return this.put(new b.Image).load(e).size(t||0,n||t||0)}}}),b.Text=b.invent({create:function(){this.constructor.call(this,b.create("text")),this.dom.leading=new b.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",b.defaults.attrs["font-family"])},inherit:b.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},y:function(e){var t=this.attr("y"),n="number"==typeof t?t-this.bbox().y:0;return null==e?"number"==typeof t?t-n:t:this.attr("y","number"==typeof e?e+n:e)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)},text:function(e){if("undefined"==typeof e){for(var e="",t=this.node.childNodes,n=0,i=t.length;n<i;++n)0!=n&&3!=t[n].nodeType&&1==b.adopt(t[n]).dom.newLined&&(e+="\n"),e+=t[n].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{e=e.split("\n");for(var n=0,r=e.length;n<r;n++)this.tspan(e[n]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new b.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=b.utils.map(b.utils.filterSVGElements(e.childNodes),function(e){return b.adopt(e)});return new b.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,n=0,i=this.dom.leading*new b.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?n+=i:(this.attr("dy",i+n),n=0))}),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new b.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new b.Text).text(e)},plain:function(e){return this.put(new b.Text).plain(e)}}}),b.Tspan=b.invent({create:"tspan",inherit:b.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(b.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),b.extend(b.Text,b.Tspan,{plain:function(e){return this._build===!1&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,n=new b.Tspan;return this._build===!1&&this.clear(),t.appendChild(n.node),n.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),b.TextPath=b.invent({create:"textPath",inherit:b.Parent,parent:b.Text,construct:{path:function(e){for(var t=new b.TextPath,n=this.doc().defs().path(e);this.node.hasChildNodes();)t.node.appendChild(this.node.firstChild);return this.node.appendChild(t.node),t.attr("href","#"+n,b.xlink),this},array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return b.adopt(this.node.firstChild)}}}),b.Nested=b.invent({create:function(){this.constructor.call(this,b.create("svg")),this.style("overflow","visible")},inherit:b.Container,construct:{nested:function(){return this.put(new b.Nested)}}}),b.A=b.invent({create:"a",inherit:b.Container,extend:{to:function(e){return this.attr("href",e,b.xlink)},show:function(e){return this.attr("show",e,b.xlink)},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new b.A).to(e)}}}),b.extend(b.Element,{linkTo:function(e){var t=new b.A;return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this)}}),b.Marker=b.invent({create:"marker",inherit:b.Container,extend:{width:function(e){return this.attr("markerWidth",e)},height:function(e){return this.attr("markerHeight",e)},ref:function(e,t){return this.attr("refX",e).attr("refY",t)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(e,t,n){return this.defs().marker(e,t,n)}}}),b.extend(b.Defs,{marker:function(e,t,n){return this.put(new b.Marker).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}}),b.extend(b.Line,b.Polyline,b.Polygon,b.Path,{marker:function(e,t,n,i){var r=["marker"];return"all"!=e&&r.push(e),r=r.join("-"),e=arguments[1]instanceof b.Marker?arguments[1]:this.doc().marker(t,n,i),this.attr(r,e)}});var _={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};["fill","stroke"].forEach(function(e){var t,n={};n[e]=function(n){if("undefined"==typeof n)return this;if("string"==typeof n||b.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(e,n);else for(t=_[e].length-1;t>=0;t--)null!=n[_[e][t]]&&this.attr(_.prefix(e,_[e][t]),n[_[e][t]]);return this},b.extend(b.Element,b.FX,n)}),b.extend(b.Element,b.FX,{rotate:function(e,t,n){return this.transform({rotation:e,cx:t,cy:n})},skew:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({skew:e,cx:t,cy:n}):this.transform({skewX:e,skewY:t,cx:n,cy:i})},scale:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:e,cx:t,cy:n}):this.transform({scaleX:e,scaleY:t,cx:n,cy:i})},translate:function(e,t){return this.transform({x:e,y:t})},flip:function(e,t){return t="number"==typeof e?e:t,this.transform({flip:e||"both",offset:t})},matrix:function(e){return this.attr("transform",new b.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new b.Number(e).plus(this instanceof b.FX?0:this.x()),!0)},dy:function(e){return this.y(new b.Number(e).plus(this instanceof b.FX?0:this.y()),!0)},dmove:function(e,t){return this.dx(e).dy(t)}}),b.extend(b.Rect,b.Ellipse,b.Circle,b.Gradient,b.FX,{radius:function(e,t){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new b.Number(e)):this.rx(e).ry(null==t?e:t)}}),b.extend(b.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),b.extend(b.Parent,b.Text,b.Tspan,b.FX,{font:function(e,t){if("object"==typeof e)for(t in e)this.font(t,e[t]);return"leading"==e?this.leading(t):"anchor"==e?this.attr("text-anchor",t):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t):this.attr(e,t)}}),b.Set=b.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){var e,t,n=[].slice.call(arguments);for(e=0,t=n.length;e<t;e++)this.members.push(n[e]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new b.RBox;var e=this.members[0].rbox(this.members[0].doc());return this.each(function(){e=e.merge(this.rbox(this.doc()))}),e}},construct:{set:function(e){return new b.Set(e)}}}),b.FX.Set=b.invent({create:function(e){this.set=e}}),b.Set.inherit=function(){var e,t=[];for(var e in b.Shape.prototype)"function"==typeof b.Shape.prototype[e]&&"function"!=typeof b.Set.prototype[e]&&t.push(e);t.forEach(function(e){b.Set.prototype[e]=function(){for(var t=0,n=this.members.length;t<n;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new b.FX.Set(this)):this}}),t=[];for(var e in b.FX.prototype)"function"==typeof b.FX.prototype[e]&&"function"!=typeof b.FX.Set.prototype[e]&&t.push(e);t.forEach(function(e){b.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}})},b.extend(b.Element,{data:function(e,t,n){if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(i){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:n===!0||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),b.extend(b.Element,{remember:function(e,t){if("object"==typeof arguments[0])for(var t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),b.get=function(e){var n=t.getElementById(y(e)||e);return b.adopt(n)},b.select=function(e,n){return new b.Set(b.utils.map((n||t).querySelectorAll(e),function(e){return b.adopt(e)}))},b.extend(b.Parent,{select:function(e){return b.select(e,this.node)}});var w="abcdef".split("");if("function"!=typeof e.CustomEvent){var x=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};x.prototype=e.Event.prototype,e.CustomEvent=x}return function(t){for(var n=0,i=["moz","webkit"],r=0;r<i.length&&!e.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(e){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=t.setTimeout(function(){e(i+r)},r);return n=i+r,o},t.cancelAnimationFrame=t.cancelAnimationFrame||t.clearTimeout}(e),b})},{}],76:[function(e,t,n){!function(i,r){if("object"==typeof t&&"object"==typeof t.exports&&(n=t.exports=r(e("terraformer"))),"object"==typeof i.navigator){if(!i.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");i.Terraformer.ArcGIS=r(i.Terraformer)}}(this,function(e){function t(e){var t,n,i,r,o=0,a=0,s=[];i=e.match(/((\+|\-)[^\+\-]+)/g),r=parseInt(i[0],32);for(var l=1;l<i.length;l+=2)t=parseInt(i[l],32)+o,o=t,n=parseInt(i[l+1],32)+a,a=n,s.push([t/r,n/r]);return s}function n(e){return i(e[0],e[e.length-1])||e.push(e[0]),e}function i(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(e){var t,n=0,i=0,r=e.length,o=e[i];for(i;i<r-1;i++)t=e[i+1],n+=(t[0]-o[0])*(t[1]+o[1]),o=t;return n>=0}function a(e){var t=[],i=e.slice(0),r=n(i.shift().slice(0));if(r.length>=4){o(r)||r.reverse(),t.push(r);for(var a=0;a<i.length;a++){var s=n(i[a].slice(0));s.length>=4&&(o(s)&&s.reverse(),t.push(s))}}return t}function s(e){for(var t=[],n=0;n<e.length;n++)for(var i=a(e[n]),r=i.length-1;r>=0;r--){var o=i[r].slice(0);t.push(o)}return t}function l(t,n){var i=e.Tools.arraysIntersectArrays(t,n),r=e.Tools.coordinatesContainPoint(t,n[0]);return!(i||!r)}function c(t){for(var i,r,a,s=[],c=[],u=0;u<t.length;u++){var d=n(t[u].slice(0));if(!(d.length<4))if(o(d)){var h=[d];s.push(h)}else c.push(d)}for(var f=[];c.length;){a=c.pop();var p=!1;for(i=s.length-1;i>=0;i--)if(r=s[i][0],l(r,a)){s[i].push(a),p=!0;break}p||f.push(a)}for(;f.length;){a=f.pop();var m=!1;for(i=s.length-1;i>=0;i--)if(r=s[i][0],e.Tools.arraysIntersectArrays(r,a)){s[i].push(a),m=!0;break}m||s.push([a.reverse()])}return 1===s.length?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}function u(n,i){var o={};i=i||{},i.idAttribute=i.idAttribute||void 0,"number"==typeof n.x&&"number"==typeof n.y&&(o.type="Point",o.coordinates=[n.x,n.y],(n.z||n.m)&&o.coordinates.push(n.z),n.m&&o.coordinates.push(n.m)),n.points&&(o.type="MultiPoint",o.coordinates=n.points.slice(0)),n.paths&&(1===n.paths.length?(o.type="LineString",o.coordinates=n.paths[0].slice(0)):(o.type="MultiLineString",o.coordinates=n.paths.slice(0))),n.rings&&(o=c(n.rings.slice(0))),(n.compressedGeometry||n.geometry||n.attributes)&&(o.type="Feature",n.compressedGeometry&&(n.geometry={paths:[t(n.compressedGeometry)]}),o.geometry=n.geometry?u(n.geometry):null,o.properties=n.attributes?r(n.attributes):null,n.attributes&&(o.id=n.attributes[i.idAttribute]||n.attributes.OBJECTID||n.attributes.FID));var a=n.geometry?n.geometry.spatialReference:n.spatialReference;return a&&102100===a.wkid&&(o=e.toGeographic(o)),new e.Primitive(o)}function d(t,n){var i;n=n||{};var o=n.idAttribute||"OBJECTID";i=n.sr?{wkid:n.sr}:t&&t.crs===e.MercatorCRS?{wkid:102100}:{wkid:4326};var l,c={};switch(t.type){case"Point":c.x=t.coordinates[0],c.y=t.coordinates[1],t.coordinates[2]&&(c.z=t.coordinates[2]),t.coordinates[3]&&(c.m=t.coordinates[3]),c.spatialReference=i;break;case"MultiPoint":c.points=t.coordinates.slice(0),c.spatialReference=i;break;case"LineString":c.paths=[t.coordinates.slice(0)],c.spatialReference=i;break;case"MultiLineString":c.paths=t.coordinates.slice(0),c.spatialReference=i;break;case"Polygon":c.rings=a(t.coordinates.slice(0)),c.spatialReference=i;break;case"MultiPolygon":c.rings=s(t.coordinates.slice(0)),c.spatialReference=i;break;case"Feature":t.geometry&&(c.geometry=d(t.geometry,n)),c.attributes=t.properties?r(t.properties):{},t.id&&(c.attributes[o]=t.id);break;case"FeatureCollection":for(c=[],l=0;l<t.features.length;l++)c.push(d(t.features[l],n));break;case"GeometryCollection":for(c=[],l=0;l<t.geometries.length;l++)c.push(d(t.geometries[l],n))}return c}function h(n){return new e.LineString(t(n))}var f={};return f.parse=u,f.convert=d,f.toGeoJSON=u,f.fromGeoJSON=d,f.parseCompressedGeometry=h,f})},{terraformer:78}],77:[function(t,n,i){(function(r){"use strict";!function(t){if("object"==typeof i&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,o.terraformerProj4js=t()}}(function(){return function e(n,i,r){function o(s,l){if(!i[s]){if(!n[s]){var c="function"==typeof t&&t;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t?t:e)},d,d.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);
return o}({1:[function(e,t,n){function i(e,t){function n(e){return!t.defs(e)&&0===e.indexOf("EPSG:")}return function(i,r,o){var a=o,s=r,l=/urn:ogc:def:crs:EPSG::(\d+)/;if(!a&&i.crs&&"name"===i.crs.type){var c=i.crs.properties.name.match(l);a=c?"EPSG:"+c[1]:i.crs.properties.name}if(a){if(n(a))throw new Error("Projection: "+a+" could not be found in proj4.defs")}else a="EPSG:4326";if(s){if(n(s))throw new Error("Projection: "+s+" could not be found in proj4.defs")}else if(s="EPSG:4326",s===a)return;var u=t(a,s).forward;return e.Tools.applyConverter(i,u)}}t.exports=i},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],78:[function(e,t,n){!function(e,i){"object"==typeof t&&"object"==typeof t.exports&&(n=t.exports=i()),"object"==typeof window&&(e.Terraformer=i())}(this,function(){function e(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(){Array.prototype.slice.apply(arguments);void 0!==typeof console&&console.warn}function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function i(e){if(e.type)switch(e.type){case"Point":return[e.coordinates[0],e.coordinates[1],e.coordinates[0],e.coordinates[1]];case"MultiPoint":return a(e.coordinates);case"LineString":return a(e.coordinates);case"MultiLineString":return r(e.coordinates);case"Polygon":return r(e.coordinates);case"MultiPolygon":return o(e.coordinates);case"Feature":return e.geometry?i(e.geometry):null;case"FeatureCollection":return s(e);case"GeometryCollection":return l(e);default:throw new Error("Unknown type: "+e.type)}return null}function r(e){for(var t=null,n=null,i=null,r=null,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s],c=l[0],u=l[1];null===t?t=c:c<t&&(t=c),null===n?n=c:c>n&&(n=c),null===i?i=u:u<i&&(i=u),null===r?r=u:u>r&&(r=u)}return[t,i,n,r]}function o(e){for(var t=null,n=null,i=null,r=null,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++)for(var l=a[s],c=0;c<l.length;c++){var u=l[c],d=u[0],h=u[1];null===t?t=d:d<t&&(t=d),null===n?n=d:d>n&&(n=d),null===i?i=h:h<i&&(i=h),null===r?r=h:h>r&&(r=h)}return[t,i,n,r]}function a(e){for(var t=null,n=null,i=null,r=null,o=0;o<e.length;o++){var a=e[o],s=a[0],l=a[1];null===t?t=s:s<t&&(t=s),null===n?n=s:s>n&&(n=s),null===i?i=l:l<i&&(i=l),null===r?r=l:l>r&&(r=l)}return[t,i,n,r]}function s(e){for(var t,n=[],r=e.features.length-1;r>=0;r--)t=i(e.features[r].geometry),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return a(n)}function l(e){for(var t,n=[],r=e.geometries.length-1;r>=0;r--)t=i(e.geometries[r]),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return a(n)}function c(e){var t=i(e);return{x:t[0],y:t[1],w:Math.abs(t[0]-t[2]),h:Math.abs(t[1]-t[3])}}function u(e){return e*Y}function d(e){return e*X}function h(e,t){for(var n=0;n<e.length;n++)"number"==typeof e[n][0]&&(e[n]=t(e[n])),"object"==typeof e[n]&&(e[n]=h(e[n],t));return e}function f(e){var t=e[0],n=e[1];return[u(t/W)-360*Math.floor((u(t/W)+180)/360),u(Math.PI/2-2*Math.atan(Math.exp(-1*n/W)))]}function p(e){var t=e[0],n=Math.max(Math.min(e[1],89.99999),-89.99999);return[d(t)*W,W/2*Math.log((1+Math.sin(d(n)))/(1-Math.sin(d(n))))]}function m(e,t,n){if("Point"===e.type)e.coordinates=t(e.coordinates);else if("Feature"===e.type)e.geometry=m(e.geometry,t,!0);else if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)e.features[i]=m(e.features[i],t,!0);else if("GeometryCollection"===e.type)for(var r=0;r<e.geometries.length;r++)e.geometries[r]=m(e.geometries[r],t,!0);else e.coordinates=h(e.coordinates,t);return n||t===p&&(e.crs=K),t===f&&delete e.crs,e}function g(e){return m(e,p)}function v(e){return m(e,f)}function y(e,t){return e<t?-1:e>t?1:0}function b(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0}function _(e,t,n){return y((t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1]),0)}function w(e,t){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function x(e,t){var n=t;for(var i in e){var r=_(t,n,e[i]);(r===-1||0===r&&w(t,e[i])>w(t,n))&&(n=e[i])}return n}function E(e){if(0===e.length)return[];if(1===e.length)return e;for(var t=[e.sort(b)[0]],n=0;n<t.length;n++){var i=x(e,t[n]);i!==t[0]&&t.push(i)}return t}function k(e){for(var t,n=0;n<e.length-3;n++){var i=e[n],r=e[n+1],o=e[n+2],a=[r[0]-i[0],r[1]-i[1]],s=o[0]*a[1]-o[1]*a[0]+a[0]*i[1]-a[1]*i[0];if(0===n)t=s<0;else if(t&&s>0||!t&&s<0)return!1}return!0}function C(e,t){for(var n=!1,i=-1,r=e.length,o=r-1;++i<r;o=i)(e[i][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[i][1])&&t[0]<(e[o][0]-e[i][0])*(t[1]-e[i][1])/(e[o][1]-e[i][1])+e[i][0]&&(n=!n);return n}function S(e,t){if(e&&e.length){if(1===e.length)return C(e[0],t);if(C(e[0],t)){for(var n=1;n<e.length;n++)if(C(e[n],t))return!1;return!0}return!1}return!1}function M(e,t,n,i){var r=(i[0]-n[0])*(e[1]-n[1])-(i[1]-n[1])*(e[0]-n[0]),o=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),a=(i[1]-n[1])*(t[0]-e[0])-(i[0]-n[0])*(t[1]-e[1]);if(0!==a){var s=r/a,l=o/a;if(0<=s&&s<=1&&0<=l&&l<=1)return!0}return!1}function A(e){return!isNaN(parseFloat(e))&&isFinite(e)}function T(e,t){if(A(e[0][0])){if(A(t[0][0])){for(var n=0;n<e.length-1;n++)for(var i=0;i<t.length-1;i++)if(M(e[n],e[n+1],t[i],t[i+1]))return!0}else for(var r=0;r<t.length;r++)if(T(e,t[r]))return!0}else for(var o=0;o<e.length;o++)if(T(e[o],t))return!0;return!1}function O(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].slice();P(i[0],i[i.length-1])===!1&&i.push(i[0]),t.push(i)}return t}function P(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function $(e,t){if(e.length!==t.length)return!1;for(var n=e.slice().sort(b),i=t.slice().sort(b),r=0;r<n.length;r++){if(n[r].length!==i[r].length)return!1;for(var o=0;o<n.length;o++)if(n[r][o]!==i[r][o])return!1}return!0}function L(e){if(e)switch(e.type){case"Point":return new I(e);case"MultiPoint":return new D(e);case"LineString":return new N(e);case"MultiLineString":return new R(e);case"Polygon":return new z(e);case"MultiPolygon":return new F(e);case"Feature":return new B(e);case"FeatureCollection":return new H(e);case"GeometryCollection":return new U(e);default:throw new Error("Unknown type: "+e.type)}}function I(t){var i=Array.prototype.slice.call(arguments);if(t&&"Point"===t.type&&t.coordinates)n(this,t);else if(t&&e(t))this.coordinates=t;else{if(!(i.length>=2))throw"Terraformer: invalid input for Terraformer.Point";this.coordinates=i}this.type="Point"}function D(t){if(t&&"MultiPoint"===t.type&&t.coordinates)n(this,t);else{if(!e(t))throw"Terraformer: invalid input for Terraformer.MultiPoint";this.coordinates=t}this.type="MultiPoint"}function N(t){if(t&&"LineString"===t.type&&t.coordinates)n(this,t);else{if(!e(t))throw"Terraformer: invalid input for Terraformer.LineString";this.coordinates=t}this.type="LineString"}function R(t){if(t&&"MultiLineString"===t.type&&t.coordinates)n(this,t);else{if(!e(t))throw"Terraformer: invalid input for Terraformer.MultiLineString";this.coordinates=t}this.type="MultiLineString"}function z(t){if(t&&"Polygon"===t.type&&t.coordinates)n(this,t);else{if(!e(t))throw"Terraformer: invalid input for Terraformer.Polygon";this.coordinates=t}this.type="Polygon"}function F(t){if(t&&"MultiPolygon"===t.type&&t.coordinates)n(this,t);else{if(!e(t))throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.coordinates=t}this.type="MultiPolygon"}function B(e){if(e&&"Feature"===e.type)n(this,e);else{if(!(e&&e.type&&e.coordinates))throw"Terraformer: invalid input for Terraformer.Feature";this.geometry=e}this.type="Feature"}function H(t){if(t&&"FeatureCollection"===t.type&&t.features)n(this,t);else{if(!e(t))throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.features=t}this.type="FeatureCollection"}function U(t){if(t&&"GeometryCollection"===t.type&&t.geometries)n(this,t);else if(e(t))this.geometries=t;else{if(!t.coordinates||!t.type)throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection",this.geometries=[t]}this.type="GeometryCollection"}function q(e,t,n){for(var i=p(e),r=n||64,o={type:"Polygon",coordinates:[[]]},a=1;a<=r;a++){var s=a*(360/r)*Math.PI/180;o.coordinates[0].push([i[0]+t*Math.cos(s),i[1]+t*Math.sin(s)])}return o.coordinates=O(o.coordinates),v(o)}function V(e,t,i){var r=i||64,o=t||250;if(!e||e.length<2||!o||!r)throw new Error("Terraformer: missing parameter for Terraformer.Circle");n(this,new B({type:"Feature",geometry:q(e,o,r),properties:{radius:o,center:e,steps:r}}))}var G={},W=6378137,Y=57.29577951308232,X=.017453292519943,K={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},Z={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}},J=["length"];return L.prototype.toMercator=function(){return g(this)},L.prototype.toGeographic=function(){return v(this)},L.prototype.envelope=function(){return c(this)},L.prototype.bbox=function(){return i(this)},L.prototype.convexHull=function(){var e,t,n=[];if("Point"===this.type)return null;if("LineString"===this.type||"MultiPoint"===this.type){if(!(this.coordinates&&this.coordinates.length>=3))return null;n=this.coordinates}else if("Polygon"===this.type||"MultiLineString"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)n=n.concat(this.coordinates[e]);if(n.length<3)return null}else if("MultiPolygon"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)for(t=0;t<this.coordinates[e].length;t++)n=n.concat(this.coordinates[e][t]);if(n.length<3)return null}else if("Feature"===this.type){var i=new L(this.geometry);return i.convexHull()}return new z({type:"Polygon",coordinates:O([E(n)])})},L.prototype.toJSON=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&J.indexOf(t)===-1&&(e[t]=this[t]);return e.bbox=i(this),e},L.prototype.contains=function(e){return new L(e).within(this)},L.prototype.within=function(e){var t,n,i;if("Feature"===e.type&&(e=e.geometry),"Point"===e.type&&"Point"===this.type)return P(this.coordinates,e.coordinates);if("MultiLineString"===e.type&&"Point"===this.type)for(n=0;n<e.coordinates.length;n++){var r={type:"LineString",coordinates:e.coordinates[n]};if(this.within(r))return!0}if(("LineString"===e.type||"MultiPoint"===e.type)&&"Point"===this.type)for(n=0;n<e.coordinates.length;n++){if(this.coordinates.length!==e.coordinates[n].length)return!1;if(P(this.coordinates,e.coordinates[n]))return!0}if("Polygon"===e.type){if("Polygon"===this.type){if(e.coordinates.length===this.coordinates.length)for(n=0;n<this.coordinates.length;n++)if($(this.coordinates[n],e.coordinates[n]))return!0;return!(!this.coordinates.length||!S(e.coordinates,this.coordinates[0][0]))&&!T(O(this.coordinates),O(e.coordinates))}if("Point"===this.type)return S(e.coordinates,this.coordinates);if("LineString"===this.type||"MultiPoint"===this.type){if(!this.coordinates||0===this.coordinates.length)return!1;for(n=0;n<this.coordinates.length;n++)if(S(e.coordinates,this.coordinates[n])===!1)return!1;return!0}if("MultiLineString"===this.type){for(n=0;n<this.coordinates.length;n++){var o=new N(this.coordinates[n]);if(o.within(e)===!1)return i++,!1}return!0}if("MultiPolygon"===this.type){for(n=0;n<this.coordinates.length;n++){var a=new L({type:"Polygon",coordinates:this.coordinates[n]});if(a.within(e)===!1)return!1}return!0}}if("MultiPolygon"===e.type){if("Point"===this.type){if(e.coordinates.length)for(n=0;n<e.coordinates.length;n++)if(t=e.coordinates[n],S(t,this.coordinates)&&T([this.coordinates],e.coordinates)===!1)return!0;return!1}if("Polygon"===this.type){for(n=0;n<this.coordinates.length;n++)if(e.coordinates[n].length===this.coordinates.length)for(j=0;j<this.coordinates.length;j++)if($(this.coordinates[j],e.coordinates[n][j]))return!0;if(T(this.coordinates,e.coordinates)===!1&&e.coordinates.length){for(n=0;n<e.coordinates.length;n++)t=e.coordinates[n],i=S(t,this.coordinates[0][0])!==!1;return i}}else if("LineString"===this.type||"MultiPoint"===this.type)for(n=0;n<e.coordinates.length;n++){var s={type:"Polygon",coordinates:e.coordinates[n]};return!!this.within(s)}else{if("MultiLineString"===this.type){for(n=0;n<this.coordinates.length;n++){var l=new N(this.coordinates[n]);if(l.within(e)===!1)return!1}return!0}if("MultiPolygon"===this.type){for(n=0;n<e.coordinates.length;n++){var c={type:"Polygon",coordinates:e.coordinates[n]};if(this.within(c)===!1)return!1}return!0}}}return!1},L.prototype.intersects=function(e){"Feature"===e.type&&(e=e.geometry);var n=new L(e);if(this.within(e)||n.within(this))return!0;if("Point"!==this.type&&"MultiPoint"!==this.type&&"Point"!==e.type&&"MultiPoint"!==e.type)return T(this.coordinates,e.coordinates);if("Feature"===this.type){var i=new L(this.geometry);return i.intersects(e)}return t("Type "+this.type+" to "+e.type+" intersection is not supported by intersects"),!1},I.prototype=new L,I.prototype.constructor=I,D.prototype=new L,D.prototype.constructor=D,D.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates]);return this},D.prototype.addPoint=function(e){return this.coordinates.push(e),this},D.prototype.insertPoint=function(e,t){return this.coordinates.splice(t,0,e),this},D.prototype.removePoint=function(e){return"number"==typeof e?this.coordinates.splice(e,1):this.coordinates.splice(this.coordinates.indexOf(e),1),this},D.prototype.get=function(e){return new I(this.coordinates[e])},N.prototype=new L,N.prototype.constructor=N,N.prototype.addVertex=function(e){return this.coordinates.push(e),this},N.prototype.insertVertex=function(e,t){return this.coordinates.splice(t,0,e),this},N.prototype.removeVertex=function(e){return this.coordinates.splice(e,1),this},R.prototype=new L,R.prototype.constructor=R,R.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},R.prototype.get=function(e){return new N(this.coordinates[e])},z.prototype=new L,z.prototype.constructor=z,z.prototype.addVertex=function(e){return this.insertVertex(e,this.coordinates[0].length-1),this},z.prototype.insertVertex=function(e,t){return this.coordinates[0].splice(t,0,e),this},z.prototype.removeVertex=function(e){return this.coordinates[0].splice(e,1),this},z.prototype.close=function(){this.coordinates=O(this.coordinates)},z.prototype.hasHoles=function(){return this.coordinates.length>1},z.prototype.holes=function(){if(holes=[],this.hasHoles())for(var e=1;e<this.coordinates.length;e++)holes.push(new z([this.coordinates[e]]));return holes},F.prototype=new L,F.prototype.constructor=F,F.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},F.prototype.get=function(e){return new z(this.coordinates[e])},F.prototype.close=function(){var e=[];return this.forEach(function(t){e.push(O(t))}),this.coordinates=e,this},B.prototype=new L,B.prototype.constructor=B,H.prototype=new L,H.prototype.constructor=H,H.prototype.forEach=function(e){for(var t=0;t<this.features.length;t++)e.apply(this,[this.features[t],t,this.features])},H.prototype.get=function(e){var t;return this.forEach(function(n){n.id===e&&(t=n)}),new B(t)},U.prototype=new L,U.prototype.constructor=U,U.prototype.forEach=function(e){for(var t=0;t<this.geometries.length;t++)e.apply(this,[this.geometries[t],t,this.geometries])},U.prototype.get=function(e){return new L(this.geometries[e])},V.prototype=new L,V.prototype.constructor=V,V.prototype.recalculate=function(){return this.geometry=q(this.properties.center,this.properties.radius,this.properties.steps),this},V.prototype.center=function(e){return e&&(this.properties.center=e,this.recalculate()),this.properties.center},V.prototype.radius=function(e){return e&&(this.properties.radius=e,this.recalculate()),this.properties.radius},V.prototype.steps=function(e){return e&&(this.properties.steps=e,this.recalculate()),this.properties.steps},V.prototype.toJSON=function(){var e=L.prototype.toJSON.call(this);return e},G.Primitive=L,G.Point=I,G.MultiPoint=D,G.LineString=N,G.MultiLineString=R,G.Polygon=z,G.MultiPolygon=F,G.Feature=B,G.FeatureCollection=H,G.GeometryCollection=U,G.Circle=V,G.toMercator=g,G.toGeographic=v,G.Tools={},G.Tools.positionToMercator=p,G.Tools.positionToGeographic=f,G.Tools.applyConverter=m,G.Tools.toMercator=g,G.Tools.toGeographic=v,G.Tools.createCircle=q,G.Tools.calculateBounds=i,G.Tools.calculateEnvelope=c,G.Tools.coordinatesContainPoint=C,G.Tools.polygonContainsPoint=S,G.Tools.arraysIntersectArrays=T,G.Tools.coordinatesContainPoint=C,G.Tools.coordinatesEqual=$,G.Tools.convexHull=E,G.Tools.isConvex=k,G.MercatorCRS=K,G.GeographicCRS=Z,G})},{}],79:[function(e,t,n){"use strict";function i(e,t){function n(){return i._attribData?i._attribData:(i._attribData=new Promise(function(e,n){i.layerData.then(function(o){var s=new t.Deferred,l={maxId:-1,batchSize:-1,layerUrl:o.load.layerUrl,oidField:o.oidField,attribs:o.load.attribs,supportsLimit:o.load.supportsLimit,esriBundle:t};a(l,s),s.promise.then(function(t){delete o.load,e(r(o.oidField,t))},function(e){delete i._attribData,n(e)})})}),i._attribData)}var i={featureIdx:e,getAttribs:n};return i}function r(e,t){var n={features:t,oidIndex:{}};return t.forEach(function(t,i){n.oidIndex[t.attributes[e].toString()]=i}),n}function o(e){var t=/\/(\d+)\/?$/,n=e.match(t);if(n)return parseInt(n[1]);throw new Error("Cannot extract layer index from url "+e)}function a(e,t){var n=e.esriBundle.esriRequest({url:e.layerUrl+"/query",content:{where:e.oidField+">"+e.maxId,outFields:e.attribs,returnGeometry:"false",f:"json"},callbackParamName:"callback",handleAs:"json"});n.then(function(n){if(n.features){var i=n.features.length;if(i>0){var r=void 0;if(e.supportsLimit?r=n.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=i),r=i>=e.batchSize),r){var o=new e.esriBundle.Deferred;e.maxId=n.features[i-1].attributes[e.oidField],a(e,o),o.then(function(e){t.resolve(n.features.concat(e))},function(e){t.reject(e)})}else t.resolve(n.features)}else t.resolve([])}else t.reject(n.error)},function(e){t.reject(e)})}function s(e,t){return function(n,r){var o=arguments.length<=2||void 0===arguments[2]?"*":arguments[2],a=n+"/"+r,s=i(r,e);return s.layerData=new Promise(function(n,i){var s={},l=e.esriRequest({url:a,content:{f:"json"},callbackParamName:"callback",handleAs:"json"});l.then(function(e){e&&"undefined"==typeof e.error?(s.layerType=e.type,s.geometryType=e.geometryType||"none",s.minScale=e.minScale,s.maxScale=e.maxScale,s.supportsFeatures=!1,s.extent=e.extent,"Feature Layer"===e.type&&(s.supportsFeatures=!0,s.fields=e.fields,s.nameField=e.displayField,e.fields.every(function(e){return"esriFieldTypeOID"!==e.type||(s.oidField=e.name,!1)}),"*"!==o&&o.split(",").indexOf(s.oidField)===-1&&(o+=","+s.oidField),s.renderer=e.drawingInfo.renderer,s.legend=t.symbology.rendererToLegend(s.renderer,r),t.symbology.enhanceRenderer(s.renderer,s.legend),s.load={supportsLimit:(e.currentVersion||1)>=10.1,layerUrl:a,attribs:o}),n(s)):i(e&&e.error?e.error:new Error("Unknown error loading service metadata"))},function(e){i(e)})}),s}}function l(e,t){return function(n){var o=i("0",e);o._attribData=Promise.resolve(r(n.objectIdField,n.graphics.map(function(e){return{attributes:e.attributes}})));var a=n.renderer.toJson(),s=t.symbology.rendererToLegend(a,0);return t.symbology.enhanceRenderer(a,s),o.layerData=Promise.resolve({oidField:n.objectIdField,fields:n.fields,geometryType:n.geometryType||JSON.parse(n._json).layerDefinition.drawingInfo.geometryType,minScale:n.minScale,maxScale:n.maxScale,layerType:"Feature Layer",renderer:a,legend:s}),o}}t.exports=function(e,t){return{loadServerAttribs:s(e,t),loadFileAttribs:l(e,t),getLayerIndex:o}}},{}],80:[function(e,t,n){t.exports={markerSymbol:{width:16.5,height:16.5,type:"esriPMS",contentType:"image/png",imageData:"iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARuSURBVDiNjZVrbFRVEMd/5967e9vddbduN4WWYgXKKyVQWgIhkQBVqJIYCQZJI00UH2DiNxUUQwQNSfH1RYwghphoCIGADQk1QKqAGCKhCKTKq6GWbYHSdvve9u7ee8cP210LAjrJ+XAmM78zOf8zcxT/bROBYuDRkX03cA1ofliSeoDfBFYAz2UZemFZXsBf6De9gkvbQCJx7k7/4LAjrUAtcBBI/B/wDGBL6Zhg0cZ5E8YvKswJ+zRl4LqIOOC6xBO2fbytJ7a1oS16sSveDGwG/ngYuEJXatOnT06f9ErJuEINUYgLrosK5CDiID2d4LogLrbtyDeX7rSu/631msBHwPE0SB9dqa5Uzf4V5SWrpuXna6AQAQREyFqzGWPWAuwzR0j7Fag5EV+oPOILHGjuni5wFugYDTaB7Z8vmTFj1bSC/DQMEbRIAZ6FK9BL5qGCYVSWD4m1I4N9mZhJj3j9OR5dP3azf/LIvbtp8AulY0LPbF86c6oCBQKAt7Ia8+VN6BNKQNPA8GJMKcNTsRKUwrl6LlN9aTgreLSt37o9ZHcDjWnwpi+eLp01NdcfSAd6lq7GU7ma5C+1WF9tQC+ajnS3M7TtNZTpw1tZDeLiXGnIXEvEq+sHW3pN4IABTDR1fdyiotxwRtFIAZ4lVSRP1pI4+CW4Ltb3NSnxhgaw9n4GCOazr2KfrsNtv5FSPt8fztLV+GFHHteA4vL8kN/vNYw02CirANcl+eO3GWWlL4b0xTL7RO0OEBdj/rKMz2doRmk42wcUa0BuYcjvBVA5EczXt6aCHRtzzQeoUG7qsLlLMeZWko7LeqMGsW28i1fie2cnWngsAIU+wwtENEBERO55z/zLcT+7T3uN5IkGdLX1xZMA0tOJ9fX72KfrULqOtXsL0tsFgH3maOoNj8QN73gPpRskftpH/JO1uLHbAETjdgLo1ICmhlu9gwMJ206fajfUg9LwLHvpn+KCYVQwoy/e5esAhX26LuMbTLr2hdhQHGjSgGbLcaInWroyykjXLZLH9uBZsBzv82+isv2Yq98lq3ojKjuAWfU2nsUrsQ7twu1oy4B/vj0YsxyJAi3pW6qaOSb01qnqJ8r09HwQwXiqCu/SF0EEsZOpyg0PKEXi0C6sw7vBcUBckrYjCw83nWvsGf4Y2JdukKvtg1ZFxGcG54wNhdIt7TRdwGmoR4b60QsmgpMkWb8X67sa7PMnMi0Nws5LndE913saga2MamkHuFjf3DF/dn4oUJzj86eTJN6He+08+pRypC+G9f221JwYNU+ORHs71v0avQxsANrh7unWJXBj/6Wb08LZHr00LxjU0nNDBOfyWewLJ2E4nqnSdlzZ+eed6NpTNy4LfEhqunEvGOAvoOFoc+fkuusdw3l+0ygMmKZXUxrDccRKQQcs2z7S2tO55vj1K3uaYo3A+tFQePDX5CH1NS03dTV+dl7Q91jANAWXaH/C+r2jPz6i/g8jK3kv4EHg0VYETOHuz/Qq0PKwpL8BL8EAdKaMj7AAAAAASUVORK5CYII="}}},{}],81:[function(e,t,n){t.exports={circlePoint:{geometryType:"esriGeometryPoint",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7}}},solidLine:{geometryType:"esriGeometryPolyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},outlinedPoly:{geometryType:"esriGeometryPolygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},boundingBoxPoly:{geometryType:"esriGeometryPolygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}}}},{}],82:[function(e,t,n){"use strict";function i(e,t){var n={};return Object.keys(t).forEach(function(i){var r=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();n[i]=e.on(r,function(e){var n=["update-start","update-end","error"];n.indexOf(r)>=0&&(e.layer=e.target),t[i](e)})}),n}t.exports=function(){return{wrapEvents:i}}},{}],83:[function(e,t,n){"use strict";function i(e){return function(t){var n=new e.Graphic({geometry:t.geometry});return n.symbol=t.getLayer().renderer.getSymbol(t),n}}function r(e){return function(t,n){var i=new e.Graphic({geometry:t});return i.symbol=e.symbolJsonUtils.fromJson(n),i}}function o(e,t){return function(e,n){return e.map(function(e){if("server"!==e.source)return Promise.resolve(t.hilight.cloneLayerGraphic(e.graphic));var i=function(){var i=e.graphic.geometry;return t.proj.isSpatialRefEqual(i.spatialReference,n)||(i=t.proj.localProjectGeometry(n,i)),{v:e.layerFC.getLayerData().then(function(n){var r=t.symbology.getGraphicSymbol(e.graphic.attributes,n.renderer);return t.hilight.geomToGraphic(i,r)})}}();return"object"==typeof i?i.v:void 0})}}function a(e){return function(t){var n="rv_hilight",i=s.markerSymbol;t&&(t.layerId&&(n=t.layerId),t.markerSymbol&&(i=t.markerSymbol));var r=new e.GraphicsLayer({id:n,visible:!0});return r.addMarker=function(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];n&&r.clear();var o=new e.Graphic({symbol:i});o.setGeometry(t),r.add(o)},r.addHilight=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];t&&r.clear();var n=Array.isArray(e)?e:[e];n.forEach(function(e){return r.add(e)})},r.clearHilight=function(){r.clear()},r}}var s=e("./defaultHilightSymbols.json");t.exports=function(e,t){return{makeHilightLayer:a(e),geomToGraphic:r(e),cloneLayerGraphic:i(e),getUnboundGraphics:o(e,t)}}},{"./defaultHilightSymbols.json":80}],84:[function(e,t,n){"use strict";function i(e,t){var n=!1,i={};return i.layer=s(e,i),i.legend=l(),i.proj=u(e),i.Map=c(e,i),i.attribs=r(e,i),i.symbology=f(e,i,t),i.hilight=a(e,i),i.events=o(),i.query=d(e),i.shared=h(e),i.debug=function(){return 1===arguments.length&&(n=arguments[0]===!0),n},i.esriBundle=function(){if(n)return e;throw new Error("Must set debug to directly access the bundle")},i}var r=e("./attribute.js"),o=e("./events.js"),a=e("./hilight.js"),s=e("./layer.js"),l=e("./legend.js"),c=e("./map/esriMap.js"),u=e("./proj.js"),d=e("./query.js"),h=e("./shared.js"),f=e("./symbology.js");t.exports=function(e,t){function n(){return new Promise(function(e,n){t.require(r.map(function(e){return e[0]}),function(){for(var t={},n=0;n<arguments.length;++n)t[r[n][1]]=arguments[n];e(t)}),t.require.on("error",n)})}var r=[["dojo/Deferred","Deferred"],["dojo/query","dojoQuery"],["esri/Color","Color"],["esri/config","esriConfig"],["esri/dijit/Basemap","Basemap"],["esri/dijit/BasemapGallery","BasemapGallery"],["esri/dijit/BasemapLayer","BasemapLayer"],["esri/dijit/OverviewMap","OverviewMap"],["esri/dijit/Scalebar","Scalebar"],["esri/geometry/Extent","Extent"],["esri/geometry/Point","Point"],["esri/geometry/ScreenPoint","ScreenPoint"],["esri/graphic","Graphic"],["esri/graphicsUtils","graphicsUtils"],["esri/layers/ArcGISDynamicMapServiceLayer","ArcGISDynamicMapServiceLayer"],["esri/layers/ArcGISImageServiceLayer","ArcGISImageServiceLayer"],["esri/layers/ArcGISTiledMapServiceLayer","ArcGISTiledMapServiceLayer"],["esri/layers/FeatureLayer","FeatureLayer"],["esri/layers/GraphicsLayer","GraphicsLayer"],["esri/layers/LayerDrawingOptions","LayerDrawingOptions"],["esri/layers/WMSLayer","WmsLayer"],["esri/map","Map"],["esri/request","esriRequest"],["esri/SpatialReference","SpatialReference"],["esri/symbols/jsonUtils","symbolJsonUtils"],["esri/tasks/GeometryService","GeometryService"],["esri/tasks/IdentifyParameters","IdentifyParameters"],["esri/tasks/IdentifyTask","IdentifyTask"],["esri/tasks/ProjectParameters","ProjectParameters"],["esri/tasks/query","Query"],["esri/tasks/QueryTask","QueryTask"],["esri/tasks/PrintParameters","PrintParameters"],["esri/tasks/PrintTask","PrintTask"],["esri/tasks/PrintTemplate","PrintTemplate"]];return new Promise(function(n,i){if(t.require)return void n();var r=t.document.createElement("script"),o=t.document.head||t.document.getElementsByTagName("head")[0];r.type="text/javascript",r.onerror=function(e){return i(e)},r.onload=function(){return n()},o.appendChild(r),r.src=e}).then(n).then(function(e){return i(e,t)})}},{"./attribute.js":79,"./events.js":82,"./hilight.js":83,"./layer.js":85,"./legend.js":105,"./map/esriMap.js":107,"./proj.js":109,"./query.js":110,"./shared.js":111,"./symbology.js":112}],85:[function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){var t=e.toLowerCase(),n=[/^http:/,/^https:/,/^ftp:/,/^\/\//];return n.some(function(e){return t.match(e)})}function o(e,t){return new Promise(function(n,i){var r=t.esriRequest({url:e,handleAs:"arraybuffer"});r.then(function(e){n(e)},function(e){i(e)})})}function a(e){return{serviceType:e,index:-1,tileSupport:!1}}function s(e,t,n,i){var r=a(e);return r.serviceName=i[t]||"",r.rootUrl=n,e===H.TileService&&(r.tileSupport=!0,r.serviceType=H.DynamicService),r}function l(e,t,n){return new Promise(function(i){var s=a(e);t&&r(t)?o(t,n).then(function(e){s.fileData=e,i(s)})["catch"](function(){s.serviceType=H.Error,i(s)}):i(s)})}function c(e){if(e.type){var t={"Feature Layer":H.FeatureLayer,"Raster Layer":H.RasterLayer,"Group Layer":H.GroupLayer};return t[e.type]||H.Unknown}return e.hasOwnProperty("singleFusedMapCache")?e.singleFusedMapCache?H.TileService:H.DynamicService:e.hasOwnProperty("allowGeometryUpdates")?H.FeatureService:e.hasOwnProperty("allowedMosaicMethods")?H.ImageService:H.Unknown}function u(e,t,n){var i=/\/(\d+)\/?$/,r=e.match(i);return r?(n.index=parseInt(r[1]),n.rootUrl=e.substr(0,e.length-r[0].length),d(n.rootUrl,t).then(function(e){return n.tileSupport=e.tileSupport,n.serviceType=e.serviceType,n.layers=e.layers,n})):Promise.resolve(n)}function d(e,t,n){var i={};return i[H.FeatureLayer]=function(n){var i=s(H.FeatureLayer,"name",e,n);return i.fields=n.fields,i.geometryType=n.geometryType,i.smartDefaults={primary:i.fields[0].name},i.indexType=H.FeatureLayer,u(e,t,i)},i[H.RasterLayer]=function(n){var i=s(H.RasterLayer,"name",e,n);return i.indexType=H.RasterLayer,u(e,t,i)},i[H.GroupLayer]=function(n){var i=s(H.GroupLayer,"name",e,n);return i.indexType=H.GroupLayer,u(e,t,i)},i[H.TileService]=function(t){var n=s(H.TileService,"mapName",e,t);return n.layers=t.layers,n},i[H.DynamicService]=function(t){var n=s(H.DynamicService,"mapName",e,t);return n.layers=t.layers,n},i[H.FeatureService]=function(t){var n=s(H.FeatureService,"description",e,t);return n.layers=t.layers,n},i[H.ImageService]=function(t){var n=s(H.ImageService,"name",e,t);return n.fields=t.fields,n},i[H.Unknown]=function(){return a(H.Unknown)},new Promise(function(r){var o=t.esriRequest({url:e,content:{f:"json"},callbackParamName:"callback",handleAs:"json"});o.then(function(e){var t=c(e);n&&t!==n&&(t=H.Unknown),r(i[t](e))},function(){r(a(H.Error))})})}function h(e,t,n){var i={};return i[H.CSV]=function(){return l(H.CSV,e,t)},i[H.GeoJSON]=function(){return l(H.GeoJSON,e,t)},i[H.Shapefile]=function(){return l(H.Shapefile,e,t)},i[H.Unknown]=function(){return l(H.Unknown)},new Promise(function(t){if(n)t(i[n]());else{var r=H.Unknown;switch(e.substr(e.lastIndexOf(".")+1).toLowerCase()){case"csv":r=H.CSV;break;case"zip":r=H.Shapefile;break;case"json":r=H.GeoJSON}t(i[r]())}})}function f(e,t){return Promise.resolve(a(H.WMS))}function p(e){return function(t,n){if(n){var i={},r={};return i[H.CSV]="F_FILE",i[H.GeoJSON]="F_FILE",i[H.Shapefile]="F_FILE",i[H.FeatureLayer]="F_ESRI",i[H.RasterLayer]="F_ESRI",i[H.GroupLayer]="F_ESRI",i[H.TileService]="F_ESRI",i[H.DynamicService]="F_ESRI",i[H.ImageService]="F_ESRI",i[H.WMS]="F_WMS",r.F_FILE=function(){return h(t,e,n)},r.F_ESRI=function(){return d(t,e,n)},r.F_WMS=function(){return f(t,e)},r[i[n]]()}return new Promise(function(n){h(t,e).then(function(i){i.serviceType===H.Unknown||i.serviceType===H.Error?d(t,e).then(function(i){i.serviceType===H.Unknown||i.serviceType===H.Error?n(i):i.serviceType===H.GroupLayer?!function(){var i=t.lastIndexOf("/"),r=parseInt(t.substring(i+1));t=t.substring(0,i),d(t,e).then(function(e){e.groupIdx=r,n(e)})}():n(i)}):n(i)})})}}function m(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}function g(e){var t={Point:"esriGeometryPoint",MultiPoint:"esriGeometryMultipoint",LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"},n=x(e),i={fields:n,geometryType:t[e.features[0].geometry.type],formattedData:e,smartDefaults:{primary:n[0].name}};return i.geometryType?Promise.resolve(i):Promise.reject(new Error("Unexpected geometry type in GeoJSON"))}function v(e){var t=m(e),n=S(t,","),i=void 0;if(0===n.length)i="File has no rows";else{var r=function(){var e=n[0].length;if(e<2)i="File has less than two columns";else{if(n.every(function(t){return t.length===e})){var r={formattedData:t,smartDefaults:b(n),fields:n[0].map(function(e){return{name:e,type:"esriFieldTypeString"}}),geometryType:"esriGeometryPoint"};return{v:Promise.resolve(r)}}i="File has inconsistent column counts"}}();if("object"==typeof r)return r.v}return Promise.reject(new Error(i))}function y(e,t){var n,r=(n={},i(n,H.CSV,function(e){return v(e)}),i(n,H.GeoJSON,function(e){var t=JSON.parse(m(e));return g(t)}),i(n,H.Shapefile,function(e){return N(e).then(function(e){return g(e)})}),n);return r[e](t)}function b(e){function t(e,t,n){var i=e[0],r=i.filter(function(n,i){
return e.every(function(e,n){return 0===n||t.test(e[i])})}).filter(function(e){return n.test(e)});return r}var n=new RegExp(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)$/),i=new RegExp(/^[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/),r=new RegExp(/^.*(y|la).*$/i),o=new RegExp(/^.*(x|lo).*$/i),a=t(e,n,r),s=t(e,i,o),l=a[0]||null,c=s.find(function(e){return e!==l})||null,u=e[0].find(function(e){return e!==l&&e!==c})||null;return{lat:l,"long":c,primary:u}}function _(e){return function(t,n){var i=new e.IdentifyParameters;if(!n)throw new Error("serverLayerIdentify - missing opts arguement");var r=["geometry","mapExtent","height","width"];return r.forEach(function(e){if(!n[e])throw new Error("serverLayerIdentify - missing opts."+e+" arguement");i[e]=n[e]}),i.layerIds=n.layerIds||t.visibleLayers,i.returnGeometry=n.returnGeometry||!1,i.layerOption=e.IdentifyParameters.LAYER_OPTION_ALL,i.spatialReference=n.geometry.spatialReference,i.tolerance=n.tolerance||5,new Promise(function(n,r){var o=new e.IdentifyTask(t.url);o.on("complete",function(e){n(e.results)}),o.on("error",function(e){r(e.error)}),o.execute(i)})}}function w(e){if("FeatureCollection"!==e.type)throw new Error("Assignment can only be performed on FeatureCollections");var t=!0,n=!0;e.features.forEach(function(e,i){Object.assign(e.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in e&&"undefined"!=typeof e.id&&(e.properties.ID_FILE=e.id,t=!1),"OBJECTID"in e.properties&&(e.properties.OBJECTID_FILE=e.properties.OBJECTID,delete e.properties.OBJECTID,n=!1),e.id=i+1}),t&&e.features.forEach(function(e){delete e.properties.ID_FILE}),n&&e.features.forEach(function(e){delete e.properties.OBJECTID_FILE})}function x(e){if(e.features.length<1)throw new Error("Field extraction requires at least one feature");return Object.keys(e.features[0].properties).map(function(e){return{name:e,type:"esriFieldTypeString"}})}function E(e,t,n){return!e.getProjection(t)&&n&&t?n(t).then(function(n){return n&&e.addProjection(t,n),n}):Promise.resolve(null)}function k(e,t){return function(n,i){var r=void 0,o="EPSG:4326",a=void 0,s={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:"esriFieldTypeOID"}]};if(w(n),s.drawingInfo=F[B[n.features[0].geometry.type]],n.crs&&"name"===n.crs.type&&(o=n.crs.properties.name),!i)throw new Error("makeGeoJsonLayer - missing opts arguement");if(i.sourceProjection&&(o=i.sourceProjection),!i.targetWkid)throw new Error("makeGeoJsonLayer - missing opts.targetWkid arguement");r=i.targetWkid,i.fields&&(s.fields=s.fields.concat(i.fields)),a=i.layerId?i.layerId:t.shared.generateUUID(),1===s.fields.length&&(s.fields=s.fields.concat(x(n)));var l="EPSG:"+r,c=E(t.proj,o,i.epsgLookup),u=E(t.proj,l,i.epsgLookup),d=new Promise(function(c){t.proj.projectGeojson(n,l,o);var u=D.ArcGIS.convert(n,{sr:r}),d=s.drawingInfo.geometryType,h={features:u,geometryType:d},f=new e.FeatureLayer({layerDefinition:s,featureSet:h},{mode:e.FeatureLayer.MODE_SNAPSHOT,id:a});f.spatialReference=new e.SpatialReference({wkid:r}),i.colour&&(f.renderer.symbol.color=new e.Color(i.colour)),f.geometryType=d,c(f)});return c.then(function(){return u}).then(function(){return d})}}function C(e,t){return function(e,n){var i={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(i.latfield=n.latfield),n.lonfield&&(i.lonfield=n.lonfield),n.delimiter&&(i.delimiter=n.delimiter)),new Promise(function(r,o){I.csv2geojson(e,i,function(e,a){e?o(e):(a.features.map(function(e){e.properties[i.lonfield]=e.geometry.coordinates[0],e.properties[i.latfield]=e.geometry.coordinates[1]}),n.sourceProjection="EPSG:4326",n.renderer="circlePoint",t.layer.makeGeoJsonLayer(a,n).then(function(e){r(e)}))})})}}function S(e,t){return I.dsv(t).parseRows(e)}function M(e,t){return function(e,n){return new Promise(function(i,r){N(e).then(function(e){t.layer.makeGeoJsonLayer(e,n).then(function(e){i(e)})})["catch"](function(e){r(e)})})}}function A(e,t,n){return function(i,r,o){return new n.ImageRecord(e.ArcGISImageServiceLayer,t,i,r,o)}}function T(e,t,n){return function(i,r,o){return new n.FeatureRecord(e.FeatureLayer,e.esriRequest,t,i,r,o)}}function O(e,t,n){return function(i,r,o){var a=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return new n.DynamicRecord(e.ArcGISDynamicMapServiceLayer,e.esriRequest,t,i,r,o,a)}}function P(e,t,n){return function(i,r,o){return new n.TileRecord(e.ArcGISTiledMapServiceLayer,t,i,r,o)}}function $(e,t,n){return function(i,r,o){return new n.WmsRecord(e.WmsLayer,t,i,r,o)}}function L(e,t,n){return e.every(function(e){return!(isNaN(e[t])||isNaN(e[n]))})}var I=e("csv2geojson"),D=e("terraformer"),N=e("shpjs"),R=e("./layer/ogc.js"),z=e("./layer/bbox.js"),j=e("./layer/layerRec/main.js"),F=e("./defaultRenderers.json");D.ArcGIS=e("terraformer-arcgis-parser");var B={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"},H={CSV:"csv",GeoJSON:"geojson",Shapefile:"shapefile",FeatureLayer:"featurelayer",RasterLayer:"rasterlayer",GroupLayer:"grouplayer",TileService:"tileservice",FeatureService:"featureservice",DynamicService:"dynamicservice",ImageService:"imageservice",WMS:"wms",Unknown:"unknown",Error:"error"};t.exports=function(e,t){var n=j(e,t);return{ArcGISDynamicMapServiceLayer:e.ArcGISDynamicMapServiceLayer,ArcGISImageServiceLayer:e.ArcGISImageServiceLayer,GraphicsLayer:e.GraphicsLayer,FeatureLayer:e.FeatureLayer,ScreenPoint:e.ScreenPoint,Query:e.Query,TileLayer:e.ArcGISTiledMapServiceLayer,ogc:R(e),bbox:z(e,t),createImageRecord:A(e,t,n),createWmsRecord:$(e,t,n),createTileRecord:P(e,t,n),createDynamicRecord:O(e,t,n),createFeatureRecord:T(e,t,n),LayerDrawingOptions:e.LayerDrawingOptions,makeGeoJsonLayer:k(e,t),makeCsvLayer:C(e,t),makeShapeLayer:M(e,t),serverLayerIdentify:_(e),predictLayerUrl:p(e),validateFile:y,csvPeek:S,serviceType:H,validateLatLong:L}}},{"./defaultRenderers.json":81,"./layer/bbox.js":86,"./layer/layerRec/main.js":96,"./layer/ogc.js":103,csv2geojson:4,shpjs:70,terraformer:78,"terraformer-arcgis-parser":76}],86:[function(e,t,n){"use strict";function i(e,t){return function(n,i,o){var a=new e.GraphicsLayer({id:n,visible:!0}),s=i;return t.proj.isSpatialRefEqual(i.spatialReference,o)||(s=t.proj.projectEsriExtent(i,o)),a.add(new e.Graphic({geometry:s,symbol:r.boundingBoxPoly.renderer.symbol})),a}}var r=e("../defaultRenderers.json");t.exports=function(e,t){return{makeBoundingBox:i(e,t)}}},{"../defaultRenderers.json":81}],87:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},l=e("./shared.js")(),c=e("./basicFC.js")(),u=function(e){function t(e,n,r,o){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,o),this._layerPackage=r,this._geometryType=void 0,this._fcount=void 0,this._quickCache={}}return r(t,e),a(t,[{key:"getAttribs",value:function(){return this._layerPackage.getAttribs()}},{key:"getLayerData",value:function(){return this._layerPackage.layerData}},{key:"loadSymbology",value:function(){var e=this;return this.getLayerData().then(function(n){return"Feature Layer"!==n.layerType?s(Object.getPrototypeOf(t.prototype),"loadSymbology",e).call(e):void(e.symbology=l.makeSymbologyArray(n.legend.layers[0].legend))})}},{key:"getFeatureName",value:function(e,t){return this.nameField&&t?t[this.nameField]:"Feature "+e}},{key:"getFormattedAttributes",value:function(){var e=this;if(this._formattedAttributes)return this._formattedAttributes;if(this.layerType===l.clientLayerType.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");return this._formattedAttributes=Promise.all([this.getAttribs(),this.getLayerData()]).then(function(t){var n=o(t,2),i=n[0],r=n[1],a=r.fields.filter(function(e){return i.features[0].attributes.hasOwnProperty(e.name)}).map(function(e){return{data:e.name,title:e.alias||e.name}}),s=i.features.map(function(t){var n=t.attributes;return n.rvInteractive="",n.rvSymbol=e._parent._apiRef.symbology.getGraphicIcon(n,r.renderer),n});return{columns:a,rows:s,fields:r.fields,oidField:r.oidField,oidIndex:i.oidIndex,renderer:r.renderer}})["catch"](function(){throw delete e._formattedAttributes,new Error("Attrib loading failed")}),this._formattedAttributes}},{key:"checkDateType",value:function(e){return this.getLayerData().then(function(t){if(t.fields){var n=t.fields.find(function(t){return t.name===e});if(n&&n.type)return"esriFieldTypeDate"===n.type}return!1})}},{key:"aliasedFieldName",value:function(e){return this.getLayerData().then(function(n){return t.aliasedFieldNameDirect(e,n.fields)})}},{key:"getServerFeatureInfo",value:function(e){var t=this;return this._quickCache[e]?Promise.resolve(this._quickCache[e]):new Promise(function(n,i){var r=t._parent,o=r._esriRequest({url:r.rootUrl+"/"+t._idx+"/"+e,content:{f:"json"},callbackParamName:"callback",handleAs:"json"});o.then(function(i){i.feature.geometry.spatialReference=r._layer.spatialReference,t._quickCache[e]=i,n(i)},function(e){i(e)})})}},{key:"fetchGraphic",value:function(e){var t=this._parent._layer,n={graphic:null,source:null,layerFC:this};if(t.graphics){var i=t.graphics.find(function(n){return n.attributes[t.objectIdField]===e});if(i)return n.graphic=i,n.source="layer",Promise.resolve(n)}return this.getServerFeatureInfo(e).then(function(e){return n.graphic=e.feature,n.source="server",n})}}],[{key:"aliasedFieldNameDirect",value:function(e,t){var n=e;if(t){var i=t.find(function(t){return t.name===e});i&&i.alias&&i.alias.length>0&&(n=i.alias)}return n}},{key:"unAliasAttribs",value:function(e,t){var n={};return t.forEach(function(t){n[t.name]=e.hasOwnProperty(t.name)?e[t.name]:e[t.alias]}),n}}]),t}(c.BasicFC);t.exports=function(){return{AttribFC:u}}},{"./basicFC.js":89,"./shared.js":99}],88:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./layerRecord.js")(),l=e("./attribFC.js")(),c=function(e){function t(e,n,r,o,s,l){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r,o,s,l),this._esriRequest=n}return r(t,e),o(t,[{key:"clickTolerance",get:function(){return this.config.tolerance}}]),o(t,[{key:"aliasedFieldName",value:function(e){return this._featClasses[this._defaultFC].aliasedFieldName(e)}},{key:"getFormattedAttributes",value:function(){return this._featClasses[this._defaultFC].getFormattedAttributes()}},{key:"checkDateType",value:function(e){return this._featClasses[this._defaultFC].checkDateType(e)}},{key:"getAttribs",value:function(){return this._featClasses[this._defaultFC].getAttribs()}},{key:"getLayerData",value:function(){return this._featClasses[this._defaultFC].getLayerData()}},{key:"getFeatureName",value:function(e,t){return this._featClasses[this._defaultFC].getFeatureName(e,t)}},{key:"fetchGraphic",value:function(e){return this._featClasses[this._defaultFC].fetchGraphic(e)}},{key:"getFeatureCount",value:function(e){var t=this;if(!e)return Promise.resolve(this._layer.graphics.length);var n=function(){var n=function i(e){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=t._esriRequest({url:e+"/query",content:{f:"json",where:"1=1",returnCountOnly:!0,returnGeometry:!1},callbackParamName:"callback",handleAs:"json"});return new Promise(function(t){r.then(function(r){t(r&&"undefined"==typeof r.error&&"undefined"!=typeof r.count?r.count:n?-1:i(e,!0))},function(r){t(n?-1:i(e,!0))})})};return{v:n(e)}}();return"object"==typeof n?n.v:void 0}},{key:"attributesToDetails",value:function(e,t){return Object.keys(e).map(function(n){var i=t?t.find(function(e){return e.name===n}):null;return{key:l.AttribFC.aliasedFieldNameDirect(n,t),value:e[n],type:i?i.type:i}})}}]),t}(s.LayerRecord);t.exports=function(){return{AttribRecord:c}}},{"./attribFC.js":87,"./layerRecord.js":95}],89:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./shared.js")(),l=e("./placeholderFC.js")(),c=function(e){function t(e,n,r){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r.name||""),this._idx=n,this.queryable=r.state.query,this.extent=r.extent}return r(t,e),o(t,[{key:"queryable",get:function(){return this._queryable},set:function(e){this._queryable=e}},{key:"geomType",get:function(){return Promise.resolve("none")}}]),o(t,[{key:"getScaleSet",value:function(){var e=this._parent._layer;return{minScale:e.minScale,maxScale:e.maxScale}}},{key:"isOffScale",value:function(e){var t=this.getScaleSet(),n={offScale:!1,zoomIn:!1};return e<t.maxScale&&0!==t.maxScale?(n.offScale=!0,n.zoomIn=!1):e>t.minScale&&0!==t.minScale&&(n.offScale=!0,n.zoomIn=!0),n}},{key:"getVisibility",value:function(){return this._parent._layer.visible}},{key:"setVisibility",value:function(e){this._parent._layer.setVisibility(e)}},{key:"loadSymbology",value:function(){var e=this,t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],n=this._parent._layer.url;if(n){var i=t?void 0:this._idx;return this._parent._apiRef.symbology.mapServerToLocalLegend(n,i).then(function(t){e.symbology=s.makeSymbologyArray(t.layers[0].legend)})}throw new Error("encountered layer with no renderer and no url")}},{key:"zoomToBoundary",value:function(e){return this._parent.zoomToExtent(e,this.extent)}}]),t}(l.PlaceholderFC);t.exports=function(){return{BasicFC:c}}},{"./placeholderFC.js":97,"./shared.js":99}],90:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./attribFC.js")(),l=function(e){function t(e,n,r,o){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,o),this.opacity=o.state.opacity,this._highlightFeature=!0,this._scaleSet={minScale:0,maxScale:0}}return r(t,e),o(t,[{key:"getScaleSet",value:function(){return this._scaleSet}},{key:"setVisibility",value:function(e){var t=this._parent._layer.visibleLayers.concat(),n=parseInt(this._idx),i=t.indexOf(n),r=!1,o=!1;e&&i===-1?(1===t.length&&t[0]===-1&&(t.pop(),o=!0),t.push(n),r=!0):!e&&i>-1&&(t.splice(i,1),0===t.length&&(t.push(-1),o=!0),r=!0),r&&(this._parent._layer.setVisibleLayers(t),o&&this._parent._layer.setVisibility(e))}},{key:"getVisibility",value:function(){return this._parent._layer.visibleLayers.indexOf(parseInt(this._idx))>-1}},{key:"highlightFeature",get:function(){return this._highlightFeature},set:function(e){this._highlightFeature=e}},{key:"supportsOpacity",get:function(){return this._parent._isTrueDynamic}},{key:"opacity",get:function(){return this._opacity},set:function(e){if(this._opacity!==e)if(this._opacity=e,this.supportsOpacity){var t=[],n=new this._parent._apiRef.layer.LayerDrawingOptions;n.transparency=(e-1)*-100,t[this._idx]=n,this._parent._layer.setLayerDrawingOptions(t)}else this._parent.synchOpacity(e)}},{key:"geomType",get:function(){return this._geometryType},set:function(e){this._geometryType=e}},{key:"featureCount",get:function(){return this._fcount},set:function(e){this._fcount=e}}]),t}(s.AttribFC);t.exports=function(){return{DynamicFC:l}}},{"./attribFC.js":87}],91:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./attribRecord.js")(),l=e("./shared.js")(),c=e("./placeholderFC.js")(),u=e("./layerInterface.js")(),d=e("./dynamicFC.js")(),h=e("./attribFC.js")(),f=function(e){function t(e,n,r,o,s,l){var c=!(arguments.length<=6||void 0===arguments[6])&&arguments[6];i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,o,s,l),this.ArcGISDynamicMapServiceLayer=e,this._configIsComplete=c,this._proxies={},this._isTrueDynamic=!1}return r(t,e),o(t,[{key:"_layerPassthroughBindings",get:function(){return["setOpacity","setVisibility","setVisibleLayers","setLayerDrawingOptions"]}},{key:"_layerPassthroughProperties",get:function(){return["visibleAtMapScale","visible","spatialReference","layerInfos","supportsDynamicLayers"]}},{key:"layerType",get:function(){return l.clientLayerType.ESRI_DYNAMIC}},{key:"isTrueDynamic",get:function(){return this._isTrueDynamic}}]),o(t,[{key:"getChildProxy",value:function(e){var t=e.toString();if(this._proxies[t])return this._proxies[t];var n=new c.PlaceholderFC(this,""),i=new u.LayerInterface(n);return i.convertToPlaceholder(n),this._proxies[t]=i,i}},{key:"getFeatureCount",value:function(e){return a(Object.getPrototypeOf(t.prototype),"getFeatureCount",this).call(this,this._layer.url+"/"+e)}},{key:"synchOpacity",value:function(e){var t=this;Object.keys(this._featClasses).forEach(function(n){var i=t._featClasses[n];i&&(i._opacity=e)}),this.opacity=e}},{key:"onLoad",value:function(){var e=this,n=a(Object.getPrototypeOf(t.prototype),"onLoad",this).call(this);this._isTrueDynamic=this._layer.supportsDynamicLayers;var i={opacity:1,visibility:!1,query:!1},r=function(t){var n={};return n.name=t.name,n.index=t.index,n.stateOnly=t.stateOnly,n.nameField=t.nameField,n.highlightFeature=t.highlightFeature||!0,n.outfields=t.hasOwnProperty("outfields")?t.outfields:"*",e._configIsComplete?n.state={visiblity:t.visiblity,opacity:t.opacity,query:t.query}:n.state=Object.assign({},i),n.extent=t.extent,n},o={};this.config.layerEntries.forEach(function(t){o[t.index.toString()]={config:r(t),defaulted:e._configIsComplete}});var s=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(o[e]){var n=o[e];return n.defaulted||(n.config.name||(n.config.name=t),n.defaulted=!0),n.config}var i={name:t,index:parseInt(e),stateOnly:!0},a=r(i);return o[e]={config:a,defaulted:!0},a},h=[],f=function g(t,n){var i=t.id.toString(),r=s(i,t.name);if(t.subLayerIds&&t.subLayerIds.length>0)!function(){var i={entryIndex:t.id,name:r.name,childs:[]};n.push(i),t.subLayerIds.forEach(function(t){g(e._layer.layerInfos[t],i.childs)})}();else{var o=new c.PlaceholderFC(e,r.name);if(e._proxies[i])e._proxies[i].updateSource(o);else{var a=new u.LayerInterface(null);a.convertToPlaceholder(o),e._proxies[i]=a}n.push({entryIndex:t.id}),h.push(t.id.toString())}};this._childTree=[],this.config.layerEntries&&this.config.layerEntries.forEach(function(t){t.stateOnly||f(e._layer.layerInfos[t.index],e._childTree)});var p=function(e){switch(e){case"Feature Layer":return l.clientLayerType.ESRI_FEATURE;case"Raster Layer":return l.clientLayerType.ESRI_RASTER;default:return l.clientLayerType.UNKNOWN}};if(h.forEach(function(t){var i=o[t].config,r=e._apiRef.attribs.loadServerAttribs(e._layer.url,t,i.outfields),a=new d.DynamicFC(e,t,r,i);a.highlightFeature=i.highlightFeature,e._featClasses[t]=a;var s=e._proxies[t];s&&s.convertToDynamicLeaf(a),n.push(a.loadSymbology());var c=a.getLayerData().then(function(n){return a.layerType=p(n.layerType),a.extent||(a.extent=n.extent),a._scaleSet.minScale=n.minScale,a._scaleSet.maxScale=n.maxScale,a.nameField=i.nameField||n.nameField||"",a.layerType===l.clientLayerType.ESRI_FEATURE?(a.geomType=n.geometryType,e.getFeatureCount(t).then(function(e){a.featureCount=e})):Promise.resolve()})["catch"](function(){a.layerType=l.clientLayerType.UNRESOLVED});n.push(c)}),this._configIsComplete){var m=Object.keys(this._featClasses).filter(function(e){return s(e).config.state.visibility}).map(function(e){return parseInt(e)});0===m.length&&m.push(-1),this._layer.setVisibleLayers(m)}else this._layer.setVisibility(!1),this._layer.setVisibleLayers([-1]);Promise.all(n).then(function(){e._stateChange(l.states.LOADED)})}},{key:"zoomToScale",value:function(e,t,n,i){var r=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],o=this._featClasses[e].getScaleSet();return this._zoomToScaleSet(t,n,i,o,r)}},{key:"isOffScale",value:function(e,t){return this._featClasses[e].isOffScale(t)}},{key:"isQueryable",value:function(e){return this._featClasses[e].queryable}},{key:"getChildTree",value:function(){if(this._childTree)return this._childTree;throw new Error("Called getChildTree before layer is loaded")}},{key:"aliasedFieldName",value:function(e,t){return this._featClasses[t].aliasedFieldName(e)}},{key:"getFormattedAttributes",value:function(e){return this._featClasses[e].getFormattedAttributes()}},{key:"fetchGraphic",value:function(e,t){return this._featClasses[e].fetchGraphic(t)}},{key:"checkDateType",value:function(e,t){return this._featClasses[t].checkDateType(e)}},{key:"getAttribs",value:function(e){return this._featClasses[e].getAttribs()}},{key:"getLayerData",value:function(e){return this._featClasses[e].getLayerData()}},{key:"getFeatureName",value:function(e,t,n){return this._featClasses[e].getFeatureName(t,n)}},{key:"getSymbology",value:function(e){return this._featClasses[e].symbology}},{key:"identify",value:function(e){var t=this,n=[];if(this.state===l.states.ERROR||this.state===l.states.LOADING||this.state===l.states.NEW?e.layerIds=[]:e.layerIds=this._layer.visibleLayers.filter(function(n){if(n===-1)return!1;var i=t._featClasses[n];return!!i&&(i.queryable&&!i.isOffScale(e.map.getScale()).offScale)}),0===e.layerIds.length)return{identifyResults:[],identifyPromise:Promise.resolve()};e.layerIds.forEach(function(e){var i=new l.IdentifyResult(t.getChildProxy(e));n[e]=i}),e.tolerance=this.clickTolerance;var i=this._apiRef.layer.serverLayerIdentify(this._layer,e).then(function(e){var i=[];e.forEach(function(e){i.push(e.layerId),t.getLayerData(e.layerId).then(function(i){var r=n[e.layerId];if(i.supportsFeatures){var o=h.AttribFC.unAliasAttribs(e.feature.attributes,i.fields);r.data.push({name:e.value,data:t.attributesToDetails(e.feature.attributes),oid:o[i.oidField],symbology:[{svgcode:t._apiRef.symbology.getGraphicIcon(o,i.renderer)}]})}r.isLoading=!1})}),n.forEach(function(e){i.indexOf(e.requester.featureIdx)===-1&&(e.isLoading=!1)})});return{identifyResults:n.filter(function(e){return e}),identifyPromise:i}}},{key:"getChildName",value:function(e){return this._layer.layerInfos[e].name}}]),t}(s.AttribRecord);t.exports=function(){return{DynamicRecord:f}}},{"./attribFC.js":87,"./attribRecord.js":88,"./dynamicFC.js":90,"./layerInterface.js":94,"./placeholderFC.js":97,"./shared.js":99}],92:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},l=e("./attribFC.js")(),c=e("./placeholderFC.js")(),u=e("./attribRecord.js")(),d=e("./layerInterface.js")(),h=e("./shared.js")(),f=function(e){function t(e,n,r,o,a,l){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,o,a,l),a||(this._defaultFC="0",this._featClasses[0]=new c.PlaceholderFC(this,this.name),this._geometryType=void 0,this._fcount=void 0)}return r(t,e),a(t,[{key:"makeLayerConfig",value:function(){var e=s(Object.getPrototypeOf(t.prototype),"makeLayerConfig",this).call(this);return e.mode=this.config.state.snapshot?this._layerClass.MODE_SNAPSHOT:this._layerClass.MODE_ONDEMAND,this._snapshot=this.config.state.snapshot,e}},{key:"getGeomType",value:function(){return this._geometryType}},{key:"getProxy",value:function(){return this._rootProxy||(this._rootProxy=new d.LayerInterface(this,this.initialConfig.controls),this._rootProxy.convertToFeatureLayer(this)),this._rootProxy}},{key:"onLoad",value:function(){var e=this,n=s(Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),i=void 0,r=void 0;if(this.isFileLayer())r="0",i=this._apiRef.attribs.loadFileAttribs(this._layer);else{var o=h.parseUrlIndex(this._layer.url);r=o.index,this.rootUrl=o.rootUrl,i=this._apiRef.attribs.loadServerAttribs(o.rootUrl,r,this.config.outfields)}var a=new l.AttribFC(this,r,i,this.config);this._defaultFC=r,this._featClasses[r]=a;var c=a.loadSymbology(),u=a.getLayerData().then(function(t){e._geometryType=t.geometryType,a.nameField=e.config.nameField||t.nameField||""}),d=this.getFeatureCount().then(function(t){e._fcount=t});this.extent&&this.extent.xmin||(this.extent=this._apiRef.proj.graphicsUtils.graphicsExtent(this._layer.graphics)),n.push(u,d,c),Promise.all(n).then(function(){e._stateChange(h.states.LOADED)})}},{key:"getFeatureCount",value:function(){return s(Object.getPrototypeOf(t.prototype),"getFeatureCount",this).call(this,this._layer.url)}},{key:"isFileLayer",value:function(){return this._layer&&""===this._layer.url}},{key:"onMouseOver",value:function(e){var t=this;if(this._hoverListeners.length>0){var n={type:"mouseOver",point:e.screenPoint,target:e.target};this._fireEvent(this._hoverListeners,n),this.getLayerData().then(function(e){return Promise.all([Promise.resolve(e),t.getAttribs()])}).then(function(n){var i=o(n,2),r=i[0],a=i[1],s=e.graphic.attributes[r.oidField],l=a.features[a.oidIndex[s]].attributes,c=t._apiRef.symbology.getGraphicIcon(l,r.renderer),u={type:"tipLoaded",name:t.getFeatureName(s,l),target:e.target,svgcode:c};t._fireEvent(t._hoverListeners,u)})}}},{key:"onMouseOut",value:function(e){var t={type:"mouseOut",target:e.target};this._fireEvent(this._hoverListeners,t)}},{key:"identify",value:function(e){var t=this;if(this.state===h.states.ERROR||this.state===h.states.LOADING||this.state===h.states.NEW||!this.visibility||!this.isQueryable()||this.isOffScale(e.map.getScale()).offScale)return{identifyResults:[],identifyPromise:Promise.resolve()};var n=new h.IdentifyResult(this.getProxy()),i=new this._apiRef.layer.Query;i.outFields=["*"],"esriGeometryPolygon"!==this._layer.geometryType||this.isFileLayer()?i.geometry=this.makeClickBuffer(e.clickEvent.mapPoint,e.map,this.clickTolerance):i.geometry=e.geometry;var r=Promise.all([this.getAttribs(),Promise.resolve(this._layer.queryFeatures(i)),this.getLayerData()]).then(function(e){var i=o(e,3),r=i[0],a=i[1],s=i[2];n.isLoading=!1,n.data=a.features.map(function(e){var n=e.attributes[s.oidField],i=n.toString(),o=r.features[r.oidIndex[i]].attributes;return{name:t.getFeatureName(i,o),data:t.attributesToDetails(o,s.fields),oid:n,symbology:[{svgcode:t._apiRef.symbology.getGraphicIcon(o,s.renderer)}]}})});return{identifyResults:[n],identifyPromise:r}}},{key:"isSnapshot",get:function(){return this._snapshot},set:function(e){this._snapshot=e}},{key:"layerType",
get:function(){return h.clientLayerType.ESRI_FEATURE}},{key:"featureCount",get:function(){return this._fcount}}]),t}(u.AttribRecord);t.exports=function(){return{FeatureRecord:f}}},{"./attribFC.js":87,"./attribRecord.js":88,"./layerInterface.js":94,"./placeholderFC.js":97,"./shared.js":99}],93:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./layerRecord.js")(),l=e("./basicFC.js")(),c=e("./placeholderFC.js")(),u=e("./shared.js")(),d=function(e){function t(e,n,r,o,s){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,o,s),this._defaultFC="0",this._featClasses[0]=new c.PlaceholderFC(this,this.name)}return r(t,e),o(t,[{key:"onLoad",value:function(){var e=this,n=a(Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),i=new l.BasicFC(this,"0",this.config);this._featClasses[0]=i,n.push(i.loadSymbology()),Promise.all(n).then(function(){e._stateChange(u.states.LOADED)})}},{key:"layerType",get:function(){return u.clientLayerType.ESRI_IMAGE}}]),t}(s.LayerRecord);t.exports=function(){return{ImageRecord:d}}},{"./basicFC.js":89,"./layerRecord.js":95,"./placeholderFC.js":97,"./shared.js":99}],94:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0})}function o(){return this._source.state}function a(){return this._source.state}function s(){return this._source.visibility}function l(){return this._source.getVisibility()}function c(){return this._source.name}function u(){return this._source.name}function d(){return this._source.opacity}function h(){return this._source.opacity}function f(){return this._source.layerType}function p(){return this._source.layerType}function m(){return this._source.extent}function g(){return this._source.extent}function v(){return this._source.isQueryable()}function y(){return this._source.queryable}function b(){return this._source.getFormattedAttributes()}function _(){return this._source.getFormattedAttributes()}function w(){return this._source.symbology}function x(){return this._source.symbology}function E(){}function k(){return this._source.getGeomType()}function C(){return this._source.geomType}function S(){}function M(){return this._source.featureCount}function A(){return this._source.featureCount}function T(e){this._source.visibility=e}function O(e){this._source.setVisibility(e)}function P(e){this._source.opacity=e}function $(e){this._source.opacity=e}function L(e){this._source.setQueryable(e)}function I(e){this._source.queryable=e}function D(){return this._source.isSnapshot}function N(){return!0}function R(){return this._source.highlightFeature}function z(e){this._source.zoomToBoundary(e)}function j(e){this._source.zoomToBoundary(e)}function F(e,t){return this._source.getFeatureName(e,t)}function B(e,t){return this._source.attributesToDetails(e,t)}function H(e,t){return this._source._parent.attributesToDetails(e,t)}function U(e){return this._source.fetchGraphic(e)}function q(e){return this._source.fetchGraphic(e)}var V=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),G=function(){function e(t){i(this,e),this._source=t,this._isPlaceholder=!0}return V(e,[{key:"getFeatureName",value:function(){}},{key:"attributesToDetails",value:function(){}},{key:"setVisibility",value:function(){}},{key:"setOpacity",value:function(){}},{key:"setQuery",value:function(){}},{key:"fetchGraphic",value:function(){}},{key:"zoomToBoundary",value:function(){}},{key:"updateSource",value:function(e){this._source=e}},{key:"convertToSingleLayer",value:function(e){this._source=e,this._isPlaceholder=!1,r(this,"symbology",w),r(this,"state",o),r(this,"visibility",s),r(this,"opacity",d),r(this,"query",v),r(this,"name",c),r(this,"geometryType",E),r(this,"layerType",f),r(this,"featureCount",S),r(this,"extent",m),this.setVisibility=T,this.setOpacity=P,this.setQuery=L,this.zoomToBoundary=z}},{key:"convertToFeatureLayer",value:function(e){this.convertToSingleLayer(e),r(this,"snapshot",D),r(this,"formattedAttributes",b),r(this,"geometryType",k),r(this,"featureCount",M),r(this,"highlightFeature",N),this.getFeatureName=F,this.attributesToDetails=B,this.fetchGraphic=U}},{key:"convertToDynamicLeaf",value:function(e){this._source=e,this._isPlaceholder=!1,r(this,"symbology",x),r(this,"state",a),r(this,"name",u),r(this,"visibility",l),r(this,"opacity",h),r(this,"query",y),r(this,"formattedAttributes",_),r(this,"geometryType",C),r(this,"layerType",p),r(this,"featureCount",A),r(this,"extent",g),r(this,"highlightFeature",R),this.setVisibility=O,this.setOpacity=$,this.setQuery=I,this.zoomToBoundary=j,this.getFeatureName=F,this.attributesToDetails=H,this.fetchGraphic=q}},{key:"convertToPlaceholder",value:function(e){this._source=e,this._isPlaceholder=!0,r(this,"symbology",w),r(this,"name",c),r(this,"state",o),r(this,"layerType",f)}},{key:"isPlaceholder",get:function(){return this._isPlaceholder}},{key:"symbology",get:function(){}},{key:"name",get:function(){}},{key:"layerType",get:function(){}},{key:"geometryType",get:function(){}},{key:"featureCount",get:function(){}},{key:"extent",get:function(){}},{key:"state",get:function(){}},{key:"visibility",get:function(){}},{key:"opacity",get:function(){}},{key:"query",get:function(){}},{key:"snapshot",get:function(){}},{key:"highlightFeature",get:function(){}},{key:"formattedAttributes",get:function(){}}]),e}();t.exports=function(){return{LayerInterface:G}}},{}],95:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},l=e("./layerInterface.js")(),c=e("./shared.js")(),u=e("./root.js")(),d=function(e){function t(e,n,i,o,a){var l=this;r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._layerClass=e,this.name=i.name||"",this._featClasses={},this._defaultFC="0",this._apiRef=n,this.initialConfig=i,this._stateListeners=[],this._hoverListeners=[],this._user=!1,this._epsgLookup=a,this.extent=i.extent,this._layerPassthroughBindings.forEach(function(e){return l[e]=function(){var t;return(t=l._layer)[e].apply(t,arguments)}}),this._layerPassthroughProperties.forEach(function(e){var t={enumerable:!0,get:function(){return l._layer[e]}};Object.defineProperty(l,e,t)}),o?(this.constructLayer=function(){throw new Error("Cannot construct pre-made layers")},this._layer=o,this.bindEvents(this._layer),this._rootUrl=o.url||"",this._state=c.states.LOADING,this.name||(this.name=o.name),o.url||(this._snapshot=!0,this.onLoad())):(this._rootUrl=i.url,this.constructLayer(i),this._state=c.states.LOADING)}return o(t,e),a(t,[{key:"bindEvents",value:function(e){var t=this;this._apiRef.events.wrapEvents(e,{load:function(){return t.onLoad()},error:function(e){return t.onError(e)},"update-start":function(){return t.onUpdateStart()},"update-end":function(){return t.onUpdateEnd()},"mouse-over":function(e){return t.onMouseOver(e)},"mouse-out":function(e){return t.onMouseOut(e)}})}},{key:"constructLayer",value:function(){return this._layer=this.layerClass(this.config.url,this.makeLayerConfig()),this.bindEvents(this._layer),this._layer}},{key:"_stateChange",value:function(e){this._state=e,this._fireEvent(this._stateListeners,this._state)}},{key:"addStateListener",value:function(e){return this._stateListeners.push(e),e}},{key:"removeStateListener",value:function(e){var t=this._stateListeners.indexOf(e);if(t<0)throw new Error("Attempting to remove a listener which is not registered.");this._stateListeners.splice(t,1)}},{key:"addHoverListener",value:function(e){return this._hoverListeners.push(e),e}},{key:"removeHoverListener",value:function(e){var t=this._hoverListeners.indexOf(e);if(t<0)throw new Error("Attempting to remove a listener which is not registered.");this._hoverListeners.splice(t,1)}},{key:"onLoad",value:function(){this.name||(this.name=this._layer.name),this.extent||(this.extent=this._layer.fullExtent);var e=Promise.resolve();if(this._epsgLookup){var t=this._apiRef.proj.checkProj(this.spatialReference,this._epsgLookup);t.lookupPromise&&(e=t.lookupPromise)}return[e]}},{key:"onError",value:function(e){this._stateChange(c.states.ERROR)}},{key:"onUpdateStart",value:function(){this._stateChange(c.states.REFRESH)}},{key:"onUpdateEnd",value:function(){this._stateChange(c.states.LOADED)}},{key:"onMouseOver",value:function(){}},{key:"onMouseOut",value:function(){}},{key:"makeLayerConfig",value:function(){return{id:this.config.id,opacity:this.config.state.opacity,visible:this.config.state.visibility}}},{key:"findZoomScale",value:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];n=!r&&n;var o=n?e:[].concat(i(e)).reverse();return o.find(function(e){return n?e.scale<t.minScale:e.scale>t.maxScale})}},{key:"setMapScale",value:function(e,t,n){var i=this;if(!n)return e.setScale(t.scale);var r=function(){var n=i._apiRef.proj.localProjectExtent(i._layer.fullExtent,e.spatialReference),r=i._apiRef.Map.Extent(n.x0,n.y0,n.x1,n.y1,n.sr);return{v:e.setScale(t.scale).then(function(){if(!r.intersects(e.extent))return e.centerAt(r.getCenter())})}}();return"object"==typeof r?r.v:void 0}},{key:"_zoomToScaleSet",value:function(e,t,n,i){var r=!(arguments.length<=4||void 0===arguments[4])&&arguments[4];n=!r&&n;var o=this.findZoomScale(t,i,n,r=!1);return this.setMapScale(this._layer,o,n)}},{key:"zoomToScale",value:function(e,t,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],r=this._featClasses[this._defaultFC].getScaleSet();return this._zoomToScaleSet(e,t,n,r,i)}},{key:"isOffScale",value:function(e){return this._featClasses[this._defaultFC].isOffScale(e)}},{key:"zoomToBoundary",value:function(e){return this.zoomToExtent(e,this.extent)}},{key:"zoomToExtent",value:function(e,t){var n=this._apiRef.proj.localProjectExtent(t,e.spatialReference),i=this._apiRef.Map.Extent(n.x0,n.y0,n.x1,n.y1,n.sr);return e.setExtent(i)}},{key:"getVisibleScales",value:function(){return{minScale:this._layer.minScale,maxScale:this._layer.maxScale}}},{key:"getFeatureCount",value:function(){return Promise.resolve(0)}},{key:"makeClickBuffer",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?5:arguments[2],i=2*n*t.extent.getWidth()/t.width,r=new this._apiRef.Map.Extent(0,0,i,i,e.spatialReference);return r.centerAt(e)}},{key:"isQueryable",value:function(){return this._featClasses[this._defaultFC].queryable}},{key:"setQueryable",value:function(e){this._featClasses[this._defaultFC].queryable=e}},{key:"getGeomType",value:function(){}},{key:"getProxy",value:function(){return this._rootProxy||(this._rootProxy=new l.LayerInterface(this,this.initialConfig.controls),this._rootProxy.convertToSingleLayer(this)),this._rootProxy}},{key:"layerClass",get:function(){return this._layerClass}},{key:"config",get:function(){return this.initialConfig}},{key:"legendEntry",get:function(){return this._legendEntry},set:function(e){this._legendEntry=e}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"layerId",get:function(){return this.config.id}},{key:"rootUrl",get:function(){return this._rootUrl},set:function(e){this._rootUrl=e}},{key:"_layerPassthroughBindings",get:function(){return["setOpacity","setVisibility"]}},{key:"_layerPassthroughProperties",get:function(){return["visibleAtMapScale","visible","spatialReference"]}},{key:"userLayer",get:function(){return this._user},set:function(e){this._user=e}},{key:"visibility",get:function(){return!this._layer||this._layer.visible},set:function(e){this._layer&&this._layer.setVisibility(e)}},{key:"opacity",get:function(){return this._layer?this._layer.opacity:1},set:function(e){this._layer&&this._layer.setOpacity(e)}},{key:"symbology",get:function(){return this._featClasses[this._defaultFC].symbology}}]),t}(u.Root);t.exports=function(){return{LayerRecord:d}}},{"./layerInterface.js":94,"./root.js":98,"./shared.js":99}],96:[function(e,t,n){"use strict";var i=e("./dynamicRecord.js")(),r=e("./featureRecord.js")(),o=e("./imageRecord.js")(),a=e("./tileRecord.js")(),s=e("./wmsRecord.js")();t.exports=function(){return{DynamicRecord:i.DynamicRecord,FeatureRecord:r.FeatureRecord,ImageRecord:o.ImageRecord,TileRecord:a.TileRecord,WmsRecord:s.WmsRecord}}},{"./dynamicRecord.js":91,"./featureRecord.js":92,"./imageRecord.js":93,"./tileRecord.js":100,"./wmsRecord.js":102}],97:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./root.js")(),l=e("./shared.js")(),c=e("rcolor"),u=function(e){function t(e,n){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parent=e,this.name=n,this._layerType=l.clientLayerType.UNKNOWN;var r=c({saturation:.4,value:.8});this.symbology=[e._apiRef.symbology.generatePlaceholderSymbology(n||"?",r)]}return r(t,e),o(t,[{key:"getVisibility",value:function(){return!0}},{key:"state",get:function(){return this._parent._state}},{key:"layerType",get:function(){return this._layerType},set:function(e){this._layerType=e}}]),t}(s.Root);t.exports=function(){return{PlaceholderFC:u}}},{"./root.js":98,"./shared.js":99,rcolor:66}],98:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this._name=""}return r(e,[{key:"_fireEvent",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.slice(0).forEach(function(e){return e.apply(void 0,n)})}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"symbology",get:function(){return this._symbology},set:function(e){this._symbology=e}},{key:"extent",get:function(){return this._extent},set:function(e){this._extent=e}}]),e}();t.exports=function(){return{Root:o}}},{}],99:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e.map(function(e){var t={svgcode:null,name:null};return e.then(function(e){t.svgcode=e.svgcode,t.name=e.label||""}),t})}function o(e){var t={rootUrl:e,index:"0"},n=/\/(\d+)\/?$/,i=e.match(n);return i&&(t.index=i[1],t.rootUrl=e.substr(0,e.length-i[0].length)),t}var a={NEW:"rv-new",REFRESH:"rv-refresh",LOADING:"rv-loading",LOADED:"rv-loaded",DEFAULT:"rv-default",ERROR:"rv-error"},s={ESRI_DYNAMIC:"esriDynamic",ESRI_FEATURE:"esriFeature",ESRI_IMAGE:"esriImage",ESRI_TILE:"esriTile",ESRI_GROUP:"esriGroup",ESRI_RASTER:"esriRaster",OGC_WMS:"ogcWms",UNRESOLVED:"unresolved",UNKNOWN:"unknown"},l=function c(e){i(this,c),this.isLoading=!0,this.requestId=-1,this.requester={proxy:e},this.data=[]};t.exports=function(){return{states:a,clientLayerType:s,makeSymbologyArray:r,IdentifyResult:l,parseUrlIndex:o}}},{}],100:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./basicFC.js")(),l=e("./placeholderFC.js")(),c=e("./layerRecord.js")(),u=e("./shared.js")(),d=function(e){function t(e,n,r,o,s){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,o,s),this._defaultFC="0",this._featClasses[0]=new l.PlaceholderFC(this,this.name)}return r(t,e),o(t,[{key:"onLoad",value:function(){var e=this,n=a(Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),i=new s.BasicFC(this,"0",this.config);this._featClasses[0]=i,n.push(i.loadSymbology(!0)),Promise.all(n).then(function(){e._stateChange(u.states.LOADED)})}},{key:"layerType",get:function(){return u.clientLayerType.ESRI_TILE}}]),t}(c.LayerRecord);t.exports=function(){return{TileRecord:d}}},{"./basicFC.js":89,"./layerRecord.js":95,"./placeholderFC.js":97,"./shared.js":99}],101:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var n=function r(e,t){var n=null;return e.some(function(e){return e.name===t?(n=e,!0):!!e.subLayers&&r(e.subLayers,t)}),n},i=n(e.layerInfos,t);return i&&i.title?i.title:""}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},l=e("./basicFC.js")(),c=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),a(t,[{key:"loadSymbology",value:function(){var e=this,t=this._parent.config.layerEntries,n=this._parent._apiRef,i=n.layer.ogc.getLegendUrls(this._parent._layer,t.map(function(e){return e.id})).map(function(i,r){var a={name:null,svgcode:null},s=t[r].name||o(e._parent._layer,t[r].id)||t[r].id;return n.symbology.generateWMSSymbology(s,i).then(function(e){a.name=e.name,a.svgcode=e.svgcode}),a});return this.symbology=i,Promise.resolve()}}]),t}(l.BasicFC);t.exports=function(){return{WmsFC:c}}},{"./basicFC.js":89}],102:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}},s=e("./wmsFC.js")(),l=e("./placeholderFC.js")(),c=e("./layerRecord.js")(),u=e("./shared.js")(),d=function(e){function t(e,n,r,o,s){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,o,s),this._defaultFC="0",this._featClasses[0]=new l.PlaceholderFC(this,this.name)}return r(t,e),o(t,[{key:"makeLayerConfig",value:function(){var e=a(Object.getPrototypeOf(t.prototype),"makeLayerConfig",this).call(this);return e.visibleLayers=this.config.layerEntries.map(function(e){return e.id}),e}},{key:"onLoad",value:function(){var e=this,n=a(Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),i=new s.WmsFC(this,"0",this.config);this._featClasses[0]=i,n.push(i.loadSymbology()),Promise.all(n).then(function(){e._stateChange(u.states.LOADED)})}},{key:"identify",value:function(e){var t={"text/html;fgpv=summary":"HTML","text/html":"HTML","text/plain":"Text","application/json":"EsriFeature"};if(this.state===u.states.ERROR||this.state===u.states.LOADING||this.state===u.states.NEW||!this.visibility||!this.isQueryable()||!t.hasOwnProperty(this.config.featureInfoMimeType))return{identifyResults:[],identifyPromise:Promise.resolve()};var n=new u.IdentifyResult(this.getProxy()),i=this._apiRef.layer.ogc.getFeatureInfo(this._layer,e.clickEvent,this.config.layerEntries.map(function(e){return e.id}),this.config.featureInfoMimeType).then(function(e){n.isLoading=!1,e.indexOf("Search returned no results")===-1&&""!==e&&n.data.push(e)});return{identifyResults:[n],identifyPromise:i}}},{key:"layerType",get:function(){return u.clientLayerType.OGC_WMS}}]),t}(c.LayerRecord);t.exports=function(){return{WmsRecord:d}}},{"./layerRecord.js":95,"./placeholderFC.js":97,"./shared.js":99,"./wmsFC.js":101}],103:[function(e,t,n){"use strict";function i(e){return function(t,n,i,r){var o=void 0,a=void 0,l=t.getMap(),c=l.extent,u=t.spatialReferences,d=i.join(",");u&&u.length>1?o=u[0]:l.spatialReference.wkid&&(o=l.spatialReference.wkid),"1.3"===t.version||"1.3.0"===t.version?(a={CRS:"EPSG:"+o,I:n.screenPoint.x,J:n.screenPoint.y,STYLES:"",FORMAT:t.imageFormat},s.indexOf(String(o))>-1&&(a.BBOX=c.ymin+","+c.xmin+","+c.ymax+","+c.xmax)):a={SRS:"EPSG:"+o,X:n.screenPoint.x,Y:n.screenPoint.y},a.hasOwnProperty("BBOX")||(a.BBOX=c.xmin+","+c.ymin+","+c.xmax+","+c.ymax);var h={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:t.version,WIDTH:l.width,HEIGHT:l.height,QUERY_LAYERS:d,LAYERS:d,INFO_FORMAT:r};return Object.keys(h).forEach(function(e){return a[e]=h[e]}),Promise.resolve(e.esriRequest({url:t.url.split("?")[0],content:a,handleAs:"text"}))}}function r(e){var t=e.dojoQuery;return function(n){function i(e,t){for(var n=0;n<e.childNodes.length;++n)if(e.childNodes[n].nodeName===t)return e.childNodes[n]}function r(e){return t("> Layer",e).map(function(e){var t=i(e,"Name"),n=i(e,"Title");return{name:t?t.textContent:null,desc:n.textContent,queryable:"1"===e.getAttribute("queryable"),layers:r(e)}})}function o(){var t=n;return n.indexOf("?")===-1&&(t+="?service=WMS&version=1.3&request=GetCapabilities"),Promise.resolve(new e.esriRequest({url:t,handleAs:"xml"}).promise)}var a=new Promise(function(e){o().then(function(t){return e(t)})["catch"](function(){e(o())})});return a.then(function(e){return{layers:r(t("Capability",e)[0]),queryTypes:t("GetFeatureInfo > Format",e).map(function(e){return e.textContent})}})}}function o(e,t){e.forEach(function(e){e.name&&t.set(e.name,e.legendURL),e.subLayers.length>0&&o(e.subLayers,t)})}function a(e,t){var n=new Map;return o(e.layerInfos,n),t.map(function(e){return n.get(e)})}var s=e("./reversedAxis.json");t.exports=function(e){return{WmsLayer:e.WmsLayer,getFeatureInfo:i(e),parseCapabilities:r(e),getLegendUrls:a}}},{"./reversedAxis.json":104}],104:[function(e,t,n){t.exports=["4326","4269","4258","31467","31468","31469","2166","2167","2168","2036","2044","2045","2065","2081","2082","2083","2085","2086","2091","2092","2093","2096","2097","2098","2105","2106","2107","2108","2109","2110","2111","2112","2113","2114","2115","2116","2117","2118","2119","2120","2121","2122","2123","2124","2125","2126","2127","2128","2129","2130","2131","2132","2169","2170","2171","2172","2173","2174","2175","2176","2177","2178","2179","2180","2193","2199","2200","2206","2207","2208","2209","2210","2211","2212","2319","2320","2321","2322","2323","2324","2325","2326","2327","2328","2329","2330","2331","2332","2333","2334","2335","2336","2337","2338","2339","2340","2341","2342","2343","2344","2345","2346","2347","2348","2349","2350","2351","2352","2353","2354","2355","2356","2357","2358","2359","2360","2361","2362","2363","2364","2365","2366","2367","2368","2369","2370","2371","2372","2373","2374","2375","2376","2377","2378","2379","2380","2381","2382","2383","2384","2385","2386","2387","2388","2389","2390","2391","2392","2393","2394","2395","2396","2397","2398","2399","2400","2401","2402","2403","2404","2405","2406","2407","2408","2409","2410","2411","2412","2413","2414","2415","2416","2417","2418","2419","2420","2421","2422","2423","2424","2425","2426","2427","2428","2429","2430","2431","2432","2433","2434","2435","2436","2437","2438","2439","2440","2441","2442","2443","2444","2445","2446","2447","2448","2449","2450","2451","2452","2453","2454","2455","2456","2457","2458","2459","2460","2461","2462","2463","2464","2465","2466","2467","2468","2469","2470","2471","2472","2473","2474","2475","2476","2477","2478","2479","2480","2481","2482","2483","2484","2485","2486","2487","2488","2489","2490","2491","2492","2493","2494","2495","2496","2497","2498","2499","2500","2501","2502","2503","2504","2505","2506","2507","2508","2509","2510","2511","2512","2513","2514","2515","2516","2517","2518","2519","2520","2521","2522","2523","2524","2525","2526","2527","2528","2529","2530","2531","2532","2533","2534","2535","2536","2537","2538","2539","2540","2541","2542","2543","2544","2545","2546","2547","2548","2549","2551","2552","2553","2554","2555","2556","2557","2558","2559","2560","2561","2562","2563","2564","2565","2566","2567","2568","2569","2570","2571","2572","2573","2574","2575","2576","2577","2578","2579","2580","2581","2582","2583","2584","2585","2586","2587","2588","2589","2590","2591","2592","2593","2594","2595","2596","2597","2598","2599","2600","2601","2602","2603","2604","2605","2606","2607","2608","2609","2610","2611","2612","2613","2614","2615","2616","2617","2618","2619","2620","2621","2622","2623","2624","2625","2626","2627","2628","2629","2630","2631","2632","2633","2634","2635","2636","2637","2638","2639","2640","2641","2642","2643","2644","2645","2646","2647","2648","2649","2650","2651","2652","2653","2654","2655","2656","2657","2658","2659","2660","2661","2662","2663","2664","2665","2666","2667","2668","2669","2670","2671","2672","2673","2674","2675","2676","2677","2678","2679","2680","2681","2682","2683","2684","2685","2686","2687","2688","2689","2690","2691","2692","2693","2694","2695","2696","2697","2698","2699","2700","2701","2702","2703","2704","2705","2706","2707","2708","2709","2710","2711","2712","2713","2714","2715","2716","2717","2718","2719","2720","2721","2722","2723","2724","2725","2726","2727","2728","2729","2730","2731","2732","2733","2734","2735","2738","2739","2740","2741","2742","2743","2744","2745","2746","2747","2748","2749","2750","2751","2752","2753","2754","2755","2756","2757","2758","2935","2936","2937","2938","2939","2940","2941","2953","2963","3006","3007","3008","3009","3010","3011","3012","3013","3014","3015","3016","3017","3018","3019","3020","3021","3022","3023","3024","3025","3026","3027","3028","3029","3030","3034","3035","3038","3039","3040","3041","3042","3043","3044","3045","3046","3047","3048","3049","3050","3051","3058","3059","3068","3114","3115","3116","3117","3118","3120","3126","3127","3128","3129","3130","3131","3132","3133","3134","3135","3136","3137","3138","3139","3140","3146","3147","3150","3151","3152","3300","3301","3328","3329","3330","3331","3332","3333","3334","3335","3346","3350","3351","3352","3366","3386","3387","3388","3389","3390","3396","3397","3398","3399","3407","3414","3416","3764","3788","3789","3790","3791","3793","3795","3796","3819","3821","3823","3824","3833","3834","3835","3836","3837","3838","3839","3840","3841","3842","3843","3844","3845","3846","3847","3848","3849","3850","3851","3852","3854","3873","3874","3875","3876","3877","3878","3879","3880","3881","3882","3883","3884","3885","3888","3889","3906","3907","3908","3909","3910","3911","4001","4002","4003","4004","4005","4006","4007","4008","4009","4010","4011","4012","4013","4014","4015","4016","4017","4018","4019","4020","4021","4022","4023","4024","4025","4026","4027","4028","4029","4030","4031","4032","4033","4034","4035","4036","4037","4038","4040","4041","4042","4043","4044","4045","4046","4047","4052","4053","4054","4055","4074","4075","4080","4081","4120","4121","4122","4123","4124","4125","4126","4127","4128","4129","4130","4131","4132","4133","4134","4135","4136","4137","4138","4139","4140","4141","4142","4143","4144","4145","4146","4147","4148","4149","4150","4151","4152","4153","4154","4155","4156","4157","4158","4159","4160","4161","4162","4163","4164","4165","4166","4167","4168","4169","4170","4171","4172","4173","4174","4175","4176","4178","4179","4180","4181","4182","4183","4184","4185","4188","4189","4190","4191","4192","4193","4194","4195","4196","4197","4198","4199","4200","4201","4202","4203","4204","4205","4206","4207","4208","4209","4210","4211","4212","4213","4214","4215","4216","4218","4219","4220","4221","4222","4223","4224","4225","4226","4227","4228","4229","4230","4231","4232","4233","4234","4235","4236","4237","4238","4239","4240","4241","4242","4243","4244","4245","4246","4247","4248","4249","4250","4251","4252","4253","4254","4255","4256","4257","4259","4260","4261","4262","4263","4264","4265","4266","4267","4268","4270","4271","4272","4273","4274","4275","4276","4277","4278","4279","4280","4281","4282","4283","4284","4285","4286","4287","4288","4289","4291","4292","4293","4294","4295","4296","4297","4298","4299","4300","4301","4302","4303","4304","4306","4307","4308","4309","4310","4311","4312","4313","4314","4315","4316","4317","4318","4319","4322","4324","4327","4329","4339","4341","4343","4345","4347","4349","4351","4353","4355","4357","4359","4361","4363","4365","4367","4369","4371","4373","4375","4377","4379","4381","4383","4386","4388","4417","4434","4463","4466","4469","4470","4472","4475","4480","4482","4483","4490","4491","4492","4493","4494","4495","4496","4497","4498","4499","4500","4501","4502","4503","4504","4505","4506","4507","4508","4509","4510","4511","4512","4513","4514","4515","4516","4517","4518","4519","4520","4521","4522","4523","4524","4525","4526","4527","4528","4529","4530","4531","4532","4533","4534","4535","4536","4537","4538","4539","4540","4541","4542","4543","4544","4545","4546","4547","4548","4549","4550","4551","4552","4553","4554","4555","4557","4558","4568","4569","4570","4571","4572","4573","4574","4575","4576","4577","4578","4579","4580","4581","4582","4583","4584","4585","4586","4587","4588","4589","4600","4601","4602","4603","4604","4605","4606","4607","4608","4609","4610","4611","4612","4613","4614","4615","4616","4617","4618","4619","4620","4621","4622","4623","4624","4625","4626","4627","4628","4629","4630","4631","4632","4633","4634","4635","4636","4637","4638","4639","4640","4641","4642","4643","4644","4645","4646","4652","4653","4654","4655","4656","4657","4658","4659","4660","4661","4662","4663","4664","4665","4666","4667","4668","4669","4670","4671","4672","4673","4674","4675","4676","4677","4678","4679","4680","4681","4682","4683","4684","4685","4686","4687","4688","4689","4690","4691","4692","4693","4694","4695","4696","4697","4698","4699","4700","4701","4702","4703","4704","4705","4706","4707","4708","4709","4710","4711","4712","4713","4714","4715","4716","4717","4718","4719","4720","4721","4722","4723","4724","4725","4726","4727","4728","4729","4730","4731","4732","4733","4734","4735","4736","4737","4738","4739","4740","4741","4742","4743","4744","4745","4746","4747","4748","4749","4750","4751","4752","4753","4754","4755","4756","4757","4758","4759","4760","4761","4762","4763","4764","4765","4766","4767","4768","4769","4770","4771","4772","4773","4774","4775","4776","4777","4778","4779","4780","4781","4782","4783","4784","4785","4786","4787","4788","4789","4790","4791","4792","4793","4794","4795","4796","4797","4798","4799","4800","4801","4802","4803","4804","4805","4806","4807","4808","4809","4810","4811","4812","4813","4814","4815","4816","4817","4818","4819","4820","4821","4822","4823","4824","4839","4855","4856","4857","4858","4859","4860","4861","4862","4863","4864","4865","4866","4867","4868","4869","4870","4871","4872","4873","4874","4875","4876","4877","4878","4879","4880","4883","4885","4887","4889","4891","4893","4895","4898","4900","4901","4902","4903","4904","4907","4909","4921","4923","4925","4927","4929","4931","4933","4935","4937","4939","4941","4943","4945","4947","4949","4951","4953","4955","4957","4959","4961","4963","4965","4967","4969","4971","4973","4975","4977","4979","4981","4983","4985","4987","4989","4991","4993","4995","4997","4999","5012","5013","5017","5048","5105","5106","5107","5108","5109","5110","5111","5112","5113","5114","5115","5116","5117","5118","5119","5120","5121","5122","5123","5124","5125","5126","5127","5128","5129","5130","5132","5167","5168","5169","5170","5171","5172","5173","5174","5175","5176","5177","5178","5179","5180","5181","5182","5183","5184","5185","5186","5187","5188","5224","5228","5229","5233","5245","5246","5251","5252","5253","5254","5255","5256","5257","5258","5259","5263","5264","5269","5270","5271","5272","5273","5274","5275","5801","5802","5803","5804","5808","5809","5810","5811","5812","5813","5814","5815","5816","20004","20005","20006","20007","20008","20009","20010","20011","20012","20013","20014","20015","20016","20017","20018","20019","20020","20021","20022","20023","20024","20025","20026","20027","20028","20029","20030","20031","20032","20064","20065","20066","20067","20068","20069","20070","20071","20072","20073","20074","20075","20076","20077","20078","20079","20080","20081","20082","20083","20084","20085","20086","20087","20088","20089","20090","20091","20092","21413","21414","21415","21416","21417","21418","21419","21420","21421","21422","21423","21453","21454","21455","21456","21457","21458","21459","21460","21461","21462","21463","21473","21474","21475","21476","21477","21478","21479","21480","21481","21482","21483","21896","21897","21898","21899","22171","22172","22173","22174","22175","22176","22177","22181","22182","22183","22184","22185","22186","22187","22191","22192","22193","22194","22195","22196","22197","25884","27205","27206","27207","27208","27209","27210","27211","27212","27213","27214","27215","27216","27217","27218","27219","27220","27221","27222","27223","27224","27225","27226","27227","27228","27229","27230","27231","27232","27391","27392","27393","27394","27395","27396","27397","27398","27492","28402","28403","28404","28405","28406","28407","28408","28409","28410","28411","28412","28413","28414","28415","28416","28417","28418","28419","28420","28421","28422","28423","28424","28425","28426","28427","28428","28429","28430","28431","28432","28462","28463","28464","28465","28466","28467","28468","28469","28470","28471","28472","28473","28474","28475","28476","28477","28478","28479","28480","28481","28482","28483","28484","28485","28486","28487","28488","28489","28490","28491","28492","29701","29702","30161","30162","30163","30164","30165","30166","30167","30168","30169","30170","30171","30172","30173","30174","30175","30176","30177","30178","30179","30800","31251","31252","31253","31254","31255","31256","31257","31258","31259","31275","31276","31277","31278","31279","31281","31282","31283","31284","31285","31286","31287","31288","31289","31290","31466","31700"];
},{}],105:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){for(var n=t,i=e-t,r=[[[[]]]],o=1;o<=e;++o){r[o]=[];for(var a=0;a<=o;++a)if(!(a>n||o-a>i)){var s=a>0?r[o-1][a-1].map(function(e){return e.concat(!0)}):[],l=o>a?r[o-1][a].map(function(e){return e.concat(!1)}):[];r[o][a]=s.concat(l)}}return r[e][t]}function o(e,t){return e[0].splitBefore=!1,t.forEach(function(t,n){return e[n+1].splitBefore=t}),e}function a(e,t){var n=e.length-1,o=t-1,a=r(n,o),s=Number.MAX_VALUE,l=null,c=Array(t);return a.forEach(function(t){c.fill(0);var n=0;e.forEach(function(e,i){c[n]+=e.height,t[i]&&++n});var r=Math.max.apply(Math,i(c));r<=s&&(s=r,l=t)}),{layers:e,sectionsUsed:t,bestPerm:l,bestHeight:s}}function s(e,t){for(var n=Number.MAX_VALUE,i=null,r=-1,s=t;s>1;--s){var l=a(e,s),c=l.bestPerm,u=l.bestHeight;if(.8*u>n)break;u<=n&&(n=u,i=c,r=s)}return o(e,i),{layers:e,sectionsUsed:r}}function l(e,t,n){function i(e){e.forEach(function(e){1!==n&&(s[n-1]=o-r,o=e.y+("group"===e.type?e.headerHeight:e.height),o-r>=t&&(n--,r=e.y,a.push(e)),"group"===e.type&&i(e.items))})}var r=e.y,o=0,a=[],s=Array(n).fill(0);return i(e.items),s[n-1]=e.height-(r-e.y),{whiteSpace:s.reduce(function(e,n){return e+Math.abs(t-n)},0),splits:a}}function c(e,t){if(1===t)return e;for(var n=e.height/t,i=l(e,n,t),r=i.splits,o=i.whiteSpace,a=8,s=o/a,c=1;c<=a;c++){n+=s;var u=l(e,n,t),d=u.splits,h=u.whiteSpace;h<o&&(o=h,r=d)}return r.forEach(function(e){return e.splitBefore=!0}),e}function u(e,t,n){o(e,Array(e.length-1).fill(!0));var r={};r[e.length]={height:Math.max.apply(Math,i(e.map(function(e){return e.height}))),segments:Array(e.length)},r[e.length].segments.fill(1);for(var a=e.length,s=function(){var t=r[a].segments,n=t.map(function(t,n){return e[n].height/t}),o=n.indexOf(Math.max.apply(Math,i(n))),s=t.map(function(e,t){return t===o?e+1:e});++a,r[a]={height:Math.max.apply(Math,i(s.map(function(t,n){return e[n].height/t}))),segments:s}};a<t&&r[a].height>2*n;)s();for(;a>e.length&&!(r[a].height<.9*r[a-1].height);)--a;return e.forEach(function(e,t){return c(e,r[a].segments[t])}),{layers:e,sectionsUsed:a}}function d(e,t,n){if(e.length>h){var i=function(){var n=Math.ceil(e.length/t),i=Array(e.length-1).fill(0).map(function(e,t){return(t+1)%n===0});return o(e,i),{v:{layers:e,sectionsUsed:t}}}();if("object"==typeof i)return i.v}return e.length<=t?u(e,t,n):s(e,t)}var h=15;t.exports=function(){return{makeLegend:d,allComb:r,splitLayer:l,findOptimalSplit:c}}},{}],106:[function(e,t,n){"use strict";function i(e,t,n){var i=new e.BasemapGallery({showArcGISBasemaps:!1,map:n});return t.forEach(function(t){var n=t.layers.map(function(n){return new e.BasemapLayer({url:n.url,opacity:t.opacity})}),r=new e.Basemap({id:t.id,layers:n,title:t.name,thumbnailUrl:t.thumbnailUrl,wkid:t.wkid});i.add(r)}),i.startup(),i.on("error",function(e){throw new Error(e)}),i}t.exports={initBasemaps:i}},{}],107:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=c(e),o=function(){function o(t,n){var i=this;if(r(this,o),this._passthroughBindings.forEach(function(e){return i[e]=function(){var t;return(t=i._map)[e].apply(t,arguments)}}),this._passthroughProperties.forEach(function(e){var t={enumerable:!0,get:function(){return i._map[e]}};Object.defineProperty(i,e,t)}),this._map=new e.Map(t,{extent:o.getExtentFromJson(n.extent),lods:n.lods}),n.proxyUrl&&(this.proxy=n.proxyUrl),!n.basemaps)throw new Error("The basemaps option is required to and at least one basemap must be defined");this.basemapGallery=l.initBasemaps(e,n.basemaps,this._map),this.basemapGallery.on("selection-change",function(){return i.resetOverviewMap()}),n.scalebar&&(this.scalebar=new e.Scalebar({map:this._map,attachTo:n.scalebar.attachTo,scalebarUnit:n.scalebar.scalebarUnit}),this.scalebar.show()),n.overviewMap&&this.initOverviewMap(),this.zoomPromise=Promise.resolve(),this.zoomCounter=0}return s(o,[{key:"_passthroughBindings",get:function(){return["on","reorderLayer","addLayer","disableKeyboardNavigation","removeLayer","resize","reposition","centerAt","setZoom","centerAndZoom","toScreen","setExtent"]}},{key:"_passthroughProperties",get:function(){return["graphicsLayerIds","layerIds","spatialReference","extent"]}}],[{key:"Extent",get:function(){return e.Extent}}]),s(o,[{key:"printLocal",value:function(e){return n.printLocal(this._map,e)}},{key:"printServer",value:function(e){return n.printServer(this._map,e)}},{key:"selectBasemap",value:function(e){"object"==typeof e&&(e=e.id),this.basemapGallery.select(e)}},{key:"enhanceConfigExtent",value:function(e){var n=o.getExtentFromJson(e);return t.proj.isSpatialRefEqual(this._map.spatialReference,e.spatialReference)?n:t.proj.projectEsriExtent(n,this._map.spatialReference)}},{key:"zoomToPoint",value:function(e){var n=e.longitude,i=e.latitude,r=t.proj.localProjectPoint(4326,this._map.spatialReference.wkid,[parseFloat(n),parseFloat(i)]),a=t.proj.Point(r[0],r[1],this._map.spatialReference),s=o.findClosestLOD(this._map.__tileInfo.lods,5e4);this._map.centerAndZoom(a,Math.max(s.level,0))}},{key:"getNorthArrowAngle",value:function(){var e=t.proj.localProjectPoint(this._map.extent.spatialReference,"EPSG:4326",{x:(this._map.extent.xmin+this._map.extent.xmax)/2,y:this._map.extent.ymin}),n={x:-96,y:90},i=(e.x-n.x)*Math.PI/180,r=n.y*Math.PI/180,o=e.y*Math.PI/180,a=Math.sin(i)*Math.cos(o),s=Math.cos(r)*Math.sin(o)-Math.sin(r)*Math.cos(o)*Math.cos(i),l=180*Math.atan2(a,s)/Math.PI;return((l+360)%360).toFixed(1)}},{key:"getScaleRatio",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=this._map,i=t.proj.localProjectPoint(n.spatialReference,"EPSG:4326",{x:n.extent.xmin,y:(n.extent.ymin+n.extent.ymax)/2}),r=t.proj.localProjectPoint(n.spatialReference,"EPSG:4326",{x:n.extent.xmax,y:(n.extent.ymin+n.extent.ymax)/2}),o=6371e3,a=Math.PI/180,s=i.y*a,l=r.y*a,c=(r.y-i.y)*a,u=(r.x-i.x)*a,d=Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(l)*Math.sin(u/2)*Math.sin(u/2),h=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),f=o*h,p=e?e:n.width,m=[f>1e3?"km":"m",f>1600?"mi":"ft"],g=f>1e3?f/1e3:f,v=g/p;return{distance:g,ratio:v,units:m}}},{key:"initOverviewMap",value:function(){this.overviewMap=new e.OverviewMap({map:this._map,expandFactor:1,visible:!0}),this.overviewMap.startup()}},{key:"resetOverviewMap",value:function(){this.overviewMap.destroy(),this.initOverviewMap()}},{key:"shiftZoom",value:function(e){var t=this;this.zoomCounter+=e,this.zoomPromise.then(function(){if(0!==t.zoomCounter){var e=t._map.getZoom()+t.zoomCounter,n=Promise.resolve(t.setZoom(e));t.zoomCounter=0,"undefined"!=typeof n&&(t.zoomPromise=n)}})}},{key:"mapDefault",value:function(t,n){return"undefined"==typeof n?e.esriConfig.defaults.map[t]:void(e.esriConfig.defaults.map[t]=n)}},{key:"proxy",set:function(t){e.esriConfig.defaults.io.proxyUrl=t},get:function(){return e.esriConfig.defaults.io.proxyUrl}},{key:"basemapGallery",set:function(e){this._basemapGallery=e},get:function(){return this._basemapGallery}},{key:"scalebar",set:function(e){this._scalebar=e},get:function(){return this._scalebar}},{key:"overviewMap",set:function(e){this._overviewMap=e},get:function(){return this._overviewMap}}],[{key:"getExtentFromJson",value:function(t){return e.Extent({xmin:t.xmin,ymin:t.ymin,xmax:t.xmax,ymax:t.ymax,spatialReference:{wkid:t.spatialReference.wkid}})}},{key:"findClosestLOD",value:function(e,t){var n=e.map(function(e){return Math.abs(e.scale-t)}),r=n.indexOf(Math.min.apply(Math,i(n)));return e[r]}},{key:"clipExtentCoords",value:function(e,t,n,i,r,o){return e>i?(t=i,n=i-o):e<r&&(t=r+o,n=r),[t,n]}},{key:"enforceBoundary",value:function(t,n){var i=e.Extent(t.toJson()),r=Math.min(t.getHeight(),n.getHeight()),o=Math.min(t.getWidth(),n.getWidth()),s=t.getCenter(),l=this.clipExtentCoords(s.x,i.xmax,i.xmin,n.xmax,n.xmin,o),c=a(l,2);i.xmax=c[0],i.xmin=c[1];var u=this.clipExtentCoords(s.y,i.ymax,i.ymin,n.ymax,n.ymin,r),d=a(u,2);return i.ymax=d[0],i.ymin=d[1],{newExtent:i,adjusted:!t.contains(i)}}}]),o}();return o}var a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./basemap.js"),c=e("./print.js");t.exports=function(e,t){return o(e,t)}},{"./basemap.js":106,"./print.js":108}],108:[function(e,t,n){"use strict";function i(e,t,n){var i=e.PrintTask(n.url,{async:!0}),a=new e.PrintParameters,s=new e.PrintTemplate;s.layout="MAP_ONLY",s.exportOptions={height:n.height||t.height,width:n.width||t.width,dpi:96},s.format=n.format,s.showAttribution=!1,s.preserveScale=!1,a.map=t,a.template=s;var l=r(t),u=new Promise(function(e,t){i.execute(a,function(t){return e(c.convertImageToCanvas(t.url))},function(e){return t(e)})});return o(l),u}function r(e){return e.graphicsLayerIds.map(function(t){return e.getLayer(t)}).filter(function(e){return e.visible}).map(function(e){return e.setVisibility(!1),e})}function o(e){e.forEach(function(e){return e.setVisibility(!0)})}function a(e){function t(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i={width:e.width.baseVal.value,height:e.height.baseVal.value},r=(e.getAttribute("viewBox")||"0 0 "+i.width+" "+i.height).split(" "),o=s(r,4),a=o[0],l=o[1],c=o[2],u=o[3],d={minX:a,minY:l,width:c,height:u};return e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("viewBox",[(n||d).minX,(n||d).minY,(n||d).width,(n||d).height].join(" ")),{originalSize:i,originalViewbox:d}}var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];i=i||document.createElement("canvas");var r=document.getElementById("esri.Map_"+e.id.split("_")[1]+"_gc");r.getAttribute("xmlns")||Object.entries(u).forEach(function(e){var t=s(e,2),n=t[0],i=t[1];return r.setAttribute(n,i)});var o=void 0;n&&(o=t(r,n));var a=new Promise(function(e,a){try{l(i,r.outerHTML,{useCORS:!0,ignoreAnimation:!0,ignoreMouse:!0,renderCallback:function(){n&&t(r,o.originalSize,o.originalViewbox),e(i)}})}catch(s){a(s)}});return a}var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();window.RGBColor=e("rgbcolor");var l=e("canvg-origin"),c=e("../shared.js")(),u={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};t.exports=function(e){return{printLocal:function(e,t){return a(e,t)},printServer:function(t,n){return i(e,t,n)}}}},{"../shared.js":111,"canvg-origin":3,rgbcolor:67}],109:[function(e,t,n){"use strict";function i(e,t,n){var i=p(f,h);i(e,t,n)}function r(e){if("object"==typeof e){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if("number"==typeof e)return"EPSG:"+e;if("string"==typeof e)return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}function o(e,t,n){return h(r(e),r(t),n)}function a(e,t){var n=t.spatialReference;t.spatialReference={wkid:8888};var o=f.ArcGIS.parse(t,{sr:8888});t.spatialReference=n,i(o,r(e),r(n));var a=f.ArcGIS.convert(o);return a.spatialReference=e,a}function s(e,t){function n(e,t,i){if(0===i)return[e,t];var r=[(e[0]+t[0])/2,(e[1]+t[1])/2];if(1===i)return[e,r,t];if(i>1){var o=n(e,r,i-1),a=n(r,t,i-1);return o.concat(a.slice(1))}}var i=[[e.xmin,e.ymin],[e.xmax,e.ymin],[e.xmax,e.ymax],[e.xmin,e.ymax],[e.xmin,e.ymin]],o=[],a=void 0;if([0,1,2,3].map(function(e){return n(i[e],i[e+1],3).slice(1)}).forEach(function(e){return o=o.concat(e)}),e.spatialReference.wkid)a="EPSG:"+e.spatialReference.wkid;else{if(!e.spatialReference.wkt)throw new Error("No WKT or WKID specified on extent.spatialReference");a=e.spatialReference.wkt}var s=r(t);if(e.spatialReference.wkid&&!h.defs(a))throw new Error("Source projection WKID not recognized by proj4 library");var l=h(a,s),c=o.map(function(e){return l.forward(e)}),u=c.map(function(e){return e[0]}),d=c.map(function(e){return e[1]}),f=Math.min.apply(null,u),p=Math.max.apply(null,u),m=Math.min.apply(null,d),g=Math.max.apply(null,d);return{x0:f,y0:m,x1:p,y1:g,sr:t}}function l(e,t){var n=void 0;if(e.wkid)n="EPSG:"+e.wkid;else{if(!e.wkt)return{foundProj:!1,message:"No WKT or WKID specified on extent.spatialReference"};n=e.wkt}return e.wkid&&!h.defs(n)?t?{foundProj:!1,message:"Attempting to lookup WKID",lookupPromise:t(e.wkid).then(function(e){return null!==e&&(h.defs(n,e),!0)})}:{foundProj:!1,message:"Source projection in WKID and not recognized by proj4 library"}:{foundProj:!0,message:"Source projection OK."}}function c(e){return function(t,n){var i=s(t,n);return new e.Extent(i.x0,i.y0,i.x1,i.y1,i.sr)}}function u(e){return function(t,n,i){return new Promise(function(r,o){var a=new e.ProjectParameters,s=new e.GeometryService(t);a.geometries=n,a.outSR=i,s.project(a,function(e){r(e)},function(e){o(e)})})}}function d(e,t){return e.wkid&&t.wkid?e.wkid===t.wkid:!(!e.wkt||!t.wkt)&&e.wkt===t.wkt}var h=e("proj4"),f=e("terraformer"),p=e("terraformer-proj4js");t.exports=function(e){h.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),h.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),h.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),h.defs("EPSG:102100",h.defs("EPSG:3857"));for(var t=1;t<=60;){var n=t<10?"0"+t:t;h.defs("EPSG:326"+n,"+proj=utm +zone="+t+" +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),t++}return{addProjection:h.defs,checkProj:l,getProjection:h.defs,esriServerProject:u(e),Graphic:e.Graphic,graphicsUtils:e.graphicsUtils,isSpatialRefEqual:d,localProjectExtent:s,localProjectPoint:o,localProjectGeometry:a,projectGeojson:i,Point:e.Point,projectEsriExtent:c(e),SpatialReference:e.SpatialReference}}},{proj4:65,terraformer:78,"terraformer-proj4js":77}],110:[function(e,t,n){"use strict";function i(e){return function(t){var n=new e.Query;return n.returnGeometry=t.returnGeometry||!1,t.returnGeometry&&(n.outSpatialReference=t.outSpatialReference),t.outFields?n.outFields=t.outFields:n.outFields=["*"],t.where&&(n.where=t.where),n.geometry=t.geometry,n.spatialRelationship=e.Query.SPATIAL_REL_INTERSECTS,new Promise(function(i,r){if(t.url){var o=new e.QueryTask(t.url);o.execute(n,function(e){i(e)},function(e){r(e)})}else t.featureLayer&&t.featureLayer.queryFeatures(n,function(e){i(e)},function(e){r(e)})})}}t.exports=function(e){return{queryGeometry:i(e)}}},{}],111:[function(e,t,n){"use strict";function i(e){return function(t){return t instanceof e.FeatureLayer?"FeatureLayer":t instanceof e.WmsLayer?"WmsLayer":t instanceof e.ArcGISDynamicMapServiceLayer?"ArcGISDynamicMapServiceLayer":t instanceof e.ArcGISTiledMapServiceLayer?"ArcGISTiledMapServiceLayer":"UNKNOWN"}}function r(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}function o(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]||arguments[2];t=t||document.createElement("canvas");var i=document.createElement("img");n&&(i.crossOrigin="Anonymous");var r=new Promise(function(e,n){i.addEventListener("load",function(){t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0),e(t)}),i.addEventListener("error",function(e){return n(e)})});return i.src=e,r}function a(e){var t=arguments.length<=1||void 0===arguments[1]?"image/png":arguments[1];if(e.startsWith("data"))return Promise.resolve(e);var n=o(e).then(function(e){return e.toDataURL(t)})["catch"](function(t){return e});return n}t.exports=function(e){return{getLayerType:i(e),generateUUID:r,convertImageToCanvas:o,convertImagetoDataURL:a}}},{}],112:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){var n={},i=t.layers[0].legend.map(function(e){return e.then(function(e){return n[e.label]=e.svgcode})});return Promise.all(i).then(function(){switch(e.type){case w:e.svgcode=n[e.label];break;case x:e.defaultLabel&&(e.defaultsvgcode=n[e.defaultLabel]),e.uniqueValueInfos.forEach(function(e){e.svgcode=n[e.label]});break;case E:e.defaultLabel&&(e.defaultsvgcode=n[e.defaultLabel]),e.classBreakInfos.forEach(function(e){e.svgcode=n[e.label]})}})}function o(e,t){var n=void 0,i={};switch(t.type){case w:n=t.svgcode,i=t.symbol;break;case x:var r=null===e[t.field1]?"":e[t.field1];"string"!=typeof r&&(r=r.toString()),t.field2&&(r=r+", "+e[t.field2],t.field3&&(r=r+", "+e[t.field3]));var o=t.uniqueValueInfos.find(function(e){return e.value===r});o?(n=o.svgcode,i=o.symbol):(n=t.defaultsvgcode,i=t.defaultSymbol);break;case E:var a=parseFloat(e[t.field]),s=t.minValue;if(n=t.defaultsvgcode,i=t.defaultSymbol,a<s)break;var l=t.classBreakInfos.map(function(e){return e.classMaxValue});l.splice(0,0,s-1);var c=t.classBreakInfos.find(function(e,t){return a>l[t]&&a<=e.classMaxValue});if(!c)break;n=c.svgcode,i=c.symbol}return"undefined"==typeof n&&(n=b(document.createElement("div")).size(k,k).svg()),{svgcode:n,symbol:i}}function a(e,t){var n=o(e,t);return n.svgcode}function s(e,t){var n=o(e,t);return n.symbol}function l(e,t){var n=b(window.document.createElement("div")).size(k,k).viewbox(0,0,0,0),i={name:e,svgcode:null};if(t){var r=_.convertImagetoDataURL(t).then(function(e){return d(n,e)}).then(function(e){var t=e.loader;return n.viewbox(0,0,t.width,t.height),i.svgcode=n.svg(),i})["catch"](function(e){i.svgcode=n.svg()});return r}return i.svgcode=n.svg(),Promise.resolve(i)}function c(e){var t=arguments.length<=1||void 0===arguments[1]?"#000":arguments[1],n=b(window.document.createElement("div")).size(k,k).viewbox(0,0,k,k);return n.rect(S,S).center(M,M).fill(t),n.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(M,M),{name:e,svgcode:n.svg()}}function u(e,t,n){function i(e){return Object.assign({},u,e)}function r(e,t){var n=e.node.getBoundingClientRect(),i=t/Math.max(n.width,n.height);i<1&&e.scale(i)}function o(e){return e?{colour:"rgb("+e[0]+","+e[1]+","+e[2]+")",opacity:e[3]/255}:{colour:"rgb(0, 0, 0)",opacity:0}}var a=n.document.createElement("div");a.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),n.document.body.appendChild(a);var s=b(a).size(k,k).viewbox(0,0,k,k),l={esriSMSPath:function(e){var t=e.size,n=e.path;return s.path(n).size(t)},esriSMSCircle:function(e){var t=e.size;return s.circle(t)},esriSMSCross:function(e){var t=e.size;return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(t)},esriSMSX:function(e){var t=e.size;return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(t)},esriSMSTriangle:function(e){var t=e.size;return s.path("M 20,20 L 10,0 0,20 Z").size(t)},esriSMSDiamond:function(e){var t=e.size;return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(t)},esriSMSSquare:function(e){var t=e.size;return s.path("M 0,0 20,0 20,20 0,20 Z").size(t)}},c={esriSLSSolid:"none",esriSLSDash:"5.333,4",esriSLSDashDot:"5.333,4,1.333,4",esriSLSLongDashDotDot:"10.666,4,1.333,4,1.333,4",esriSLSDot:"1.333,4",esriSLSLongDash:"10.666,4",esriSLSLongDashDot:"10.666,4,1.333,4",esriSLSShortDash:"5.333,1.333",esriSLSShortDashDot:"5.333,1.333,1.333,1.333",esriSLSShortDashDotDot:"5.333,1.333,1.333,1.333,1.333,1.333",esriSLSShortDot:"1.333,1.333",esriSLSNull:"none"},u={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},h={color:[0,0,0,0],width:0,style:c.esriSLSNull},f={esriSFSSolid:function(e){return{color:e.colour,opacity:e.opacity}},esriSFSNull:function(){return"transparent"},esriSFSHorizontal:function(e,t){var n=5;return s.pattern(n,n,function(e){return e.line(0,n/2,n,n/2)}).stroke(t)},esriSFSVertical:function(e,t){var n=5;return s.pattern(n,n,function(e){return e.line(n/2,0,n/2,n)}).stroke(t)},esriSFSForwardDiagonal:function(e,t){var n=5;return s.pattern(n,n,function(e){e.line(0,0,n,n).stroke(t),e.line(0,0,n,n).move(0,n).stroke(t),e.line(0,0,n,n).move(n,0).stroke(t)})},esriSFSBackwardDiagonal:function(e,t){var n=5;return s.pattern(n,n,function(e){e.line(n,0,0,n).stroke(t),e.line(n,0,0,n).move(n/2,n/2).stroke(t),e.line(n,0,0,n).move(-n/2,-n/2).stroke(t)})},esriSFSCross:function(e,t){var n=5;return s.pattern(n,n,function(e){e.line(n/2,0,n/2,n).stroke(t),e.line(0,n/2,n,n/2).stroke(t)})},esriSFSDiagonalCross:function(e,t){var n=7;return s.pattern(n,n,function(e){e.line(0,0,n,n).stroke(t),e.line(n,0,0,n).stroke(t)})}},p={esriSMS:function(){var t=o(e.color);e.outline=e.outline||h;var n=o(e.outline.color),a=i({color:n.colour,opacity:n.opacity,width:e.outline.width,dasharray:c[e.outline.style]}),s=l[e.style](e).fill({color:t.colour,opacity:t.opacity}).stroke(a).center(M,M).rotate(e.angle||0);r(s,C)},esriSLS:function(){var t=o(e.color),n=i({color:t.colour,opacity:t.opacity,width:e.width,linecap:"butt",dasharray:c[e.style]}),r=A,a=k-A;s.line(r,r,a,a).stroke(n)},esriCLS:function(){this.esriSLS()},esriSFS:function(){var t=o(e.color),n=i({color:t.colour,opacity:t.opacity}),r=f[e.style](t,n);e.outline=e.outline||h;var a=o(e.outline.color),l=i({color:a.colour,opacity:a.opacity,width:e.outline.width,linecap:"butt",dasharray:c[e.outline.style]});s.rect(C,C).center(M,M).fill(r).stroke(l)},esriTS:function(){},esriPFS:function(){var t=e.imageData?"data:"+e.contentType+";base64,"+e.imageData:e.url,n=e.width*e.xscale,r=e.height*e.yscale;e.outline=e.outline||h;var a=o(e.outline.color),l=i({color:a.colour,opacity:a.opacity,width:e.outline.width,dasharray:c[e.outline.style]}),u=_.convertImagetoDataURL(t).then(function(e){var t=s.pattern(n,r,function(t){return t.image(e,n,r,!0)});s.rect(C,C).center(M,M).fill(t).stroke(l)});return u},esriPMS:function(){var t=e.imageData?"data:"+e.contentType+";base64,"+e.imageData:e.url,n=_.convertImagetoDataURL(t).then(function(e){return d(s,e)}).then(function(t){var n=t.image;n.center(M,M).rotate(e.angle||0),r(n,S)});return n}};return Promise.resolve(p[e.type]()).then(function(){return n.document.body.removeChild(a),{label:t,svgcode:s.svg()}})["catch"](function(e){})}function d(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]||arguments[4],o=new Promise(function(o,a){var s=e.image(t,n,i,r).loaded(function(e){return o({image:s,loader:e})}).error(function(e){a(e)})});return o}function h(e,t,n){var i=t.map(function(e){return u(e.symbol,e.label,n)});return e.defaultSymbol&&i.push(u(e.defaultSymbol,e.defaultLabel||"",n)),i}function f(e){return function(t,n){var i={layers:[{layerId:n,legend:[]}]};switch(t.type){case w:i.layers[0].legend.push(u(t.symbol,t.label,e));break;case x:i.layers[0].legend=h(t,t.uniqueValueInfos,e);break;case E:i.layers[0].legend=h(t,t.classBreakInfos,e)}return i}}function p(e,t){var n=t.esriRequest({url:e+"/legend",content:{f:"json"},callbackParamName:"callback",handleAs:"json"});return new Promise(function(e,t){n.then(function(n){n.error?t(n.error):e(n)},function(e){t(e)})})}function m(e,t){var n=e.layers.find(function(e){return e.layerId===t});return{type:"uniqueValue",uniqueValueInfos:n.legend.map(function(e){return{label:e.label,symbol:{type:"esriPMS",imageData:e.imageData,contentType:e.contentType}}})}}function g(e){var t,n=e.layers.map(function(e){return e.legend.map(function(e){return{label:e.label,symbol:{type:"esriPMS",imageData:e.imageData,contentType:e.contentType}}})});return{type:"uniqueValue",uniqueValueInfos:(t=[]).concat.apply(t,i(n))}}function v(e,t){return function(n,i){return p(n,e).then(function(e){var n=void 0,r=void 0;return"undefined"==typeof i?(r=0,n=g(e)):(r=parseInt(i),n=m(e,r)),t.symbology.rendererToLegend(n,r)})}}function y(e,t){var n=t,i=!1,r=Math.ceil(e.length/2),o=0,a=e.length-1;if(0===t)return e.length-1;for(;!i;)e[r].scale>=n?o=r:a=r,r=Math.floor((a+o)/2),a===o+1&&(i=!0);return r}var b=e("svg.js"),_=e("./shared.js")(),w="simple",x="uniqueValue",E="classBreaks",k=32,C=24,S=28,M=k/2,A=(k-C)/2;t.exports=function(e,t,n){return{getGraphicIcon:a,getGraphicSymbol:s,rendererToLegend:f(n),generatePlaceholderSymbology:c,generateWMSSymbology:l,getZoomLevel:y,enhanceRenderer:r,mapServerToLocalLegend:v(e,t)}}},{"./shared.js":111,"svg.js":75}]},{},[84])(84)});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var i=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,i,r=this.vars;for(i in r)n=r[i],l(n)&&n.join("").indexOf("{self}")!==-1&&(r[i]=this._swapSelfInParams(n));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,o=n._internals,a=i._internals={},s=o.isSelector,l=o.isArray,c=o.lazyTweens,u=o.lazyRender,d=_gsScope._gsDefine.globals,h=function(e){var t,n={};for(t in e)n[t]=e[t];return n},f=function(e,t,n){var i,r,o=e.cycle;for(i in o)r=o[i],e[i]="function"==typeof r?r(n,t[n]):r[n%r.length];delete e.cycle},p=a.pauseCallback=function(){},m=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},g=i.prototype=new t;return i.version="1.19.1",g.constructor=i,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(e,t,i,r){var o=i.repeat&&d.TweenMax||n;return t?this.add(new o(e,t,i),r):this.set(e,i,r)},g.from=function(e,t,i,r){return this.add((i.repeat&&d.TweenMax||n).from(e,t,i),r)},g.fromTo=function(e,t,i,r,o){var a=r.repeat&&d.TweenMax||n;return t?this.add(a.fromTo(e,t,i,r),o):this.set(e,r,o)},g.staggerTo=function(e,t,r,o,a,l,c,u){var d,p,g=new i({onComplete:l,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof e&&(e=n.selector(e)||e),e=e||[],s(e)&&(e=m(e)),o=o||0,o<0&&(e=m(e),e.reverse(),o*=-1),p=0;p<e.length;p++)d=h(r),d.startAt&&(d.startAt=h(d.startAt),d.startAt.cycle&&f(d.startAt,e,p)),v&&(f(d,e,p),null!=d.duration&&(t=d.duration,delete d.duration)),g.to(e[p],t,d,p*o);return this.add(g,a)},g.staggerFrom=function(e,t,n,i,r,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,i,r,o,a,s)},g.staggerFromTo=function(e,t,n,i,r,o,a,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,i,r,o,a,s,l)},g.call=function(e,t,i,r){return this.add(n.delayedCall(0,e,t,i),r)},g.set=function(e,t,i){return i=this._parseTimeOrLabel(i,0,!0),null==t.immediateRender&&(t.immediateRender=i===this._time&&!this._paused),this.add(new n(e,0,t),i)},i.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var r,o,a=new i(e),s=a._timeline;for(null==t&&(t=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,r=s._first;r;)o=r._next,t&&r instanceof n&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=o;return s.add(a,0),a},g.add=function(r,o,a,s){var c,u,d,h,f,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof e)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",s=s||0,c=o,u=r.length,d=0;d<u;d++)l(h=r[d])&&(h=new i({tweens:h})),this.add(h,c),"string"!=typeof h&&"function"!=typeof h&&("sequence"===a?c=h._startTime+h.totalDuration()/h._timeScale:"start"===a&&(h._startTime-=h.delay())),c+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=n.delayedCall(0,r)}if(t.prototype.add.call(this,r,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>r._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},g.remove=function(t){if(t instanceof e){this._remove(t,!1);var n=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:n._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&l(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,n){t.prototype._remove.call(this,e,n);var i=this._last;return i?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,n,i){return this.add(e,t||0,n,i)},g.appendMultiple=function(e,t,n,i){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,i)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,i,r){var o=n.delayedCall(0,p,i,r||this);return o.vars.onComplete=o.vars.onReverseComplete=t,o.data="isPause",this._hasPause=!0,this.add(o,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,n,i,r){var o;if(r instanceof e&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(o=r.length;--o>-1;)r[o]instanceof e&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof t&&null==this._labels[n]?t-this.duration():0,i);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(o=t.indexOf("="),o===-1)return null==this._labels[t]?i?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=o>1?this._parseTimeOrLabel(t.substr(0,o-1),0,i):this.duration()}return Number(t)+n},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var i,o,a,s,l,d,h,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._startTime,g=this._timeScale,v=this._paused;if(e>=f-1e-7&&e>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,e=f+1e-4;else if(e<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||e<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",
o=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,0===e&&o)for(i=this._first;i&&0===i._startTime;)i._duration||(o=!1),i=i._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=p)for(i=this._first;i&&i._startTime<=e&&!d;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(d=i),i=i._next;else for(i=this._last;i&&i._startTime>=e&&!d;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(d=i),i=i._prev;d&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==p&&this._first||n||l||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&e>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),h=this._time,h>=p)for(i=this._first;i&&(a=i._next,h===this._time&&(!this._paused||v));)(i._active||i._startTime<=h&&!i._paused&&!i._gc)&&(d===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=a;else for(i=this._last;i&&(a=i._prev,h===this._time&&(!this._paused||v));){if(i._active||i._startTime<=p&&!i._paused&&!i._gc){if(d===i){for(d=i._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,t,n),d=d._prev;d=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)}i=a}this._onUpdate&&(t||(c.length&&u(),this._callback("onUpdate"))),s&&(this._gc||m!==this._startTime&&g===this._timeScale||(0===this._time||f>=this.totalDuration())&&(o&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof i&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,i,r){r=r||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<r||(a instanceof n?t!==!1&&(o[s++]=a):(i!==!1&&(o[s++]=a),e!==!1&&(o=o.concat(a.getChildren(!0,t,i)),s=o.length))),a=a._next;return o},g.getTweensOf=function(e,t){var i,r,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=n.getTweensOf(e),r=i.length;--r>-1;)(i[r].timeline===this||t&&this._contains(i[r]))&&(a[s++]=i[r]);return o&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,n){n=n||0;for(var i,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(i in o)o[i]>=n&&(o[i]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(e,t)&&(r=!0);return r},g.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,n){if(e===this._gc)for(var i=this._first;i;)i._enabled(e,!0),i=i._next;return t.prototype._enabled.call(this,e,n)},g.totalTime=function(t,n,i){this._forcingPlayhead=!0;var r=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,i=0,r=this._last,o=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(i-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),n=r._startTime+r._totalDuration/r._timeScale,n>i&&(i=n),r=t;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},g.paused=function(t){if(!t)for(var n=this._first,i=this._time;n;)n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return e.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},i},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=t())}("TimelineLite"),function(e,t){"use strict";var n={},i=e.document,r=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!r.TweenLite){var o,a,s,l,c,u=function(e){var t,n=e.split("."),i=r;for(t=0;t<n.length;t++)i[n[t]]=i=i[n[t]]||{};return i},d=u("com.greensock"),h=1e-10,f=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},p=function(){},m=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),g={},v=function(i,o,a,s){this.sc=g[i]?g[i].sc:[],g[i]=this,this.gsClass=null,this.func=a;var l=[];this.check=function(c){for(var d,h,f,p,m,y=o.length,b=y;--y>-1;)(d=g[o[y]]||new v(o[y],[])).gsClass?(l[y]=d.gsClass,b--):c&&d.sc.push(this);if(0===b&&a){if(h=("com.greensock."+i).split("."),f=h.pop(),p=u(h.join("."))[f]=this.gsClass=a.apply(a,l),s)if(r[f]=n[f]=p,m="undefined"!=typeof module&&module.exports,!m&&"function"==typeof define&&define.amd)define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return p});else if(m)if(i===t){module.exports=n[t]=p;for(y in n)p[y]=n[y]}else n[t]&&(n[t][f]=p);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},y=e._gsDefine=function(e,t,n,i){return new v(e,t,n,i)},b=d._class=function(e,t,n){return t=t||function(){},y(e,[],function(){return t},n),t};y.globals=r;var _=[0,0,1,1],w=b("easing.Ease",function(e,t,n,i){this._func=e,this._type=n||0,this._power=i||0,this._params=t?_.concat(t):_},!0),x=w.map={},E=w.register=function(e,t,n,i){for(var r,o,a,s,l=t.split(","),c=l.length,u=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=l[c],r=i?b("easing."+o,null,!0):d.easing[o]||{},a=u.length;--a>-1;)s=u[a],x[o+"."+s]=x[s+o]=r[s]=e.getRatio?e:e[s]||new e};for(s=w.prototype,s._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,i=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===t?1-i:2===t?i:e<.5?i/2:1-i/2},o=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=o.length;--a>-1;)s=o[a]+",Power"+a,E(new w(null,null,1,a),s,"easeOut",!0),E(new w(null,null,2,a),s,"easeIn"+(0===a?",easeNone":"")),E(new w(null,null,3,a),s,"easeInOut");x.linear=d.easing.Linear.easeIn,x.swing=d.easing.Quad.easeInOut;var k=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});s=k.prototype,s.addEventListener=function(e,t,n,i,r){r=r||0;var o,a,s=this._listeners[e],u=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===t&&o.s===n?s.splice(a,1):0===u&&o.pr<r&&(u=a+1);s.splice(u,0,{c:t,s:n,up:i,pr:r})},s.removeEventListener=function(e,t){var n,i=this._listeners[e];if(i)for(n=i.length;--n>-1;)if(i[n].c===t)return void i.splice(n,1)},s.dispatchEvent=function(e){var t,n,i,r=this._listeners[e];if(r)for(t=r.length,t>1&&(r=r.slice(0)),n=this._eventTarget;--t>-1;)i=r[t],i&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var C=e.requestAnimationFrame,S=e.cancelAnimationFrame,M=Date.now||function(){return(new Date).getTime()},A=M();for(o=["ms","moz","webkit","o"],a=o.length;--a>-1&&!C;)C=e[o[a]+"RequestAnimationFrame"],S=e[o[a]+"CancelAnimationFrame"]||e[o[a]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,r,o,a,s,u=this,d=M(),f=!(t===!1||!C)&&"auto",m=500,g=33,v="tick",y=function(e){var t,i,l=M()-A;l>m&&(d+=l-g),A+=l,u.time=(A-d)/1e3,t=u.time-s,(!n||t>0||e===!0)&&(u.frame++,s+=t+(t>=a?.004:a-t),i=!0),e!==!0&&(o=r(y)),i&&u.dispatchEvent(v)};k.call(u),u.time=u.frame=0,u.tick=function(){y(!0)},u.lagSmoothing=function(e,t){m=e||1/h,g=Math.min(t,m,0)},u.sleep=function(){null!=o&&(f&&S?S(o):clearTimeout(o),r=p,o=null,u===l&&(c=!1))},u.wake=function(e){null!==o?u.sleep():e?d+=-A+(A=M()):u.frame>10&&(A=M()-m+5),r=0===n?p:f&&C?C:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(c=!0),y(2)},u.fps=function(e){return arguments.length?(n=e,a=1/(n||60),s=this.time+a,void u.wake()):n},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(n)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==i.visibilityState&&u.useRAF(!1)},1500)}),s=d.Ticker.prototype=new d.events.EventDispatcher,s.constructor=d.Ticker;var T=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,Y){c||l.wake();var n=this.vars.useFrames?W:Y;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=T.ticker=new d.Ticker,s=T.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var O=function(){c&&M()-A>2e3&&l.wake(),setTimeout(O,2e3)};O(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(e,t,n){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale},s._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(e,t){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},s._callback=function(e){var t=this.vars,n=t[e],i=t[e+"Params"],r=t[e+"Scope"]||t.callbackScope||this,o=i?i.length:0;switch(o){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},s.eventCallback=function(e,t,n,i){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=m(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,r[e+"Scope"]=i),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(e>i&&!n&&(e=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(D.length&&K(),this.render(e,t,!1),D.length&&K())}return this},s.progress=s.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||h,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;var t,n,i=this._timeline;return e!=this._paused&&i&&(c||e||l.wake(),t=i.rawTime(),n=t-this._pauseTime,!e&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=i.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var P=b("core.SimpleTimeline",function(e){T.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});s=P.prototype=new T,s.constructor=P,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(e,t,n,i){var r,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(o=e._startTime;r&&r._startTime>o;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)i=r._next,(r._active||e>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=i},s.rawTime=function(){return c||l.wake(),this._totalTime};var $=b("TweenLite",function(t,n,i){if(T.call(this,n,i),this.render=$.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:$.selector(t)||t;var r,o,a,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?G[$.defaultOverwrite]:"number"==typeof l?l>>0:G[l],(s||t instanceof Array||t.push&&m(t))&&"number"!=typeof t[0])for(this._targets=a=f(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)o=a[r],o?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(f(o))):(this._siblings[r]=Z(o,this,!1),1===l&&this._siblings[r].length>1&&Q(o,this,null,1,this._siblings[r])):(o=a[r--]=$.selector(o),"string"==typeof o&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===l&&this._siblings.length>1&&Q(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),L=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},I=function(e,t){var n,i={};for(n in e)V[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!H[n]||H[n]&&H[n]._autoCSS)||(i[n]=e[n],delete e[n]);e.css=i};s=$.prototype=new T,s.constructor=$,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,$.version="1.19.1",$.defaultEase=s._ease=new w(null,null,1,1),$.defaultOverwrite="auto",$.ticker=l,$.autoSleep=120,$.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},$.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?($.selector=n,n(t)):"undefined"==typeof i?t:i.querySelectorAll?i.querySelectorAll(t):i.getElementById("#"===t.charAt(0)?t.substr(1):t)};var D=[],N={},R=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.blob?1===e?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<i&&t>-i&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},j=function(e,t,n,i){var r,o,a,s,l,c,u,d=[],h=0,f="",p=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,r=e.match(R)||[],o=t.match(R)||[],i&&(i._next=null,i.blob=1,d._firstPT=d._applyPT=i),l=o.length,s=0;s<l;s++)u=o[s],c=t.substr(h,t.indexOf(u,h)-h),f+=c||!s?c:",",h+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),u===r[s]||r.length<=s?f+=u:(f&&(d.push(f),f=""),a=parseFloat(r[s]),d.push(a),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:p&&p<4?Math.round:0}),h+=u.length;return f+=t.substr(h),f&&d.push(f),d.setRatio=z,d},F=function(e,t,n,i,r,o,a,s,l){"function"==typeof i&&(i=i(l||0,e));var c,u=typeof e[t],d="function"!==u?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),h="get"!==n?n:d?a?e[d](a):e[d]():e[t],f="string"==typeof i&&"="===i.charAt(1),p={t:e,p:t,s:h,f:"function"===u,pg:0,n:r||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:f?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-h||0};if(("number"!=typeof h||"number"!=typeof i&&!f)&&(a||isNaN(h)||!f&&isNaN(i)||"boolean"==typeof h||"boolean"==typeof i?(p.fp=a,c=j(h,f?p.s+p.c:i,s||$.defaultStringFilter,p),p={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||t,pr:0,m:0}):(p.s=parseFloat(h),f||(p.c=parseFloat(i)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},B=$._internals={isArray:m,isSelector:L,lazyTweens:D,blobDif:j},H=$._plugins={},U=B.tweenLookup={},q=0,V=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},G={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},W=T._rootFramesTimeline=new P,Y=T._rootTimeline=new P,X=30,K=B.lazyRender=function(){var e,t=D.length;for(N={};--t>-1;)e=D[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);D.length=0};Y._startTime=l.time,W._startTime=l.frame,Y._active=W._active=!0,setTimeout(K,1),T._updateRoot=$.render=function(){var e,t,n;if(D.length&&K(),Y.render((l.time-Y._startTime)*Y._timeScale,!1,!1),W.render((l.frame-W._startTime)*W._timeScale,!1,!1),D.length&&K(),l.frame>=X){X=l.frame+(parseInt($.autoSleep,10)||120);for(n in U){for(t=U[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete U[n]}if(n=Y._first,(!n||n._paused)&&$.autoSleep&&!W._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",T._updateRoot);var Z=function(e,t,n){var i,r,o=e._gsTweenID;if(U[o||(e._gsTweenID=o="t"+q++)]||(U[o]={target:e,tweens:[]}),t&&(i=U[o].tweens,i[r=i.length]=t,n))for(;--r>-1;)i[r]===t&&i.splice(r,1);return U[o].tweens},J=function(e,t,n,i){var r,o,a=e.vars.onOverwrite;return a&&(r=a(e,t,n,i)),a=$.onOverwrite,a&&(o=a(e,t,n,i)),r!==!1&&o!==!1},Q=function(e,t,n,i,r){var o,a,s,l;if(1===i||i>=4){for(l=r.length,o=0;o<l;o++)if((s=r[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===i)break;return a}var c,u=t._startTime+h,d=[],f=0,p=0===t._duration;for(o=r.length;--o>-1;)(s=r[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ee(t,0,p),0===ee(s,c,p)&&(d[f++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((p||!s._initted)&&u-s._startTime<=2e-10||(d[f++]=s)));for(o=f;--o>-1;)if(s=d[o],2===i&&s._kill(n,e,t)&&(a=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!J(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ee=function(e,t,n){for(var i=e._timeline,r=i._timeScale,o=e._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=r,o>t?o-t:n&&o===t||!e._initted&&o-t<2*h?h:(o+=e.totalDuration()/e._timeScale/r)>t+h?0:o-t-h};s._init=function(){var e,t,n,i,r,o,a=this.vars,s=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(i in a.startAt)r[i]=a.startAt[i];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&a.lazy!==!1,r.startAt=r.delay=null,this._startAt=$.to(this.target,0,r),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),n={};for(i in a)V[i]&&"autoCSS"!==i||(n[i]=a[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&a.lazy!==!1,n.immediateRender=c,this._startAt=$.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof w?u:"function"==typeof u?new w(u,a.easeParams):x[u]||$.defaultEase:$.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&$._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},s._initProps=function(t,n,i,r,o){var a,s,l,c,u,d;if(null==t)return!1;N[t._gsTweenID]&&K(),this.vars.css||t.style&&t!==e&&t.nodeType&&H.css&&this.vars.autoCSS!==!1&&I(this.vars,t);for(a in this.vars)if(d=this.vars[a],V[a])d&&(d instanceof Array||d.push&&m(d))&&d.join("").indexOf("{self}")!==-1&&(this.vars[a]=d=this._swapSelfInParams(d,this));else if(H[a]&&(c=new H[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)n[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else n[a]=F.call(this,t,a,"get",d,a,0,null,this.vars.stringFilter,o);return r&&this._kill(r,t)?this._initProps(t,n,i,r,o):this._overwrite>1&&this._firstPT&&i.length>1&&Q(t,this,n,this._overwrite,i)?(this._kill(n,t),this._initProps(t,n,i,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),l)},s.render=function(e,t,n){var i,r,o,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(c<0||e<=0&&e>=-1e-7||c===h&&"isPause"!==this.data)&&c!==e&&(n=!0,c>h&&(r="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:h);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(r="onReverseComplete",i=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==h||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:h)),this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,d=this._easeType,f=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),1===d?this.ratio=1-u:2===d?this.ratio=u:e/l<.5?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,D.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,n),t||(this._time!==s||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===h&&a!==h&&(this._rawPrevTime=0)))}},s._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:$.selector(t)||t;var i,r,o,a,s,l,c,u,d,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((m(t)||L(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],n)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,u=e!==r&&"all"!==r&&e!==s&&("object"!=typeof e||!e._tempKill),n&&($.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(d||(d=[]),d.push(o));if((d||!e)&&!J(this,n,t,d))return!1}for(o in c)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),u&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&$._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],T.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},s._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=Z(i[n],this,!0);else this._siblings=Z(this.target,this,!0)}return T.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&$._onPluginEvent(e?"_onEnable":"_onDisable",this)},$.to=function(e,t,n){return new $(e,t,n)},$.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new $(e,t,n)},$.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new $(e,t,i)},$.delayedCall=function(e,t,n,i,r){return new $(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:i,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},$.set=function(e,t){return new $(e,0,t)},$.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:$.selector(e)||e;var n,i,r,o;if((m(e)||L(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];--n>-1;)i=i.concat($.getTweensOf(e[n],t));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else for(i=Z(e).concat(),n=i.length;--n>-1;)(i[n]._gc||t&&!i[n].isActive())&&i.splice(n,1);return i},$.killTweensOf=$.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var i=$.getTweensOf(e,t),r=i.length;--r>-1;)i[r]._kill(n,e)};var te=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=te.prototype},!0);if(s=te.prototype,te.version="1.19.0",te.API=2,s._firstPT=null,s._addTween=F,s.setRatio=z,s._kill=function(e){var t,n=this._overwriteProps,i=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;i;)null!=e[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},s._mod=s._roundProps=function(e){for(var t,n=this._firstPT;n;)t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},$._onPluginEvent=function(e,t){var n,i,r,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:o=s,s=a}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},te.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===te.API&&(H[(new e[t])._propName]=e[t]);return!0},y.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";
var t,n=e.propName,i=e.priority||0,r=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){te.call(this,n,i),this._overwriteProps=r||[]},e.global===!0),s=a.prototype=new te(n);s.constructor=a,a.API=e.API;for(t in o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,te.activate([a]),a},o=e._gsQueue){for(a=0;a<o.length;a++)o[a]();for(s in g)g[s].func||e.console.log("GSAP encountered missing dependency: "+s)}c=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,i,r,o,a=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},s=_gsScope._gsDefine.globals,l={},c=a.prototype=new e("css");c.constructor=a,a.version="1.19.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,d,h,f,p,m,g,v,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,k=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,M=/([A-Z])/g,A=/-([a-z])/gi,T=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(e,t){return t.toUpperCase()},P=/(?:Left|Right|Width)/i,$=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,N=Math.PI/180,R=180/Math.PI,z={},j={style:{}},F=_gsScope.document||{createElement:function(){return j}},B=function(e,t){return F.createElementNS?F.createElementNS(t||"http://www.w3.org/1999/xhtml",e):F.createElement(e)},H=B("div"),U=B("img"),q=a._internals={_specialProps:l},V=(_gsScope.navigator||{}).userAgent||"",G=function(){var e=V.indexOf("Android"),t=B("a");return h=V.indexOf("Safari")!==-1&&V.indexOf("Chrome")===-1&&(e===-1||parseFloat(V.substr(e+8,2))>3),p=h&&parseFloat(V.substr(V.indexOf("Version/")+8,2))<6,f=V.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(m=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),W=function(e){return E.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){_gsScope.console},X="",K="",Z=function(e,t){t=t||H;var n,i,r=t.style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+e];);return i>=0?(K=3===i?"ms":n[i],X="-"+K.toLowerCase()+"-",K+e):null},J=F.defaultView?F.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(e,t,n,i,r){var o;return G||"opacity"!==t?(!i&&e.style[t]?o=e.style[t]:(n=n||J(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(M,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):W(e)},ee=q.convertToPixels=function(e,n,i,r,o){if("px"===r||!r)return i;if("auto"===r||!i)return 0;var s,l,c,u=P.test(n),d=e,h=H.style,f=i<0,p=1===i;if(f&&(i=-i),p&&(i*=100),"%"===r&&n.indexOf("border")!==-1)s=i/100*(u?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+Q(e,"position")+";line-height:0;","%"!==r&&d.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)h[u?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(d=e.parentNode||F.body,l=d._gsCache,c=t.ticker.frame,l&&u&&l.time===c)return l.width*i/100;h[u?"width":"height"]=i+r}d.appendChild(H),s=parseFloat(H[u?"offsetWidth":"offsetHeight"]),d.removeChild(H),u&&"%"===r&&a.cacheWidths!==!1&&(l=d._gsCache=d._gsCache||{},l.time=c,l.width=s/i*100),0!==s||o||(s=ee(e,n,i,r,!0))}return p&&(s/=100),f?-s:s},te=q.calculateOffset=function(e,t,n){if("absolute"!==Q(e,"position",n))return 0;var i="left"===t?"Left":"Top",r=Q(e,"margin"+i,n);return e["offset"+i]-(ee(e,t,parseFloat(r),r.replace(x,""))||0)},ne=function(e,t){var n,i,r,o={};if(t=t||J(e,null))if(n=t.length)for(;--n>-1;)r=t[n],r.indexOf("-transform")!==-1&&Te!==r||(o[r.replace(A,O)]=t.getPropertyValue(r));else for(n in t)n.indexOf("Transform")!==-1&&Ae!==n||(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(A,O)]=t[n]);return G||(o.opacity=W(e)),i=Ue(e,t,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,Pe&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},ie=function(e,t,n,i,r){var o,a,s,l={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||r&&r[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(l[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(w,"")?o:0:te(e,a),void 0!==c[a]&&(s=new ye(c,a,c[a],s))));if(i)for(a in i)"className"!==a&&(l[a]=i[a]);return{difs:l,firstMPT:s}},re={width:["Left","Right"],height:["Top","Bottom"]},oe=["marginLeft","marginRight","marginTop","marginBottom"],ae=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||J(e))[t]||0;if(e.getCTM&&Fe(e))return e.getBBox()[t]||0;var i=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=re[t],o=r.length;for(n=n||J(e,null);--o>-1;)i-=parseFloat(Q(e,"padding"+r[o],n,!0))||0,i-=parseFloat(Q(e,"border"+r[o]+"Width",n,!0))||0;return i},se=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,i=e.split(" "),r=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":i[0],o=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":i[1];if(i.length>3&&!t){for(i=e.split(", ").join(",").split(","),e=[],n=0;n<i.length;n++)e.push(se(i[n]));return e.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),e=r+" "+o+(i.length>2?" "+i[2]:""),t&&(t.oxp=r.indexOf("%")!==-1,t.oyp=o.indexOf("%")!==-1,t.oxr="="===r.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(r.replace(w,"")),t.oy=parseFloat(o.replace(w,"")),t.v=e),t||e},le=function(e,t){return"function"==typeof e&&(e=e(v,g)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},ce=function(e,t){return"function"==typeof e&&(e=e(v,g)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ue=function(e,t,n,i){var r,o,a,s,l,c=1e-6;return"function"==typeof e&&(e=e(v,g)),null==e?s=t:"number"==typeof e?s=e:(r=360,o=e.split("_"),l="="===e.charAt(1),a=(l?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(e.indexOf("rad")===-1?1:R)-(l?0:t),o.length&&(i&&(i[n]=t+a),e.indexOf("short")!==-1&&(a%=r,a!==a%(r/2)&&(a=a<0?a+r:a-r)),e.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*r)%r-(a/r|0)*r:e.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),s=t+a),s<c&&s>-c&&(s=0),s},de={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,n){return e=e<0?e+1:e>1?e-1:e,255*(6*e<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},fe=a.parseColor=function(e,t){var n,i,r,o,a,s,l,c,u,d,h;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),de[e])n=de[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),r=e.charAt(2),o=e.charAt(3),e="#"+i+i+r+r+o+o),e=parseInt(e.substr(1),16),n=[e>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=h=e.match(y),t){if(e.indexOf("=")!==-1)return e.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,l=Number(n[2])/100,r=l<=.5?l*(s+1):l+s-l*s,i=2*l-r,n.length>3&&(n[3]=Number(e[3])),n[0]=he(a+1/3,i,r),n[1]=he(a,i,r),n[2]=he(a-1/3,i,r);else n=e.match(y)||de.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=de.black;return t&&!h&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,c=Math.max(i,r,o),u=Math.min(i,r,o),l=(c+u)/2,c===u?a=s=0:(d=c-u,s=l>.5?d/(2-c-u):d/(c+u),a=c===i?(r-o)/d+(r<o?6:0):c===r?(o-i)/d+2:(i-r)/d+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},pe=function(e,t){var n,i,r,o=e.match(me)||[],a=0,s=o.length?"":e;for(n=0;n<o.length;n++)i=o[n],r=e.substr(a,e.indexOf(i,a)-a),a+=r.length+i.length,i=fe(i,t),3===i.length&&i.push(1),s+=r+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+e.substr(a)},me="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in de)me+="|"+c+"\\b";me=new RegExp(me+")","gi"),a.colorStringFilter=function(e){var t,n=e[0]+e[1];me.test(n)&&(t=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,e[0]=pe(e[0],t),e[1]=pe(e[1],t)),me.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=a.colorStringFilter);var ge=function(e,t,n,i){if(null==e)return function(e){return e};var r,o=t?(e.match(me)||[""])[0]:"",a=e.split(o).join("").match(_)||[],s=e.substr(0,e.indexOf(a[0])),l=")"===e.charAt(e.length-1)?")":"",c=e.indexOf(" ")!==-1?" ":",",u=a.length,d=u>0?a[0].replace(y,""):"";return u?r=t?function(e){var t,h,f,p;if("number"==typeof e)e+=d;else if(i&&I.test(e)){for(p=e.replace(I,"|").split("|"),f=0;f<p.length;f++)p[f]=r(p[f]);return p.join(",")}if(t=(e.match(me)||[o])[0],h=e.split(t).join("").match(_)||[],f=h.length,u>f--)for(;++f<u;)h[f]=n?h[(f-1)/2|0]:a[f];return s+h.join(c)+c+t+l+(e.indexOf("inset")!==-1?" inset":"")}:function(e){var t,o,h;if("number"==typeof e)e+=d;else if(i&&I.test(e)){for(o=e.replace(I,"|").split("|"),h=0;h<o.length;h++)o[h]=r(o[h]);return o.join(",")}if(t=e.match(_)||[],h=t.length,u>h--)for(;++h<u;)t[h]=n?t[(h-1)/2|0]:a[h];return s+t.join(c)+l}:function(e){return e}},ve=function(e){return e=e.split(","),function(t,n,i,r,o,a,s){var l,c=(n+"").split(" ");for(s={},l=0;l<4;l++)s[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(t,s,o,a)}},ye=(q._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,r,o,a=this.data,s=a.proxy,l=a.firstMPT,c=1e-6;l;)t=s[l.v],l.r?t=Math.round(t):t<c&&t>-c&&(t=0),l.t[l.p]=t,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===e||0===e)for(l=a.firstMPT,o=1===e?"e":"b";l;){if(n=l.t,n.type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;l=l._next}},function(e,t,n,i,r){this.t=e,this.p=t,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),be=(q._parseToProxy=function(e,t,n,i,r,o){var a,s,l,c,u,d=i,h={},f={},p=n._transform,m=z;for(n._transform=null,z=t,i=u=n.parse(e,t,i,r),z=m,o&&(n._transform=p,d&&(d._prev=null,d._prev&&(d._prev._next=null)));i&&i!==d;){if(i.type<=1&&(s=i.p,f[s]=i.s+i.c,h[s]=i.s,o||(c=new ye(i,"s",s,c,i.r),i.c=0),1===i.type))for(a=i.l;--a>0;)l="xn"+a,s=i.p+"_"+l,f[s]=i.data[l],h[s]=i[l],o||(c=new ye(i,l,s,c,i.rxp[l]));i=i._next}return{proxy:h,end:f,firstMPT:c,pt:u}},q.CSSPropTween=function(e,t,i,r,a,s,l,c,u,d,h){this.t=e,this.p=t,this.s=i,this.c=r,this.n=l||t,e instanceof be||o.push(this.n),this.r=c,this.type=s||0,u&&(this.pr=u,n=!0),this.b=void 0===d?i:d,this.e=void 0===h?i+r:h,a&&(this._next=a,a._prev=this)}),_e=function(e,t,n,i,r,o){var a=new be(e,t,n,i-n,r,(-1),o);return a.b=n,a.e=a.xs0=i,a},we=a.parseComplex=function(e,t,n,i,r,o,s,l,c,d){n=n||o||"","function"==typeof i&&(i=i(v,g)),s=new be(e,t,0,0,s,d?2:1,null,(!1),l,n,i),i+="",r&&me.test(i+n)&&(i=[n,i],a.colorStringFilter(i),n=i[0],i=i[1]);var h,f,p,m,_,w,x,E,k,C,S,M,A,T=n.split(", ").join(",").split(" "),O=i.split(", ").join(",").split(" "),P=T.length,$=u!==!1;for(i.indexOf(",")===-1&&n.indexOf(",")===-1||(T=T.join(" ").replace(I,", ").split(" "),O=O.join(" ").replace(I,", ").split(" "),P=T.length),P!==O.length&&(T=(o||"").split(" "),P=T.length),s.plugin=c,s.setRatio=d,me.lastIndex=0,h=0;h<P;h++)if(m=T[h],_=O[h],E=parseFloat(m),E||0===E)s.appendXtra("",E,le(_,E),_.replace(b,""),$&&_.indexOf("px")!==-1,!0);else if(r&&me.test(m))M=_.indexOf(")")+1,M=")"+(M?_.substr(M):""),A=_.indexOf("hsl")!==-1&&G,m=fe(m,A),_=fe(_,A),k=m.length+_.length>6,k&&!G&&0===_[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(O[h]).join("transparent")):(G||(k=!1),A?s.appendXtra(k?"hsla(":"hsl(",m[0],le(_[0],m[0]),",",!1,!0).appendXtra("",m[1],le(_[1],m[1]),"%,",!1).appendXtra("",m[2],le(_[2],m[2]),k?"%,":"%"+M,!1):s.appendXtra(k?"rgba(":"rgb(",m[0],_[0]-m[0],",",!0,!0).appendXtra("",m[1],_[1]-m[1],",",!0).appendXtra("",m[2],_[2]-m[2],k?",":M,!0),k&&(m=m.length<4?1:m[3],s.appendXtra("",m,(_.length<4?1:_[3])-m,M,!1))),me.lastIndex=0;else if(w=m.match(y)){if(x=_.match(b),!x||x.length!==w.length)return s;for(p=0,f=0;f<w.length;f++)S=w[f],C=m.indexOf(S,p),s.appendXtra(m.substr(p,C-p),Number(S),le(x[f],S),"",$&&"px"===m.substr(C+S.length,2),0===f),p=C+S.length;s["xs"+s.l]+=m.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+_:_;if(i.indexOf("=")!==-1&&s.data){for(M=s.xs0+s.data.s,h=1;h<s.l;h++)M+=s["xs"+h]+s.data["xn"+h];s.e=M+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},xe=9;for(c=be.prototype,c.l=c.pr=0;--xe>0;)c["xn"+xe]=0,c["xs"+xe]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,n,i,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=r,a["xn"+s]=t,a.plugin||(a.xfirst=new be(a,"xn"+s,t,n,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=r,a)):(a["xs"+s]+=t+(i||""),a)};var Ee=function(e,t){t=t||{},this.p=t.prefix?Z(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||ge(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ke=q._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var i,r,o=e.split(","),a=t.defaultValue;for(n=n||[a],i=0;i<o.length;i++)t.prefix=0===i&&t.prefix,t.defaultValue=n[i]||a,r=new Ee(o[i],t)},Ce=q._registerPluginProp=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ke(e,{parser:function(e,n,i,r,o,a,c){var u=s.com.greensock.plugins[t];return u?(u._cssRegister(),l[i].parse(e,n,i,r,o,a,c)):(Y("Error: "+t+" js file not loaded."),o)}})}};c=Ee.prototype,c.parseComplex=function(e,t,n,i,r,o){var a,s,l,c,u,d,h=this.keyword;if(this.multi&&(I.test(n)||I.test(t)?(s=t.replace(I,"|").split("|"),l=n.replace(I,"|").split("|")):h&&(s=[t],l=[n])),l){for(c=l.length>s.length?l.length:s.length,a=0;a<c;a++)t=s[a]=s[a]||this.dflt,n=l[a]=l[a]||this.dflt,h&&(u=t.indexOf(h),d=n.indexOf(h),u!==d&&(d===-1?s[a]=s[a].split(h).join(""):u===-1&&(s[a]+=" "+h)));t=s.join(", "),n=l.join(", ")}return we(e,this.p,t,n,this.clrs,this.dflt,i,this.pr,r,o)},c.parse=function(e,t,n,i,o,a,s){return this.parseComplex(e.style,this.format(Q(e,this.p,r,!1,this.dflt)),this.format(t),o,a)},a.registerSpecialProp=function(e,t,n){ke(e,{parser:function(e,i,r,o,a,s,l){var c=new be(e,r,0,0,a,2,r,(!1),n);return c.plugin=s,c.setRatio=t(e,i,o._tween,r),c},priority:n})},a.useSVGTransformAttr=!0;var Se,Me="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ae=Z("transform"),Te=X+"transform",Oe=Z("transformOrigin"),Pe=null!==Z("perspective"),$e=q.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!Pe)&&(a.defaultForce3D||"auto")},Le=_gsScope.SVGElement,Ie=function(e,t,n){var i,r=F.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return t.appendChild(r),r},De=F.documentElement||{},Ne=function(){var e,t,n,i=m||/Android/i.test(V)&&!_gsScope.chrome;return F.createElementNS&&!i&&(e=Ie("svg",De),t=Ie("rect",e,{width:100,height:50,x:100}),n=t.getBoundingClientRect().width,t.style[Oe]="50% 50%",t.style[Ae]="scaleX(0.5)",i=n===t.getBoundingClientRect().width&&!(f&&Pe),De.removeChild(e)),i}(),Re=function(e,t,n,i,r,o){var s,l,c,u,d,h,f,p,m,g,v,y,b,_,w=e._gsTransform,x=He(e,!0);w&&(b=w.xOrigin,_=w.yOrigin),(!i||(s=i.split(" ")).length<2)&&(f=e.getBBox(),0===f.x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),t=se(t).split(" "),s=[(t[0].indexOf("%")!==-1?parseFloat(t[0])/100*f.width:parseFloat(t[0]))+f.x,(t[1].indexOf("%")!==-1?parseFloat(t[1])/100*f.height:parseFloat(t[1]))+f.y]),n.xOrigin=u=parseFloat(s[0]),n.yOrigin=d=parseFloat(s[1]),i&&x!==Be&&(h=x[0],f=x[1],p=x[2],m=x[3],g=x[4],v=x[5],y=h*m-f*p,y&&(l=u*(m/y)+d*(-p/y)+(p*v-m*g)/y,c=u*(-f/y)+d*(h/y)-(h*v-f*g)/y,u=n.xOrigin=s[0]=l,d=n.yOrigin=s[1]=c)),w&&(o&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),r||r!==!1&&a.defaultSmoothOrigin!==!1?(l=u-b,c=d-_,w.xOffset+=l*x[0]+c*x[2]-l,w.yOffset+=l*x[1]+c*x[3]-c):w.xOffset=w.yOffset=0),o||e.setAttribute("data-svg-origin",s.join(" "))},ze=function(e){var t,n=B("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(De.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=ze}catch(a){}else this._originalGetBBox&&(t=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),De.removeChild(n),this.style.cssText=o,t},je=function(e){try{return e.getBBox()}catch(t){return ze.call(e,!0)}},Fe=function(e){return!(!(Le&&e.getCTM&&je(e))||e.parentNode&&!e.ownerSVGElement)},Be=[1,0,0,1,0,0],He=function(e,t){var n,i,r,o,a,s,l=e._gsTransform||new $e,c=1e5,u=e.style;if(Ae?i=Q(e,Te,null,!0):e.currentStyle&&(i=e.currentStyle.filter.match($),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,n&&Ae&&((s="none"===J(e).display)||!e.parentNode)&&(s&&(o=u.display,u.display="block"),e.parentNode||(a=1,De.appendChild(e)),i=Q(e,Te,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?u.display=o:s&&We(u,"display"),a&&De.removeChild(e)),(l.svg||e.getCTM&&Fe(e))&&(n&&(u[Ae]+"").indexOf("matrix")!==-1&&(i=u[Ae],n=0),r=e.getAttribute("transform"),n&&r&&(r.indexOf("matrix")!==-1?(i=r,n=0):r.indexOf("translate")!==-1&&(i="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Be;for(r=(i||"").match(y)||[],xe=r.length;--xe>-1;)o=Number(r[xe]),r[xe]=(a=o-(o|=0))?(a*c+(a<0?-.5:.5)|0)/c+o:o;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ue=q.getTransform=function(e,n,i,r){if(e._gsTransform&&i&&!r)return e._gsTransform;var o,s,l,c,u,d,h=i?e._gsTransform||new $e:new $e,f=h.scaleX<0,p=2e-5,m=1e5,g=Pe?parseFloat(Q(e,Oe,n,!1,"0 0 0").split(" ")[2])||h.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(h.svg=!(!e.getCTM||!Fe(e)),h.svg&&(Re(e,Q(e,Oe,n,!1,"50% 50%")+"",h,e.getAttribute("data-svg-origin")),Se=a.useSVGTransformAttr||Ne),o=He(e),o!==Be){if(16===o.length){var y,b,_,w,x,E=o[0],k=o[1],C=o[2],S=o[3],M=o[4],A=o[5],T=o[6],O=o[7],P=o[8],$=o[9],L=o[10],I=o[12],D=o[13],N=o[14],z=o[11],j=Math.atan2(T,L);h.zOrigin&&(N=-h.zOrigin,I=P*N-o[12],D=$*N-o[13],N=L*N+h.zOrigin-o[14]),h.rotationX=j*R,j&&(w=Math.cos(-j),x=Math.sin(-j),y=M*w+P*x,b=A*w+$*x,_=T*w+L*x,P=M*-x+P*w,$=A*-x+$*w,L=T*-x+L*w,z=O*-x+z*w,M=y,A=b,T=_),j=Math.atan2(-C,L),h.rotationY=j*R,j&&(w=Math.cos(-j),x=Math.sin(-j),y=E*w-P*x,b=k*w-$*x,_=C*w-L*x,$=k*x+$*w,L=C*x+L*w,z=S*x+z*w,E=y,k=b,C=_),j=Math.atan2(k,E),h.rotation=j*R,j&&(w=Math.cos(-j),x=Math.sin(-j),E=E*w+M*x,b=k*w+A*x,A=k*-x+A*w,T=C*-x+T*w,k=b),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),h.scaleX=(Math.sqrt(E*E+k*k)*m+.5|0)/m,h.scaleY=(Math.sqrt(A*A+$*$)*m+.5|0)/m,h.scaleZ=(Math.sqrt(T*T+L*L)*m+.5|0)/m,h.rotationX||h.rotationY?h.skewX=0:(h.skewX=M||A?Math.atan2(M,A)*R+h.rotation:h.skewX||0,Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(f?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180))),h.perspective=z?1/(z<0?-z:z):0,h.x=I,h.y=D,h.z=N,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*E-h.yOrigin*M),h.y-=h.yOrigin-(h.yOrigin*k-h.xOrigin*A))}else if(!Pe||r||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var F=o.length>=6,B=F?o[0]:1,H=o[1]||0,U=o[2]||0,q=F?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,l=Math.sqrt(B*B+H*H),c=Math.sqrt(q*q+U*U),u=B||H?Math.atan2(H,B)*R:h.rotation||0,d=U||q?Math.atan2(U,q)*R+u:h.skewX||0,Math.abs(d)>90&&Math.abs(d)<270&&(f?(l*=-1,d+=u<=0?180:-180,u+=u<=0?180:-180):(c*=-1,d+=d<=0?180:-180)),h.scaleX=l,h.scaleY=c,h.rotation=u,h.skewX=d,Pe&&(h.rotationX=h.rotationY=h.z=0,h.perspective=v,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*B+h.yOrigin*U),h.y-=h.yOrigin-(h.xOrigin*H+h.yOrigin*q))}h.zOrigin=g;for(s in h)h[s]<p&&h[s]>-p&&(h[s]=0)}return i&&(e._gsTransform=h,h.svg&&(Se&&e.style[Ae]?t.delayedCall(.001,function(){We(e.style,Ae)}):!Se&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),h},qe=function(e){var t,n,i=this.data,r=-i.rotation*N,o=r+i.skewX*N,a=1e5,s=(Math.cos(r)*i.scaleX*a|0)/a,l=(Math.sin(r)*i.scaleX*a|0)/a,c=(Math.sin(o)*-i.scaleY*a|0)/a,u=(Math.cos(o)*i.scaleY*a|0)/a,d=this.t.style,h=this.t.currentStyle;if(h){n=l,l=-c,c=-n,t=h.filter,d.filter="";var f,p,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==h.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+u,_=i.x+g*i.xPercent/100,w=i.y+v*i.yPercent/100;if(null!=i.ox&&(f=(i.oxp?g*i.ox*.01:i.ox)-g/2,p=(i.oyp?v*i.oy*.01:i.oy)-v/2,_+=f-(f*s+p*l),w+=p-(f*c+p*u)),y?(f=g/2,p=v/2,b+=", Dx="+(f-(f*s+p*l)+_)+", Dy="+(p-(f*c+p*u)+w)+")"):b+=", sizingMethod='auto expand')",t.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?d.filter=t.replace(L,b):d.filter=b+" "+t,0!==e&&1!==e||1===s&&0===l&&0===c&&1===u&&(y&&b.indexOf("Dx=0, Dy=0")===-1||E.test(t)&&100!==parseFloat(RegExp.$1)||t.indexOf(t.indexOf("Alpha"))===-1&&d.removeAttribute("filter")),!y){var k,C,S,M=m<8?1:-1;for(f=i.ieOffsetX||0,p=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(l<0?-l:l)*v))/2+_),i.ieOffsetY=Math.round((v-((u<0?-u:u)*v+(c<0?-c:c)*g))/2+w),xe=0;xe<4;xe++)C=oe[xe],k=h[C],n=k.indexOf("px")!==-1?parseFloat(k):ee(this.t,C,parseFloat(k),k.replace(x,""))||0,S=n!==i[C]?xe<2?-i.ieOffsetX:-i.ieOffsetY:xe<2?f-i.ieOffsetX:p-i.ieOffsetY,d[C]=(i[C]=Math.round(n-S*(0===xe||2===xe?1:M)))+"px"}}},Ve=q.set3DTransformRatio=q.setTransformRatio=function(e){var t,n,i,r,o,a,s,l,c,u,d,h,p,m,g,v,y,b,_,w,x,E,k,C=this.data,S=this.t.style,M=C.rotation,A=C.rotationX,T=C.rotationY,O=C.scaleX,P=C.scaleY,$=C.scaleZ,L=C.x,I=C.y,D=C.z,R=C.svg,z=C.perspective,j=C.force3D,F=C.skewY,B=C.skewX;if(F&&(B+=F,M+=F),((1===e||0===e)&&"auto"===j&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!j)&&!D&&!z&&!T&&!A&&1===$||Se&&R||!Pe)return void(M||B||R?(M*=N,E=B*N,k=1e5,n=Math.cos(M)*O,o=Math.sin(M)*O,i=Math.sin(M-E)*-P,a=Math.cos(M-E)*P,E&&"simple"===C.skewType&&(t=Math.tan(E-F*N),t=Math.sqrt(1+t*t),i*=t,a*=t,F&&(t=Math.tan(F*N),t=Math.sqrt(1+t*t),n*=t,o*=t)),R&&(L+=C.xOrigin-(C.xOrigin*n+C.yOrigin*i)+C.xOffset,I+=C.yOrigin-(C.xOrigin*o+C.yOrigin*a)+C.yOffset,Se&&(C.xPercent||C.yPercent)&&(g=this.t.getBBox(),L+=.01*C.xPercent*g.width,I+=.01*C.yPercent*g.height),g=1e-6,L<g&&L>-g&&(L=0),I<g&&I>-g&&(I=0)),_=(n*k|0)/k+","+(o*k|0)/k+","+(i*k|0)/k+","+(a*k|0)/k+","+L+","+I+")",R&&Se?this.t.setAttribute("transform","matrix("+_):S[Ae]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+_):S[Ae]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+P+","+L+","+I+")");if(f&&(g=1e-4,O<g&&O>-g&&(O=$=2e-5),P<g&&P>-g&&(P=$=2e-5),!z||C.z||C.rotationX||C.rotationY||(z=0)),M||B)M*=N,v=n=Math.cos(M),y=o=Math.sin(M),B&&(M-=B*N,v=Math.cos(M),y=Math.sin(M),"simple"===C.skewType&&(t=Math.tan((B-F)*N),t=Math.sqrt(1+t*t),v*=t,y*=t,C.skewY&&(t=Math.tan(F*N),t=Math.sqrt(1+t*t),n*=t,o*=t))),i=-y,a=v;else{if(!(T||A||1!==$||z||R))return void(S[Ae]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+I+"px,"+D+"px)"+(1!==O||1!==P?" scale("+O+","+P+")":""));n=a=1,i=o=0}u=1,r=s=l=c=d=h=0,p=z?-1/z:0,m=C.zOrigin,g=1e-6,w=",",x="0",M=T*N,M&&(v=Math.cos(M),y=Math.sin(M),l=-y,d=p*-y,r=n*y,s=o*y,u=v,p*=v,n*=v,o*=v),M=A*N,M&&(v=Math.cos(M),y=Math.sin(M),t=i*v+r*y,b=a*v+s*y,c=u*y,h=p*y,r=i*-y+r*v,s=a*-y+s*v,u*=v,p*=v,i=t,a=b),1!==$&&(r*=$,s*=$,u*=$,p*=$),1!==P&&(i*=P,a*=P,c*=P,h*=P),1!==O&&(n*=O,o*=O,l*=O,d*=O),(m||R)&&(m&&(L+=r*-m,I+=s*-m,D+=u*-m+m),R&&(L+=C.xOrigin-(C.xOrigin*n+C.yOrigin*i)+C.xOffset,I+=C.yOrigin-(C.xOrigin*o+C.yOrigin*a)+C.yOffset),L<g&&L>-g&&(L=x),I<g&&I>-g&&(I=x),D<g&&D>-g&&(D=0)),_=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",_+=(n<g&&n>-g?x:n)+w+(o<g&&o>-g?x:o)+w+(l<g&&l>-g?x:l),_+=w+(d<g&&d>-g?x:d)+w+(i<g&&i>-g?x:i)+w+(a<g&&a>-g?x:a),A||T||1!==$?(_+=w+(c<g&&c>-g?x:c)+w+(h<g&&h>-g?x:h)+w+(r<g&&r>-g?x:r),_+=w+(s<g&&s>-g?x:s)+w+(u<g&&u>-g?x:u)+w+(p<g&&p>-g?x:p)+w):_+=",0,0,0,0,1,0,",_+=L+w+I+w+D+w+(z?1+-D/z:1)+")",S[Ae]=_};c=$e.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,ke("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,i,o,s,l){if(i._lastParsedTransform===l)return o;i._lastParsedTransform=l;var c,u=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[n]&&(c=l[n],l[n]=t),u&&(l.scale=u(v,e));var d,h,f,p,m,y,b,_,w,x=e._gsTransform,E=e.style,k=1e-6,C=Me.length,S=l,M={},A="transformOrigin",T=Ue(e,r,!0,S.parseTransform),O=S.transform&&("function"==typeof S.transform?S.transform(v,g):S.transform);if(i._transform=T,O&&"string"==typeof O&&Ae)h=H.style,h[Ae]=O,h.display="block",h.position="absolute",F.body.appendChild(H),d=Ue(H,null,!1),T.svg&&(y=T.xOrigin,b=T.yOrigin,d.x-=T.xOffset,d.y-=T.yOffset,(S.transformOrigin||S.svgOrigin)&&(O={},Re(e,se(S.transformOrigin),O,S.svgOrigin,S.smoothOrigin,!0),y=O.xOrigin,b=O.yOrigin,d.x-=O.xOffset-T.xOffset,d.y-=O.yOffset-T.yOffset),(y||b)&&(_=He(H,!0),d.x-=y-(y*_[0]+b*_[2]),d.y-=b-(y*_[1]+b*_[3]))),F.body.removeChild(H),d.perspective||(d.perspective=T.perspective),null!=S.xPercent&&(d.xPercent=ce(S.xPercent,T.xPercent)),null!=S.yPercent&&(d.yPercent=ce(S.yPercent,T.yPercent));else if("object"==typeof S){if(d={scaleX:ce(null!=S.scaleX?S.scaleX:S.scale,T.scaleX),scaleY:ce(null!=S.scaleY?S.scaleY:S.scale,T.scaleY),scaleZ:ce(S.scaleZ,T.scaleZ),x:ce(S.x,T.x),y:ce(S.y,T.y),z:ce(S.z,T.z),xPercent:ce(S.xPercent,T.xPercent),yPercent:ce(S.yPercent,T.yPercent),perspective:ce(S.transformPerspective,T.perspective)},m=S.directionalRotation,null!=m)if("object"==typeof m)for(h in m)S[h]=m[h];else S.rotation=m;"string"==typeof S.x&&S.x.indexOf("%")!==-1&&(d.x=0,d.xPercent=ce(S.x,T.xPercent)),"string"==typeof S.y&&S.y.indexOf("%")!==-1&&(d.y=0,d.yPercent=ce(S.y,T.yPercent)),d.rotation=ue("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:T.rotation,T.rotation,"rotation",M),Pe&&(d.rotationX=ue("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":T.rotationX||0,T.rotationX,"rotationX",M),d.rotationY=ue("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":T.rotationY||0,T.rotationY,"rotationY",M)),d.skewX=ue(S.skewX,T.skewX),d.skewY=ue(S.skewY,T.skewY)}for(Pe&&null!=S.force3D&&(T.force3D=S.force3D,p=!0),T.skewType=S.skewType||T.skewType||a.defaultSkewType,f=T.force3D||T.z||T.rotationX||T.rotationY||d.z||d.rotationX||d.rotationY||d.perspective,f||null==S.scale||(d.scaleZ=1);--C>-1;)w=Me[C],O=d[w]-T[w],(O>k||O<-k||null!=S[w]||null!=z[w])&&(p=!0,o=new be(T,w,T[w],O,o),w in M&&(o.e=M[w]),o.xs0=0,o.plugin=s,i._overwriteProps.push(o.n));return O=S.transformOrigin,T.svg&&(O||S.svgOrigin)&&(y=T.xOffset,b=T.yOffset,Re(e,se(O),d,S.svgOrigin,S.smoothOrigin),o=_e(T,"xOrigin",(x?T:d).xOrigin,d.xOrigin,o,A),o=_e(T,"yOrigin",(x?T:d).yOrigin,d.yOrigin,o,A),y===T.xOffset&&b===T.yOffset||(o=_e(T,"xOffset",x?y:T.xOffset,T.xOffset,o,A),o=_e(T,"yOffset",x?b:T.yOffset,T.yOffset,o,A)),O="0px 0px"),(O||Pe&&f&&T.zOrigin)&&(Ae?(p=!0,w=Oe,O=(O||Q(e,w,r,!1,"50% 50%"))+"",o=new be(E,w,0,0,o,(-1),A),o.b=E[w],o.plugin=s,Pe?(h=T.zOrigin,O=O.split(" "),T.zOrigin=(O.length>2&&(0===h||"0px"!==O[2])?parseFloat(O[2]):h)||0,o.xs0=o.e=O[0]+" "+(O[1]||"50%")+" 0px",o=new be(T,"zOrigin",0,0,o,(-1),o.n),o.b=h,o.xs0=o.e=T.zOrigin):o.xs0=o.e=O):se(O+"",T)),p&&(i._transformType=T.svg&&Se||!f&&3!==this._transformType?2:3),c&&(l[n]=c),u&&(l.scale=u),o},prefix:!0}),ke("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ke("borderRadius",{defaultValue:"0px",parser:function(e,t,n,o,a,s){t=this.format(t);var l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,E,k=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=e.style;for(g=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),l=t.split(" "),c=0;c<k.length;c++)this.p.indexOf("border")&&(k[c]=Z(k[c])),h=d=Q(e,k[c],r,!1,"0px"),h.indexOf(" ")!==-1&&(d=h.split(" "),h=d[0],d=d[1]),f=u=l[c],p=parseFloat(h),b=h.substr((p+"").length),_="="===f.charAt(1),_?(m=parseInt(f.charAt(0)+"1",10),f=f.substr(2),m*=parseFloat(f),y=f.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(f),y=f.substr((m+"").length)),""===y&&(y=i[n]||b),y!==b&&(w=ee(e,"borderLeft",p,b),x=ee(e,"borderTop",p,b),"%"===y?(h=w/g*100+"%",d=x/v*100+"%"):"em"===y?(E=ee(e,"borderLeft",1,"em"),h=w/E+"em",d=x/E+"em"):(h=w+"px",d=x+"px"),_&&(f=parseFloat(h)+m+y,u=parseFloat(d)+m+y)),a=we(C,k[c],h+" "+d,f+" "+u,!1,"0px",a);return a},prefix:!0,formatter:ge("0px 0px 0px 0px",!1,!0)}),ke("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,i,o,a){return we(e.style,n,this.format(Q(e,n,r,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:ge("0px 0px",!1,!0)}),ke("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,i,o,a){var s,l,c,u,d,h,f="background-position",p=r||J(e,null),g=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(g.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&v.split(",").length<2&&(h=Q(e,"backgroundImage").replace(T,""),h&&"none"!==h)){for(s=g.split(" "),l=v.split(" "),U.setAttribute("src",h),c=2;--c>-1;)g=s[c],u=g.indexOf("%")!==-1,u!==(l[c].indexOf("%")!==-1)&&(d=0===c?e.offsetWidth-U.width:e.offsetHeight-U.height,s[c]=u?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,v,o,a);
},formatter:se}),ke("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="",se(e.indexOf(" ")===-1?e+" "+e:e)}}),ke("perspective",{defaultValue:"0px",prefix:!0}),ke("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ke("transformStyle",{prefix:!0}),ke("backfaceVisibility",{prefix:!0}),ke("userSelect",{prefix:!0}),ke("margin",{parser:ve("marginTop,marginRight,marginBottom,marginLeft")}),ke("padding",{parser:ve("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ke("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,i,o,a){var s,l,c;return m<9?(l=e.currentStyle,c=m<8?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(Q(e,this.p,r,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,a)}}),ke("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ke("autoRound,strictUnits",{parser:function(e,t,n,i,r){return r}}),ke("border",{defaultValue:"0px solid #000",parser:function(e,t,n,i,o,a){var s=Q(e,"borderTopWidth",r,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(x,"");return"px"!==c&&(s=parseFloat(s)/ee(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+Q(e,"borderTopStyle",r,!1,"solid")+" "+Q(e,"borderTopColor",r,!1,"#000")),l.join(" "),o,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(me)||["#000"])[0]}}),ke("borderWidth",{parser:ve("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ke("float,cssFloat,styleFloat",{parser:function(e,t,n,i,r,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new be(a,s,0,0,r,(-1),n,(!1),0,a[s],t)}});var Ge=function(e){var t,n=this.t,i=n.filter||Q(this.data,"filter")||"",r=this.s+this.c*e|0;100===r&&(i.indexOf("atrix(")===-1&&i.indexOf("radient(")===-1&&i.indexOf("oader(")===-1?(n.removeAttribute("filter"),t=!Q(this.data,"filter")):(n.filter=i.replace(C,""),t=!0)),t||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),i.indexOf("pacity")===-1?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(E,"opacity="+r))};ke("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,i,o,a){var s=parseFloat(Q(e,"opacity",r,!1,"1")),l=e.style,c="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===Q(e,"visibility",r)&&0!==t&&(s=0),G?o=new be(l,"opacity",s,t-s,o):(o=new be(l,"opacity",100*s,100*(t-s),o),o.xn1=c?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=a,o.setRatio=Ge),c&&(o=new be(l,"visibility",0,0,o,(-1),null,(!1),0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit"),o.xs0="inherit",i._overwriteProps.push(o.n),i._overwriteProps.push(n)),o}});var We=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(M,"-$1").toLowerCase())):e.removeAttribute(t))},Ye=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:We(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ke("className",{parser:function(e,t,i,o,a,s,l){var c,u,d,h,f,p=e.getAttribute("class")||"",m=e.style.cssText;if(a=o._classNamePT=new be(e,i,0,0,a,2),a.setRatio=Ye,a.pr=-11,n=!0,a.b=p,u=ne(e,r),d=e._gsClassPT){for(h={},f=d.data;f;)h[f.p]=1,f=f._next;d.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:p.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),c=ie(e,u,ne(e),l,h),e.setAttribute("class",p),a.data=c.firstMPT,e.style.cssText=m,a=a.xfirst=o.parse(e,c.difs,a,s)}});var Xe=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,i,r,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(t=this.e.split(" ").join("").split(","),i=t.length;--i>-1;)n=t[i],l[n]&&(l[n].parse===s?r=!0:n="transformOrigin"===n?Oe:l[n].p),We(a,n);r&&(We(a,Ae),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ke("clearProps",{parser:function(e,t,i,r,o){return o=new be(e,i,0,0,o,2),o.setRatio=Xe,o.e=t,o.pr=-10,o.data=r._tween,n=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),xe=c.length;xe--;)Ce(c[xe]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,s,c){if(!e.nodeType)return!1;this._target=g=e,this._tween=s,this._vars=t,v=c,u=t.autoRound,n=!1,i=t.suffixMap||a.suffixMap,r=J(e,""),o=this._overwriteProps;var f,m,y,b,_,w,x,E,C,S=e.style;if(d&&""===S.zIndex&&(f=Q(e,"zIndex",r),"auto"!==f&&""!==f||this._addLazySet(S,"zIndex",0)),"string"==typeof t&&(b=S.cssText,f=ne(e,r),S.cssText=b+";"+t,f=ie(e,f,ne(e)).difs,!G&&k.test(t)&&(f.opacity=parseFloat(RegExp.$1)),t=f,S.cssText=b),t.className?this._firstPT=m=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=m=this.parse(e,t,null),this._transformType){for(C=3===this._transformType,Ae?h&&(d=!0,""===S.zIndex&&(x=Q(e,"zIndex",r),"auto"!==x&&""!==x||this._addLazySet(S,"zIndex",0)),p&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(C?"visible":"hidden"))):S.zoom=1,y=m;y&&y._next;)y=y._next;E=new be(e,"transform",0,0,null,2),this._linkCSSP(E,null,y),E.setRatio=Ae?Ve:qe,E.data=this._transform||Ue(e,r,!0),E.tween=s,E.pr=-1,o.pop()}if(n){for(;m;){for(w=m._next,y=b;y&&y.pr>m.pr;)y=y._next;(m._prev=y?y._prev:_)?m._prev._next=m:b=m,(m._next=y)?y._prev=m:_=m,m=w}this._firstPT=b}return!0},c.parse=function(e,t,n,o){var a,s,c,d,h,f,p,m,y,b,_=e.style;for(a in t)f=t[a],"function"==typeof f&&(f=f(v,g)),s=l[a],s?n=s.parse(e,f,a,this,n,o,t):(h=Q(e,a,r)+"",y="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||y&&S.test(f)?(y||(f=fe(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),n=we(_,a,h,f,!0,"transparent",n,0,o)):y&&D.test(f)?n=we(_,a,h,f,!0,null,n,0,o):(c=parseFloat(h),p=c||0===c?h.substr((c+"").length):"",""!==h&&"auto"!==h||("width"===a||"height"===a?(c=ae(e,a,r),p="px"):"left"===a||"top"===a?(c=te(e,a,r),p="px"):(c="opacity"!==a?0:1,p="")),b=y&&"="===f.charAt(1),b?(d=parseInt(f.charAt(0)+"1",10),f=f.substr(2),d*=parseFloat(f),m=f.replace(x,"")):(d=parseFloat(f),m=y?f.replace(x,""):""),""===m&&(m=a in i?i[a]:p),f=d||0===d?(b?d+c:d)+m:t[a],p!==m&&""!==m&&(d||0===d)&&c&&(c=ee(e,a,c,p),"%"===m?(c/=ee(e,a,100,"%")/100,t.strictUnits!==!0&&(h=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=ee(e,a,1,m):"px"!==m&&(d=ee(e,a,d,m),m="px"),b&&(d||0===d)&&(f=d+c+m)),b&&(d+=c),!c&&0!==c||!d&&0!==d?void 0!==_[a]&&(f||f+""!="NaN"&&null!=f)?(n=new be(_,a,d||c||0,0,n,(-1),a,(!1),0,h,f),n.xs0="none"!==f||"display"!==a&&a.indexOf("Style")===-1?f:h):Y("invalid "+a+" tween value: "+t[a]):(n=new be(_,a,c,d-c,n,0,a,u!==!1&&("px"===m||"zIndex"===a),0,h,f),n.xs0=m))),o&&n&&!n.plugin&&(n.plugin=o);return n},c.setRatio=function(e){var t,n,i,r=this._firstPT,o=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):t<o&&t>-o&&(t=0),r.type)if(1===r.type)if(i=r.l,2===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(t=Math.round(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},c._enableTransforms=function(e){this._transform=this._transform||Ue(this._target,r,!0),this._transformType=this._transform.svg&&Se||!e&&3!==this._transformType?2:3};var Ke=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,n){var i=this._firstPT=new be(e,t,0,0,this._firstPT,2);i.e=n,i.setRatio=Ke,i.data=this},c._linkCSSP=function(e,t,n,i){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,i=!0),n?n._next=e:i||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},c._kill=function(t){var n,i,r,o=t;if(t.autoAlpha||t.alpha){o={};for(i in t)o[i]=t[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(n=this._classNamePT)&&(r=n.xfirst,r&&r._prev?this._linkCSSP(r._prev,n._next,r._prev._prev):r===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,r._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(t),i=n.plugin),n=n._next;return e.prototype._kill.call(this,o)};var Ze=function(e,t,n){var i,r,o,a;if(e.slice)for(r=e.length;--r>-1;)Ze(e[r],t,n);else for(i=e.childNodes,r=i.length;--r>-1;)o=i[r],a=o.type,o.style&&(t.push(ne(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Ze(o,t,n)};return a.cascadeTo=function(e,n,i){var r,o,a,s,l=t.to(e,n,i),c=[l],u=[],d=[],h=[],f=t._internals.reservedProps;for(e=l._targets||l.target,Ze(e,u,h),l.render(n,!0,!0),Ze(e,d),l.render(0,!0,!0),l._enabled(!0),r=h.length;--r>-1;)if(o=ie(h[r],u[r],d[r]),o.firstMPT){o=o.difs;for(a in i)f[a]&&(o[a]=i[a]);s={};for(a in o)s[a]=u[r][a];c.push(t.fromTo(h[r],n,s,o))}return c},e.activate([a]),a},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("CSSPlugin");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e,t,n=/(\d|\.)+/g,i=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},o=function(e){return""===e||null==e||"none"===e?r.transparent:r[e]?r[e]:"number"==typeof e?[e>>16,e>>8&255,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),e=parseInt(e.substr(1),16),[e>>16,e>>8&255,255&e]):e.match(n)||r.transparent},a=function(t,n,r){if(!e&&(e=_gsScope.ColorFilter||_gsScope.createjs.ColorFilter,!e))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var a,s,l,c,u,d=t.filters||[],h=d.length;--h>-1;)if(d[h]instanceof e){s=d[h];break}if(s||(s=new e,d.push(s),t.filters=d),l=s.clone(),null!=n.tint)a=o(n.tint),c=null!=n.tintAmount?Number(n.tintAmount):1,l.redOffset=Number(a[0])*c,l.greenOffset=Number(a[1])*c,l.blueOffset=Number(a[2])*c,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-c;else for(u in n)"exposure"!==u&&"brightness"!==u&&(l[u]=Number(n[u]));for(null!=n.exposure?(l.redOffset=l.greenOffset=l.blueOffset=255*(Number(n.exposure)-1),l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1):null!=n.brightness&&(c=Number(n.brightness)-1,l.redOffset=l.greenOffset=l.blueOffset=c>0?255*c:0,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-Math.abs(c)),h=8;--h>-1;)u=i[h],s[u]!==l[u]&&r._addTween(s,u,s[u],l[u],"easel_colorFilter");if(r._overwriteProps.push("easel_colorFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t},s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],l=.212671,c=.71516,u=.072169,d=function(e,t){if(!(e instanceof Array&&t instanceof Array))return t;var n,i,r=[],o=0,a=0;for(n=0;n<4;n++){for(i=0;i<5;i++)a=4===i?e[o+4]:0,r[o+i]=e[o]*t[i]+e[o+1]*t[i+5]+e[o+2]*t[i+10]+e[o+3]*t[i+15]+a;o+=5}return r},h=function(e,t){if(isNaN(t))return e;var n=1-t,i=n*l,r=n*c,o=n*u;return d([i+t,r,o,0,0,i,r+t,o,0,0,i,r,o+t,0,0,0,0,0,1,0],e)},f=function(e,t,n){isNaN(n)&&(n=1);var i=o(t),r=i[0]/255,a=i[1]/255,s=i[2]/255,h=1-n;return d([h+n*r*l,n*r*c,n*r*u,0,0,n*a*l,h+n*a*c,n*a*u,0,0,n*s*l,n*s*c,h+n*s*u,0,0,0,0,0,1,0],e)},p=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),i=Math.sin(t);return d([l+n*(1-l)+i*-l,c+n*-c+i*-c,u+n*-u+i*(1-u),0,0,l+n*-l+.143*i,c+n*(1-c)+.14*i,u+n*-u+i*-.283,0,0,l+n*-l+i*-(1-l),c+n*-c+i*c,u+n*(1-u)+i*u,0,0,0,0,0,1,0,0,0,0,0,1],e)},m=function(e,t){return isNaN(t)?e:(t+=.01,d([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],e))},g=function(e,n,i){if(!t&&(t=_gsScope.ColorMatrixFilter||_gsScope.createjs.ColorMatrixFilter,!t))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var r,o,a,l=e.filters||[],c=l.length;--c>-1;)if(l[c]instanceof t){a=l[c];break}for(a||(a=new t(s.slice()),l.push(a),e.filters=l),o=a.matrix,r=s.slice(),null!=n.colorize&&(r=f(r,n.colorize,Number(n.colorizeAmount))),null!=n.contrast&&(r=m(r,Number(n.contrast))),null!=n.hue&&(r=p(r,Number(n.hue))),null!=n.saturation&&(r=h(r,Number(n.saturation))),c=r.length;--c>-1;)r[c]!==o[c]&&i._addTween(o,c,o[c],r[c],"easel_colorMatrixFilter");if(i._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;i._matrix=o};_gsScope._gsDefine.plugin({propName:"easel",priority:-1,version:"0.2.1",API:2,init:function(e,t,n,i){this._target=e;var r,o,s,l,c,u,d;for(r in t)if(c=t[r],"function"==typeof c&&(c=c(i,e)),"colorFilter"===r||"tint"===r||"tintAmount"===r||"exposure"===r||"brightness"===r)s||(a(e,t.colorFilter||t,this),s=!0);else if("saturation"===r||"contrast"===r||"hue"===r||"colorize"===r||"colorizeAmount"===r)l||(g(e,t.colorMatrixFilter||t,this),l=!0);else if("frame"===r){if(this._firstPT=o={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,m:Math.round},"string"==typeof c&&"="!==c.charAt(1)&&(u=e.labels))for(d=0;d<u.length;d++)u[d].label===c&&(c=u[d].position);o.c="number"==typeof c?c-o.s:parseFloat((c+"").split("=").join("")),o._next&&(o._next._prev=o)}else null!=e[r]&&(this._firstPT=o={_next:this._firstPT,t:e,p:r,f:"function"==typeof e[r],n:r,pr:0,type:0},o.s=o.f?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),o.c="number"==typeof c?c-o.s:"string"==typeof c?parseFloat(c.split("=").join("")):0,o._next&&(o._next._prev=o));return!0},set:function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.c*e+n.s,n.m?t=n.m(t,n.t):t<i&&t>-i&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next;this._target.cacheID&&this._target.updateCache()}})}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("EaselPlugin");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e=document.documentElement,t=_gsScope,n=function(n,i){var r="x"===i?"Width":"Height",o="scroll"+r,a="client"+r,s=document.body;return n===t||n===e||n===s?Math.max(e[o],s[o])-(t["inner"+r]||e[a]||s[a]):n[o]-n["offset"+r]},i=function(e){return"string"==typeof e&&(e=TweenLite.selector(e)),e.length&&e!==t&&e[0]&&e[0].style&&!e.nodeType&&(e=e[0]),e===t||e.nodeType&&e.style?e:null},r=function(n,i){var r="scroll"+("x"===i?"Left":"Top");return n===t&&(null!=n.pageXOffset?r="page"+i.toUpperCase()+"Offset":n=null!=e[r]?e:document.body),function(){return n[r]}},o=function(n,o){var a=i(n).getBoundingClientRect(),s=!o||o===t||o===document.body,l=(s?e:o).getBoundingClientRect(),c={x:a.left-l.left,y:a.top-l.top};return!s&&o&&(c.x+=r(o,"x")(),c.y+=r(o,"y")()),c},a=function(e,t,i){var r=typeof e;return"number"===r||"string"===r&&"="===e.charAt(1)?e:"max"===e?n(t,i):Math.min(n(t,i),o(e,t)[i])},s=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.8.1",init:function(e,n,i){return this._wdw=e===t,this._target=e,this._tween=i,"object"!=typeof n?(n={y:n},"string"==typeof n.y&&"max"!==n.y&&"="!==n.y.charAt(1)&&(n.x=n.y)):n.nodeType&&(n={y:n,x:n}),this.vars=n,this._autoKill=n.autoKill!==!1,this.getX=r(e,"x"),this.getY=r(e,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=n.x?(this._addTween(this,"x",this.x,a(n.x,e,"x")-(n.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=n.y?(this._addTween(this,"y",this.y,a(n.y,e,"y")-(n.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(e){this._super.setRatio.call(this,e);var i=this._wdw||!this.skipX?this.getX():this.xPrev,r=this._wdw||!this.skipY?this.getY():this.yPrev,o=r-this.yPrev,a=i-this.xPrev,l=s.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(a>l||a<-l)&&i<n(this._target,"x")&&(this.skipX=!0),!this.skipY&&(o>l||o<-l)&&r<n(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?t.scrollTo(this.skipX?i:this.x,this.skipY?r:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),l=s.prototype;s.max=n,s.getOffset=o,s.autoKillThreshold=7,l._kill=function(e){return e.scrollTo_x&&(this.skipX=!0),e.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,e)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("ScrollToPlugin"),function(e){e.fn.hoverIntent=function(t,n,i){var r={interval:100,sensitivity:6,timeout:0};r="object"==typeof t?e.extend(r,t):e.isFunction(n)?e.extend(r,{over:t,out:n,selector:i}):e.extend(r,{over:t,out:t,selector:n});var o,a,s,l,c=function(e){o=e.pageX,a=e.pageY},u=function(t,n){return n.hoverIntent_t=clearTimeout(n.hoverIntent_t),Math.sqrt((s-o)*(s-o)+(l-a)*(l-a))<r.sensitivity?(e(n).off("mousemove.hoverIntent",c),n.hoverIntent_s=!0,r.over.apply(n,[t])):(s=o,l=a,n.hoverIntent_t=setTimeout(function(){u(t,n)},r.interval),void 0)},d=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,r.out.apply(t,[e])},h=function(t){var n=e.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),"mouseenter"===t.type?(s=n.pageX,l=n.pageY,e(i).on("mousemove.hoverIntent",c),i.hoverIntent_s||(i.hoverIntent_t=setTimeout(function(){u(n,i)},r.interval))):(e(i).off("mousemove.hoverIntent",c),i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){d(n,i)},r.timeout)))};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},r.selector)}}(jQuery),function(e,t,n){"use strict";function i(t){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(e.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:o},this.opts={},this.events={};var n=this;this.onDrop=function(e){n.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var t=e.dataTransfer;t.items&&t.items[0]&&t.items[0].webkitGetAsEntry?n.webkitReadDataTransfer(e):n.addFiles(t.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=i.extend({},this.defaults,t||{})}}function r(e,t){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=e.generateUniqueIdentifier(t),this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function o(e,t,n,i,r){var o="slice";e.file.slice?o="slice":e.file.mozSlice?o="mozSlice":e.file.webkitSlice&&(o="webkitSlice"),r.readFinished(e.file[o](t,n,i))}function a(e,t,n){this.flowObj=e,this.fileObj=t,this.offset=n,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var i=this;this.event=function(e,t){t=Array.prototype.slice.call(arguments),t.unshift(i),i.fileObj.chunkEvent.apply(i.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(i.loaded=e.loaded,i.total=e.total),i.event("progress",e)},this.testHandler=function(e){var t=i.status(!0);"error"===t?(i.event(t,i.message()),i.flowObj.uploadNextChunk()):"success"===t?(i.tested=!0,i.event(t,i.message()),i.flowObj.uploadNextChunk()):i.fileObj.paused||(i.tested=!0,i.send())},this.doneHandler=function(e){var t=i.status();if("success"===t||"error"===t)delete this.data,i.event(t,i.message()),i.flowObj.uploadNextChunk();else{i.event("retry",i.message()),i.pendingRetry=!0,i.abort(),i.retries++;var n=i.flowObj.opts.chunkRetryInterval;null!==n?setTimeout(function(){i.send()},n):i.send()}}}function s(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function l(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function c(e,t){setTimeout(e.bind(t),0)}function u(e,t){return d(arguments,function(t){t!==e&&d(t,function(t,n){e[n]=t})}),e}function d(e,t,n){if(e){var i;if("undefined"!=typeof e.length){for(i=0;i<e.length;i++)if(t.call(n,e[i],i)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i)===!1)return}}var h=e.navigator.msPointerEnabled;i.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){e!==n?(e=e.toLowerCase(),t!==n?this.events.hasOwnProperty(e)&&s(this.events[e],t):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var n=!1;return this.events.hasOwnProperty(e)&&d(this.events[e],function(e){n=e.apply(this,t.slice(1))===!1||n},this),"catchall"!=e&&(t.unshift("catchAll"),n=this.fire.apply(this,t)===!1||n),!n},webkitReadDataTransfer:function(e){function t(e){e.readEntries(function(o){o.length?(a+=o.length,d(o,function(e){if(e.isFile){var r=e.fullPath;e.file(function(e){n(e,r)},i)}else e.isDirectory&&t(e.createReader())}),t(e)):r()},i)}function n(e,t){e.relativePath=t.substring(1),s.push(e),r()}function i(e){throw e}function r(){0==--a&&o.addFiles(s,e)}var o=this,a=e.dataTransfer.items.length,s=[];d(e.dataTransfer.items,function(e){var i=e.webkitGetAsEntry();return i?void(i.isFile?n(e.getAsFile(),i.fullPath):t(i.createReader())):void r()})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var n=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(d(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(d(this.files,function(e){if(e.paused||d(e.chunks,function(e){if("pending"===e.status())return e.send(),t=!0,!1}),t)return!1}),t)return!0;var n=!1;return d(this.files,function(e){if(!e.isComplete())return n=!0,!1}),n||e||c(function(){this.fire("complete")},this),!1},assignBrowse:function(e,n,i,r){e instanceof Element&&(e=[e]),d(e,function(e){var o;"INPUT"===e.tagName&&"file"===e.type?o=e:(o=t.createElement("input"),o.setAttribute("type","file"),u(o.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(o),e.addEventListener("click",function(){o.click()},!1)),this.opts.singleFile||i||o.setAttribute("multiple","multiple"),n&&o.setAttribute("webkitdirectory","webkitdirectory"),d(r,function(e,t){o.setAttribute(t,e)});var a=this;o.addEventListener("change",function(e){e.target.value&&(a.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),d(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),d(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return d(this.files,function(t){if(t.isUploading())return e=!0,!1}),e},_shouldUploadNext:function(){var e=0,t=!0,n=this.opts.simultaneousUploads;return d(this.files,function(i){d(i.chunks,function(i){if("uploading"===i.status()&&(e++,e>=n))return t=!1,!1})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(e!==!1){this.fire("uploadStart");for(var t=!1,n=1;n<=this.opts.simultaneousUploads-e;n++)t=this.uploadNextChunk(!0)||t;t||c(function(){this.fire("complete")},this)}},resume:function(){d(this.files,function(e){e.resume()})},pause:function(){d(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return d(this.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var n=[];d(e,function(e){if((!h||h&&e.size>0)&&(e.size%4096!==0||"."!==e.name&&"."!==e.fileName)&&(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(this.generateUniqueIdentifier(e)))){var i=new r(this,e);this.fire("fileAdded",i,t)&&n.push(i)}},this),this.fire("filesAdded",n,t)&&(d(n,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),this.fire("filesSubmitted",n,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return d(this.files,function(n){n.uniqueIdentifier===e&&(t=n)}),t},getSize:function(){var e=0;return d(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return d(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return d(this.files,function(n){n.paused||n.error||(e+=n.size-n.sizeUploaded(),t+=n.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},r.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,n=this.sizeUploaded();this.currentSpeed=Math.max((n-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=n}},chunkEvent:function(e,t,n){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,n,e),this.flowObj.fire("error",n,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,n,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),d(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.size/this.flowObj.opts.chunkSize),1),n=0;n<t;n++)this.chunks.push(new a(this.flowObj,this,n))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;d(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return d(this.chunks,function(t){if("uploading"===t.status())return e=!0,!1}),e},isComplete:function(){var e=!1;return d(this.chunks,function(t){var n=t.status();if("pending"===n||"uploading"===n||"reading"===n||1===t.preprocessState||1===t.readState)return e=!0,!1}),!e},sizeUploaded:function(){var e=0;return d(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr((~-this.name.lastIndexOf(".")>>>0)+2).toLowerCase()}},a.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return e+=e.indexOf("?")<0?"?":"&",e+t.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),
this.xhr.addEventListener("error",this.testHandler,!1);var e=l(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var n=l(this.flowObj.opts.uploadMethod,this.fileObj,this),i=this.prepareXhrRequest(n,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(i)},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,n,i){var r=l(this.flowObj.opts.query,this.fileObj,this,t);r=u(r,this.getParams());var o=l(this.flowObj.opts.target,this.fileObj,this,t),a=null;if("GET"===e||"octet"===n){var s=[];d(r,function(e,t){s.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),o=this.getTarget(o,s),a=i||null}else a=new FormData,d(r,function(e,t){a.append(t,e)}),a.append(this.flowObj.opts.fileParameterName,i,this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,d(l(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),a}},i.evalOpts=l,i.extend=u,i.each=d,i.FlowFile=r,i.FlowChunk=a,i.version="2.11.2","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.Flow=i,"function"==typeof define&&define.amd&&define("flow",[],function(){return i}))}(window,document),function(e,t){"object"==typeof exports?module.exports=t:"function"==typeof define&&define.amd?define(t):e.RColor=t()}(this,function(){var e=function(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2};return e.prototype.hsvToRgb=function(e,t,n){var i=Math.floor(6*e),r=6*e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=255,c=255,u=255;switch(i){case 0:l=n,c=s,u=o;break;case 1:l=a,c=n,u=o;break;case 2:l=o,c=n,u=s;break;case 3:l=o,c=a,u=n;break;case 4:l=s,c=o,u=n;break;case 5:l=n,c=o,u=a}return[Math.floor(256*l),Math.floor(256*c),Math.floor(256*u)]},e.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},e.prototype.get=function(e,t,n){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof t&&(t=.5),"number"!=typeof n&&(n=.95);var i=this.hsvToRgb(this.hue,t,n);return e?"#"+this.padHex(i[0].toString(16))+this.padHex(i[1].toString(16))+this.padHex(i[2].toString(16)):i},e}),SVG.Textflow=function(){this.constructor.call(this,SVG.create("text")),this.styles={"font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"},this._x=0,this._y=0,this._width=100,this._height=100,this._leading=1.2,this.type="textflow"},SVG.Textflow.prototype=new SVG.Text,SVG.extend(SVG.Textflow,{x:function(e,t){return null==e?t?this.attr("x"):this.bbox().x:(this._x=e,this.attr("x",e))},y:function(e){return null!=e&&(this._y=e/=this.transform().scaleY),this.attr("y",e)},text:function(e){return null==e?this.content:(this.content=SVG.regex.isBlank.test(e)?"":e,this.attr("x",0).attr(this.styles))},size:function(e,t){return this._width=e,"auto"===t&&(this._autoHeight=!0),this._height=t?t:e,this.build().move(this._x,this._y)},build:function(){var e,t,n,i,r,o,a,s,l=this,c=[],u=(this.content||"").split("\n"),d=this.attr("font-size"),h={dy:this._leading*d,x:this.x(),"font-size":d};for(this._build=!0,this.clear(),this.data("overflow",null),this.transform("y",0),i=this.parent().text("well").attr(this.styles).move(-999999,-999999),e=u.length;e--;){for(o="",a=u.shift().replace(/([-_])/gi,"$1 ").split(" "),t=a.length;a.length;)if(s=a.shift(),i.text(o+s).attr(h),n=i.bbox(),n.width+d/2<=this._width)o+=(o.length>0?" ":"")+s;else if(0===o.length){const f=Math.ceil(this._width/(n.width+d/2)*s.length),p=s.substring(f);s=s.substring(0,f),c.push(s),a.unshift(p)}else c.push(o),o=s;c.push(o)}for(e=c.length;e--;){if(!this._autoHeight&&this.bbox().height>this._height){r&&this.node.removeChild(r.node),c.unshift(r.node.textContent);break}r=this.tspan("").attr("xml:space","preserve","http://www.w3.org/XML/1998/namespace"),this.node.appendChild(r.node),this.lines().add(r),o=c.shift(),r.text(""==o?" ":o).attr(h)}return!this._autoHeight&&this.bbox().height>this._height&&r&&(this.node.removeChild(r.node),c.unshift(r.node.textContent)),this._autoHeight&&(this._height=this.lines().bbox().height),this.transform("y",-d*this._base),this.data("overflow",c.join(" "),!0),i.remove(),this.style("fill",new SVG.Color(this.attr("fill")).brightness()>.5?"#999":"#333"),setTimeout(function(){l.style("fill",null)},1),this._build=!1,this},rebuild:function(e,t){if(["font-size","font-family","leading"].indexOf(e)>-1)this.build().move(this._x,this.attr("y"));else if("text-anchor"===e)this.transform("x","start"==t?0:"middle"==t?this._width/2:this._width);else if("x"===e)for(var n=this.lines().length()-1;n>=0;n--)this.lines().get(n).attr(e,t);return this}}),SVG.extend(SVG.Container,{textflow:function(e,t,n){var t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"auto":arguments[2];return this.put(new SVG.Textflow).size(t,n).text(e)}}),function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.create(e.prototype);for(var r in n)i[r]=n[r];return i.constructor=t,t.prototype=i,t}function i(e){e=e||{},this.defaultProtocol=e.defaultProtocol||h.defaultProtocol,this.events=e.events||h.events,this.format=e.format||h.format,this.formatHref=e.formatHref||h.formatHref,this.nl2br=e.nl2br||h.nl2br,this.tagName=e.tagName||h.tagName,this.target=e.target||h.target,this.validate=e.validate||h.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||h.attributes,this.className=e.className||e.linkClass||h.className;for(var t=e.ignoreTags||h.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function r(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function o(e){return e}function a(e,t){return"url"===t?"_blank":null}function s(){return function(e){this.j=[],this.T=e||null}}function l(e,t,n,i){for(var r=0,o=e.length,a=t,s=[],l=void 0;r<o&&(l=a.next(e[r]));)a=l,r++;if(r>=o)return[];for(;r<o-1;)l=new m(i),s.push(l),a.on(e[r],l),a=l,r++;return l=new m(n),s.push(l),a.on(e[o-1],l),s}function c(){return function(e){e&&(this.v=e)}}function u(e){var t=e?{v:e}:{};return n(v,c(),t)}function d(e){return e instanceof y||e instanceof I}var h={defaultProtocol:"http",events:null,format:o,formatHref:o,nl2br:!1,tagName:"a",target:a,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};i.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(t,n,i){var r=this[t];if(!r)return r;switch("undefined"==typeof r?"undefined":e(r)){case"function":return r(n,i.type);case"object":var o=r[i.type]||h[t];return"function"==typeof o?o(n,i.type):o}return r},getObject:function(e,t,n){var i=this[e];return"function"==typeof i?i(t,n.type):i}};var f=Object.freeze({defaults:h,Options:i,contains:r}),p=s();p.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],i=n[0],r=n[1];if(this.test(e,i))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var m=n(p,s(),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),g=n(p,s(),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}}),v=c();v.prototype={toString:function(){return this.v+""}};var y=u(),b=u("@"),_=u(":"),w=u("."),x=u(),E=u(),k=u("\n"),C=u(),S=u("+"),M=u("#"),A=u(),T=u("mailto:"),O=u("?"),P=u("/"),$=u("_"),L=u(),I=u(),D=u(),N=u("{"),R=u("["),z=u("<"),j=u("("),F=u("}"),B=u("]"),H=u(">"),U=u(")"),q=u("&"),V=Object.freeze({Base:v,DOMAIN:y,AT:b,COLON:_,DOT:w,PUNCTUATION:x,LOCALHOST:E,NL:k,NUM:C,PLUS:S,POUND:M,QUERY:O,PROTOCOL:A,MAILTO:T,SLASH:P,UNDERSCORE:$,SYM:L,TLD:I,WS:D,OPENBRACE:N,OPENBRACKET:R,OPENANGLEBRACKET:z,OPENPAREN:j,CLOSEBRACE:F,CLOSEBRACKET:B,CLOSEANGLEBRACKET:H,CLOSEPAREN:U,AMPERSAND:q}),G="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),W="0123456789".split(""),Y="0123456789abcdefghijklmnopqrstuvwxyz".split(""),X=[" ","\f","\r","\t","\x0B","","",""],K=[],Z=function(e){return new m(e)},J=Z(),Q=Z(C),ee=Z(y),te=Z(),ne=Z(D);J.on("@",Z(b)).on(".",Z(w)).on("+",Z(S)).on("#",Z(M)).on("?",Z(O)).on("/",Z(P)).on("_",Z($)).on(":",Z(_)).on("{",Z(N)).on("[",Z(R)).on("<",Z(z)).on("(",Z(j)).on("}",Z(F)).on("]",Z(B)).on(">",Z(H)).on(")",Z(U)).on("&",Z(q)).on([",",";","!",'"',"'"],Z(x)),J.on("\n",Z(k)).on(X,ne),ne.on(X,ne);for(var ie=0;ie<G.length;ie++){var re=l(G[ie],J,I,y);K.push.apply(K,re)}var oe=l("file",J,y,y),ae=l("ftp",J,y,y),se=l("http",J,y,y),le=l("mailto",J,y,y);K.push.apply(K,oe),K.push.apply(K,ae),K.push.apply(K,se);var ce=oe.pop(),ue=ae.pop(),de=se.pop(),he=le.pop(),fe=Z(y),pe=Z(A),me=Z(T);ue.on("s",fe).on(":",pe),de.on("s",fe).on(":",pe),K.push(fe),ce.on(":",pe),fe.on(":",pe),he.on(":",me);var ge=l("localhost",J,E,y);K.push.apply(K,ge),J.on(W,Q),Q.on("-",te).on(W,Q).on(Y,ee),ee.on("-",te).on(Y,ee);for(var ve=0;ve<K.length;ve++)K[ve].on("-",te).on(Y,ee);te.on("-",te).on(W,ee).on(Y,ee),J.defaultTransition=Z(L);var ye=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=e.length,i=[],r=0;r<n;){for(var o=J,a=null,s=null,l=0,c=null,u=-1;r<n&&(s=o.next(t[r]));)a=null,o=s,o.accepts()?(u=0,c=o):u>=0&&u++,l++,r++;if(!(u<0)){r-=u,l-=u;var d=c.emit();i.push(new d(e.substr(r-l,l)))}}return i},be=J,_e=Object.freeze({State:m,TOKENS:V,run:ye,start:be}),we=c();we.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var xe=n(we,c(),{type:"email",isLink:!0}),Ee=n(we,c(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),ke=n(we,c(),{type:"text"}),Ce=n(we,c(),{type:"nl"}),Se=n(we,c(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,i=this.v,r=[],o=0;i[o]instanceof A;)t=!0,r.push(i[o].toString().toLowerCase()),o++;for(;i[o]instanceof P;)n=!0,r.push(i[o].toString()),o++;for(;d(i[o]);)r.push(i[o].toString().toLowerCase()),o++;for(;o<i.length;o++)r.push(i[o].toString());return r=r.join(""),t||n||(r=e+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof A}}),Me=Object.freeze({Base:we,MAILTOEMAIL:xe,EMAIL:Ee,NL:Ce,TEXT:ke,URL:Se}),Ae=function(e){return new g(e)},Te=Ae(),Oe=Ae(),Pe=Ae(),$e=Ae(),Le=Ae(),Ie=Ae(),De=Ae(),Ne=Ae(Se),Re=Ae(),ze=Ae(Se),je=Ae(Se),Fe=Ae(),Be=Ae(),He=Ae(),Ue=Ae(),qe=Ae(),Ve=Ae(Se),Ge=Ae(Se),We=Ae(Se),Ye=Ae(Se),Xe=Ae(),Ke=Ae(),Ze=Ae(),Je=Ae(),Qe=Ae(),et=Ae(),tt=Ae(Ee),nt=Ae(),it=Ae(Ee),rt=Ae(xe),ot=Ae(),at=Ae(),st=Ae(),lt=Ae(),ct=Ae(Ce);Te.on(k,ct).on(A,Oe).on(T,Pe).on(P,$e),Oe.on(P,$e),$e.on(P,Le),Te.on(I,Ie).on(y,Ie).on(E,Ne).on(C,Ie),Le.on(I,je).on(y,je).on(C,je).on(E,je),Ie.on(w,De),Qe.on(w,et),De.on(I,Ne).on(y,Ie).on(C,Ie).on(E,Ie),et.on(I,tt).on(y,Qe).on(C,Qe).on(E,Qe),Ne.on(w,De),tt.on(w,et),Ne.on(_,Re).on(P,je),Re.on(C,ze),ze.on(P,je),tt.on(_,nt),nt.on(C,it);var ut=[y,b,E,C,S,M,A,P,I,$,L,q],dt=[_,w,O,x,F,B,H,U,N,R,z,j];je.on(N,Be).on(R,He).on(z,Ue).on(j,qe),Fe.on(N,Be).on(R,He).on(z,Ue).on(j,qe),Be.on(F,je),He.on(B,je),Ue.on(H,je),qe.on(U,je),Ve.on(F,je),Ge.on(B,je),We.on(H,je),Ye.on(U,je),Xe.on(F,je),Ke.on(B,je),Ze.on(H,je),Je.on(U,je),Be.on(ut,Ve),He.on(ut,Ge),Ue.on(ut,We),qe.on(ut,Ye),Be.on(dt,Xe),He.on(dt,Ke),Ue.on(dt,Ze),qe.on(dt,Je),Ve.on(ut,Ve),Ge.on(ut,Ge),We.on(ut,We),Ye.on(ut,Ye),Ve.on(dt,Ve),Ge.on(dt,Ge),We.on(dt,We),Ye.on(dt,Ye),Xe.on(ut,Ve),Ke.on(ut,Ge),Ze.on(ut,We),Je.on(ut,Ye),Xe.on(dt,Xe),Ke.on(dt,Ke),Ze.on(dt,Ze),Je.on(dt,Je),je.on(ut,je),Fe.on(ut,je),je.on(dt,Fe),Fe.on(dt,Fe),Pe.on(I,rt).on(y,rt).on(C,rt).on(E,rt),rt.on(ut,rt).on(dt,ot),ot.on(ut,rt).on(dt,ot);var ht=[y,C,S,M,O,$,L,q,I];Ie.on(ht,at).on(b,st),Ne.on(ht,at).on(b,st),De.on(ht,at),at.on(ht,at).on(b,st).on(w,lt),lt.on(ht,at),st.on(I,Qe).on(y,Qe).on(E,tt);var ft=function(e){for(var t=e.length,n=0,i=[],r=[];n<t;){for(var o=Te,a=null,s=null,l=0,c=null,u=-1;n<t&&!(a=o.next(e[n]));)r.push(e[n++]);for(;n<t&&(s=a||o.next(e[n]));)a=null,o=s,o.accepts()?(u=0,c=o):u>=0&&u++,n++,l++;if(u<0)for(var d=n-l;d<n;d++)r.push(e[d]);else{r.length>0&&(i.push(new ke(r)),r=[]),n-=u,l-=u;var h=c.emit();i.push(new h(e.slice(n-l,n)))}}return r.length>0&&i.push(new ke(r)),i},pt=Object.freeze({State:g,TOKENS:Me,run:ft,start:Te});Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var mt=function(e){return ft(ye(e))},gt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=mt(e),i=[],r=0;r<n.length;r++){var o=n[r];!o.isLink||t&&o.type!==t||i.push(o.toObject())}return i},vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=mt(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)};t.find=gt,t.inherits=n,t.options=f,t.parser=pt,t.scanner=_e,t.test=vt,t.tokenize=mt}(self.linkify=self.linkify||{})}(),function(e,t){var n=function(e){"use strict";function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(e){return e.replace(/"/g,"&quot;")}function i(e){if(!e)return"";var t=[];for(var i in e){var r=e[i]+"";t.push(i+'="'+n(r)+'"')}return t.join(" ")}function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r=new s(r);for(var a=o(e),l=[],c=0;c<a.length;c++){var u=a[c];if("nl"===u.type&&r.nl2br)l.push("<br>\n");else if(u.isLink&&r.check(u)){var d=r.resolve(u),h=d.formatted,f=d.formattedHref,p=d.tagName,m=d.className,g=d.target,v=d.attributes,y="<"+p+' href="'+n(f)+'"';m&&(y+=' class="'+n(m)+'"'),g&&(y+=' target="'+n(g)+'"'),v&&(y+=" "+i(v)),y+=">"+t(h)+"</"+p+">",l.push(y)}else l.push(t(u.toString()))}return l.join("")}var o=e.tokenize,a=e.options,s=a.Options;return String.prototype.linkify||(String.prototype.linkify=function(e){return r(this,e)}),r}(t);e.linkifyStr=n}(window,linkify),function(e,t){var n=function(e){"use strict";function t(e){this.named=e}function n(e){return y.test(e)}function i(e){return b.test(e)}function r(e){return e.replace(_,"\n")}function o(e,t){this.delegate=e,this.entityParser=t,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}function a(e,t){this.token=null,this.startLine=1,this.startColumn=0,this.options=t||{},this.tokenizer=new o(this,e)}function s(e,n){var i=new a(new t(p),n);return i.tokenize(e)}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=w.tokenize(e),r=[],o=[];for(n=new E(n),t=0;t<i.length;t++){var a=i[t];if(a.type!==k)if(a.type===S){var s=c(a.chars,n);r.push.apply(r,s)}else r.push(a);else{r.push(a);var l=a.tagName.toUpperCase(),h="A"===l||x.contains(n.ignoreTags,l);if(!h)continue;var p=r.length;u(l,i,++t,r),t+=r.length-p-1}}for(t=0;t<r.length;t++){var m=r[t];switch(m.type){case k:var g="<"+m.tagName;if(m.attributes.length>0){var v=f(m.attributes);g+=" "+v.join(" ")}g+=">",o.push(g);break;case C:o.push("</"+m.tagName+">");break;case S:o.push(d(m.chars));break;case M:o.push("<!--"+d(m.chars)+"-->")}}return o.join("")}function c(t,n){for(var i=e.tokenize(t),r=[],o=0;o<i.length;o++){var a=i[o];if("nl"===a.type&&n.nl2br)r.push({type:k,tagName:"br",attributes:[],selfClosing:!0});else if(a.isLink&&n.check(a)){var s=n.resolve(a),l=(s.href,s.formatted),c=s.formattedHref,u=s.tagName,d=s.className,h=s.target,f=s.attributes,p=[["href",c]];d&&p.push(["class",d]),h&&p.push(["target",h]);for(var m in f)p.push([m,f[m]]);r.push({type:k,tagName:u,attributes:p,selfClosing:!1}),r.push({type:S,chars:l}),r.push({type:C,tagName:u})}else r.push({type:S,chars:a.toString()})}return r}function u(e,t,n,i){for(var r=1;n<t.length&&r>0;){var o=t[n];o.type===k&&o.tagName.toUpperCase()===e?r++:o.type===C&&o.tagName.toUpperCase()===e&&r--,i.push(o),n++}return i}function d(e){return e}function h(e){return e.replace(/"/g,"&quot;")}function f(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=i[0],o=i[1];t.push(r+'="'+h(o)+'"')}return t}var p={nbsp:""},m=/^#[xX]([A-Fa-f0-9]+)$/,g=/^#([0-9]+)$/,v=/^([A-Za-z0-9]+)$/;t.prototype.parse=function(e){if(e){var t=e.match(m);return t?"&#x"+t[1]+";":(t=e.match(g))?"&#"+t[1]+";":(t=e.match(v),t?this.named[t[1]]||"&"+t[1]+";":void 0)}};var y=/[\t\n\f ]/,b=/[A-Za-z]/,_=/\r\n?/g;o.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},tokenizePart:function(e){for(this.input+=r(e);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},consumeCharRef:function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){for(var i=t.length;i;)this.consume(),i--;return this.consume(),n}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){var e=this.peek();"<"===e?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var e=this.peek();"<"===e?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===e?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e))},tagOpen:function(){var e=this.consume();"!"===e?this.state="markupDeclaration":"/"===e?this.state="endTagOpen":i(e)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(e.toLowerCase()))},markupDeclaration:function(){var e=this.consume();"-"===e&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var e=this.consume();"-"===e?this.state="commentStartDash":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(e),this.state="comment")},commentStartDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var e=this.consume();"-"===e?this.state="commentEndDash":this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":(this.delegate.appendToCommentData("-"+e),this.state="comment")},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+e),this.state="comment")},tagName:function(){var e=this.consume();n(e)?this.state="beforeAttributeName":"/"===e?this.state="selfClosingStartTag":">"===e?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();return n(e)?void this.consume():void("/"===e?(this.state="selfClosingStartTag",this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)))},attributeName:function(){var e=this.peek();n(e)?(this.state="afterAttributeName",this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.state="beforeAttributeValue",this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();return n(e)?void this.consume():void("/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.consume(),this.state="beforeAttributeValue"):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(e)))},beforeAttributeValue:function(){var e=this.peek();n(e)?this.consume():'"'===e?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();n(e)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();n(e)?(this.consume(),this.state="beforeAttributeName"):"/"===e?(this.consume(),this.state="selfClosingStartTag"):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){var e=this.peek();">"===e?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var e=this.consume();i(e)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(e.toLowerCase()))}}},a.prototype={tokenize:function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},tokenizePart:function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),
this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(e){this.token.chars+=e},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(e){this.token.chars+=e},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(e){this.token.tagName+=e},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(e){this._currentAttribute[0]+=e},beginAttributeValue:function(e){this._currentAttribute[2]=e},appendToAttributeValue:function(e){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=e},finishAttributeValue:function(){}};var w={HTML5NamedCharRefs:p,EntityParser:t,EventedTokenizer:o,Tokenizer:a,tokenize:s},x=e.options,E=x.Options,k="StartTag",C="EndTag",S="Chars",M="Comment";return l}(t);e.linkifyHtml=n}(window,linkify),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return bi.apply(null,arguments)}function t(e){bi=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,i){return yt(e,t,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=h()),e._pf}function p(e){if(null==e._isValid){var t=f(e),n=wi.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=d(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}function g(e,t){var n,i,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),xi.length>0)for(n=0;n<xi.length;n++)i=xi[n],r=t[i],o(r)||(e[i]=r);return e}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ei===!1&&(Ei=!0,e.updateOffset(this),Ei=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function w(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&_(e[i])!==_(t[i]))&&a++;return a+o}function x(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function E(t,n){var i=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}x(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),ki[t]||(x(n),ki[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function M(e,t){var n,r=u({},e);for(n in t)c(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&i(e[n])&&(r[n]=u({},r[n]));return r}function A(e){null!=e&&this.set(e)}function T(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,n):i}function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function P(){return this._invalidDate}function $(e){return this._ordinal.replace("%d",e)}function L(e,t,n,i){var r=this._relativeTime[n];return C(r)?r(e,t,n,i):r.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function D(e,t){var n=e.toLowerCase();Ii[n]=Ii[n+"s"]=Ii[t]=e}function N(e){return"string"==typeof e?Ii[e]||Ii[e.toLowerCase()]:void 0}function R(e){var t,n,i={};for(n in e)c(e,n)&&(t=N(n),t&&(i[t]=e[n]));return i}function z(e,t){Di[e]=t}function j(e){var t=[];for(var n in e)t.push({unit:n,priority:Di[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(t,n){return function(i){return null!=i?(H(this,t,i),e.updateOffset(this,n),this):B(this,t)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e){return e=N(e),C(this[e])?this[e]():this}function q(e,t){if("object"==typeof e){e=R(e);for(var n=j(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=N(e),C(this[e]))return this[e](t);return this}function V(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function G(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(ji[e]=r),t&&(ji[t[0]]=function(){return V(r.apply(this,arguments),t[1],t[2])}),n&&(ji[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,n,i=e.match(Ni);for(t=0,n=i.length;t<n;t++)ji[i[t]]?i[t]=ji[i[t]]:i[t]=W(i[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=C(i[r])?i[r].call(t,e):i[r];return o}}function X(e,t){return e.isValid()?(t=K(t,e.localeData()),zi[t]=zi[t]||Y(t),zi[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ri.lastIndex=0;i>=0&&Ri.test(e);)e=e.replace(Ri,n),Ri.lastIndex=0,i-=1;return e}function Z(e,t,n){ir[e]=C(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return c(ir,e)?ir[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),a(t)&&(i=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)rr[e[n]]=i}function ne(e,t){te(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ie(e,t,n){null!=t&&c(rr,e)&&rr[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||mr).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[mr.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=pr.call(this._shortMonthsParse,a),r!==-1?r:null):(r=pr.call(this._longMonthsParse,a),r!==-1?r:null):"MMM"===t?(r=pr.call(this._shortMonthsParse,a),r!==-1?r:(r=pr.call(this._longMonthsParse,a),r!==-1?r:null)):(r=pr.call(this._longMonthsParse,a),r!==-1?r:(r=pr.call(this._shortMonthsParse,a),r!==-1?r:null))}function le(e,t,n){var i,r,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function de(){return re(this.year(),this.month())}function he(e){return this._monthsParseExact?(c(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=yr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=br),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=ee(i[t]),r[t]=ee(r[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function me(e){return ge(e)?366:365}function ge(e){return e%4===0&&e%100!==0||e%400===0}function ve(){return ge(this.year())}function ye(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _e(e,t,n){var i=7+t-n,r=(7+be(e,0,i).getUTCDay()-t)%7;return-r+i-1}function we(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=_e(e,i,r),c=1+7*(t-1)+s+l;return c<=0?(o=e-1,a=me(o)+c):c>me(e)?(o=e+1,a=c-me(e)):(o=e,a=c),{year:o,dayOfYear:a}}function xe(e,t,n){var i,r,o=_e(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(r=e.year()-1,i=a+Ee(r,t,n)):a>Ee(e.year(),t,n)?(i=a-Ee(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Ee(e,t,n){var i=_e(e,t,n),r=_e(e+1,t,n);return(me(e)-i+r)/7}function ke(e){return xe(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Se(){return this._week.doy}function Me(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Te(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Oe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function $e(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Le(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=pr.call(this._weekdaysParse,a),r!==-1?r:null):"ddd"===t?(r=pr.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=pr.call(this._minWeekdaysParse,a),r!==-1?r:null):"dddd"===t?(r=pr.call(this._weekdaysParse,a),r!==-1?r:(r=pr.call(this._shortWeekdaysParse,a),r!==-1?r:(r=pr.call(this._minWeekdaysParse,a),r!==-1?r:null))):"ddd"===t?(r=pr.call(this._shortWeekdaysParse,a),r!==-1?r:(r=pr.call(this._weekdaysParse,a),r!==-1?r:(r=pr.call(this._minWeekdaysParse,a),r!==-1?r:null))):(r=pr.call(this._minWeekdaysParse,a),r!==-1?r:(r=pr.call(this._weekdaysParse,a),r!==-1?r:(r=pr.call(this._shortWeekdaysParse,a),r!==-1?r:null)))}function De(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Te(e,this.localeData()),this.add(e-t,"d")):t}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Oe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Cr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Be(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ue(){return this.hours()%12||12}function qe(){return this.hours()||24}function Ve(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function We(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ye(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,i,r,o=0;o<e.length;){for(r=Xe(e[o]).split("-"),t=r.length,n=Xe(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Ze(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&w(r,n,!0)>=t-1)break;t--}o++}return null}function Ze(e){var t=null;if(!$r[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ar._abbr,require("./locale/"+e),Je(t)}catch(n){}return $r[e]}function Je(e,t){var n;return e&&(n=o(t)?tt(e):Qe(e,t),n&&(Ar=n)),Ar._abbr}function Qe(e,t){if(null!==t){var n=Pr;if(t.abbr=e,null!=$r[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=$r[e]._config;else if(null!=t.parentLocale){if(null==$r[t.parentLocale])return Lr[t.parentLocale]||(Lr[t.parentLocale]=[]),Lr[t.parentLocale].push({name:e,config:t}),null;n=$r[t.parentLocale]._config}return $r[e]=new A(M(n,t)),Lr[e]&&Lr[e].forEach(function(e){Qe(e.name,e.config)}),Je(e),$r[e]}return delete $r[e],null}function et(e,t){if(null!=t){var n,i=Pr;null!=$r[e]&&(i=$r[e]._config),t=M(i,t),n=new A(t),n.parentLocale=$r[e],$r[e]=n,Je(e)}else null!=$r[e]&&(null!=$r[e].parentLocale?$r[e]=$r[e].parentLocale:null!=$r[e]&&delete $r[e]);return $r[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ar;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Ke(e)}function nt(){return Mi($r)}function it(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[ar]<0||n[ar]>11?ar:n[sr]<1||n[sr]>re(n[or],n[ar])?sr:n[lr]<0||n[lr]>24||24===n[lr]&&(0!==n[cr]||0!==n[ur]||0!==n[dr])?lr:n[cr]<0||n[cr]>59?cr:n[ur]<0||n[ur]>59?ur:n[dr]<0||n[dr]>999?dr:-1,f(e)._overflowDayOfYear&&(t<or||t>sr)&&(t=sr),f(e)._overflowWeeks&&t===-1&&(t=hr),f(e)._overflowWeekday&&t===-1&&(t=fr),f(e).overflow=t),e}function rt(e){var t,n,i,r,o,a,s=e._i,l=Ir.exec(s)||Dr.exec(s);if(l){for(f(e).iso=!0,t=0,n=Rr.length;t<n;t++)if(Rr[t][1].exec(l[1])){r=Rr[t][0],i=Rr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=zr.length;t<n;t++)if(zr[t][1].exec(l[3])){o=(l[2]||" ")+zr[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Nr.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),dt(e)}else e._isValid=!1}function ot(e){var t,n,i,r,o,a,s,l,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},u="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Fr.exec(t)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",r="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var d=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()];if(n[1].substr(0,3)!==h)return f(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=u.indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=c[n[5]];break;default:s=c[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=i+r+o+a,dt(e),f(e).rfc2822=!0}else e._isValid=!1}function at(t){var n=jr.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(rt(t),void(t._isValid===!1&&(delete t._isValid,ot(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,i,r,o=[];if(!e._d){for(i=lt(e),e._w&&null==e._a[sr]&&null==e._a[ar]&&ut(e),null!=e._dayOfYear&&(r=st(e._a[or],i[or]),(e._dayOfYear>me(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=be(r,0,e._dayOfYear),e._a[ar]=n.getUTCMonth(),e._a[sr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[lr]&&0===e._a[cr]&&0===e._a[ur]&&0===e._a[dr]&&(e._nextDay=!0,e._a[lr]=0),e._d=(e._useUTC?be:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lr]=24)}}function ut(e){var t,n,i,r,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=st(t.GG,e._a[or],xe(bt(),1,4).year),i=st(t.W,1),r=st(t.E,1),(r<1||r>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=xe(bt(),o,a);n=st(t.gg,e._a[or],c.year),i=st(t.w,c.week),null!=t.d?(r=t.d,(r<0||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o}i<1||i>Ee(n,o,a)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=we(n,i,r,o,a),e._a[or]=s.year,e._dayOfYear=s.dayOfYear)}function dt(t){if(t._f===e.ISO_8601)return void rt(t);if(t._f===e.RFC_2822)return void ot(t);t._a=[],f(t).empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=K(t._f,t._locale).match(Ni)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(J(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),ji[o]?(i?f(t).empty=!1:f(t).unusedTokens.push(o),ie(o,i,t)):t._strict&&!i&&f(t).unusedTokens.push(o);f(t).charsLeftOver=l-c,s.length>0&&f(t).unusedInput.push(s),t._a[lr]<=12&&f(t).bigHour===!0&&t._a[lr]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[lr]=ht(t._locale,t._a[lr],t._meridiem),ct(t),it(t)}function ht(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function ft(e){var t,n,i,r,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],dt(t),p(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==i||o<i)&&(i=o,n=t));u(e,n||t)}function pt(e){if(!e._d){var t=R(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function mt(e){var t=new v(it(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,i=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===i&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(it(t)):(s(t)?e._d=t:n(i)?ft(e):i?dt(e):vt(e),p(e)||(e._d=null),e))}function vt(t){var r=t._i;o(r)?t._d=new Date(e.now()):s(r)?t._d=new Date(r.valueOf()):"string"==typeof r?at(t):n(r)?(t._a=l(r.slice(0),function(e){return parseInt(e,10)}),ct(t)):i(r)?pt(t):a(r)?t._d=new Date(r):e.createFromInputFallback(t)}function yt(e,t,o,a,s){var l={};return o!==!0&&o!==!1||(a=o,o=void 0),(i(e)&&r(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,mt(l)}function bt(e,t,n,i){return yt(e,t,n,i,!1)}function _t(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return bt();for(i=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](i)||(i=t[r]);return i}function wt(){var e=[].slice.call(arguments,0);return _t("isBefore",e)}function xt(){var e=[].slice.call(arguments,0);return _t("isAfter",e)}function Et(e){for(var t in e)if(qr.indexOf(t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<qr.length;++i)if(e[qr[i]]){if(n)return!1;parseFloat(e[qr[i]])!==_(e[qr[i]])&&(n=!0)}return!0}function kt(){return this._isValid}function Ct(){return qt(NaN)}function St(e){var t=R(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=Et(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=tt(),this._bubble()}function Mt(e){return e instanceof St}function At(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Tt(e,t){G(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Ot(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Vr)||["-",0,0],o=+(60*r[1])+_(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Pt(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(t)||s(t)?t.valueOf():bt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):bt(t).local()}function $t(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(t,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Ot(er,t),null===t)return this}else Math.abs(t)<16&&!i&&(t=60*t);return!this._isUTC&&n&&(r=$t(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!n||this._changeInProgress?Xt(this,qt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:$t(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Dt(e){return this.utcOffset(0,e)}function Nt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($t(this),"m")),this}function Rt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ot(Qi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ft(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=gt(e),e._a){var t=e._isUTC?d(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Bt(){return!!this.isValid()&&!this._isUTC}function Ht(){return!!this.isValid()&&this._isUTC}function Ut(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function qt(e,t){var n,i,r,o=e,s=null;return Mt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Gr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[sr])*n,h:_(s[lr])*n,m:_(s[cr])*n,s:_(s[ur])*n,ms:_(At(1e3*s[dr]))*n}):(s=Wr.exec(e))?(n="-"===s[1]?-1:1,o={y:Vt(s[2],n),M:Vt(s[3],n),w:Vt(s[4],n),d:Vt(s[5],n),h:Vt(s[6],n),m:Vt(s[7],n),s:Vt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Wt(bt(o.from),bt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new St(o),Mt(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(e,t){var n;return e.isValid()&&t.isValid()?(t=Pt(t,e),e.isBefore(t)?n=Gt(e,t):(n=Gt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Yt(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=qt(n,i),Xt(this,r,e),this}}function Xt(t,n,i,r){var o=n._milliseconds,a=At(n._days),s=At(n._months);t.isValid()&&(r=null==r||r,o&&t._d.setTime(t._d.valueOf()+o*i),a&&H(t,"Date",B(t,"Date")+a*i),s&&ce(t,B(t,"Month")+s*i),r&&e.updateOffset(t,a||s))}function Kt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Zt(t,n){var i=t||bt(),r=Pt(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",a=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,bt(i)))}function Jt(){return new v(this)}function Qt(e,t){var n=y(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=N(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function en(e,t){var n=y(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=N(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function tn(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function nn(e,t){var n,i=y(e)?e:bt(e);return!(!this.isValid()||!i.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function rn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function on(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function an(e,t,n){var i,r,o,a;return this.isValid()?(i=Pt(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(a=sn(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-i,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?a:b(a)):NaN):NaN}function sn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?X(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():X(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function un(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+i+r+o)}function dn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=X(this,t);return this.localeData().postformat(n);
}function hn(e,t){return this.isValid()&&(y(e)&&e.isValid()||bt(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fn(e){return this.from(bt(),e)}function pn(e,t){return this.isValid()&&(y(e)&&e.isValid()||bt(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(bt(),e)}function gn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function vn(){return this._locale}function yn(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bn(e){return e=N(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function _n(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function xn(){return new Date(this.valueOf())}function En(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Cn(){return this.isValid()?this.toISOString():null}function Sn(){return p(this)}function Mn(){return u({},f(this))}function An(){return f(this).overflow}function Tn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(e,t){G(0,[e,e.length],0,t)}function Pn(e){return Dn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $n(e){return Dn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return Ee(this.year(),1,4)}function In(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function Dn(e,t,n,i,r){var o;return null==e?xe(this,i,r).year:(o=Ee(e,i,r),t>o&&(t=o),Nn.call(this,e,t,n,i,r))}function Nn(e,t,n,i,r){var o=we(e,t,n,i,r),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function jn(e,t){t[dr]=_(1e3*("0."+e))}function Fn(){return this._isUTC?"UTC":""}function Bn(){return this._isUTC?"Coordinated Universal Time":""}function Hn(e){return bt(1e3*e)}function Un(){return bt.apply(null,arguments).parseZone()}function qn(e){return e}function Vn(e,t,n,i){var r=tt(),o=d().set(i,t);return r[n](o,e)}function Gn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Vn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Vn(e,i,n,"month");return r}function Wn(e,t,n,i){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var r=tt(),o=e?r._week.dow:0;if(null!=n)return Vn(t,(n+o)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Vn(t,(s+o)%7,i,"day");return l}function Yn(e,t){return Gn(e,t,"months")}function Xn(e,t){return Gn(e,t,"monthsShort")}function Kn(e,t,n){return Wn(e,t,n,"weekdays")}function Zn(e,t,n){return Wn(e,t,n,"weekdaysShort")}function Jn(e,t,n){return Wn(e,t,n,"weekdaysMin")}function Qn(){var e=this._data;return this._milliseconds=ro(this._milliseconds),this._days=ro(this._days),this._months=ro(this._months),e.milliseconds=ro(e.milliseconds),e.seconds=ro(e.seconds),e.minutes=ro(e.minutes),e.hours=ro(e.hours),e.months=ro(e.months),e.years=ro(e.years),this}function ei(e,t,n,i){var r=qt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function ti(e,t){return ei(this,e,t,1)}function ni(e,t){return ei(this,e,t,-1)}function ii(e){return e<0?Math.floor(e):Math.ceil(e)}function ri(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ii(ai(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),r=b(oi(a)),s+=r,a-=ii(ai(r)),i=b(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function oi(e){return 4800*e/146097}function ai(e){return 146097*e/4800}function si(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=N(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+oi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ai(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function li(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function ci(e){return function(){return this.as(e)}}function ui(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function di(e){return function(){return this.isValid()?this._data[e]:NaN}}function hi(){return b(this.days()/7)}function fi(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function pi(e,t,n){var i=qt(e).abs(),r=wo(i.as("s")),o=wo(i.as("m")),a=wo(i.as("h")),s=wo(i.as("d")),l=wo(i.as("M")),c=wo(i.as("y")),u=r<=xo.ss&&["s",r]||r<xo.s&&["ss",r]||o<=1&&["m"]||o<xo.m&&["mm",o]||a<=1&&["h"]||a<xo.h&&["hh",a]||s<=1&&["d"]||s<xo.d&&["dd",s]||l<=1&&["M"]||l<xo.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,fi.apply(null,u)}function mi(e){return void 0===e?wo:"function"==typeof e&&(wo=e,!0)}function gi(e,t){return void 0!==xo[e]&&(void 0===t?xo[e]:(xo[e]=t,"s"===e&&(xo.ss=t-1),!0))}function vi(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=pi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function yi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=Eo(this._milliseconds)/1e3,r=Eo(this._days),o=Eo(this._months);e=b(i/60),t=b(e/60),i%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=r,c=t,u=e,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var bi,_i;_i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var wi=_i,xi=e.momentProperties=[],Ei=!1,ki={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Ci;Ci=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var Si,Mi=Ci,Ai={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ti={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Oi="Invalid date",Pi="%d",$i=/\d{1,2}/,Li={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ii={},Di={},Ni=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ri=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zi={},ji={},Fi=/\d/,Bi=/\d\d/,Hi=/\d{3}/,Ui=/\d{4}/,qi=/[+-]?\d{6}/,Vi=/\d\d?/,Gi=/\d\d\d\d?/,Wi=/\d\d\d\d\d\d?/,Yi=/\d{1,3}/,Xi=/\d{1,4}/,Ki=/[+-]?\d{1,6}/,Zi=/\d+/,Ji=/[+-]?\d+/,Qi=/Z|[+-]\d\d:?\d\d/gi,er=/Z|[+-]\d\d(?::?\d\d)?/gi,tr=/[+-]?\d+(\.\d{1,3})?/,nr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ir={},rr={},or=0,ar=1,sr=2,lr=3,cr=4,ur=5,dr=6,hr=7,fr=8;Si=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var pr=Si;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),z("month",8),Z("M",Vi),Z("MM",Vi,Bi),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ar]=_(e)-1}),te(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ar]=r:f(n).invalidMonth=e});var mr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,gr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yr=nr,br=nr;G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),D("year","y"),z("year",1),Z("Y",Ji),Z("YY",Vi,Bi),Z("YYYY",Xi,Ui),Z("YYYYY",Ki,qi),Z("YYYYYY",Ki,qi),te(["YYYYY","YYYYYY"],or),te("YYYY",function(t,n){n[or]=2===t.length?e.parseTwoDigitYear(t):_(t)}),te("YY",function(t,n){n[or]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[or]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var _r=F("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),z("week",5),z("isoWeek",5),Z("w",Vi),Z("ww",Vi,Bi),Z("W",Vi),Z("WW",Vi,Bi),ne(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=_(e)});var wr={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),Z("d",Vi),Z("e",Vi),Z("E",Vi),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,i){t[i]=_(e)});var xr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Er="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cr=nr,Sr=nr,Mr=nr;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Ue),G("k",["kk",2],0,qe),G("hmm",0,0,function(){return""+Ue.apply(this)+V(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Ue.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),D("hour","h"),z("hour",13),Z("a",Ge),Z("A",Ge),Z("H",Vi),Z("h",Vi),Z("k",Vi),Z("HH",Vi,Bi),Z("hh",Vi,Bi),Z("kk",Vi,Bi),Z("hmm",Gi),Z("hmmss",Wi),Z("Hmm",Gi),Z("Hmmss",Wi),te(["H","HH"],lr),te(["k","kk"],function(e,t,n){var i=_(e);t[lr]=24===i?0:i}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[lr]=_(e),f(n).bigHour=!0}),te("hmm",function(e,t,n){var i=e.length-2;t[lr]=_(e.substr(0,i)),t[cr]=_(e.substr(i)),f(n).bigHour=!0}),te("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[lr]=_(e.substr(0,i)),t[cr]=_(e.substr(i,2)),t[ur]=_(e.substr(r)),f(n).bigHour=!0}),te("Hmm",function(e,t,n){var i=e.length-2;t[lr]=_(e.substr(0,i)),t[cr]=_(e.substr(i))}),te("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[lr]=_(e.substr(0,i)),t[cr]=_(e.substr(i,2)),t[ur]=_(e.substr(r))});var Ar,Tr=/[ap]\.?m?\.?/i,Or=F("Hours",!0),Pr={calendar:Ai,longDateFormat:Ti,invalidDate:Oi,ordinal:Pi,dayOfMonthOrdinalParse:$i,relativeTime:Li,months:gr,monthsShort:vr,week:wr,weekdays:xr,weekdaysMin:kr,weekdaysShort:Er,meridiemParse:Tr},$r={},Lr={},Ir=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nr=/Z|[+-]\d\d(?::?\d\d)?/,Rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jr=/^\/?Date\((\-?\d+)/i,Fr=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Br=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Hr=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Ur=function(){return Date.now?Date.now():+new Date},qr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Tt("Z",":"),Tt("ZZ",""),Z("Z",er),Z("ZZ",er),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ot(er,e)});var Vr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Gr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;qt.fn=St.prototype,qt.invalid=Ct;var Yr=Yt(1,"add"),Xr=Yt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kr=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),Z("G",Ji),Z("g",Ji),Z("GG",Vi,Bi),Z("gg",Vi,Bi),Z("GGGG",Xi,Ui),Z("gggg",Xi,Ui),Z("GGGGG",Ki,qi),Z("ggggg",Ki,qi),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=_(e)}),ne(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),D("quarter","Q"),z("quarter",7),Z("Q",Fi),te("Q",function(e,t){t[ar]=3*(_(e)-1)}),G("D",["DD",2],"Do","date"),D("date","D"),z("date",9),Z("D",Vi),Z("DD",Vi,Bi),Z("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],sr),te("Do",function(e,t){t[sr]=_(e.match(Vi)[0],10)});var Zr=F("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),z("dayOfYear",4),Z("DDD",Yi),Z("DDDD",Hi),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),G("m",["mm",2],0,"minute"),D("minute","m"),z("minute",14),Z("m",Vi),Z("mm",Vi,Bi),te(["m","mm"],cr);var Jr=F("Minutes",!1);G("s",["ss",2],0,"second"),D("second","s"),z("second",15),Z("s",Vi),Z("ss",Vi,Bi),te(["s","ss"],ur);var Qr=F("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),z("millisecond",16),Z("S",Yi,Fi),Z("SS",Yi,Bi),Z("SSS",Yi,Hi);var eo;for(eo="SSSS";eo.length<=9;eo+="S")Z(eo,Zi);for(eo="S";eo.length<=9;eo+="S")te(eo,jn);var to=F("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var no=v.prototype;no.add=Yr,no.calendar=Zt,no.clone=Jt,no.diff=an,no.endOf=bn,no.format=dn,no.from=hn,no.fromNow=fn,no.to=pn,no.toNow=mn,no.get=U,no.invalidAt=An,no.isAfter=Qt,no.isBefore=en,no.isBetween=tn,no.isSame=nn,no.isSameOrAfter=rn,no.isSameOrBefore=on,no.isValid=Sn,no.lang=Kr,no.locale=gn,no.localeData=vn,no.max=Hr,no.min=Br,no.parsingFlags=Mn,no.set=q,no.startOf=yn,no.subtract=Xr,no.toArray=En,no.toObject=kn,no.toDate=xn,no.toISOString=cn,no.inspect=un,no.toJSON=Cn,no.toString=ln,no.unix=wn,no.valueOf=_n,no.creationData=Tn,no.year=_r,no.isLeapYear=ve,no.weekYear=Pn,no.isoWeekYear=$n,no.quarter=no.quarters=Rn,no.month=ue,no.daysInMonth=de,no.week=no.weeks=Me,no.isoWeek=no.isoWeeks=Ae,no.weeksInYear=In,no.isoWeeksInYear=Ln,no.date=Zr,no.day=no.days=Ne,no.weekday=Re,no.isoWeekday=ze,no.dayOfYear=zn,no.hour=no.hours=Or,no.minute=no.minutes=Jr,no.second=no.seconds=Qr,no.millisecond=no.milliseconds=to,no.utcOffset=Lt,no.utc=Dt,no.local=Nt,no.parseZone=Rt,no.hasAlignedHourOffset=zt,no.isDST=jt,no.isLocal=Bt,no.isUtcOffset=Ht,no.isUtc=Ut,no.isUTC=Ut,no.zoneAbbr=Fn,no.zoneName=Bn,no.dates=E("dates accessor is deprecated. Use date instead.",Zr),no.months=E("months accessor is deprecated. Use month instead",ue),no.years=E("years accessor is deprecated. Use year instead",_r),no.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),no.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ft);var io=A.prototype;io.calendar=T,io.longDateFormat=O,io.invalidDate=P,io.ordinal=$,io.preparse=qn,io.postformat=qn,io.relativeTime=L,io.pastFuture=I,io.set=S,io.months=oe,io.monthsShort=ae,io.monthsParse=le,io.monthsRegex=fe,io.monthsShortRegex=he,io.week=ke,io.firstDayOfYear=Se,io.firstDayOfWeek=Ce,io.weekdays=Pe,io.weekdaysMin=Le,io.weekdaysShort=$e,io.weekdaysParse=De,io.weekdaysRegex=je,io.weekdaysShortRegex=Fe,io.weekdaysMinRegex=Be,io.isPM=We,io.meridiem=Ye,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",tt);var ro=Math.abs,oo=ci("ms"),ao=ci("s"),so=ci("m"),lo=ci("h"),co=ci("d"),uo=ci("w"),ho=ci("M"),fo=ci("y"),po=di("milliseconds"),mo=di("seconds"),go=di("minutes"),vo=di("hours"),yo=di("days"),bo=di("months"),_o=di("years"),wo=Math.round,xo={ss:44,s:45,m:45,h:22,d:26,M:11},Eo=Math.abs,ko=St.prototype;return ko.isValid=kt,ko.abs=Qn,ko.add=ti,ko.subtract=ni,ko.as=si,ko.asMilliseconds=oo,ko.asSeconds=ao,ko.asMinutes=so,ko.asHours=lo,ko.asDays=co,ko.asWeeks=uo,ko.asMonths=ho,ko.asYears=fo,ko.valueOf=li,ko._bubble=ri,ko.get=ui,ko.milliseconds=po,ko.seconds=mo,ko.minutes=go,ko.hours=vo,ko.days=yo,ko.weeks=hi,ko.months=bo,ko.years=_o,ko.humanize=vi,ko.toISOString=yi,ko.toString=yi,ko.toJSON=yi,ko.locale=gn,ko.localeData=vn,ko.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yi),ko.lang=Kr,G("X",0,0,"unix"),G("x",0,0,"valueOf"),Z("x",Ji),Z("X",tr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(_(e))}),e.version="2.18.1",t(bt),e.fn=no,e.min=wt,e.max=xt,e.now=Ur,e.utc=d,e.unix=Hn,e.months=Yn,e.isDate=s,e.locale=Je,e.invalid=m,e.duration=qt,e.isMoment=y,e.weekdays=Kn,e.parseZone=Un,e.localeData=tt,e.isDuration=Mt,e.monthsShort=Xn,e.weekdaysMin=Jn,e.defineLocale=Qe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Zn,e.normalizeUnits=N,e.relativeTimeRounding=mi,e.relativeTimeThreshold=gi,e.calendarFormat=Kt,e.prototype=no,e}),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=u.normal,this.options.gfm&&(this.options.tables?this.rules=u.tables:this.rules=u.gfm)}function t(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=d.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=d.breaks:this.rules=d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function n(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function s(){}function l(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(t,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=l({},c.defaults,n||{});var a,s,u=n.highlight,d=0;try{a=e.lex(t,n)}catch(h){return o(h)}s=a.length;var f=function(e){if(e)return n.highlight=u,o(e);var t;try{t=i.parse(a,n)}catch(r){e=r}return n.highlight=u,e?o(e):o(null,t)};if(!u||u.length<3)return f();if(delete n.highlight,!s)return f();for(;d<a.length;d++)!function(e){return"code"!==e.type?--s||f():u(e.text,e.lang,function(t,n){return t?f(t):null==n||n===e.text?--s||f():(e.text=n,e.escaped=!0,void(--s||f()))})}(a[d])}else try{return n&&(n=l({},c.defaults,n)),i.parse(e.lex(t,n),n)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+r(h.message+"",!0)+"</pre>";throw h}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};u.bullet=/(?:[*+-]|\d+\.)/,u.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,u.item=a(u.item,"gm")(/bull/g,u.bullet)(),u.list=a(u.list)(/bull/g,u.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+u.def.source+")")(),u.blockquote=a(u.blockquote)("def",u.def)(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",u.html=a(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=a(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=l({},u),u.gfm=l({},u.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),u.gfm.paragraph=a(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=l({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=u,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,r,o,a,s,l,c,d,h,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),o=o[0].match(this.rules.item),i=!1,h=o.length,d=0;d<h;d++)l=o[d],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==h-1&&(s=u.bullet.exec(o[d+1])[0],a===s||a.length>1&&s.length>1||(e=o.slice(d+1).join("\n")+e,d=h-1)),r=i||/\n\n(?!\s*$)/.test(l),d!==h-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,d._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,d.link=a(d.link)("inside",d._inside)("href",d._href)(),d.reflink=a(d.reflink)("inside",d._inside)(),d.normal=l({},d),d.pedantic=l({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=l({},d.normal,{escape:a(d.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(d.text)("]|","~]|")("|","|https?://|")()}),d.breaks=l({},d.gfm,{br:a(d.br)("{2,}","*")(),text:a(d.gfm.text)("{2,}","*")()}),t.rules=d,t.output=function(e,n,i){var r=new t(n,i);return r.output(e)},t.prototype.output=function(e){for(var t,n,i,o,a="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),a+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),a+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):r(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,a+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){a+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),a+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),a+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),a+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),a+=this.renderer.text(r(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),n=r(o[1]),i=n,a+=this.renderer.link(i,null,n);return a},t.prototype.outputLink=function(e,t){var n=r(t.href),i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e;
},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(n?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:r(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},i.parse=function(e,t,n){var r=new i(t,n);return r.parse(e)},i.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r,o="",a="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,c.options=c.setOptions=function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},c.Parser=i,c.parser=i.parse,c.Renderer=n,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=t,c.inlineLexer=t.output,c.parse=c,"undefined"!=typeof module&&"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):this.marked=c}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){"use strict";var e="undefined"==typeof window?{}:window.document,t="undefined"!=typeof module&&module.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if(t=n[i],t&&t[1]in e){for(i=0;i<t.length;i++)o[n[0][i]]=t[i];return o}return!1}(),r={request:function(t){var r=i.requestFullscreen;t=t||e.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?t[r]():t[r](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(t){e.addEventListener(i.fullscreenchange,t,!1)},onerror:function(t){e.addEventListener(i.fullscreenerror,t,!1)},raw:i};return i?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),void(t?module.exports=r:window.screenfull=r)):void(t?module.exports=!1:window.screenfull=!1)}(),function(e){"use strict";var t={};t.VERSION="1.3.0";var n,i={},r=function(e,t){return function(){return t.apply(e,arguments)}},o=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},a=function(e,t){return{value:e,name:t}};t.DEBUG=a(1,"DEBUG"),t.INFO=a(2,"INFO"),t.TIME=a(3,"TIME"),t.WARN=a(4,"WARN"),t.ERROR=a(8,"ERROR"),t.OFF=a(99,"OFF");var s=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};s.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(t.DEBUG,arguments)},info:function(){this.invoke(t.INFO,arguments)},warn:function(){this.invoke(t.WARN,arguments)},error:function(){this.invoke(t.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(t.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(t.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,o({level:e},this.context))}};var l=new s({filterLevel:t.OFF});!function(){var e=t;e.enabledFor=r(l,l.enabledFor),e.debug=r(l,l.debug),e.time=r(l,l.time),e.timeEnd=r(l,l.timeEnd),e.info=r(l,l.info),e.warn=r(l,l.warn),e.error=r(l,l.error),e.log=e.info}(),t.setHandler=function(e){n=e},t.setLevel=function(e){l.setLevel(e);for(var t in i)i.hasOwnProperty(t)&&i[t].setLevel(e)},t.get=function(e){return i[e]||(i[e]=new s(o({name:e},l.context)))},t.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var n={},i=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var a,s=console.log;o.level===t.TIME?(a=(o.name?"["+o.name+"] ":"")+r[0],"start"===r[1]?console.time||(n[a]=(new Date).getTime()):console.timeEnd||i(s,[a+": "+((new Date).getTime()-n[a])+"ms"])):(o.level===t.WARN&&console.warn?s=console.warn:o.level===t.ERROR&&console.error?s=console.error:o.level===t.INFO&&console.info&&(s=console.info),e.formatter(r,o),i(s,r))}},t.useDefaults=function(e){t.setLevel(e&&e.defaultLevel||t.DEBUG),t.setHandler(t.createDefaultHandler(e))},"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t:(t._prevLogger=e.Logger,t.noConflict=function(){return e.Logger=t._prevLogger,t},e.Logger=t)}(this),function(){"use strict";function e(r,o){return this instanceof e?(this.opts=t(r,o),u(this.opts.prefix,e._instances)?d(this.opts.prefix,e._instances):(e._instances.push(this),n(e._instances),i(),this)):new e(r,o)}function t(e,t){"object"==typeof e&&(t=e),t=t||{},"string"!=typeof e&&(e=t.prefix||""),e=h(e);var n,i=Boolean(t.alignOutput),r=void 0===t.markdown||Boolean(t.markdown);return m()?(n=v[g%v.length],g+=1):p()&&(n=w()),{prefix:e,alignOutput:i,markdown:r,prefixColor:n}}function n(e){var t=e.sort(function(e,t){return t.opts.prefix.length-e.opts.prefix.length})[0];e.forEach(function(e){if(e.opts.alignOutput){var n=new Array(Math.max(t.opts.prefix.length-e.opts.prefix.length+1,0)).join(" ");e.opts.prefix=e.opts.prefix+n}})}function i(){if(p()){var t=null;"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.NODE_DEBUG&&""!==process.env.NODE_DEBUG?t="NODE_DEBUG":void 0!==process.env.DEBUG&&""!==process.env.DEBUG&&(t="DEBUG"),t&&(e.disable("*"),process.env[t].split(",").forEach(function(t){e.enable(t)})))}else m()&&window.localStorage&&"string"==typeof window.localStorage.getItem("debug")&&(e.disable("*"),window.localStorage.debug.split(",").forEach(function(t){e.enable(t)}))}function r(e){for(var t=[],n=o(e);n;)e=e.replace(n.rule.regexp,n.rule.replacer),m()&&(t.push(n.rule.style),t.push("")),n=o(e);return{text:e,styles:t}}function o(e){var t=[],n=[];return m()?n=[{regexp:/\*([^\*]+)\*/,replacer:function(e,t){return"%c"+t+"%c"},style:"font-weight:bold;"},{regexp:/_([^_]+)_/,replacer:function(e,t){return"%c"+t+"%c"},style:"font-style:italic;"},{regexp:/`([^`]+)`/,replacer:function(e,t){return"%c"+t+"%c"},style:"background:#FDF6E3; color:#586E75; padding:1px 5px; border-radius:4px;"}]:p()&&(n=[{regexp:/\*([^\*]+)\*/,replacer:function(e,t){return"["+y.modifiers.bold[0]+"m"+t+"["+y.modifiers.bold[1]+"m"}},{regexp:/_([^_]+)_/,replacer:function(e,t){return"["+y.modifiers.italic[0]+"m"+t+"["+y.modifiers.italic[1]+"m"}},{regexp:/`([^`]+)`/,replacer:function(e,t){return"["+y.bgColors.bgYellow[0]+"m["+y.colors.black[0]+"m "+t+" ["+y.colors.black[1]+"m["+y.bgColors.bgYellow[1]+"m"}}]),n.forEach(function(n){var i=e.match(n.regexp);i&&t.push({rule:n,match:i})}),0===t.length?null:(t.sort(function(e,t){return e.match.index-t.match.index}),t[0])}function a(e,t){var n,i=[];return t.opts.prefix?f()?(i.push("%c"+t.opts.prefix+"%c "),i.push("color:"+t.opts.prefixColor+"; font-weight:bold;","")):i.push("["+t.prefix+"] "):i.push(""),"string"==typeof e[0]?t.opts.markdown&&f()?(n=r(e[0]),i[0]=i[0]+n.text,i=i.concat(n.styles)):i[0]=i[0]+e[0]:i[0]=e[0],e.length>1&&(i=i.concat(e.splice(1))),i}function s(e,t,n){var i=[];return n.opts.prefix&&(f()?i[0]="["+n.opts.prefixColor[0]+"m["+y.modifiers.bold[0]+"m"+n.opts.prefix+"["+y.modifiers.bold[1]+"m["+n.opts.prefixColor[1]+"m":i[0]="["+n.opts.prefix+"]"),"warn"===t?i[0]="["+y.colors.yellow[0]+"m["+y.colors.yellow[1]+"m "+(i[0]||""):"error"===t?i[0]="["+y.colors.red[0]+"m["+y.colors.red[1]+"m "+(i[0]||""):"info"===t?i[0]="["+y.colors.blue[0]+"m["+y.colors.blue[1]+"m "+(i[0]||""):"debug"===t&&(i[0]="["+y.colors.gray[0]+"m["+y.colors.gray[1]+"m "+(i[0]||"")),e.forEach(function(e){"string"==typeof e&&n.opts.markdown?i.push(r(e).text):i.push(e)}),i}function l(e){var t=!1;return b.forEach(function(n){"enable"===n.type&&n.regExp.test(e.opts.prefix)?t=!1:"disable"===n.type&&n.regExp.test(e.opts.prefix)&&(t=!0)}),t}function c(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")}function u(e,t){var n=!1;return t.forEach(function(t){if(t.opts.prefix===e)return void(n=!0)}),n}function d(e,t){var n;return t.forEach(function(t){if(t.opts.prefix===e)return void(n=t)}),n}function h(e){return"string"==typeof e?e.replace(/%c/g,""):e}function f(){if(m()){var e="WebkitAppearance"in document.documentElement.style,t=window.console&&(console.firebug||console.exception&&console.table),n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31;return e||t||n}if(p())return!(process.stdout&&!process.stdout.isTTY)&&("win32"===process.platform||("COLORTERM"in process.env||"dumb"!==process.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))}function p(){return"undefined"!=typeof module&&"undefined"!=typeof module.exports}function m(){return"undefined"!=typeof window}var g=0,v=["#B58900","#CB4B16","#DC322F","#D33682","#6C71C4","#268BD2","#2AA198","#859900"],y={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}},b=[];e._instances=[],e.enable=function(){Array.prototype.forEach.call(arguments,function(t){"-"===t[0]&&e.disable(t.substr(1));var n=c(t);"*"===t?b=[]:b.push({type:"enable",regExp:n})})},e.disable=function(){Array.prototype.forEach.call(arguments,function(t){"-"===t[0]&&e.enable(t.substr(1));var n=c(t);"*"===t?b=[{type:"disable",regExp:n}]:b.push({type:"disable",regExp:n})})};var _=["debug","log","info","warn","error"];_.forEach(function(t){e.prototype[t]=function(){if(!l(this)){var e,n=Array.prototype.slice.call(arguments,0);m()?(e=a(n,this),Function.prototype.apply.call(console[t]||console.log,console,e)):p()&&(e=s(n,t,this),(console[t]||console.log).apply(console,e))}}});var w=function(){var e=0,t=[[31,39],[32,39],[33,39],[34,39],[35,39],[36,39]];return function(){return e+=1,t[e%t.length]}}();p()?module.exports=e:m()&&(window.Logdown=e)}(),function(e,t){"function"==typeof define&&define.amd?define(["angular","jquery-minicolors"],t):"object"==typeof exports?(module.exports=t(require("angular"),require("jquery-minicolors")),module.exports="minicolors"):e.angularMinicolors=t(e.angular,e.jqueryMinicolors)}(this,function(e){e.module("minicolors",[]),e.module("minicolors").provider("minicolors",function(){this.defaults={theme:"bootstrap",position:"top left",defaultValue:"",animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,show:null,showSpeed:100},this.$get=function(){return this}}),e.module("minicolors").directive("minicolors",["minicolors","$timeout",function(t,n){return{require:"?ngModel",restrict:"A",priority:1,link:function(i,r,o,a){var s=!1,l=function(){var n=e.extend({},t.defaults,i.$eval(o.minicolors));return n};a.$render=function(){n(function(){var e=a.$viewValue;r.minicolors("value",e)},0,!1)};var c=function(){if(a){var e=l();return e.change=function(e){i.$apply(function(){a.$setViewValue(e)})},r.hasClass("minicolors-input")&&r.minicolors("destroy"),r.minicolors(e),s?void 0:(n(function(){var e=a.$viewValue;r.minicolors("value",e)},0),void(s=!0))}};c(),i.$watch(l,c,!0)}}}])}),function(e,t,n){"use strict";function i(t){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(e.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:o},this.opts={},this.events={};var n=this;this.onDrop=function(e){n.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var t=e.dataTransfer;t.items&&t.items[0]&&t.items[0].webkitGetAsEntry?n.webkitReadDataTransfer(e):n.addFiles(t.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=i.extend({},this.defaults,t||{})}}function r(e,t){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=e.generateUniqueIdentifier(t),this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function o(e,t,n,i,r){var o="slice";e.file.slice?o="slice":e.file.mozSlice?o="mozSlice":e.file.webkitSlice&&(o="webkitSlice"),r.readFinished(e.file[o](t,n,i))}function a(e,t,n){this.flowObj=e,this.fileObj=t,this.offset=n,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var i=this;this.event=function(e,t){t=Array.prototype.slice.call(arguments),t.unshift(i),i.fileObj.chunkEvent.apply(i.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(i.loaded=e.loaded,i.total=e.total),i.event("progress",e)},this.testHandler=function(e){var t=i.status(!0);"error"===t?(i.event(t,i.message()),i.flowObj.uploadNextChunk()):"success"===t?(i.tested=!0,i.event(t,i.message()),i.flowObj.uploadNextChunk()):i.fileObj.paused||(i.tested=!0,i.send())},this.doneHandler=function(e){var t=i.status();if("success"===t||"error"===t)delete this.data,i.event(t,i.message()),i.flowObj.uploadNextChunk();else{i.event("retry",i.message()),i.pendingRetry=!0,i.abort(),i.retries++;var n=i.flowObj.opts.chunkRetryInterval;null!==n?setTimeout(function(){i.send()},n):i.send()}}}function s(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function l(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function c(e,t){setTimeout(e.bind(t),0)}function u(e,t){return d(arguments,function(t){t!==e&&d(t,function(t,n){e[n]=t})}),e}function d(e,t,n){if(e){var i;if("undefined"!=typeof e.length){for(i=0;i<e.length;i++)if(t.call(n,e[i],i)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i)===!1)return}}var h=e.navigator.msPointerEnabled;i.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){e!==n?(e=e.toLowerCase(),t!==n?this.events.hasOwnProperty(e)&&s(this.events[e],t):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var n=!1;return this.events.hasOwnProperty(e)&&d(this.events[e],function(e){n=e.apply(this,t.slice(1))===!1||n},this),"catchall"!=e&&(t.unshift("catchAll"),n=this.fire.apply(this,t)===!1||n),!n},webkitReadDataTransfer:function(e){function t(e){e.readEntries(function(o){o.length?(a+=o.length,d(o,function(e){if(e.isFile){var r=e.fullPath;e.file(function(e){n(e,r)},i)}else e.isDirectory&&t(e.createReader())}),t(e)):r()},i)}function n(e,t){e.relativePath=t.substring(1),s.push(e),r()}function i(e){throw e}function r(){0==--a&&o.addFiles(s,e)}var o=this,a=e.dataTransfer.items.length,s=[];d(e.dataTransfer.items,function(e){var i=e.webkitGetAsEntry();return i?void(i.isFile?n(e.getAsFile(),i.fullPath):t(i.createReader())):void r()})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var n=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(d(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(d(this.files,function(e){if(e.paused||d(e.chunks,function(e){if("pending"===e.status())return e.send(),t=!0,!1}),t)return!1}),t)return!0;var n=!1;return d(this.files,function(e){if(!e.isComplete())return n=!0,!1}),n||e||c(function(){this.fire("complete")},this),!1},assignBrowse:function(e,n,i,r){e instanceof Element&&(e=[e]),d(e,function(e){var o;"INPUT"===e.tagName&&"file"===e.type?o=e:(o=t.createElement("input"),o.setAttribute("type","file"),u(o.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(o),e.addEventListener("click",function(){o.click()},!1)),this.opts.singleFile||i||o.setAttribute("multiple","multiple"),n&&o.setAttribute("webkitdirectory","webkitdirectory"),d(r,function(e,t){o.setAttribute(t,e)});var a=this;o.addEventListener("change",function(e){e.target.value&&(a.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),d(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),d(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return d(this.files,function(t){if(t.isUploading())return e=!0,!1}),e},_shouldUploadNext:function(){var e=0,t=!0,n=this.opts.simultaneousUploads;return d(this.files,function(i){d(i.chunks,function(i){if("uploading"===i.status()&&(e++,e>=n))return t=!1,!1})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(e!==!1){this.fire("uploadStart");for(var t=!1,n=1;n<=this.opts.simultaneousUploads-e;n++)t=this.uploadNextChunk(!0)||t;t||c(function(){this.fire("complete")},this)}},resume:function(){d(this.files,function(e){e.resume()})},pause:function(){d(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return d(this.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var n=[];d(e,function(e){if((!h||h&&e.size>0)&&(e.size%4096!==0||"."!==e.name&&"."!==e.fileName)&&(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(this.generateUniqueIdentifier(e)))){var i=new r(this,e);this.fire("fileAdded",i,t)&&n.push(i)}},this),this.fire("filesAdded",n,t)&&(d(n,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),this.fire("filesSubmitted",n,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return d(this.files,function(n){n.uniqueIdentifier===e&&(t=n)}),t},getSize:function(){var e=0;return d(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return d(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return d(this.files,function(n){n.paused||n.error||(e+=n.size-n.sizeUploaded(),t+=n.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},r.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,n=this.sizeUploaded();this.currentSpeed=Math.max((n-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=n}},chunkEvent:function(e,t,n){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,n,e),this.flowObj.fire("error",n,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,n,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),d(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.size/this.flowObj.opts.chunkSize),1),n=0;n<t;n++)this.chunks.push(new a(this.flowObj,this,n))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;d(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return d(this.chunks,function(t){if("uploading"===t.status())return e=!0,!1}),e},isComplete:function(){var e=!1;return d(this.chunks,function(t){var n=t.status();if("pending"===n||"uploading"===n||"reading"===n||1===t.preprocessState||1===t.readState)return e=!0,!1}),!e},sizeUploaded:function(){var e=0;return d(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr((~-this.name.lastIndexOf(".")>>>0)+2).toLowerCase()}},a.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return e+=e.indexOf("?")<0?"?":"&",e+t.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=l(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var n=l(this.flowObj.opts.uploadMethod,this.fileObj,this),i=this.prepareXhrRequest(n,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(i)},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,n,i){var r=l(this.flowObj.opts.query,this.fileObj,this,t);r=u(r,this.getParams());var o=l(this.flowObj.opts.target,this.fileObj,this,t),a=null;if("GET"===e||"octet"===n){var s=[];d(r,function(e,t){s.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),o=this.getTarget(o,s),a=i||null}else a=new FormData,d(r,function(e,t){a.append(t,e)}),a.append(this.flowObj.opts.fileParameterName,i,this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,d(l(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),a}},i.evalOpts=l,i.extend=u,i.each=d,i.FlowFile=r,i.FlowChunk=a,i.version="2.11.2","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.Flow=i,"function"==typeof define&&define.amd&&define("flow",[],function(){return i}))}(window,document),angular.module("flow.provider",[]).provider("flowFactory",function(){"use strict";this.defaults={},this.factory=function(e){return new Flow(e)},this.events=[],this.on=function(e,t){this.events.push([e,t])},this.$get=function(){var e=this.factory,t=this.defaults,n=this.events;return{create:function(i){var r=e(angular.extend({},t,i));return angular.forEach(n,function(e){r.on(e[0],e[1])}),r}}}}),angular.module("flow.init",["flow.provider"]).controller("flowCtrl",["$scope","$attrs","$parse","flowFactory",function(e,t,n,i){var r=angular.extend({},e.$eval(t.flowInit)),o=e.$eval(t.flowObject)||i.create(r),a=function(t){var n=Array.prototype.slice.call(arguments);n.shift();var i=e.$broadcast.apply(e,["flow::"+t,o].concat(n));if({progress:1,filesSubmitted:1,fileSuccess:1,fileError:1,complete:1}[t]&&e.$apply(),i.defaultPrevented)return!1};o.on("catchAll",a),e.$on("$destroy",function(){o.off("catchAll",a)}),e.$flow=o,t.hasOwnProperty("flowName")&&(n(t.flowName).assign(e,o),e.$on("$destroy",function(){n(t.flowName).assign(e)}))}]).directive("flowInit",[function(){return{scope:!0,controller:"flowCtrl"}}]),angular.module("flow.btn",["flow.init"]).directive("flowBtn",[function(){return{restrict:"EA",scope:!1,require:"^flowInit",
link:function(e,t,n){var i=n.hasOwnProperty("flowDirectory"),r=n.hasOwnProperty("flowSingleFile"),o=n.hasOwnProperty("flowAttrs")&&e.$eval(n.flowAttrs);e.$flow.assignBrowse(t,i,r,o)}}}]),angular.module("flow.dragEvents",["flow.init"]).directive("flowPreventDrop",function(){return{scope:!1,link:function(e,t,n){t.bind("drop dragover",function(e){e.preventDefault()})}}}).directive("flowDragEnter",["$timeout",function(e){return{scope:!1,link:function(t,n,i){function r(e){var t=!1,n=e.dataTransfer||e.originalEvent.dataTransfer;return angular.forEach(n&&n.types,function(e){"Files"===e&&(t=!0)}),t}var o,a=!1;n.bind("dragover",function(n){r(n)&&(a||(t.$apply(i.flowDragEnter),a=!0),e.cancel(o),n.preventDefault())}),n.bind("dragleave drop",function(n){e.cancel(o),o=e(function(){t.$eval(i.flowDragLeave),o=null,a=!1},100)})}}}]),angular.module("flow.drop",["flow.init"]).directive("flowDrop",function(){return{scope:!1,require:"^flowInit",link:function(e,t,n){function i(){e.$flow.assignDrop(t)}function r(){e.$flow.unAssignDrop(t)}n.flowDropEnabled?e.$watch(n.flowDropEnabled,function(e){e?i():r()}):i()}}}),!function(e){"use strict";function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}var n=e.module("flow.events",["flow.init"]),i={fileSuccess:["$file","$message"],fileProgress:["$file"],fileAdded:["$file","$event"],filesAdded:["$files","$event"],filesSubmitted:["$files","$event"],fileRetry:["$file"],fileError:["$file","$message"],uploadStart:[],complete:[],progress:[],error:["$message","$file"]};e.forEach(i,function(i,r){var o="flow"+t(r);"flowUploadStart"==o&&(o="flowUploadStarted"),n.directive(o,[function(){return{require:"^flowInit",controller:["$scope","$attrs",function(t,n){t.$on("flow::"+r,function(){var r=Array.prototype.slice.call(arguments),a=r.shift();if(t.$flow===r.shift()){var s={};e.forEach(i,function(e,t){s[e]=r[t]}),t.$eval(n[o],s)===!1&&a.preventDefault()}})}]}}])})}(angular),angular.module("flow.img",["flow.init"]).directive("flowImg",[function(){return{scope:!1,require:"^flowInit",link:function(e,t,n){var i=n.flowImg;e.$watch(i,function(t){if(t){var i=new FileReader;i.readAsDataURL(t.file),i.onload=function(t){e.$apply(function(){n.$set("src",t.target.result)})}}})}}}]),angular.module("flow.transfers",["flow.init"]).directive("flowTransfers",[function(){return{scope:!0,require:"^flowInit",link:function(e){e.transfers=e.$flow.files}}}]),angular.module("flow",["flow.provider","flow.init","flow.events","flow.btn","flow.drop","flow.transfers","flow.img","flow.dragEvents"]),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof module&&module.exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,i=0,r=e.split("."),o=r[0],a=r[1]||"",s=1,l=0,c=1;for(45===e.charCodeAt(0)&&(i=1,c=-1),i;i<o.length;i++)n=t(o.charCodeAt(i)),l=60*l+n;for(i=0;i<a.length;i++)s/=60,n=t(a.charCodeAt(i)),l+=n*s;return l*c}function i(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function r(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function o(e,t){var n,i=[];for(n=0;n<t.length;n++)i[n]=e[t[n]];return i}function a(e){var t=e.split("|"),n=t[2].split(" "),a=t[3].split(""),s=t[4].split(" ");return i(n),i(a),i(s),r(s,a.length),{name:t[0],abbrs:o(t[1].split(" "),a),offsets:o(n,a),untils:s,population:0|t[5]}}function s(e){e&&this._set(a(e))}function l(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);n&&n[0]?(n=n[0].match(/[A-Z]/g),n=n?n.join(""):void 0):(n=t.match(/[A-Z]{3,5}/g),n=n?n[0]:void 0),"GMT"===n&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function c(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function u(e,t){for(var n,i;i=6e4*((t.at-e.at)/12e4|0);)n=new l(new Date(e.at+i)),n.offset===e.offset?e=n:t=n;return e}function d(){var e,t,n,i=(new Date).getFullYear()-2,r=new l(new Date(i,0,1)),o=[r];for(n=1;n<48;n++)t=new l(new Date(i,n,1)),t.offset!==r.offset&&(e=u(r,t),o.push(e),o.push(new l(new Date(e.at+6e4)))),r=t;for(n=0;n<4;n++)o.push(new l(new Date(i+n,0,1))),o.push(new l(new Date(i+n,6,1)));return o}function h(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:t.zone.population-e.zone.population}function f(e,t){var n,r;for(i(t),n=0;n<t.length;n++)r=t[n],I[r]=I[r]||{},I[r][e]=!0}function p(e){var t,n,i,r=e.length,o={},a=[];for(t=0;t<r;t++){i=I[e[t].offset]||{};for(n in i)i.hasOwnProperty(n)&&(o[n]=!0)}for(t in o)o.hasOwnProperty(t)&&a.push(L[t]);return a}function m(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e){var t=L[v(e)];if(t)return t;C("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(n){}var i,r,o,a=d(),s=a.length,l=p(a),u=[];for(r=0;r<l.length;r++){for(i=new c(b(l[r]),s),o=0;o<s;o++)i.scoreOffsetAt(a[o]);u.push(i)}return u.sort(h),u.length>0?u[0].zone.name:void 0}function g(e){return T&&!e||(T=m()),T}function v(e){return(e||"").toLowerCase().replace(/\//g,"_")}function y(e){var t,n,i,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=e[t].split("|"),n=i[0],r=v(n),P[r]=e[t],L[r]=n,i[5]&&f(r,i[2].split(" "))}function b(e,t){e=v(e);var n,i=P[e];return i instanceof s?i:"string"==typeof i?(i=new s(i),P[e]=i,i):$[e]&&t!==b&&(n=b($[e],b))?(i=P[e]=new s,i._set(n),i.name=L[e],i):null}function _(){var e,t=[];for(e in L)L.hasOwnProperty(e)&&(P[e]||P[$[e]])&&L[e]&&t.push(L[e]);return t.sort()}function w(e){var t,n,i,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),i=v(n[0]),r=v(n[1]),$[i]=r,L[i]=n[0],$[r]=i,L[r]=n[1]}function x(e){y(e.zones),w(e.links),S.dataVersion=e.version}function E(e){return E.didShowError||(E.didShowError=!0,C("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!b(e)}function k(e){return!(!e._a||void 0!==e._tzm)}function C(e){"undefined"!=typeof console&&"function"==typeof console.error}function S(t){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],r=b(i),o=e.utc.apply(null,n);return r&&!e.isMoment(t)&&k(o)&&o.add(r.parse(o),"minutes"),o.tz(i),o}function M(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function A(e){return function(){return this._z=null,e.apply(this,arguments)}}var T,O="0.5.13",P={},$={},L={},I={},D=e.version.split("."),N=+D[0],R=+D[1];(N<2||2===N&&R<6)&&C("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,i=this.untils;for(t=0;t<i.length;t++)if(n<i[t])return t},parse:function(e){var t,n,i,r,o=+e,a=this.offsets,s=this.untils,l=s.length-1;for(r=0;r<l;r++)if(t=a[r],n=a[r+1],i=a[r?r-1:r],t<n&&S.moveAmbiguousForward?t=n:t>i&&S.moveInvalidForward&&(t=i),o<s[r]-6e4*t)return a[r];return a[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},c.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.offset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},S.version=O,S.dataVersion="",S._zones=P,S._links=$,S._names=L,S.add=y,S.link=w,S.load=x,S.zone=b,S.zoneExists=E,S.guess=g,S.names=_,S.Zone=s,S.unpack=a,S.unpackBase60=n,S.needsOffset=k,S.moveInvalidForward=!0,S.moveAmbiguousForward=!1;var z=e.fn;e.tz=S,e.defaultZone=null,e.updateOffset=function(t,n){var i,r=e.defaultZone;void 0===t._z&&(r&&k(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(r.parse(t),"minutes")),t._z=r),t._z&&(i=t._z.offset(t),Math.abs(i)<16&&(i/=60),void 0!==t.utcOffset?t.utcOffset(-i,n):t.zone(i,n))},z.tz=function(t){return t?(this._z=b(t),this._z?e.updateOffset(this):C("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},z.zoneName=M(z.zoneName),z.zoneAbbr=M(z.zoneAbbr),z.utc=A(z.utc),e.tz.setDefault=function(t){return(N<2||2===N&&R<9)&&C("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?b(t):null,e};var j=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(j)?(j.push("_z"),j.push("_a")):j&&(j._z=null),x({version:"2017b",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Khartoum|EAT|-30|0||51e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|WET WEST|0 -10|0101010101010101010101010101010101010101010|1H3C0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1GQo0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1GIc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1GIb0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|-03 -02|30 20|010|1IdD0 Lz0|14e4","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1GTf0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0|28e5","America/Panama|EST|50|0||15e5","America/Bahia|-02 -03|20 30|01|1GCq0|27e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1GI90 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101010101010101010|1GCr0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0|77e4","America/Cancun|CST CDT EST|60 50 50|01010102|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1GI80 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1GQx0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|-04 -05|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|01010102|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1GI60 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|17e3","America/Grand_Turk|EST EDT AST|50 40 40|010101012|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1GQt0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|0121212121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1GI50 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|01010101|1GI40 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101010101010101010|1GCq0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1GI5u 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|010|1GAF0 blz0|10","Antarctica/Davis|+05 +07|-50 -70|01|1GAI0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1GPy0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1GNy0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|22e5","Asia/Manila|+08|-80|0||24e6","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1GPy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1GPy0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1GPA0 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0|29e5","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1GLUu 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1GQg0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1GQgu 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1GQf0 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|12e5","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0|","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0|","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/GMT-1|+01|-10|0|","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Astrakhan|+04 +03|-40 -30|010|1N7y0 3rd0","Europe/London|GMT BST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Volgograd|+04 +03|-40 -30|01|1N7y0|10e5","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|0101023|1GNB0 1qM0 11A0 1o00 11z0 1nW0|33e4","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Goe0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11|-bu -b0|01|1PoCu|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|01010101010101|1S4d0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Khartoum|Africa/Addis_Ababa","Africa/Khartoum|Africa/Asmara","Africa/Khartoum|Africa/Asmera","Africa/Khartoum|Africa/Dar_es_Salaam","Africa/Khartoum|Africa/Djibouti","Africa/Khartoum|Africa/Juba","Africa/Khartoum|Africa/Kampala","Africa/Khartoum|Africa/Mogadishu","Africa/Khartoum|Africa/Nairobi","Africa/Khartoum|Indian/Antananarivo","Africa/Khartoum|Indian/Comoro","Africa/Khartoum|Indian/Mayotte","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Guayaquil","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/East-Saskatchewan","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qyzylorda","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Makassar|Asia/Ujung_Pandang","Asia/Manila|Asia/Brunei","Asia/Manila|Asia/Kuala_Lumpur","Asia/Manila|Asia/Kuching","Asia/Manila|Asia/Singapore","Asia/Manila|Etc/GMT-8","Asia/Manila|Singapore","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Astrakhan|Europe/Ulyanovsk","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Volgograd|Europe/Kirov","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"]
}),e});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){function e(e,t){"undefined"==typeof n[e]&&(n[e]=t)}var t={dojoURL:"//js.arcgis.com/3.20/"};"undefined"==typeof window.RV&&(window.RV={});var n=window.RV;Object.keys(t).forEach(function(n){return e(n,t[n])}),n.gapiPromise=geoapi(n.dojoURL,window);var i=function(){function e(t,n){_classCallCheck(this,e),this.id=t,this._api=n}return _createClass(e,[{key:"setTranslatableProp",value:function(e,t){this[e]="plugin."+this.id+"."+t}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"api",get:function(){return this._api}},{key:"translations",set:function(e){this._translations=e},get:function(){return this._translations}}]),e}(),r=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"type",get:function(){return"link"}},{key:"action",get:function(){return this._action},set:function(e){this._action=e}},{key:"name",set:function(e){this.setTranslatableProp("_name",e)},get:function(){return this._name}}]),t}(i);n.BasePlugins={MenuItem:r},n.Plugins={}}(),function(){function e(e,t){e._children.forEach(function(e){return e.setLevel(t)}),e._setLevel(t)}function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments[2],o=n.split("."),a=n.split(".",i),s=a.join("."),l=Logger._get(s);return l._setLevel||(l._setLevel=l.setLevel,l.setLevel=e.bind(null,l),l._children=l._children?l._children:[]),r&&!r._children.find(function(e){return e===l})&&r._children.push(l),o.length===a.length?l:t(n,i+1,l)}Logger.useDefaults(),Logger._get=Logger.get,Logger.get=t}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e,t){function n(e,t,n){A.trapped(e)||A.add(new S(e,t,n))}function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?e.find(y).filter(o):$(),a=e,s=n?r:$();n||0===r.length&&e.length>0;){if(e.is("[rv-trap-focus]")){if(n)return t?s.last():s.first();var l=A.contains(e);return e.is(l.rootElement)&&l.isFullscreen?$():i(a,!t,!0)}e.is(t?":last-child":":first-child")?(e=e.parent(),!t&&e.filter(y).filter(o).length>0&&(r=e,s=e)):(e=t?e.next():e.prev(),r=e.find(y).addBack(y).filter(o),r.length>0&&(s=r))}return t?r.first():r.last()}function r(){return $(_.slice().reverse().find(function(e){return e.is(o)}))}function o(e,t){var n=$(t);return n.is(":visible")&&!n.is(":hidden")&&"hidden"!==n.css("visibility")&&0!==n.css("opacity")&&!n.parents().hasClass("md-leave")&&!n.parents().hasClass("md-leave-add")}function a(e){var t=r();return w.find(function(n){return t.is(n.getDestinationElement(!e))})}function s(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a(e);if(t)r().rvFocus();else if(n){if(!n.getDestinationElement(e).is(o))return w.splice(w.indexOf(n),1),s(e);n.getDestinationElement(e).rvFocus()}else{var l=i($(document.activeElement),e);if(0===l.length)return!1;l.rvFocus()}return!0}function l(e){var t=$(e.target),n=A.contains(t);t.is("md-backdrop")||(n?(C=!0,n.setStatus(v.ACTIVE),t.closest(".rv-esri-map, "+y).rvFocus()):A.deactivate())}function c(e){var t=$(e.target),n=A.trapped(t);n&&n.status===v.INACTIVE&&(_.push(t),n.setStatus(v.WAITING),n.setDialogAction(function(){return n.mdDialog.show({contentElement:n.rootElement.find(".rv-focus-dialog-content > div"),clickOutsideToClose:!1,escapeToClose:!1,disableParentScroll:!1,parent:n.rootElement.find("rv-shell"),focusOnOpen:!1}).then(function(){return n.clearTabindex()})}))}function u(e){var t=A.status(v.ACTIVE),n=A.status(v.WAITING),i=$(document.activeElement);if(b[e.which]=!0,t){if(9===e.which&&b[27])t.setStatus(v.INACTIVE);else if(9===e.which){C=!1;var r=s(!e.shiftKey,k);e.preventDefault(r||!t.trapped(i,!0)),k=!1}else if(38===e.which||40===e.which){var o=i.closest("md-menu-content").length>0;o&&s(40===e.which)}}else n&&(13===e.which||32===e.which?(e.preventDefault(!0),n.setStatus(v.ACTIVE)):9===e.which&&(n.clearTabindex(),n.setStatus(v.INACTIVE)))}function d(e){delete b[e.which]}function h(e){if(!C){var t=A.status(v.ACTIVE);$(e.target).closest("[rv-ignore-focusout]").length>0?k=!0:t&&!x&&null===e.relatedTarget&&(E=setTimeout(function(){t.trapped($(document.activeElement))||s(!1,!0)},g))}}function f(e){setTimeout(function(){return p(r(),e)},g+10)}function p(e,t){var n=t.find(y).addBack(y).filter(o).first();0!==n.length&&(w=w.filter(function(e){return!e[1].is(n)}),w.push({0:e,1:n,getDestinationElement:function(t){return t?n:e}}))}function m(n){return function(){var i=t.Event.prototype[n];return function(t){t||!A.trapped($(this.target))?i.call(this):e.logger.warn("focusManager","*"+n+"* is disabled on elements inside or part of the viewer")}}()}var g=200,v={NONE:void 0,INACTIVE:"NOT_ACTIVE",WAITING:"WAITING",ACTIVE:"ACTIVE"},y=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",".rv-esri-map","[tabindex=-2]","[tabindex=-3]","md-switch"].join(", "),b={},_=[],w=[],x=!1,E=void 0,k=!1,C=!1,S=function(){function e(t,n,i){_classCallCheck(this,e),this.rootElement=$(t),this.id=this.rootElement.attr("id"),this.status=v.INACTIVE,this.isFullscreen=i,this.mdDialog=n,this._mdDialogLock=!1,this._mdDialogChain=[],this.isFullscreen&&this.setStatus(v.ACTIVE)}return _createClass(e,[{key:"setDialogAction",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._mdDialogLock&&!n?this._mdDialogChain.push(e):(this._mdDialogLock=!0,e().then(function(){t._mdDialogChain.length>0?t.setDialogAction(t._mdDialogChain.shift(),!0):t._mdDialogLock=!1}))}},{key:"setStatus",value:function(e){return this.mdDialog&&this.status===v.WAITING&&this.setDialogAction(this.mdDialog.hide),this.status=e,this.rootElement.attr("rv-focus-status",e),this}},{key:"contains",value:function(e){var t=e.closest('[rv-focus-member="'+this.id+'"]');return t.length>0||this.trapped(e)?this:void 0}},{key:"trapped",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.closest('[rv-trap-focus="'+this.id+'"]');return t&&n.is(this.rootElement)||!t&&n.length>0?this:void 0}},{key:"clearTabindex",value:function(){this.rootElement.find(y).not(".rv-esri-map").not("[tabindex=-2]").not("[tabindex=-3]").attr("tabindex","-1")}}]),e}(),M=function(){function e(){_classCallCheck(this,e),this.viewerList=[]}return _createClass(e,[{key:"add",value:function(e){this.viewerList.push(e)}},{key:"contains",value:function(e){return this.viewerList.find(function(t){return t.contains(e)})}},{key:"trapped",value:function(e){return this.viewerList.find(function(t){return t.trapped(e)})}},{key:"status",value:function(e){return this.viewerList.find(function(t){return t.status===e})}},{key:"deactivate",value:function(){this.viewerList.forEach(function(e){return e.setStatus(v.INACTIVE)})}}]),e}(),A=new M;e.focusManager={addViewer:n},e.focusStatusTypes=v,$(document).on("keydown",u).on("keyup",d).on("mousedown",l).on("focusin",c).on("focusout",h),$.extend({link:f}),$.fn.link=function(e){p($(this),$(e))},$.fn.nextFocus=function(){i($(this),!0).rvFocus()},HTMLElement.prototype.origfocus=HTMLElement.prototype.focus,HTMLElement.prototype.rvFocus=$.fn.rvFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=$(this),i=n[0];if(!A.trapped(n)&&!t.exempt)return void e.logger.warn("focusManager","You cannot use *rvFocus* on elements that are outside the viewer");clearTimeout(E);var r=t.delay?t.delay:0;setTimeout(function(){x=!0,i.origfocus(),x=!1;var e=_.findIndex(function(e){return e.is(n)});_.length=e!==-1?e:_.length,n.is(":focus")?_.push(n):s(!1,!0)},r)},HTMLElement.prototype.focus=$.fn.focus=function(){var t=$(this),n=t.closest("[rv-focus-init]"),i=t.closest("[rv-focus-exempt]"),r=n.length>0&&!$.contains(n[0],document.activeElement),o=i.length>0,a="-3"===t.attr("tabindex");if(r||a||o)t[0].rvFocus({exempt:!0});else{if(A.trapped(t))return void e.logger.warn("focusManager","*rvFocus* must be used to set focus on elements that are a part of the viewer");t[0].origfocus()}},t.Event.prototype.stopImmediatePropagation=m("stopImmediatePropagation"),t.Event.prototype.stopPropagation=m("stopPropagation"),t.Event.prototype.preventDefault=m("preventDefault")}(RV,jQuery),function(){"use strict";angular.module("app",["app.core","app.templates","app.geo","app.ui","app.layout"]).config(["$compileProvider","$mdInkRippleProvider","$mdAriaProvider",function(e,t,n){RV.isIE&&t.disableInkRipple(),n.disableWarnings()}]),angular.module("app.templates",[])}(),function(){"use strict";angular.module("app.ui",["app.ui.basemap","app.ui.appbar","app.ui.panels","app.ui.details","app.ui.toc","app.ui.toolbox","app.ui.metadata","app.ui.mapnav","app.ui.filters","app.ui.common","app.ui.settings","app.ui.help","app.ui.loader"])}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/toc/templates/visibility-menu.html",scope:{disabled:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i){"ngInject";function r(){function n(e){e.isInteractive&&(e.visibility=o)}function r(t){return t.blockType===e.TYPES.GROUP}var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.isMapReady&&i.getSync.map.legendBlocks.walk(n,r)}function o(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t.isMapReady){var n=i.getSync.map.legendBlocks.walk(function(e){return e.isInteractive?e.isControlSystemDisabled("visibility")?null:e.visibility:null}).filter(function(e){return null!==e}).every(function(t){return t===e});return n}}var a=this;a.appID=n.id,a.showAllLegendEntries=function(){return r()},a.hideAllLegendEntries=function(){return r(!1)},a.isAllLegendEntriesVisible=function(){return o()},a.isAllLegendEntriesHidden=function(){return o(!1)}}t.$inject=["LegendBlock","geoService","appInfo","configService"],angular.module("app.ui").directive("rvTocVisibilityMenu",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/toc/templates/expand-menu.html",scope:{disabled:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i){"ngInject";function r(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.isMapReady&&i.getSync.map.legendBlocks.walk(function(t){t.blockType===e.TYPES.GROUP&&(t.expanded=n)})}function o(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t.isMapReady){var r=i.getSync.map.legendBlocks.walk(function(t){return t.blockType===e.TYPES.GROUP?t.expanded:null}).filter(function(e){return null!==e}).every(function(e){return e===n});return r}}var a=this;a.appID=n.id,a.expandAllLegendEntries=function(){return r()},a.collapseAllLegendEntries=function(){return r(!1)},a.isAllLegendEntriesExpanded=function(){return o()},a.isAllLegendEntriesCollapsed=function(){return o(!1)}}t.$inject=["LegendBlock","geoService","appInfo","configService"],angular.module("app.ui").directive("rvTocExpandMenu",e)}(),function(){"use strict";angular.module("app.ui.common.stepper",[])}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,n){var i=function(){function i(){_classCallCheck(this,i),this.steps=[],this.currentStep=null}return _createClass(i,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!this.currentStep&&this.steps.length>0&&(this.currentStep=this.steps[e],this.currentStep.isActive=!0),this}},{key:"reset",value:function(){var e=this;return this.steps.forEach(function(t){e._configureStep(t,!1,!1),e._reset(t)}),this.currentStep=null,this}},{key:"addSteps",value:function(e){var t=this;return[].concat(e).forEach(function(e,n){e._index=n+t.steps.length,t.steps.push(e)}),this}},{key:"nextStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.resolve();return this.moveToStep(Math.min(this.steps.length-1,this.currentStep._index+1),t)}},{key:"previousStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.resolve();return this._reset(this.currentStep),this.moveToStep(Math.max(0,this.currentStep._index-1),t)}},{key:"cancelMove",value:function(){return angular.isFunction(this._resolveCancelPromise)&&this._resolveCancelPromise("cancelPromise"),this}},{key:"moveToStep",value:function(i){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.resolve();this.start().cancelMove();var a=this.currentStep._index,s=this.currentStep;if(i>this.steps.length-1||i<0)return RV.logger.error("stepperClass","step number is out of bounds: "+i),this;if(i===a)return this;this._think();var l=!1;e(function(e){return r._resolveCancelPromise=e}).then(function(){return l=!0});return e.when(o.then(function(){if(!l){if(i>a)for(var e=a;e<i;e++){var o=r.steps[e];r._configureStep(o,!0,!1)}else for(var s=a;s>i;s--){var c=r.steps[s];r._reset(c)._configureStep(c,!1,!1)}r.currentStep=r.steps[i],r._configureStep(r.currentStep,!1,!0),"undefined"!=typeof r.currentStep.focus&&n(function(){t.find("[name="+r.currentStep.focus+"]").first().rvFocus()},250)}}))["finally"](function(){return r._think(s,!1)}),this}},{key:"_think",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentStep,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.isThinking=t,this}},{key:"_configureStep",value:function(e,t,n){return e.isCompleted=t,e.isActive=n,this}},{key:"_reset",value:function(e){return angular.isFunction(e.reset)&&e.reset(),this}}]),i}();return i}e.$inject=["$q","$rootElement","$timeout"],angular.module("app.ui.common.stepper").factory("Stepper",e)}(),function(){"use strict";function e(){function e(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];angular.isDefined(n[e])||angular.isDefined(n.step[e])||(n.step[e]=t)}var n=e.self;n.step=angular.isDefined(n.step)?n.step:{},t("titleValue",""),t("summaryValue",""),t("stepNumber",""),t("isActive"),t("isCompleted"),t("onContinue"),t("onCancel"),t("isContinueEnabled",!0),t("isCancelEnabled",!0)}var n={restrict:"E",templateUrl:"app/ui/common/stepper/stepper-item.html",scope:{step:"=?",titleValue:"@?",summaryValue:"@?",stepNumber:"@?",isActive:"=?",isCompleted:"=?",onContinue:"&?",onCancel:"&?",isContinueEnabled:"=?",isCancelEnabled:"=?",stepForm:"=?form"},transclude:!0,link:e,controller:t,controllerAs:"self",bindToController:!0};return n}function t(){function e(){t.stepForm.$setPristine(),t.stepForm.$setUntouched(),(t.onCancel||t.step.onCancel)()}var t=this;t.onCancelBefore=e}angular.module("app.ui.common.stepper").directive("rvStepperItem",e)}();var _get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){function e(e,n,i,r,o){function a(){v(),m.followMapStrategy=new f,m.followMouseStrategy=new p(r.panels.shell),m.containInsideStrategy=new d(r.panels.shell)}function s(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a=e.$new();return a.self=i,l(),m.hoverTooltip=new u(m.followMouseStrategy,m.containInsideStrategy,o,a),r.panels.shell.append(m.hoverTooltip.node),m.hoverTooltip.position(n.x,n.y),m.hoverTooltip}function l(){m.hoverTooltip&&m.hoverTooltip.destroy()}function c(){m.hoverTooltip&&m.hoverTooltip.refresh()}var u=function(){function e(t,i,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"hover";_classCallCheck(this,e),this._movementStrategy=t,this._collisionStrategy=i,this._templateName=a,this._scope=o,this._scope.updateDimensions=this._updateDimensions.bind(this),this._node=n('<rv-tooltip template="'+this._templateName+'">'+r+"</rv-tooltip>")(o),this._movementStrategy.register(this),this._mouseGap=10,this._originPoint={x:0,y:0},this._collisionOffset={x:0,y:0},this._dimensions={width:0,height:0},this._resetOffset()}return _createClass(e,[{key:"_resetOffset",value:function(){this._runningOffset={x:0,y:0}}},{key:"_updateDimensions",value:function(e){this._dimensions.width=e.width,this._dimensions.height=e.height,this.position(this._originPoint.x,this._originPoint.y,!1)}},{key:"getOriginPoint",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=angular.copy(this._originPoint);return e&&(t.x-=this._runningOffset.x,t.y-=this._runningOffset.y),t}},{key:"getBounds",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={width:this._dimensions.width,height:this._dimensions.height,left:this._originPoint.x-this._dimensions.width/2,right:this._originPoint.x+this._dimensions.width/2,top:this._originPoint.y-this._dimensions.height-this._mouseGap,bottom:this._originPoint.y-this._mouseGap};return e&&(t.left-=this._runningOffset.x,t.right-=this._runningOffset.x,t.top-=this._runningOffset.y,t.bottom-=this._runningOffset.y),t}},{key:"offset",value:function(e,t){this._runningOffset.x+=e,this._runningOffset.y+=t;var n=this._collisionStrategy.checkCollisions(this);n.y>0&&(n.y=this._dimensions.height+2*this._mouseGap),this._node.css("transform","translate(\n                    "+(-this._runningOffset.x+n.x)+"px,\n                    "+(-this._runningOffset.y+n.y)+"px)")}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._originPoint.x=e,this._originPoint.y=t;var i=this.getBounds(!1);this._node.css({left:i.left+"px",top:i.top+"px"}),n&&this._resetOffset(),this.offset(0,0)}},{key:"destroy",value:function(){this._movementStrategy.deRegister(this),this._node.remove()}},{key:"refresh",value:function(){this._scope.$apply()}},{key:"node",get:function(){return this._node}}]),e}(),d=function(){function e(t){_classCallCheck(this,e),this._targetContainer=t}return _createClass(e,[{key:"checkCollisions",value:function(e){var t=this._targetContainer[0].getBoundingClientRect(),n=e.getBounds(),i={x:Math.min(0,t.width-n.right)||Math.max(0,0-n.left),y:Math.min(0,t.height-n.bottom)||Math.max(0,0-n.top)};return i}}]),e}(),h=function(){function e(){_classCallCheck(this,e),this._items=[]}return _createClass(e,[{key:"register",value:function(e){this._items.push(e)}},{key:"deRegister",value:function(e){var t=this._items.indexOf(e);t>-1&&this._items.splice(t,1)}}]),e}(),f=function(t){function n(){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.$on(o.rvMapPan,function(e,n){t._items.forEach(function(e){return e.offset(n.x,n.y)}),RV.logger.log("tooltipService","movementOffset is "+n)}),t}return _inherits(n,t),n}(h),p=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._targetContainer=e,n}return _inherits(t,e),_createClass(t,[{key:"_start",value:function(){this._targetContainer.on("mousemove",this._mouseMoveHandler.bind(this))}},{key:"_stop",value:function(){this._targetContainer.off("mousemove",this._mouseMoveHandler.bind(this)),this._previousPosition=null}},{key:"_mouseMoveHandler",value:function(e){var t=this._targetContainer[0].getBoundingClientRect();this._items.forEach(function(n){var i=n.getOriginPoint();n.offset(i.x-(e.clientX-t.left),i.y-(e.clientY-t.top))})}},{key:"register",value:function(e){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"register",this).call(this,e),1===this._items.length&&this._start()}},{key:"deRegister",value:function(e){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deRegister",this).call(this,e),0===this._items.length&&this._stop()}}]),t}(h),m={hoverTooltip:null,followMapStrategy:null,followMouseStrategy:null},g={addHoverTooltip:s,removeHoverTooltip:l,refreshHoverTooltip:c},v=e.$on(o.rvReady,a);return g}e.$inject=["$rootScope","$compile","$q","storageService","events"];var t='\n        <div class="rv-tooltip-content" ng-if="self.name !== null">\n            <rv-svg once="false" class="rv-tooltip-graphic" src="self.svgcode"></rv-svg>\n            <span class="rv-tooltip-text" ng-if="self.name">{{ self.name }}</span>\n        </div>\n\n        <div class="rv-tooltip-content" ng-if="self.name === null">\n            <span class="rv-tooltip-text">{{ \'maptip.hover.label.loading\' | translate }}</span>\n        </div>\n    ';angular.module("app.ui").factory("tooltipService",e)}(),function(){function e(e,t){var n={restrict:"E",templateUrl:function(e,t){return"app/ui/tooltip/tooltip-"+t.template+".html"},transclude:!0,link:function(e,n){function i(){var e=n[0].getBoundingClientRect();return{width:e.width,height:e.height}}var r=e.self;r.isRendered=!1;var o=t.registerDebounce(function(t){e.updateDimensions(t),r.isRendered=!0},20,!1,!0);e.$watch(i,function(e){return o(e)},!0)}};return n}e.$inject=["$q","debounceService"],angular.module("app.ui").directive("rvTooltip",e)}(),function(){"use strict";angular.module("app.ui.toolbox",[])}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/toolbox/toolbox.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(){function e(){}e()}angular.module("app.ui.toolbox").directive("rvToolbox",e)}(),function(){"use strict";angular.module("app.ui.toc",[])}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){"use strict";function e(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){function m(e){o.setActive({filtersFulldata:!1},{sideMetadata:!1},{sideSettings:!1}),p.reloadBoundLegendBlocks(e.layerRecordId)}function g(e){function t(){c(),h&&d[h].action(e)}var a=p.removeLegendBlock(e),s=_slicedToArray(a,2),l=s[0],c=s[1],u=n.simple().textContent(i.instant("toc.label.state.remove")).action(i.instant("toc.label.action.remove")).parent(r.panes.toc).position("bottom rv-flex");n.show(u).then(function(e){return"ok"===e?t():l()});var d={filters:{panel:"filtersFulldata",action:_},metadata:{panel:"sideMetadata",action:w},settings:{panel:"sideSettings",action:y}},h=Object.keys(d).map(function(t){var n=o.display[t];return n.requester&&n.requester.id===e.id?t:null}).filter(function(e){return null!==e})[0]||null;h&&o.setActive(_defineProperty({},d[h].panel,!1))}function v(e){RV.logger.log("tocService","toggle layer group with name "+e.name),e.expanded=!e.expanded}function y(e){var t={id:e.id,name:e.name},n={filters:!1};o.setActive(n).then(function(){return o.toggleDisplayPanel("sideSettings",e,t)})}function b(e){var t={id:e.id,name:e.name,layerId:(e.master?e.master:e).id,legendEntry:e},n=s.layers[t.layerId],l=n.getAttributes(e.featureIdx).then(function(e){var t="rvSymbol";return e.columns.find(function(e){var n=e.data;return n===t})||(e.rows.forEach(function(t){t.rvSymbol=a.setSvgHref(s.retrieveSymbol(t,e.renderer)),t.rvInteractive=""}),e.columns.unshift({data:"rvInteractive",title:"",orderable:!1,render:"",width:"20px"}),e.columns.unshift({data:t,title:"",orderable:!1,render:function(e){return'<div class="rv-wrapper rv-symbol">'+e+"</div>"},width:"20px"})),{data:e,isLoaded:!1}});o.setActive({other:!1}),o.setActive({side:!1}).then(function(){return C&&c.remove(),o.toggleDisplayPanel("filtersFulldata",l,t,0)})["catch"](function(){C=c.display(i.instant("toc.error.resource.loadfailed"),r.panes.filter)})}function _(e){var t={id:e.id,name:e.name,layerId:e.id,legendEntry:e},n=e.formattedData.then(function(t){var n="rvSymbol";return t.columns.find(function(e){var t=e.data;return t===n})||(t.rows.forEach(function(t){e.getSymbol(t).then(function(e){t.rvSymbol=e}),t.rvInteractive=""}),t.columns.unshift({data:"rvInteractive",title:"",orderable:!1,render:"",width:"20px"}),t.columns.unshift({data:n,title:"",orderable:!1,render:function(e){return'<div class="rv-wrapper rv-symbol">'+e+"</div>"},width:"20px"})),{data:t,isLoaded:!1}});o.setActive({other:!1}),o.setActive({side:!1}).then(function(){return C&&c.remove(),o.toggleDisplayPanel("filtersFulldata",n,t,0)})["catch"](function(){C=c.display(i.instant("toc.error.resource.loadfailed"),r.panes.filter)})}function w(t){var n=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],{id:t.id,name:t.name}),a={filters:!1},s=e(function(e,n){l.loadFromURL(t.metadataUrl).then(function(n){var i={metadata:n,metadataUrl:t.metadataUrl,catalogueUrl:t.catalogueUrl};e(i)})["catch"](function(e){c.display(i.instant("toc.error.resource.loadfailed"),r.panes.metadata),n(e)})});o.setActive(a).then(function(){return o.toggleDisplayPanel("sideMetadata",s,n)})}function x(e,n){t.$on("stateChangeComplete",function(t,n,i,r){"active"===i&&n===e&&r===!1&&o.clearDisplayPanel(e)}),t.$watch(function(){return o.display[n].requester},function(e,t){null!==e?(null!==t&&t.id!==e.id&&E(t.id,!1),E(e.id)):null!==t&&E(t.id,!1)})}function E(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}var k={actions:{toggleLayerGroup:v,toggleLayerFiltersPanel:_},toggleSettings:y,toggleMetadata:w,toggleLayerFiltersPanel:_,removeLayer:g,reloadLayer:m},C=void 0;u.registerDebounce(b);return x("sideMetadata","metadata"),x("sideSettings","settings"),x("filtersFulldata","filters"),k}e.$inject=["$q","$rootScope","$mdToast","$translate","layoutService","stateManager","graphicsService","geoService","metadataService","errorService","debounceService","$timeout","LegendBlock","configService","legendService"],angular.module("app.ui.toc").factory("tocService",e)}(),function(){"use strict";function e(e,r,o,a,s,l,c){function u(e,t){function a(e){for(var r=t.find(n),o=r.find("> li"),a=parseInt(o.last().attr("data-sort-group")),s=void 0,c=l.timeLineLite({paused:!0,onComplete:function(){r.addClass(i),l.set(o,{clearProps:"margin-top"})},onReverseComplete:function(){return r.removeClass(i)}}),u=0;u<a;u++)s=o.filter('[data-sort-group="'+u+'"] + [data-sort-group="'+(u+1)+'"]'),c.fromTo(s,.3,{"margin-top":0},{"margin-top":36},0);e?c.play():c.reverse(0)}var s=e.self;s.toggleSortGroups=a;var u=!1;t.on("touchstart",function(){return u=!0}),r.panes.toc=t,s.dragulaOptions={moves:function(e,t,n){return!!c.getSync.map.legend.reorderable&&(!u||(u=!1,angular.element(n).parentsUntil(e,"[rv-drag-handle]").length>0))},accepts:function(e,t,n,i){var r=[angular.element(e),angular.element(i)];e=r[0],i=r[1];var o=i.prev(),a=o.length>0?o.scope().block.sortGroup:-1,s=i.hasClass("gu-mirror")?[]:i,l=s.length>0?s.scope().block.sortGroup:-1,c=e.scope().block.sortGroup;return c===a||c===l},rvDragStart:function(e,t,n){var i=t.scope().block.sortGroup;n.attr("data-sort-group",i)},rvDragDrop:function(e,t,n,i,r){i.removeAttr("data-sort-group")},rvDragDropModel:function(){var e=c.getSync.map.legendBlocks,t=e.entries.map(function(e){return o.getLayerRecord(e.layerRecordId)});o.synchronizeLayerOrder(t)},rvDragCancel:function(e,t,n,i){i.removeAttr("data-sort-group")}};var d={pause:function(){},isActive:function(){return!1}};e.$on("toc-bag.drag",function(e,n,i){s.dragulaOptions.rvDragStart(e,n,i);var r=i.closest("md-content");t.on("mousemove touchmove",function(e){var t=e.pageY?e.pageY:e.originalEvent.touches[0].clientY,i=void 0,o=.002;r.offset().top+n.height()>t?(i=r.scrollTop()*o,d.isActive()||(d=l.to(r,i,{scrollTo:{y:0},ease:"Linear.easeNone"}))):r.height()-t<=0?d.isActive()||(i=(r[0].scrollHeight-r.height()-r.scrollTop())*o,d=l.to(r,i,{scrollTo:{y:r[0].scrollHeight-r.height()},ease:"Linear.easeNone"})):d.pause()})}),e.$on("toc-bag.drop",function(){var e;(e=s.dragulaOptions).rvDragDrop.apply(e,arguments),t.off("mousemove touchmove"),d.pause()}),e.$on("toc-bag.cancel",function(){var e;(e=s.dragulaOptions).rvDragCancel.apply(e,arguments),t.off("mousemove touchmove"),d.pause()}),e.$on("toc-bag.drop-model",function(){return s.dragulaOptions.rvDragDropModel()})}var d={restrict:"E",templateUrl:"app/ui/toc/toc.html",scope:{},link:u,controller:t,controllerAs:"self",bindToController:!0};return d}function t(e,t,n,i,r){"ngInject";function o(){var e=["default","minimized","full","attached"],n=t.state.filters.morph,i=(e.indexOf(n)+1)%4;t.setActive({side:!1},{filtersFulldata:!0}),t.setMode("filters",e[i])}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!c.isReorder;c.toggleSortGroups(e),c.isReorder=e}function s(e){e.keyCode===i.ESCAPE&&c.isReorder&&(c.toggleReorderMode(!1),l(e))}function l(e){e.preventDefault(!0),e.stopPropagation(!0)}var c=this;c.toggleFiltersFull=o,c.toggleReorderMode=a,c.tocKeyDownHandler=s,c.geoService=n,c.config=e.data,r.onEveryConfigLoad(function(e){return c.map=e.map}),c.isReorder=!1}e.$inject=["$timeout","layoutService","layerRegistry","dragulaService","geoService","animationService","configService"],t.$inject=["tocService","stateManager","geoService","keyNames","configService"];var n=".rv-legend-root",i="rv-reorder";angular.module("app.ui.toc").directive("rvToc",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,s){function l(e,t){function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!g.isExpanded;v.isReady||u(),e?(v.expandTimeline.play(),v.fanOutTimeline.reverse()):(v.expandTimeline.reverse(),v.fanOutTimeline.play())}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!v.isFannedOut;v.isReady||u(),!e||g.isExpanded||v.expandTimeline.isActive()?v.expandTimeline.isActive()||g.isExpanded?v.fanOutTimeline.pause(0):g.isExpanded||v.expandTimeline.isActive()||v.fanOutTimeline.reverse():v.fanOutTimeline.play()}function u(){if(g.symbology.isInteractive){var e=document.createElement("canvas");v.symbolItems=t.find(n).toArray().map(function(e){return e=angular.element(e),{container:e,image:e.find("rv-svg"),label:e.find(i)}}),v.trigger=t.find(r),v.maxItemWidth=Math.min(Math.max.apply(Math,_toConsumableArray(v.symbolItems.map(function(t){return Math.max(t.image.find("svg")[0].viewBox.baseVal.width,m(e,t.label.text(),"normal 14px Roboto")+32+10)}))),v.containerWidth),v.symbolItems.forEach(function(e){return e.label.css("width",v.maxItemWidth)}),v.expandTimeline=d(),v.fanOutTimeline=h(),v.isReady=!0}}function d(){var e=s.timeLineLite({paused:!0,onStart:function(){return g.isExpanded=!0},onReverseComplete:function(){return g.isExpanded=!1}}),t=48,n=16,i=t+n,r={images:f,icons:p};return v.symbolItems.reverse().forEach(function(t,n){var o=r[g.symbology.renderStyle](e,t,i,n===v.symbolItems.length-1);i+=o}),i+=n,g.container&&e.to(g.container,o,{marginBottom:i-t,ease:a},0),e.to(v.trigger,o-.1,{opacity:1,ease:a},.1),e}
function h(){var e=s.timeLineLite({paused:!0,onStart:function(){return v.isFannedOut=!0},onReverseComplete:function(){return v.isFannedOut=!1}}),t=4;return v.symbolItems.length>1&&(e.to(v.symbolItems[0].container,o,{x:"-="+t+"px",y:"-="+t+"px",ease:a},0),e.to(v.symbolItems.slice(-1).pop().container,o,{x:"+="+t+"px",y:"+="+t+"px",ease:a},0)),e}function f(e,t,n,i){var r=16,s=t.image.find("svg")[0].viewBox.baseVal.width,l=t.image.find("svg")[0].viewBox.baseVal.height,c=t.label.outerHeight(),u=Math.min(v.maxItemWidth,s),d=0!==s?u/s*l:0;return e.to(t.container,o/3*2,{width:v.maxItemWidth,height:d+c,left:0,autoAlpha:1,ease:a},o/3),e.to(t.container,o,{top:n,ease:a},0),e.to(t.image,o/3*2,{width:u,height:d,padding:0,ease:a},o/3),e.set(t.label,{display:"block",width:"auto"},0),e.to(t.label,o/3,{opacity:1,ease:a},o/3*2),d+c+(i?0:r)}function p(e,t,n,i){var r=8,s=32;return e.to(t.container,o/3*2,{width:v.containerWidth,left:0,ease:a},o/3),e.to(t.container,o,{top:n,ease:a},0),e.to(t.container,o/3,{autoAlpha:1,ease:a},0),e.to(t.image,o/3*2,{width:s,height:s,ease:a},o/3),e.set(t.label,{display:"block"},o/3),e.to(t.label,o/3*2,{opacity:1,ease:a},o/3),s+(i?0:r)}function m(e,t,n){var i=e.getContext("2d");i.font=n;var r=i.measureText(t);return r.width}var g=e.self;g.isExpanded=!1,g.expandSymbology=l,g.fanOutSymbology=c;var v={isReady:!1,isFannedOut:!1,expandTimeline:null,fanOutTimeline:null,symbolItems:[],trigger:null,containerWidth:350,maxItemWidth:350};return e.$watchCollection("self.symbology.stack",function(e,t){e&&(v.isReady=!1,g.isExpanded&&g.expandSymbology(!1))}),e.$watch("self.symbology.expanded",function(e,t){return e!==t?g.expandSymbology(e):angular.noop}),e.$watch("self.symbology.fannedOut",function(e,t){return e!==t?g.fanOutSymbology(e):angular.noop}),!0}var c={require:"^?rvTocEntry",restrict:"E",templateUrl:"app/ui/toc/templates/symbology-stack.html",scope:{symbology:"=",container:"=?"},link:l,controller:function(){},controllerAs:"self",bindToController:!0};return c}function t(e){var t=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.legend.Entry.ICONS,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,t),this._fannedOut=!1,this._expanded=!1,this._proxy=n,this._renderStyle=r,this._isInteractive=o,this._symbols=i}return _createClass(t,[{key:"isInteractive",get:function(){return this._isInteractive}},{key:"stack",get:function(){return this._proxy.symbology||this._symbols}},{key:"renderStyle",get:function(){return this._renderStyle}},{key:"fannedOut",get:function(){return this._fannedOut},set:function(e){this._fannedOut=e}},{key:"expanded",get:function(){return this._expanded},set:function(e){this._expanded=e}}]),t}();return t}e.$inject=["$q","Geo","animationService"],t.$inject=["ConfigObject"];var n=".rv-symbol",i=".rv-symbol-label",r=".rv-symbol-trigger",o=.3,a=new Ease(BezierEasing(.35,0,.25,1));angular.module("app.ui.toc").directive("rvSymbologyStack",e).factory("SymbologyStack",t)}(),function(){"use strict";function e(e){function t(t,n){var i=t.self;i.uiControl=e.makeFlag(i.block,i.name)}var n={restrict:"E",templateUrl:"app/ui/toc/templates/legend-flag.html",scope:{block:"=",name:"@"},link:{pre:t},controller:function(){},controllerAs:"self",bindToController:!0};return n}e.$inject=["LegendElementFactory"],angular.module("app.ui").directive("rvLegendFlag",e)}();var _get=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){function e(e,t,n,i,r){var o=function(){function e(t){_classCallCheck(this,e),this._legendBlock=t}return _createClass(e,[{key:"block",get:function(){return this._legendBlock}},{key:"icon",get:function(){return""}},{key:"label",get:function(){return""}},{key:"tooltip",get:function(){return this.label}},{key:"isVisible",get:function(){return this.block.isControlVisible(this._controlName)}}]),e}(),a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){}},{key:"isDisabled",get:function(){var e=this.block.isControlDisabled(this._controlName)||this.block.isControlUserDisabled(this._controlName);return e}}]),t}(o),s=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return a._controlName="visibility",a._debouncedAction=r.registerDebounce(function(e){a.block.visibility=e},300),a}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.value;this._debouncedAction(e)}},{key:"value",set:function(e){this.action(e)},get:function(){return this.block.visibility}},{key:"icon",get:function(){return"action:visibility"}},{key:"label",get:function(){return"toc.label.visibility.off"}}]),t}(a),l=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return _possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)))}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"toggle:check_box"+(this.value?"":"_outline_blank")}},{key:"label",get:function(){return"toc.label.visibility."+(this.value?"on":"off")}}]),t}(s),c=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return _possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)))}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"toggle:radio_button_"+(this.value?"":"un")+"checked"}},{key:"label",get:function(){return"toc.label.visibility."+(this.value?"on":"off")}}]),t}(s),u=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="opacity",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.block.opacity=e}},{key:"value",get:function(){return this.block.opacity},set:function(e){this.action(e)}},{key:"icon",get:function(){return"action:opacity"}},{key:"label",get:function(){return"settings.label.opacity"}}]),t}(a),d=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return a._debouncedAction=r.registerDebounce(function(e){a.block.boundingBox=e},300),a._controlName="boundingBox",a}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.value;this._debouncedAction(e)}},{key:"value",get:function(){return this.block.boundingBox},set:function(e){this.action(e)}},{key:"icon",get:function(){return"community:cube-outline"}},{key:"label",get:function(){return"settings.label.boundingBox"}}]),t}(a),h=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="query",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.value;this.block.query=e}},{key:"value",get:function(){return this.block.query},set:function(e){this.action(e)}},{key:"icon",get:function(){return"communication:location_on"}},{key:"label",get:function(){return"toc.label.query"}}]),t}(a),f=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="snapshot",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){this.block.snapshot=!0,n.reloadLayer(this.block)}},{key:"value",get:function(){return this.block.snapshot}},{key:"icon",get:function(){return"action:cached"}},{key:"label",get:function(){return"settings.label.snapshot"}}]),t}(a),p=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="metadata",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){n.toggleMetadata(this.block)}},{key:"icon",get:function(){return"action:description"}},{key:"label",get:function(){return"toc.label.metadata"}}]),t}(a),m=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="settings",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){n.toggleSettings(this.block)}},{key:"icon",get:function(){return"image:tune"}},{key:"label",get:function(){return"toc.label.settings"}}]),t}(a),g=function(e){function n(){var e;_classCallCheck(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o._controlName="offscale",o}return _inherits(n,e),_createClass(n,[{key:"action",value:function(){t.zoomToScale(this._layerProxy)}},{key:"icon",get:function(){return"action:zoom_"+(this.block.outOfScale?"in":"out")}},{key:"label",get:function(){return"toc.label.visibility.zoom"+(this.block.outOfScale?"In":"Out")}}]),n}(a),v=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="reload",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){n.reloadLayer(this.block)}},{key:"icon",get:function(){return"navigation:refresh"}},{key:"label",get:function(){return"toc.label.reload"}}]),t}(a),y=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="boundaryZoom",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){this.block.zoomToBoundary()}},{key:"icon",get:function(){return"action:zoom_in"}},{key:"label",get:function(){return"toc.label.boundaryoom"}}]),t}(a),b=function(e){function t(){var e;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s._debouncedAction=r.registerDebounce(function(){n.toggleLayerFiltersPanel(s.block)},300),s._controlName="data",s}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){this._debouncedAction()}},{key:"icon",get:function(){return"community:table-large"}},{key:"label",get:function(){return"toc.label.dataTable"}}]),t}(a),_=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="remove",o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){n.removeLayer(this.block)}},{key:"icon",get:function(){return"action:delete"}},{key:"label",get:function(){return"toc.label.remove"}}]),t}(a),w=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="reorder",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"editor:drag_handle"}},{key:"label",get:function(){return"toc.label.reorder"}},{key:"isVisible",get:function(){return!0}}]),t}(a),x=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="symbology",o._symbologyStack=o.block.symbologyStack,o}return _inherits(t,e),_createClass(t,[{key:"action",value:function(){this._symbologyStack.expanded=!this._symbologyStack.expanded,this._symbologyStack.fannedOut=!this._symbologyStack.expanded}},{key:"icon",get:function(){return"maps:layers"}},{key:"label",get:function(){return"toc.layer.label.symbology"}}]),t}(a),E=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"data",get:function(){return{}}},{key:"style",get:function(){return""}}]),t}(o),k=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="boundingBox",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"community:cube-outline"}},{key:"label",get:function(){return"settings.label.boundingBox"}},{key:"isVisible",get:function(){return this.block.boundingBox}}]),t}(E),C=function(t){function n(){var e;_classCallCheck(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o._controlName="type",o}return _inherits(n,t),_createClass(n,[{key:"_styles",get:function(){return{unresolved:"rv-spinning"}}},{key:"_icons",get:function(){var e=this.block.geometryType;return{unknown:"community:help",unresolved:"action:cached",get esriFeature(){return{esriGeometryPoint:"community:vector-point",esriGeometryPolygon:"community:vector-polygon",esriGeometryPolyline:"community:vector-polyline"}[e]},esriDynamic:"action:settings",esriDynamicLayerEntry:"image:photo",ogcWms:"image:photo",ogcWmsLayerEntry:"image:photo",esriImage:"image:photo",esriTile:"image:photo"}}},{key:"_labels",get:function(){return{unknown:"toc.label.flag.unknown",unresolved:"toc.label.flag.unresolved",esriFeature:"toc.label.flag.feature",esriDynamic:"toc.label.flag.dynamic",esriDynamicLayerEntry:"toc.label.flag.dynamic",ogcWms:"toc.label.flag.wms",ogcWmsLayerEntry:"toc.label.flag.wms",esriImage:"toc.label.flag.image",esriTile:"toc.label.flag.tile"}}},{key:"data",get:function(){var t=this.block,i=t.layerType,r=t.geometryType,o=t.featureCount,a={unknown:"toc.label.flag.unknown",unresolved:{},get _countData(){return{count:o,typeName:e.instant("geometry.type."+r).split("|")[1===o?0:1]}},get esriFeature(){return this._countData},get esriDynamic(){return this._countData}}[i||n.unresolvedType];return a}},{key:"style",get:function(){return this._styles[this.block.layerType||n.unresolvedType]}},{key:"icon",get:function(){return this._icons[this.block.layerType||n.unresolvedType]}},{key:"label",get:function(){return this._labels[this.block.layerType||n.unresolvedType]}},{key:"isVisible",get:function(){return!0}}]),n}(E);C.unresolvedType="unresolved";var S=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="scale",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"maps:layers_clear"}},{key:"label",get:function(){return"toc.label.flag.scale"}},{key:"isVisible",get:function(){return!0}}]),t}(E),M=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="data",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"community:table-large"}},{key:"label",get:function(){return"toc.label.flag.data.table"}}]),t}(E),A=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="query",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"community:map-marker-off"}},{key:"label",get:function(){return"toc.label.flag.query"}},{key:"isVisible",get:function(){return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isVisible",this)&&!this.block.query}}]),t}(E),T=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="user",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"social:person"}},{key:"label",get:function(){return"toc.label.flag.user"}},{key:"isVisible",get:function(){return this.block.userAdded}}]),t}(E),O=function(e){function t(){var e;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o._controlName="filter",o}return _inherits(t,e),_createClass(t,[{key:"icon",get:function(){return"community:filter"}},{key:"label",get:function(){return"toc.label.flag.filter"}},{key:"isVisible",get:function(){return!0}}]),t}(E),P={flag:"flag",control:"control"},$={flag:{boundingBox:k,type:C,scale:S,data:M,query:A,user:T,filter:O},control:{visibility:s,visibilitynode:l,visibilityset:c,opacity:u,boundingBox:d,query:h,snapshot:f,metadata:p,settings:m,offscale:g,reload:v,boundary:y,data:b,remove:_,reorder:w,symbology:x}};return{makeControl:function(e,t){return new $[P.control][t](e)},makeFlag:function(e,t){return new $[P.flag][t](e)}}}e.$inject=["$translate","geoService","tocService","legendService","debounceService"],angular.module("app.ui").factory("LegendElementFactory",e)}(),function(){"use strict";function e(e){function t(t,n,i){var r=t.self;r.uiControl=e.makeControl(r.block,r.name),r.Math=window.Math,r.uiControl.isVisible||"true"===i.persist||(n.remove(),t.$destroy())}var n={restrict:"E",templateUrl:function(e,t){var n=t.template||"button";return"app/ui/toc/templates/legend-control-"+n+".html"},scope:{block:"=",name:"@"},link:{pre:t},controller:function(){},controllerAs:"self",bindToController:!0};return n}e.$inject=["LegendElementFactory"],angular.module("app.ui").directive("rvLegendControl",e)}(),function(){"use strict";function e(e,t,n,i,r){function o(e,o){var a=e.self;a.appID=i.id,a.element=o,a.intersect=r.intersect,e.$watch("self.block.template",function(i){if(i){var r=n.get("app/ui/toc/templates/legend-"+i+".html");o.empty().append(t(r)(e))}})}var a={restrict:"E",scope:{block:"=",isInSet:"=",isReorder:"="},link:o,controller:function(){},controllerAs:"self",bindToController:!0};return a}e.$inject=["tocService","$compile","$templateCache","appInfo","common"],angular.module("app.ui").directive("rvLegendBlock",e)}(),function(){function e(e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g){function v(e,t,n,i,o){"ngInject";function a(e){return u.linkCopied=!1,e?l():s()}function s(){"undefined"==typeof d["long"]?r.getMap(n.attr("id")).getBookmark().then(function(e){return d["long"]=u.url=window.location.href.split("?")[0]+"?rv="+String(e)}).then(function(){return c()}):(u.url=d["long"],c())}function l(){"undefined"==typeof d["short"]?i.post(u.googleAPIUrl,{longUrl:u.url}).then(function(e){d["short"]=u.url=e.data.id,c()})["catch"](function(){return d["short"]=void 0}):(u.url=d["short"],c())}function c(){void 0!==e.element&&e.element.find(".rv-shareLink").select()}var u=this,d={"short":void 0,"long":void 0};u.switchChanged=a,u.close=t.hide,s(),o.onEveryConfigLoad(function(e){return u.googleAPIUrl=e.googleAPIKey?"https://www.googleapis.com/urlshortener/v1/url?key="+e.googleAPIKey:null})}function y(e,t,n,i,r){"ngInject";function o(e){var t=new marked.Renderer;t.image=function(t,n){return t.indexOf("http")===-1&&(t="about/"+e+"/images/"+t),'<img src="'+t+'" alt="'+n+'">'};var n="about/"+e+"/"+r.getSync.language+".md";return i.get(n).then(function(e){return marked(e.data,{renderer:t})})}var a=this;a.close=t.hide,r.onEveryConfigLoad(function(e){e.ui.about.isMarkdown?a.about=e.ui.about.content:o(e.ui.about.folderName).then(function(e){a.about=e})})}function b(){e("left").open().then(function(){return $('md-sidenav[md-component-id="left"] button').first().rvFocus()})}function _(){return e("left").close()}function w(){function e(e){f.loadNewLang(e.value),x.close()}function t(e){return e.value===o.getSync.language}o.onEveryConfigLoad(function(n){x.controls["export"].isHidden="undefined"==typeof n.services.exportMapUrl;var i=n.languages;x.controls.language.children=i.map(function(n){return{type:"link",label:p[n].lang[n.substring(0,2)],action:e,isChecked:t,value:n}})})}v.$inject=["scope","$mdDialog","$rootElement","$http","configService"],y.$inject=["scope","$mdDialog","$sanitize","$http","configService"];var x={open:b,close:_,controls:{},ShareController:v,AboutController:y};return x.controls={layers:{type:"link",label:"appbar.tooltip.layers",icon:"maps:layers",isChecked:function(){return s.state.mainToc.active},action:function(){x.close(),s.setActive("mainToc")}},basemap:{type:"link",label:"nav.label.basemap",icon:"maps:map",action:function(){x.close(),l.open()}},"export":{type:"link",label:"sidenav.label.export",icon:"community:export",action:function(){x.close(),u.open()}},share:{type:"link",label:"sidenav.label.share",icon:"social:share",action:function(){x.close(),m.show({controller:x.ShareController,controllerAs:"self",templateUrl:"app/ui/sidenav/share-dialog.html",parent:d.panels.shell,disableParentScroll:!1,clickOutsideToClose:!0,fullscreen:!1,onShowing:function(e,t){return e.element=t.find(".side-nav-summary")}}).then(function(){return i.find(".rv-shareLink").select()})}},about:{type:"link",label:"sidenav.label.about",icon:"action:info_outline",action:function(){x.close(),m.show({controller:x.AboutController,controllerAs:"self",templateUrl:"app/ui/sidenav/about-dialog.html",parent:d.panels.shell,disableParentScroll:!1,clickOutsideToClose:!0,fullscreen:!1})}},fullscreen:{type:"link",label:"sidenav.label.fullscreen",icon:"navigation:fullscreen",isHidden:!1,isChecked:c.isExpanded,action:function(){return c.toggle(!1)}},touch:{type:"link",label:"sidenav.label.touch",icon:"action:touch_app",isChecked:function(){return i.hasClass("rv-touch")},action:function(){return i.toggleClass("rv-touch")}},help:{type:"link",label:"sidenav.label.help",icon:"community:help",action:function(){x.close(),h.open()}},language:{type:"group",label:"sidenav.label.language",icon:"action:translate",children:[]},plugins:{type:"group",label:"sidenav.menu.plugin",icon:"action:settings_input_svideo",children:[]}},w(),g.onCreate(r.BasePlugins.MenuItem,function(e){0===x.controls.plugins.children.length&&t.items.push(["plugins"]),e.label=e.name,x.controls.plugins.children.push(e)}),x}e.$inject=["$mdSidenav","$rootScope","$rootElement","globalRegistry","configService","events","stateManager","basemapService","fullScreenService","exportService","storageService","helpService","reloadService","translations","$mdDialog","pluginService"];var t={logo:!0,items:[["layers","basemap"],["fullscreen","export","share","touch","help"],["language"]]};angular.module("app.ui").factory("sideNavigationService",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/sidenav/sidenav.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n){"ngInject";var i=this;n.onEveryConfigLoad(function(e){return i.config=e.ui.sideMenu}),i.service=e,i.version=t}t.$inject=["sideNavigationService","version","configService"],angular.module("app.ui").directive("rvSidenav",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/sidenav/menulink.html",scope:{control:"="},controller:angular.noop,controllerAs:"self",bindToController:!0};return e}angular.module("app.ui").directive("rvMenuLink",e)}(),function(){"use strict";angular.module("app.ui.settings",[])}(),function(){"use strict";function e(e){function i(t,i){var r=void 0,o='<rv-settings-content block="self.block"></rv-settings-content>';t.$watch("self.display.data",function(a){r=i.find(n),a?(t.self.block=a,r.empty().append(e(o)(t))):r.empty()})}var r={restrict:"E",templateUrl:"app/ui/settings/settings.html",scope:{},link:i,controller:t,controllerAs:"self",bindToController:!0};return r}function t(e){"ngInject";var t=this;t.display=e.display.settings}e.$inject=["$compile"],t.$inject=["stateManager"];var n=".rv-settings-content-panel";angular.module("app.ui.settings").directive("rvSettings",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/settings/settings-content.html",scope:{block:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e){"ngInject";function t(t){return e.intersect(n.block.availableControls,t.split("|")).length>0}var n=this;n.checkAvailableControls=t}t.$inject=["common"],angular.module("app.ui").directive("rvSettingsContent",e)}(),function(){"use strict";angular.module("app.ui.panels",[])}(),function(){function e(e){function n(t,n,i){e.panels[i.type]=n}var i={restrict:"E",templateUrl:function(e,t){return"app/ui/panels/"+t.type+"-panel.html"},scope:{closeButton:"@closeButton"},controller:t,controllerAs:"self",bindToController:!0,link:n};return i}function t(e,t,n,i){"ngInject";function r(){t.setActive(e.type)}var o=this;n.panels[e.type]=i,o.closePanel="false"!==o.closeButton?r:void 0}e.$inject=["storageService"],t.$inject=["$attrs","stateManager","storageService","$element"],angular.module("app.ui.panels").directive("rvPanel",e)}(),function(){function e(e){function a(t,a,s,l){function c(){d(a,n)}function u(){if(f.floatingHeader){var e=a.find(i);d(a,i),t.$on("rv-detect-scrollbar",function(t,n,i,r){TweenLite.set(e,{x:n?-r:0})})}}function d(n,i){if(f.headerControls){var r=n.find(i+" "+o);f.headerControls.split(";").forEach(function(n){var i=e("<"+n+"></"+n+">")(f.headerControlsScope||t);r.after(i)})}}function h(){if(f.footer){var n=a.find(r),i=e("<"+f.footer+"></"+f.footer+">")(t);n.append(i)}}var f=t.self;f.isLoading=!!angular.isDefined(f.isLoading)&&f.isLoading,f.hideWhenLoading=!angular.isDefined(f.hideWhenLoading)||f.hideWhenLoading,f.staticContent=!!angular.isDefined(f.staticContent)&&f.staticContent,f.floatingHeader=!!angular.isDefined(f.floatingHeader)&&f.floatingHeader,!f.closePanel&&l&&(f.closePanel=l.closePanel||void 0),c(),u(),h()}var s={restrict:"E",require:"?^rvPanel",templateUrl:"app/ui/panels/content-pane.html",scope:{titleValue:"@?",titleStyle:"@?",subTitleValue:"@?",isLoading:"=?",hideWhenLoading:"=?",headerControls:"@?",headerControlsScope:"=?",floatingHeader:"=?",footer:"@?",closePanel:"&?",staticContent:"=?"},transclude:!0,link:a,controller:t,controllerAs:"self",bindToController:!0};return s}function t(){function e(){}e()}e.$inject=["$compile"];var n=".rv-header",i=".rv-header-float",r=".rv-footer",o=".rv-spacer";angular.module("app.ui.panels").directive("rvContentPane",e)}(),function(){"use strict";angular.module("app.ui.metadata",[])}(),function(){"use strict";function e(e){function n(t,n){e.panes.metadata=n}var i={restrict:"E",templateUrl:"app/ui/metadata/metadata-panel.html",scope:{},link:n,controller:t,controllerAs:"self",bindToController:!0};return i}function t(e){"ngInject";var t=this;t.display=e.display.metadata}e.$inject=["layoutService"],t.$inject=["stateManager"],angular.module("app.ui.metadata").directive("rvMetadataPanel",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/metadata/metadata-expand.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n){"ngInject";function i(){var i=this;t.show({controller:["display","cancel",function(e,t){var n=i;n.display=e,n.cancel=t}],locals:{display:e.display.metadata,cancel:t.cancel},templateUrl:"app/ui/metadata/metadata-modal.html",clickOutsideToClose:!0,escapeToClose:!0,controllerAs:"self",disableParentScroll:!1,bindToController:!0,parent:n.panels.shell})}var r=this;r.expandPanel=i}t.$inject=["stateManager","$mdDialog","storageService"],angular.module("app.ui.metadata").directive("rvMetadataExpand",e)}(),function(){"use strict";function e(e,n){function i(t,i,r){var o=r.maxTextLength>0?r.maxTextLength:0;t.$watch("self.display.data",function(r){if(r){var a=angular.element(angular.copy(r.metadata));angular.forEach(a.find("p"),function(n){n=angular.element(n),n.html(e('<rv-truncate max-text-length="'+o+'">'+n.html()+"</rv-truncate>")(t))});var s=a.find("div").first();(r.catalogueUrl||r.metadataUrl)&&s.append('<h5 class="md-title">'+n.instant("metadata.xslt.metadata")+"</h5>"),r.catalogueUrl&&s.append('<p><a href="'+r.catalogueUrl+'" target="_blank">'+n.instant("metadata.xslt.cataloguePage")+"</a></p>"),r.metadataUrl&&s.append('<p><a href="'+r.metadataUrl+'" target="_blank">'+n.instant("metadata.xslt.metadataPage")+"</a> (xml)</p>"),i.empty(),i.append(a)}})}var r={restrict:"E",scope:{maxTextLength:"@"},link:i,controller:t,controllerAs:"self",bindToController:!0};return r}function t(e){"ngInject";var t=this;t.display=e.display.metadata}e.$inject=["$compile","$translate"],t.$inject=["stateManager"],angular.module("app.ui.metadata").directive("rvMetadataContent",e)}(),function(){"use strict";angular.module("app.ui.mapnav",[])}(),function(){"use strict";function e(e,t,n,i,r,o,a,s){var l={controls:{}};return l.controls={fullscreen:{label:"sidenav.label.fullscreen",icon:"navigation:fullscreen",tooltip:"sidenav.label.fullscreen",visible:s.isFullPageApp,action:function(){return s.toggle(!1)}},zoomIn:{label:"nav.label.zoomIn",icon:"content:add",tooltip:"nav.tooltip.zoomIn",action:function(){return t.map.shiftZoom(1)}},slider:{},zoomOut:{label:"nav.label.zoomOut",icon:"content:remove",tooltip:"nav.tooltip.zoomOut",action:function(){return t.map.shiftZoom(-1)}},geoLocator:{label:"nav.label.geoLocation",icon:"maps:my_location",tooltip:"nav.tooltip.geoLocation",action:i.find},marquee:{label:"nav.label.search",icon:"action:search",tooltip:"nav.tooltip.search",action:function(){}},home:{label:"nav.label.home",icon:"action:home",tooltip:"nav.tooltip.home",action:function(){return t.setFullExtent()}},help:{label:"sidenav.label.help",icon:"community:help",tooltip:"sidenav.label.help",action:r.open},basemap:{label:"nav.label.basemap",icon:"maps:map",tooltip:"nav.tooltip.basemap",
selected:function(){return"default"!==e.state.mapnav.morph},action:o.open}},l}e.$inject=["stateManager","geoService","$rootScope","locateService","helpService","basemapService","events","fullScreenService"],angular.module("app.ui.mapnav").factory("mapNavigationService",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/mapnav/mapnav.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e){"ngInject";var t=this;e.onEveryConfigLoad(function(e){return t.config=e.ui.navBar})}t.$inject=["configService"],angular.module("app.ui.mapnav").directive("rvMapnav",e)}(),function(){function e(e){function t(t){var n=t.self;n.control=e.controls[n.name]}var n={restrict:"E",templateUrl:"app/ui/mapnav/mapnav-button.html",scope:{name:"@"},link:t,controller:angular.noop,controllerAs:"self",bindToController:!0};return n}e.$inject=["mapNavigationService"],angular.module("app.ui.mapnav").directive("rvMapnavButton",e)}(),function(){"use strict";angular.module("app.ui.loader",[])}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/loader/loader-service.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i,r,o,a,s,l,c,u,d){"ngInject";function h(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||(e[t].$setDirty(),e[t].$setTouched()),e[t].$setValidity(n,i)}function f(e){e.isThinking?k.cancelMove():k.previousStep()}function p(){var t=E.connect,n=u.fetchServiceInfo(t.serviceUrl).then(function(e){var t=e.options,n=e.preselectedIndex;E.layerSourceOptions=t,E.layerSource=t[n]})["catch"](function(n){return h(t.form,"serviceUrl","broken",!1),e.reject(n)});k.nextStep(n)}function m(){var e=E.connect;e.serviceUrl="",e.form.$setPristine(),e.form.$setUntouched(),e.serviceUrlResetValidation()}function g(){h(E.connect.form,"serviceUrl","broken",!0)}function v(){k.nextStep(e.resolve())}function y(){var e=E.select;e.form.$setPristine(),e.form.$setUntouched(),e.serviceTypeResetValidation()}function b(){h(E.select.form,"serviceType","wrong",!0)}function _(){var e=new a.service(null,E.layerSource);d.importLayerBlueprint(e),x()}function w(){var e=E.configure;e.form.$setPristine(),e.form.$setUntouched(),E.layerSource&&E.layerSource.reset()}function x(){k.reset().start(),n.setActive("mainToc"),t(function(){s.find(".rv-loader-add").first().rvFocus()},0)}var E=this;E.closeLoaderService=x,E.serviceTypes=[r.Service.Types.FeatureLayer,r.Service.Types.DynamicService,r.Service.Types.TileService,r.Service.Types.ImageService,r.Service.Types.WMS,r.Service.Types.RasterLayer],E.connect={step:{titleValue:"import.service.connect.title",stepNumber:1,isActive:!1,isCompleted:!1,onContinue:p,onCancel:function(){return f(E.connect.step)},onKeypress:function(e){e.keyCode===l.ENTER&&p()},reset:m,focus:"serviceUrl"},form:null,serviceUrl:null,serviceUrlResetValidation:g},E.select={step:{titleValue:"import.service.select.title",stepNumber:2,isActive:!1,isCompleted:!1,onContinue:v,onCancel:function(){return f(E.select.step)},reset:y,focus:"serviceType"},serviceTypeResetValidation:b,form:null,serviceType:null},E.configure={step:{titleValue:"import.service.configure.title",stepNumber:3,isActive:!1,isCompleted:!1,onContinue:_,onCancel:function(){return f(E.configure.step)},reset:w,focus:"layerServiceName"},form:null,defaultOptions:{}},E.layerBlueprint=null;var k=new o;k.addSteps(E.connect.step).addSteps(E.select.step).addSteps(E.configure.step).start()}t.$inject=["$q","$timeout","stateManager","geoService","Geo","Stepper","LayerBlueprint","$rootElement","keyNames","ConfigObject","layerSource","legendService"],angular.module("app.ui.loader").directive("rvLoaderService",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/loader/loader-menu.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i){"ngInject";function r(){e.setActive({mainLoaderFile:!0}).then(function(){a("rv-loader-file")})}function o(){e.setActive({mainLoaderService:!0}).then(function(){a("rv-loader-service")})}function a(e){n(function(){i.find(e+" .rv-header-float button").first().rvFocus()},0)}var s=this;s.state=e.state,s.appID=t.id,s.openFileLoader=r,s.openServiceLoader=o}t.$inject=["stateManager","appInfo","$timeout","$rootElement"],angular.module("app.ui.loader").directive("rvLoaderMenu",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/loader/loader-file.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i,r,o,a,s,l,c){"ngInject";function u(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||(e[t].$setDirty(),e[t].$setTouched()),e[t].$setValidity(n,i)}function d(e){e.isThinking?A.cancelMove():A.previousStep()}function h(){p(M.upload.fileUrl)["catch"](function(e){RV.logger.error("loaderFileDirective","problem retrieving file link with error",e),u(M.upload.form,"fileUrl","upload-error",!1)})}function f(e){if(e.length>0){var t=e[0];M.upload.file=t,p(t.name,t.file)["catch"](function(e){RV.logger.error("loaderFileDirective","file upload has failed with error",e),u(M.upload.form,"fileSelect","upload-error",!1)})}}function p(t,i){function r(t){if(t.lengthComputable){var n=Math.round(t.loaded/t.total*100);n<=100&&(RV.logger.log("loaderFileDirective","currently loaded "+n+"%"),M.upload.progress=n,e.$apply())}}var o=l.fetchFileInfo(t,i,r).then(function(e){var t=e.options,n=e.preselectedIndex;M.layerSourceOptions=t,M.layerSource=t[n]});return A.moveToStep(1,n(function(){return o},300)),o}function m(){g(),y()}function g(){var e=M.upload;e.file&&(e.file.cancel(),e.file=null,e.progress=0),v()}function v(){u(M.upload.form,"fileSelect","upload-error",!0)}function y(){var e=M.upload;e.fileUrl="",e.form.fileUrl.$setPristine(),e.form.fileUrl.$setUntouched(),b()}function b(){u(M.upload.form,"fileUrl","upload-error",!0)}function _(){var e=M.layerSource.validate();e["catch"](function(e){RV.logger.error("loaderFileDirective","file type is wrong",e),u(M.select.form,"dataType","wrong",!1)}),A.nextStep(e)}function w(){var e=M.select;e.form.$setPristine(),e.form.$setUntouched(),e.selectResetValidation()}function x(){u(M.select.form,"dataType","wrong",!0)}function E(){var e=M.configure;e.form.$setPristine(),e.form.$setUntouched(),M.layerSource.reset(),e.configureResetValidation()}function k(){M.configure.form.$setValidity("invalid",!0)}function C(){var e=new o.file(M.layerSource);e.validateFileLayerSource().then(function(t){c.importLayerBlueprint(e),S()})["catch"](function(e){RV.logger.warn("loaderFileDirective","file is invalid ",e),M.configure.form.$setValidity("invalid",!1)})}function S(){A.reset().start(),i.setActive("mainToc"),n(function(){a.find(".rv-loader-add").first().rvFocus()},0)}var M=this;M.closeLoaderFile=S,M.dropActive=!1,M.upload={step:{titleValue:"import.file.upload.title",stepNumber:1,isActive:!1,isCompleted:!1,onContinue:h,onCancel:function(){return d(M.upload.step)},onKeypress:function(e){e.keyCode===s.ENTER&&h()},reset:m,focus:"dataUpload"},form:null,file:null,fileData:null,fileUrl:null,filesSubmitted:f,fileReset:g,fileResetValidation:v,fileUrlReset:y,fileUrlResetValidation:b,progress:0},M.select={step:{titleValue:"import.file.select.title",stepNumber:2,isActive:!1,isCompleted:!1,onContinue:_,onCancel:function(){return d(M.select.step)},reset:w,focus:"dataType"},selectResetValidation:x,form:null},M.configure={step:{titleValue:"import.file.configure.title",stepNumber:3,isActive:!1,isCompleted:!1,onContinue:C,onCancel:function(){return d(M.configure.step)},reset:E,focus:"layerName"},configureResetValidation:k,colourPickerSettings:{theme:"bootstrap",position:"top right"},fields:null,form:null},M.layerBlueprint=null;var A=new r;A.addSteps(M.upload.step).addSteps(M.select.step).addSteps(M.configure.step).start()}t.$inject=["$scope","$q","$timeout","stateManager","Stepper","LayerBlueprint","$rootElement","keyNames","layerSource","legendService"],angular.module("app.ui.loader").directive("rvLoaderFile",e)}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){"use strict";function e(e,t,n,i,r,o){function a(o){function a(t){if(t.serviceType===u.Error)return e.reject(t);var n=v[t.serviceType](t).map(function(e){return e(o,t)});return n}function s(e,t){RV.logger.log("layerBlueprint","the url "+e+" is a WMS");var o=Object.values(t.queryTypes).filter(function(e){return"string"==typeof e}).find(function(e){return e in n.Layer.Ogc.INFO_FORMAT_MAP}),a=p(t.layers).map(function(e){return new r.layers.WMSLayerEntryNode(e)}),s=new r.layers.WMSLayerNode({id:n.Layer.Types.OGC_WMS+"#"+ ++l.idCounter,url:e,layerType:n.Layer.Types.OGC_WMS,name:t.serviceName||e,layerEntries:[],featureInfoMimeType:o}),c=new i.WMSServiceInfo(s,a);return[c]}function c(e,t){var o=new r.layers.FeatureLayerNode({id:n.Layer.Types.ESRI_FEATURE+"#"+ ++l.idCounter,url:e,layerType:n.Layer.Types.ESRI_FEATURE,name:t.serviceName}),a=new i.FeatureServiceInfo(o,t.fields);return a}function d(e,t){var o=m(t.layers).map(function(e){return new r.layers.DynamicLayerEntryNode(e)}),a=new r.layers.DynamicLayerNode({id:n.Layer.Types.ESRI_DYNAMIC+"#"+ ++l.idCounter,url:t.index!==-1?t.rootUrl:e,layerType:n.Layer.Types.ESRI_DYNAMIC,name:t.serviceName,layerEntries:[]});t.index!==-1&&(a.layerEntries=[o.find(function(e){return e.index===t.index})]);var s=new i.DynamicServiceInfo(a,o);return s}function h(e,t){var o=new r.layers.BasicLayerNode({id:n.Layer.Types.ESRI_TILE+"#"+ ++l.idCounter,url:t.rootUrl,layerType:n.Layer.Types.ESRI_TILE,name:t.serviceName}),a=new i.TileServiceInfo(o);return a}function f(e,t){var o=new r.layers.BasicLayerNode({id:n.Layer.Types.ESRI_IMAGE+"#"+ ++l.idCounter,url:e,layerType:n.Layer.Types.ESRI_IMAGE,name:t.serviceName}),a=new i.ImageServiceInfo(o);return a}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[].concat.apply([],e.map(function(e,n){return e.level=t,e.indent=Array.from(Array(t)).fill("-").join(""),e.index=t+"-"+n,e.layers.length>0?[].concat(e,p(e.layers,++t)):e}))}function m(e){function t(e,n){return e.parentLayerId===-1?0:t(n[e.parentLayerId],n)+1}return e.map(function(n){var i=t(n,e);return n.level=i,n.indent=Array.from(Array(i)).fill("-").join(""),n.index=n.id,n})}var g,v=(g={},_defineProperty(g,u.FeatureService,function(){return[c]}),_defineProperty(g,u.ImageService,function(){return[f]}),_defineProperty(g,u.DynamicService,function(e){var t,n,i,r=[d],o=(n={},t=u.FeatureLayer,i={},i[t]=i[t]||{},i[t].get=function(){return r.concat(c)},_defineProperty(n,u.RasterLayer,r),_defineProperty(n,u.GroupLayer,r),_defineEnumerableProperties(n,i),n);return e.tileSupport&&r.push(h),e.index!==-1?o[e.indexType]:r}),g),y=t.gapi.layer.ogc.parseCapabilities(o).then(function(e){return e.layers.length>0?s(o,e):t.gapi.layer.predictLayerUrl(o).then(function(e){return a(e)})}).then(function(e){return{options:e,preselectedIndex:0}})["catch"](function(t){return e.reject(t)});return y}function s(a,s){function c(e){if("undefined"!=typeof s)return u(s,h);if("undefined"!=typeof e.fileData)return e.fileData;throw new Error("Cannot retrieve file data")}function u(t,n){var i=e(function(e,i){var r=new FileReader;r.onerror=function(){RV.logger.error("layerBlueprint","failed to read a file"),i("Failed to read a file")},r.onload=function(){return e(r.result)},r.onprogress=function(e){return n(e)},r.readAsArrayBuffer(t)});return i}var d=this,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:angular.noop,f=t.gapi.layer.predictLayerUrl(a).then(function(e){if(d.layerType=n.Layer.Types.ESRI_FEATURE,d.fileType=e.serviceType,d.fileType===n.Service.Types.Error)throw new Error("Cannot retrieve file data");var t=new r.layers.FeatureLayerNode({id:n.Layer.Types.ESRI_FEATURE+"-file#"+ ++l.idCounter,url:a,layerType:n.Layer.Types.ESRI_FEATURE,name:"undefined"!=typeof s?s.name:a});return c(e).then(function(n){var r=o.getSync.map.body.spatialReference.wkid,a=[new i.CSVFileInfo(t,n,r),new i.GeoJSONFileInfo(t,n,r),new i.ShapefileFileInfo(t,n,r)],s=e.serviceType?a.findIndex(function(t){return t.type===e.serviceType}):0;return{options:a,preselectedIndex:s}})});return f}var l={idCounter:0,serviceType:n.Service.Types},c={fetchServiceInfo:a,fetchFileInfo:s},u=n.Service.Types;return c}e.$inject=["$q","gapiService","Geo","LayerSourceInfo","ConfigObject","configService"],angular.module("app.ui").factory("layerSource",e)}(),function(){"use strict";angular.module("app.geo",[])}();var _get=function n(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t){var n=function(){function t(e){_classCallCheck(this,t),this._config=e,this.snapshot(),this.reset()}return _createClass(t,[{key:"snapshot",value:function(e){this._originalConfig=angular.copy(this._config)}},{key:"reset",value:function(){this._config=angular.copy(this._originalConfig)}},{key:"config",get:function(){return this._config}},{key:"type",get:function(){return e.Service.Types.Unknown}}]),t}(),i=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),t}(n),r=function(t){function n(e,t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i.fields=t,i}return _inherits(n,t),_createClass(n,[{key:"fields",get:function(){return this._fields},set:function(e){e.forEach(function(e,t){return e.index=t}),this._fields=e}},{key:"type",get:function(){return e.Service.Types.FeatureLayer}}]),n}(i),o=function(t){function n(e,t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i._layers=t,i}return _inherits(n,t),_createClass(n,[{key:"layers",get:function(){return this._layers}},{key:"type",get:function(){return e.Service.Types.DynamicService}}]),n}(i),a=function(t){function n(e,t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i._layers=t,i}return _inherits(n,t),_createClass(n,[{key:"layers",get:function(){return this._layers}},{key:"type",get:function(){return e.Service.Types.WMS}}]),n}(i),s=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"type",get:function(){return e.Service.Types.ImageService}}]),n}(i),l=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"type",get:function(){return e.Service.Types.TileService}}]),n}(i),c=function(n){function i(e,t,n){_classCallCheck(this,i);var r=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,[]));return r._rawData=t,r._targetWkid=n,r._formattedData=null,r._colour=(new RColor).get(!0,.4,.8),r}return _inherits(i,n),_createClass(i,[{key:"validate",value:function(){var e=this,n=t.gapi.layer.validateFile(this.type,this.rawData).then(function(t){return e.fields=t.fields,e._parsedData=t.formattedData,e._formattedData=t.formattedData,e.config.nameField=t.smartDefaults.primary,e.snapshot(),t});return n}},{key:"targetWkid",get:function(){return this._targetWkid}},{key:"rawData",get:function(){return this._rawData}},{key:"formattedData",get:function(){return this._formattedData}},{key:"layerId",get:function(){return this._config.id}},{key:"colour",get:function(){return this._colour},set:function(e){this._colour=e}},{key:"type",get:function(){return e.Service.Types.TileService}}]),i}(r),u=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"validate",value:function(){var e=this,t=_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"validate",this).call(this).then(function(t){return e.latfield=t.smartDefaults.lat,e.lonfield=t.smartDefaults["long"],t});return t}},{key:"latfield",get:function(){return this._latfield},set:function(e){this._latfield=e}},{key:"lonfield",get:function(){return this._lonfield},set:function(e){this._lonfield=e}},{key:"type",get:function(){return e.Service.Types.CSV}}]),n}(c),d=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"type",get:function(){return e.Service.Types.GeoJSON}}]),n}(c),h=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"type",get:function(){return e.Service.Types.Shapefile}},{key:"formattedData",get:function(){return this._rawData}}]),n}(c),f={FeatureServiceInfo:r,DynamicServiceInfo:o,WMSServiceInfo:a,ImageServiceInfo:s,TileServiceInfo:l,CSVFileInfo:u,GeoJSONFileInfo:d,ShapefileFileInfo:h};return f}e.$inject=["Geo","gapiService"],angular.module("app.geo").factory("LayerSourceInfo",e)}(),function(){"use strict";angular.module("app.ui.help",[])}(),function(){"use strict";function e(e){return function(){function t(e){var i=void 0,r=void 0;if([1,9,11].find(function(t){return t===e.nodeType}))for(i=e.firstChild;i;)r=i.nextSibling,t(i),i=r;else 3===e.nodeType&&n(e)}function n(e){var t=e.nodeValue.toLowerCase().indexOf(r);if(t!==-1){var n=void 0,i=void 0;n=e.splitText(t),i=n.splitText(r.length);var a=document.createElement("span");a.className=o,e.parentNode.insertBefore(a,i),a.appendChild(n)}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rv-help-highlight";if(!r)return e.trustAsHtml(i);var a=document.createDocumentFragment(),s=document.createElement("div");return r=r.toLowerCase(),s.innerHTML=i,t(s),a.appendChild(s),e.trustAsHtml(s.innerHTML)}}function t(e,t,n,i){function r(){e.show({controller:c,controllerAs:"self",bindToController:!0,templateUrl:"app/ui/help/help-summary.html",parent:i.panels.shell,disableParentScroll:!1,clickOutsideToClose:!0,fullscreen:!1})}function o(e){u.push(e)}function a(e){var t=u.indexOf(e);t!==-1&&u.splice(t,1)}function s(e){d.push(e)}function l(){d.length=0}function c(t,n){function i(e){var i=new marked.Renderer;i.image=function(t,n){return t.indexOf("http")===-1&&(t="help/"+e+"/images/"+t),'<img src="'+t+'" alt="'+n+'">'};var r="help/"+e+"/"+n.getSync.language+".md";t.get(r).then(function(e){var t=/^#\s(.*)\n{2}(?:.*|\n(?!\n{2,}))*/gm,n=e.data,r=void 0;for(a.sections=[],n=n.replace(new RegExp(String.fromCharCode(13),"g"),"");r=t.exec(n);)a.sections.push({header:r[1],info:marked(r[0].split("\n").splice(2).join("\n"),{renderer:i}),isExpanded:!1})})}function r(){e.hide()}function o(e){a.sections.forEach(function(t){return t.isExpanded=!!e})}var a=this;a.closeHelpSummary=r,a.onSearchTermChange=o,a.filteredSections=[];var s=n.getSync;s.ui.help&&i(s.ui.help.folderName||"default"),a.searchTerm=""}c.$inject=["$http","configService"];var u=[],d=[],h={register:o,unregister:a,registry:u,drawnCache:d,setDrawn:s,clearDrawn:l,open:r};return h}t.$inject=["$mdDialog","$translate","translations","storageService"],e.$inject=["$sce"],angular.module("app.ui.help").service("helpService",t).filter("highlight",e)}(),function(){"use strict";function e(e){function t(t,n,i){function r(){var e=n.offset(),t=void 0;return t=n.is(":visible")?{x:e.left-parseInt(n.css("margin-left"))-parseInt(n.css("border-left")),y:e.top-parseInt(n.css("margin-top"))-parseInt(n.css("border-top")),width:n.outerWidth(!0),height:n.outerHeight(!0)}:{x:0,y:0,width:0,height:0}}var o={getCoords:r,key:i.rvHelp.toString()};e.register(o),t.$on("$destroy",function(){e.unregister(o)})}var n={restrict:"A",scope:!1,link:t};return n}e.$inject=["helpService"],angular.module("app.ui.help").directive("rvHelp",e)}(),function(){"use strict";angular.module("app.ui.details",[])}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/help/help-search.html",controller:function(){}};return e}angular.module("app.ui.details").directive("rvHelpSearch",e)}(),function(){"use strict";function e(e){function n(t,n){function i(){e.clearDrawn(),l.clearRect(0,0,s.width,s.height),l.save(),l.globalAlpha=.5,l.fillRect(0,0,s.width,s.height),l.restore();var t=e.registry;t.forEach(function(t){var n=t.getCoords();r(t.key,n)&&(l.fillRect(n.x,n.y,n.width,n.height),l.clearRect(n.x+1,n.y+1,n.width-2,n.height-2),e.setDrawn({coords:n,key:t.key}))})}function r(t,n){var i=!0,r=e.drawnCache;return 0===r.length||(r.forEach(function(e){if(e.key===t||o(e.coords,n)||n.width*n.height===0)return void(i=!1)}),i)}function o(e,t){return!(e.y+e.height<=t.y||e.y>=t.y+t.height||e.x+e.width<=t.x||e.x>=t.x+t.width)}var a=t.self;a.draw=i;var s=n.find("canvas")[0],l=s.getContext("2d");l.canvas.width=window.innerWidth,l.canvas.height=window.innerHeight}var i={restrict:"E",templateUrl:"app/ui/help/help-overlay.html",scope:{},link:n,controller:t,controllerAs:"self",bindToController:!0};return i}function t(e,t,n){"ngInject";function i(){}var r=this;e.stateManager=t,e.$watch("stateManager.state.help.active",function(e){e&&r.draw()}),r.close=function(){t.setActive({help:!1})},r.helpSections=n.drawnCache,i()}e.$inject=["helpService"],t.$inject=["$scope","stateManager","helpService"],angular.module("app.ui.help").directive("rvHelpOverlay",e)}(),function(){"use strict";function e(e,t,n,i,r,o,a){function s(){return a.registerDebounce(function(){h.mainPanel.addClass("geosearch"),n.state.main.activeSkip=!0,n.state.main.activeSkipOverride=!0,n.setActive({side:!1},"mainGeosearch")})}function l(){d.searchValue=d.searchValuePerm;var e=n.panelHistory;if(e.length>0){n.state.main.activeSkipOverride=!1;var t=e.reverse().find(function(e){return"mainToc"===e||"mainDetails"===e});n.setActive(_defineProperty({},t,!0))}else n.setActive({main:!1}).then(function(){n.state.main.activeSkipOverride=!1});h.mainPanel.removeClass("geosearch")}function c(){var t=++h.runningRequestCount;return d.searchValue?(d.isLoading=!0,r.query(d.searchValue+"*").then(function(e){return d.isLoading=!1,d.isResultsVisible=!0,t===h.runningRequestCount&&(d.searchResults=e.results||[],d.noResultsSearchValue=0===d.searchResults.length?d.searchValue:""),e})):(d.searchResults=[],d.isLoading=!1,d.isResultsVisible=!1,e.resolve())}function u(e){"undefined"!=typeof e.bbox?r.zoomSearchExtent(e.bbox,e.position):r.zoomScale(e.name.split(":")[1])}var d={isLoading:!1,isResultsVisible:!1,noResultsSearchValue:"",searchValue:"",searchValuePerm:"",searchResults:[],runQuery:c,toggle:s(),onClose:l,zoomTo:u},h={mainPanel:i.panels.shell.find("[rv-state=main]"),runningRequestCount:0};return t.$watch(function(){return n.state.mainGeosearch.active},function(e){e||(l(),t.$emit(o.rvGeosearchClose))}),d}e.$inject=["$q","$rootScope","stateManager","storageService","geoSearch","events","debounceService"],angular.module("app.ui").factory("geosearchService",e)}(),function(){"use strict";function e(e,n,i,r,o,a,s,l){var c={restrict:"E",templateUrl:"app/ui/geosearch/geosearch.html",scope:{},controller:t,controllerAs:"self",bindToController:!0,link:function(t,s){if(r.isIE){var c=s.find(".rv-geosearch-content:first"),u=i.registerDebounce(function(e){return c.css("max-height",e.height-10)},175,!1,!0);n.onResize(e.panels.main,u)}a.$on(l.rvGeosearchClose,function(){return o.find(".rv-app-geosearch").rvFocus()})}};return c}function t(e,t,n){"ngInject";function i(e){var t=e.target,n=t.classList.contains("rv-results-item-body-button")?t.parentElement:t,i=n.children,r=document.createElement("div");r.className="rv-results-item-tooltip",r.appendChild(i[1]),r.appendChild(i[1]),r.appendChild(i[1]),n.appendChild(r),r.style.left=$(r).width()>380?360-$(r).width()+"px":0}function r(){$(".rv-results-item-tooltip").children().unwrap()}function o(){e.runQuery()}function a(n){n?l.extentChangeListener=t.$on(t.rvExtentChange,e.runQuery):l.extentChangeListener(),e.runQuery()}var s=this;s.service=e;var l={extentChangeListener:angular.noop};s.onItemFocus=n.registerDebounce(i,700,!1),s.onItemBlur=r,s.onTopFiltersUpdate=o,s.onBottomFiltersUpdate=a}e.$inject=["storageService","layoutService","debounceService","globalRegistry","$rootElement","$rootScope","stateManager","events"],t.$inject=["geosearchService","events","debounceService"],angular.module("app.ui").directive("rvGeosearch",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/geosearch/geosearch-top-filters.html",scope:{onUpdate:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e){"ngInject";function t(){r.service.setProvince(r.selectedProvince.code),r.onUpdate(),r.selectedProvince.code===-1&&(r.selectedProvince=null,r.service.setProvince(void 0))}function n(){r.service.setType(r.selectedType.code),r.onUpdate(),r.selectedType.code===-1&&(r.selectedType=null,r.service.setType(void 0))}function i(){r.selectedProvince=null,r.selectedType=null,r.service.setProvince(void 0),r.service.setType(void 0),r.onUpdate()}var r=this;r.selectedProvince=null,r.selectedType=null,r.service=e,r.clear=i,r.setType=n,r.setProvince=t}t.$inject=["geosearchFiltersService"],angular.module("app.ui").directive("rvGeosearchTopFilters",e)}(),function(){"use strict";function e(e,t,n,i,r){function o(e){i.setProvince(e)}function a(e){i.setType(e)}function s(e){function n(){var t=r.validateExtent(1.15)&&e?"visible":"canada";RV.logger.log("geosearchFiltersService","setting isvisible to",e,t),i.setExtent(t)}e?d.extentChangeListener=t.$on(t.rvExtentChange,n):d.extentChangeListener(),n()}function l(){n.getAsync.then(c)}function c(){u.provinces=[{name:e.instant("geosearch.loadingfilters.label")}],u.types=[{name:e.instant("geosearch.loadingfilters.label")}],i.getProvinces().then(function(e){return u.provinces=e}),i.getTypes().then(function(e){return u.types=e})}var u={provinces:[],types:[],setProvince:o,setType:a,setVisible:s},d={extentChangeListener:angular.noop};return l(),t.$on(t.rvLangSwitch,l),u}e.$inject=["$translate","events","configService","geoSearch","geoService"],angular.module("app.ui").factory("geosearchFiltersService",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/geosearch/geosearch-bottom-filters.html",scope:{onUpdate:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t){"ngInject";function n(){return t.registerDebounce(function(){i.service.setVisible(i.visibleOnly),i.onUpdate(i.visibleOnly)},300,!1)}var i=this;i.visibleOnly=!1,i.service=e,i.onUpdateDebounce=n()}t.$inject=["geosearchFiltersService","debounceService"],angular.module("app.ui").directive("rvGeosearchBottomFilters",e)}(),function(){"use strict";function e(){function e(e,t){t.find("md-autocomplete").rvFocus()}var n={restrict:"E",templateUrl:"app/ui/geosearch/geosearch-bar.html",scope:{value:"=",onUpdate:"=",onClose:"="},link:e,controller:t,controllerAs:"self",bindToController:!0};return n}function t(e,t,i,r){"ngInject";function o(){var e=i.registerDebounce(s,300,!1);return function(){var t=l.searchLength,n=l.service.searchValue.length;return(""!==l.service.searchValue||1===t&&0===n)&&(l.service.searchValuePerm=l.service.searchValue),l.searchLength=l.service.searchValue.length,a().css("visibility","hidden"),e().then(function(e){return a().css("visibility","visible"),e})}}function a(){return c._geosearchMenuNode&&0!==c._geosearchMenuNode.length||(c._geosearchMenuNode=angular.element("."+n).parents("md-virtual-repeat-container").attr("rv-trap-focus",e.id)),c._geosearchMenuNode}function s(){var e=r.runQuery().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.suggestions||[]});return e}var l=this,c={_geosearchMenuNode:null};l.service=r,l.geosearchMenuClass=n,l.layoutService=t,l.searchLength=0,l.onUpdateDebounce=o()}t.$inject=["appInfo","layoutService","debounceService","geosearchService"];var n="rv-geosearch-suggestion-menu";angular.module("app.ui").directive("rvGeosearchBar",e)}(),function(){"use strict";angular.module("app.ui.filters",[])}(),function(){"use strict";function e(e,t,n,i,r,o){function a(e){null!==p.onCreated&&(v.filter.isActive=e,d().then(function(){p.onChanged=Date.now()}))}function s(){$.fn.dataTable.ext.search.push(function(e,t){return m.indexOf(parseInt(t[g]))!==-1}),n.$on("extentChange",o.registerDebounce(u,300,!1)),n.$watch(function(){return e.display.filters.data},function(e,t){(null===e&&t&&t.rows||e&&e.rows&&t&&t.rows)&&c(),e&&e.rows&&l()})}function l(){g=e.display.filters.data.columns.findIndex(function(t){return t.data===e.display.filters.data.oidField}),d().then(function(){p.onCreated=Date.now()})}function c(){p.onDeleted=Date.now(),p.onCreated=null,p.onChanged=null}function u(){if(v.filter.isActive)var t=e.display.filters.requester.legendEntry.master?e.display.filters.requester.legendEntry.master._layerRecord._layer:e.display.filters.requester.legendEntry._layerRecord._layer,i=n.$watch(function(){return t.updating},function(e){e||(d().then(function(){p.onChanged=Date.now()}),i())})}function d(){return i(function(t){v.filter.isActive?h().then(function(e){m=e,t()}):(m=e.display.filters.data.rows.map(function(t){return parseInt(t[e.display.filters.data.oidField])}),t())})}function h(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=e.display.filters,o={geometry:t.mapObject.extent,outFields:[i.data.oidField]};return"esriFeature"===i.requester.legendEntry.layerType?o.featureLayer=i.requester.legendEntry._layerRecord._layer:o.url=f(i.requester.legendEntry),n>0&&(o.where=i.data.oidField+" > "+n),r.gapi.query.queryGeometry(o).then(function(e){var t=e.features.map(function(e){return parseInt(e.attributes[i.data.oidField])});if(e.exceededTransferLimit){var n=e.features[e.features.length-1].attributes[i.data.oidField];return h(n).then(function(e){return t.concat(e)})}return t})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.featureIdx;return e.url?e.url+"/"+t:f(e.parent,t)}var p={onCreated:null,onChanged:null,onDeleted:null},m=[],g=void 0,v={setActive:a,filterTimeStamps:p,filter:{isActive:!1}};return s(),v}e.$inject=["stateManager","geoService","$rootScope","$q","gapiService","debounceService"],angular.module("app.ui.filters").factory("filterService",e)}(),function(){function e(e,l,c,u,d,h,f,p,m,g,v,y,b,_,w){function x(t,h){function w(w){function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=S(e);if(i=i<50?50:i,t){t=t<r?t:r;var o=S(Array(t).join("x"));o=o<=n?o:n,i=o<i?i:o}return i}function C(e){return function(t,n){if("display"!==n)return t;if("number"!=typeof t&&"string"!=typeof t)return t;t=t.toString();var i=S(t);return t=g("autolink")(t),i>e&&(t='<span class="rv-render-ellipsis">'+y(t)+'</span>\n                                    <span class="rv-render-tooltip">'+y(t)+"</span>"),t}}function S(e){var t=S.canvas||(S.canvas=document.createElement("canvas")),n=t.getContext("2d");
return n.font="14px Roboto",n.measureText(e).width}function M(){R.then(function(){c.display.filters.isLoading=!1,e.cancel(c.display.filters.loadingTimeout);var t=h.find(".dataTables_scrollHead th");t.slice(2,t.length).attr("tabindex","-2"),T()})}function A(){o&&(a=!0),Object.values(n).forEach(function(e){e.disabledArg="rv-zoom-marker"===e.name?"!self.enabled || !self.visibility.value":"",z.find(e.name).each(function(t,n){n=angular.element(n);var r=n.attr("row"),o=i(r,e.disabledArg),a=u(o)(e.scope);n.replaceWith(a)})}),m.find(".dataTables_scrollBody td").attr("tabindex","-2")}function T(){m.find(".dataTables_scrollBody td").attr("tabindex","-2"),f.panes.filter.find(".dataTables_scrollBody").on("mousewheel DOMMouseScroll",function(){s&&(E.table.cell.blur(),o.node().blur(),s=!1)}),m.find("[type='filters'] button.rv-close").rvFocus({delay:100}),E.table.on("key-focus",b.registerDebounce(function(e,t,n){var i=$(n.node()).find("button");0===i.length?n.node().rvFocus():i.first().rvFocus()},10,!1)),E.table.on("key-focus",function(e,t,n){var i=t.scroller.page(),r=n.index();if(s&&a){if(a){var l=o[0][0].row;E.table.cell(l,r.column).focus(),E.table.row(l-1).scrollTo(!1),a=!1,o=!1}}else o=n,(r.row<i.start||r.row>=i.end)&&E.table.row(r.row-1).scrollTo(!1);s=!0})}function O(e){var t=E.table.row(e).data(),n=t[N.oidField],i=d.layers[D.layerId],r=D.legendEntry,o=m.find('rv-panel[type="filters"]'),a=m.find('rv-appbar, rv-mapnav, rv-panel:not([type="filters"])'),s=!0;d.zoomToGraphic(i,r,D.legendEntry.featureIdx,n);var l=function(){a.removeClass("rv-lt-lg-hide"),o.removeClass("zoomto-transparent"),o.off(".zoomTO"),$(window).off(".zoomTo")};a.addClass("rv-lt-lg-hide"),o.addClass("zoomto-transparent"),o.on("click.zoomTO mousedown.zoomTO touchstart.zoomTO",function(){return s?s=!1:l()}),$(window).on("resize.zoomTO",function(){return"large"===f.currentLayout()?l():void 0})}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=E.table.row(e).data(),i=_.getSync.map.layerRecords.find(function(e){return e.config.id===D.legendEntry.layerRecordId}),r=n[N.oidField],o={isLoading:!1,data:[{name:D.legendEntry.mainProxy.getFeatureName(r,n),data:i.attributesToDetails(n,N.fields),oid:r,symbology:[{svgcode:n.rvSymbol}]}],requestId:-1,requester:{proxy:D.legendEntry.mainProxy}},a={data:[o]};t?(c.display.details.selectedItem=o,p.expandPanel(!1)):c.toggleDisplayPanel("mainDetails",a,{},0)}function L(){var e=N.columns.find(function(e){return"rvInteractive"===e.data});e.render=function(e,t,i,r){var o=Object.values(n).map(function(e){return"<"+e.name+' row="'+r.row+'"></'+e.name+">"}).join("");return'<div class="rv-wrapper">'+o+"</div>"}}var I={onTableDraw:A,onTableInit:M,onZoomClick:O,onDetailsClick:P};k=k||h.find(".rv-filters-data-container"),E.destroyTable();var D=c.display.filters.requester,N=c.display.filters.data,R=l(function(t){return e(function(){return t()},100)}),z=angular.element('<table class="display nowrap rv-data-table"></table>');k.append(z);var j=!0;n.zoom.self.enabled=j,n.details.self.action=function(e){var t=f.currentLayout();"small"===t||"medium"===t?P(e,!0):P(e)},n.zoom.self.action=O,Object.values(n).forEach(function(e){var n=t.$new(!0);n.self=e.self,"rv-zoom-marker"===e.name&&(n.self.visibility=!0),e.scope=n}),L();var F=function(e){return e.map(function(e,t){return"rvInteractive"===e.data||"rvSymbol"===e.data?-1:t}).filter(function(e){return e>-1})},B=function(e){var t=angular.copy(e);return t.forEach(function(e){e.data=e.data.replace(/\./g,"\\.")}),t};N.columns.forEach(function(e){var t=N.fields.find(function(t){return t.name===e.data});if("undefined"!=typeof t)if("esriFieldTypeString"===t.type){var n=x(e.title,t.length);e.width=n+"px",e.render=C(n)}else if("esriFieldTypeOID"===t.type)e.width="100px";else if("esriFieldTypeDate"===t.type){N.rows.forEach(function(e){return e[t.name]=g("dateTimeZone")(e[t.name])});var i=Math.max(S(e.title),175);e.width=i+"px"}else{var r=x(e.title);e.width=r+"px",e.render=C(r)}}),E.table=z.on("init.dt",I.onTableInit).on("draw.dt",I.onTableDraw).DataTable({dom:"rti",columns:B(N.columns),data:N.rows,order:[],deferRender:!0,scrollY:!0,scrollX:!0,autoWidth:!1,scroller:{displayBuffer:10},keys:{keys:[v.LEFT_ARROW,v.UP_ARROW,v.RIGHT_ARROW,v.DOWN_ARROW]},buttons:[{extend:"print",title:E.display.requester.name,exportOptions:{columns:F(N.columns),orthogonal:null}},{extend:"csvHtml5",title:E.display.requester.name,exportOptions:{columns:F(N.columns),orthogonal:null}}],oLanguage:w})}function x(){E.table&&(E.table.destroy(!0),delete E.table,o=!1,a=!1,s=!1)}var E=t.self,k=void 0;E.createTable=w,E.destroyTable=x,f.panes.filter=h}var E={restrict:"E",templateUrl:"app/ui/filters/filters-default.html",scope:{},link:x,controller:t,controllerAs:"self",bindToController:!0};return E}function t(e,t,n,i,r,o,a,s,l,c){"ngInject";function u(){function n(){var e=r(),t=f.table.context[0].oLanguage;return angular.merge(t,e),t}function r(){var e=i.proposedLanguage()||i.use();if(p[e])return p[e];var t={sProcessing:"processing",sSearch:"search",sLengthMenu:"length.menu",sInfo:"info",sInfoEmpty:"zero",sInfoFiltered:"filtered",sInfoPostFix:"postfix",sLoadingRecords:"loadrec",sZeroRecords:"zerorecords",sEmptyTable:"emptytable"},n={sFirst:"first",sPrevious:"previous",sNext:"next",sLast:"last"},r={sSortAscending:"sortasc",sSortDescending:"sortdsc"},o={oPaginate:{},oAria:{}};return Object.keys(t).forEach(function(e){return o[e]=i.instant("filter.default.label."+t[e])}),Object.keys(n).forEach(function(e){return o.oPaginate[e]=i.instant("filter.default.label."+n[e])}),Object.keys(r).forEach(function(e){return o.oAria[e]=i.instant("filter.default.aria."+r[e])}),p[e]=o,p[e]}t.$on("stateChangeComplete",function(e,t,n,i){"filters"===t&&(RV.logger.log("filtersDefaultDirective",e,t,n,i),f.draw(i),"active"===n&&(m=i,i&&g&&(g(),g=null)))}),t.$watch(function(){return s.filterTimeStamps.onCreated},function(e){null!==e&&(m?f.createTable(r()):g=function(){return f.createTable(r())})}),t.$watch(function(){return s.filterTimeStamps.onDeleted},function(e){null!==e&&f.destroyTable()}),t.$watch(function(){return s.filterTimeStamps.onChanged},function(e){null!==e&&f.table.draw()}),t.$on(a.rvDataPrint,function(){RV.logger.log("filtersDefaultDirective","printing Datatable"),h(0)}),t.$on(a.rvDataExportCSV,function(){RV.logger.log("filtersDefaultDirective","exporting CSV Datatable"),h(1)}),e.$on("$translateChangeSuccess",function(){f.table&&(n(),f.table.draw())})}function d(e){if(f.table){RV.logger.log("filtersDefaultDirective","drawing table");var t=f.table.scroller;if("default"===e){t.measure(!1);var n=f.table.table().container().getElementsByClassName("dataTables_info")[0],i=n.innerText.split(" "),r="en-CA"===l.getSync.language?1:3;i[r]=t.page().start+1,i[r+2]=t.page().end+1,n.innerText=i.join(" ")}else"full"===e&&t.measure(!0)}}function h(e){var t=f.table.button(e);t&&t.trigger()}var f=this;f.display=o.display.filters,f.appID=c.id,f.draw=d;var p={},m=!1,g=null;u()}e.$inject=["$timeout","$q","stateManager","$compile","geoService","$translate","layoutService","detailService","$rootElement","$filter","keyNames","$sanitize","debounceService","configService","SymbologyStack"],t.$inject=["$rootScope","$scope","$timeout","$translate","tocService","stateManager","events","filterService","configService","appInfo"];var n={details:{name:"rv-details-marker",scope:null,self:{isFunction:angular.isFunction,icon:"action:description",label:"filter.tooltip.description",tooltip:"filter.tooltip.description",action:angular.noop,enabled:!0}},zoom:{name:"rv-zoom-marker",scope:null,self:{isFunction:angular.isFunction,icon:"action:zoom_in",label:function(e){return"filter.tooltip."+(e?"zoom":"nozoom")},tooltip:function(e){return"filter.tooltip."+(e?"zoom":"nozoom")},action:angular.noop,enabled:!0}}},i=function(e,t){return'<md-button\n            aria-label="{{ self.isFunction(self.label) ? self.label(self.enabled) : self.label | translate }}"\n            class="md-icon-button rv-icon-16 rv-button-24"\n            ng-click="self.action('+e+')"\n            ng-disabled="'+t+'">\n\n            <md-tooltip ng-if="self.tooltip" md-direction="top">{{ self.isFunction(self.tooltip) ? self.tooltip(self.enabled) : self.tooltip | translate }}</md-tooltip>\n            <md-icon md-svg-src="{{ self.isFunction(self.icon) ? self.icon(self.enabled) : self.icon }}"></md-icon>\n\n        </md-button>'},r=500,o=!1,a=!1,s=!1;angular.module("app.ui.filters").directive("rvFiltersDefault",e)}(),function(){"use strict";function e(e){function n(t){var n=t.self;n.currentLayout=e.currentLayout}var i={restrict:"E",templateUrl:"app/ui/filters/filters-default-menu.html",scope:{},link:n,controller:t,controllerAs:"self",bindToController:!0};return i}function t(e,t,n,i,r){"ngInject";function o(e){t.setMorph("filters",e)}function a(){e.$emit(n.rvDataPrint)}function s(){e.$emit(n.rvDataExportCSV)}var l=this;l.setMode=o,l.filtersMode=t.state.filters.morph,l.applyFilter=i.setActive,l.filter=i.filter,l.dataPrint=a,l.dataExportCSV=s,l.appID=r.id}e.$inject=["layoutService"],t.$inject=["$scope","stateManager","events","filterService","appInfo"],angular.module("app.ui.filters").directive("rvFiltersDefaultMenu",e)}(),function(){"use strict";function e(e,i,r){function o(t){var o=r.panels.shell;e.show({locals:{shellNode:o},controller:s,controllerAs:"self",bindToController:!0,templateUrl:"app/ui/export/export.html",parent:o,targetEvent:t,hasBackdrop:!0,disableParentScroll:!1,clickOutsideToClose:!0,fullscreen:!0,onRemoving:i.hide,onShowing:function(e,t){return e.element=t.find(n)}})}function a(){e.hide()}function s(e,n,i,r,o,a,s,c){"ngInject";function u(){y.titleComponent&&y.titleComponent.generate(y.exportSizes.selectedOption,m,!0)}function d(){y.lastUsedSizeOption=y.exportSizes.selectedOption,s.update(m)}function h(){return!y.exportComponents||y.exportComponents.items.some(function(e){return e.isGenerating})}function f(){return y.isGenerating()||y.isError||y.isSafari||y.exportSizes.isCustomOptionSelected()&&!y.exportSizes.isCustomOptionUpdated()||y.lastUsedSizeOption!==y.exportSizes.selectedOption}function p(){if(y.exportComponents)return y.exportComponents.items.some(function(e){return e.isSelectable})}function m(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.action,o=void 0===r?"close":r,a=i.hideDelay,s=void 0===a?0:a,l={parent:y.scope.element||y.shellNode,position:"bottom rv-flex-global",textContent:e.instant("export."+t),action:e.instant("export."+o),hideDelay:s};return n.show(n.simple(l))}function g(e){"export.size.custom"===e._name&&y.scope.element.find("md-dialog-content").scrollTop(0)}function v(){var e=y.exportComponents.items.filter(function(e){return e.isSelected&&e.graphic.height>0}).map(function(e){return e.graphic}),n=e.map(function(e){return e.height}),i=n.reduce(function(e,n){return e+n+t},t),r=t,a=n.map(function(e){return r+=e+t,[t,r]});a.unshift([t,t]);var s=c.createCanvas(y.exportSizes.selectedOption.width+2*t,i,"#fff");c.mergeCanvases([s].concat(_toConsumableArray(e)),a);var l=""+o.id;if(y.titleComponent&&""!==y.titleComponent.value)l+=" - "+y.titleComponent.value;else{var u=y.exportComponents.get("timestamp");u&&(l+=" - "+u.value)}try{RV.isSafari?(m("error.safari"),y.isSafari=!0):s.toBlob(function(e){saveAs(e,l+".png")})}catch(d){y.isError=!0,"SecurityError"===d.name?(m("error.tainted"),y.isTainted=!0,y.taintedGraphic=s):m("error.somethingelseiswrong")}}var y=this;y.isError=!1,y.isTainted=!1,y.exportSizes=a.update(),y.lastUsedSizeOption=y.exportSizes.selectedOption,y.saveImage=v,y.close=l.close,y.isGenerating=h,y.isDownloadBlocked=f,y.isSettingsEditable=p,y.updateTitleComponent=u,y.updateComponents=d,y.scrollCustomSettings=g,s.init().then(function(){y.exportComponents=s.update(),y.titleComponent=y.exportComponents.get("title"),y.mapComponent=y.exportComponents.get("map"),y.scope.$watch("self.exportSizes.selectedOption",function(e,t){t!==e&&e!==y.exportSizes.customOption&&d()})})}s.$inject=["$translate","$mdToast","$q","$filter","appInfo","exportSizesService","exportComponentsService","graphicsService"];var l={open:o,close:a};return l}e.$inject=["$mdDialog","$mdToast","storageService"];var t=20,n=".rv-export";angular.module("app.ui").service("exportService",e)}(),function(){"use strict";function e(e,t){function n(){var e=t.panels.shell,n=[e.width(),e.height()],i=n[0],r=n[1];return d.exportSizeRatio=i/r,d.options.forEach(function(e){return e.widthHeightRatio=d.exportSizeRatio}),d.tempOption.widthHeightRatio=d.exportSizeRatio,l.height=r,d.selectedOption.isValid()||(d.selectedOption=l),d.width={min:Math.round(d.height.min*d.exportSizeRatio),max:Math.round(d.height.max*d.exportSizeRatio)},d}function i(){d.customOption.height=d.tempOption.height}function r(){d.tempOption.height=d.customOption.height}function o(){return d.customOption.height===d.tempOption.height&&null!==d.customOption.height}function a(){return d.customOption===d.selectedOption}var s=new e("export.size.custom",1),l=new e("export.size.default",1),c=new e("export.size.custom",1),u=[l,new e("export.size.small",1,720),new e("export.size.medium",1,1080),s],d={options:u,customOption:s,selectedOption:l,tempOption:c,exportSizeRatio:1,height:{min:320,max:2160},width:{min:1,max:1},update:n,updateCustomOption:i,resetTemporaryOption:r,isCustomOptionUpdated:o,isCustomOptionSelected:a};return d}e.$inject=["ExportSize","storageService"],angular.module("app.ui").factory("exportSizesService",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";var e=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.widthHeightRatio=n,this._name=t,angular.isNumber(i)?this.height=i:this._height=this._width=i}return _createClass(e,[{key:"isValid",value:function(){return null!==this._height&&null!==this._width}},{key:"name",get:function(){return this._name}},{key:"widthHeightRatio",set:function(e){this._widthHeightRatio=0!==e?e:1,this.height=this._height},get:function(){return this._widthHeightRatio}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,angular.isNumber(e)?this._height=Math.round(this._width/this._widthHeightRatio):this._height=null}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,angular.isNumber(e)?this._width=Math.round(this._height*this._widthHeightRatio):this._width=null}},{key:"dimensions",get:function(){return this.isValid()?"("+this._width+" x "+this._height+")":""}}]),e}();angular.module("app.ui").factory("ExportSize",function(){return e})}(),function(){"use strict";function e(e,l,c,u,d,h,f){function p(){function i(){return(o-(t.l+t.r+(y.count-1)*n))/y.count}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,s=v(d.getSync.map.legendBlocks);if(0===s.length)return e.resolve(f.createCanvas(0,0));var c=angular.element("<div>").css("visibility","hidden");l.append(c);for(var u=SVG(c[0]).size(o,100),p=u.group(),y={count:Math.floor(o/a)||1,width:0,height:0},b=void 0,_=void 0,w=null;w!==y.count;)_=angular.copy(s),y.count=w||y.count,y.width=i(),p.clear(),b=g(p,_,y.width),w=1===y.count?1:h.gapi.legend.makeLegend(_,y.count,r).sectionsUsed;m(b,y);var x=y.height+t.t+t.b;u.height(x).viewbox(0,0,o,x),c.remove();var E=document.createElement("canvas"),k=e(function(e){canvg(E,u.node.outerHTML,{ignoreAnimation:!0,ignoreMouse:!0,renderCallback:function(){return e(E)}})});return k}function m(e,i){var r=Array.from(Array(i.count)).map(function(){return e.container.set()}),o=0,a=r[o],s=e.container.set(),l=e.lines;e.items.forEach(function(e){return s.add(e)}),e.items.forEach(function(t){if(t.remember("self").splitBefore){for(var n=t.y(),c=l.length();c--;){var u=l.get(c),d=[u.x(),u.y(),u.height()],h=d[0],f=d[1],p=d[2];if(!(f>n)){if(f+p>n){var m=e.container.line(h,f,h,Math.min(n,i.height)).stroke("black"),g=e.container.line(h,n,h,f+p).stroke("black");u.remove(),a.add(m),l.add(g)}else a.add(u);l.remove(u)}}a=r[++o],s.dy(-n),l.dy(-n)}a.add(t),s.remove(t)});for(var c=l.length(),u=0;u<c;u++)a.add(l.get(u));l.clear(),r.forEach(function(e,r){var o=t.l+i.width*r+n*r;i.height=Math.max(i.height,e.bbox().h),e.dmove(o,t.t)})}function g(e,t,n){function l(e){e.hasOwnProperty("items")?u(e):d(e)}function c(e){var t=f;h(e,18),e.items.forEach(function(e){l(e)}),e.height=f-t,f+=i}function u(t){h(t,16);var n=f;p++,t.items.forEach(function(e){l(e)}),p--;var i=f,o=e.line(p*m,n,p*m,i).stroke({color:"black",width:1,opacity:.8});v.add(o),t.height=f-n,f+=r}function d(t){var i=t.name,r=t.svgcode,l=e.group().remember("self",t),c=void 0,u={"font-family":"Roboto","font-weight":"normal","font-size":14,anchor:"start"},d=l.group().svg(r).first(),h=d.viewbox();return h.height>s||h.width>s?(c=l.textflow(i,n-p*m).attr(u).dy(-4),d.size(h.width,h.height).dy(c.bbox().height+a)):(c=l.textflow(i,n-s-a-p*m).attr(u).dmove(s+a,-4),c.bbox().height<s&&c.cy(s/2).dy(-4)),l.move(p*m,f),f+=l.rbox().height+o,t.height=l.rbox().height,t.y=l.y(),g.push(l),l}function h(t,i){var r=t.name||"",o=e.textflow(r,n-p*m).attr({"font-family":"Roboto","font-weight":"normal","font-size":i,anchor:"start"}).remember("self",t).move(p*m,f);return t.headerHeight=o.rbox().height,t.y=o.y(),f+=t.headerHeight+i/2,g.push(o),o}var f=0,p=0,m=16,g=[],v=e.set();return t.forEach(function(e){return c(e)}),{container:e,height:f,items:g,lines:v}}function v(e){var t,n=(t={},_defineProperty(t,u.TYPES.NODE,function(e){return{name:e.name,items:e.symbologyStack.stack}}),_defineProperty(t,u.TYPES.GROUP,function(){return null}),_defineProperty(t,u.TYPES.SET,function(){return null}),_defineProperty(t,u.TYPES.INFO,function(){return null}),t),i=e.walk(function(e){return e.visibility?n[e.blockType](e):null}).filter(function(e){return null!==e});return i}var y={generate:p};return y}e.$inject=["$q","$rootElement","geoService","LegendBlock","configService","gapiService","graphicsService"];var t={t:20,r:20,b:20,l:20},n=10,i=24,r=16,o=8,a=8,s=32;angular.module("app.ui").service("exportLegendService",e)}(),function(){"use strict";function e(e,i,r,o,a,s,l,c,u){function d(e,t){return e.then(function(e){return{graphic:e,value:t}})}function h(e,n,i){var r=e.width,o=30;if(!angular.isString(i)||""===i)return{graphic:l.createCanvas(0,0)};var a=i,s=l.createSvg(r,o),c=s.text(a||"").attr({"font-family":"Roboto","font-weight":"normal","font-size":32,anchor:"start"}).leading(1).cx(r/2);o=c.bbox().height+t,c.cy(o/2),s.height(o);var u=l.createCanvas(r,o),h=l.svgToCanvas(s,u);return d(h)}function f(e){var t=l.createCanvas();return t.width=e.width,t.height=e.height,{graphic:t}}function p(e){var t=u.map.printLocal(e);return d(t)}function m(t,i){function r(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=a.printServer({url:o,format:"png32",width:t.width,height:t.height}),c=e(function(t,a){e.resolve(l).then(function(e){return t(e)})["catch"](function(e){s++,RV.logger.error("exportGeneratorsService","print task failed "+("on try "+s+" with error"),e),s<=n?(RV.logger.log("exportGeneratorsService","trying print task again"),t(r(o,s))):i("error.timeout",{action:"retry"}).then(function(e){"ok"===e?(s=0,RV.logger.log("exportGeneratorsService","trying print task again"),t(r(o,s))):a()})})});return c}var o=s.getSync,a=o.map.instance,l=o.services.exportMapUrl,c=r(l);return d(c)}function g(e){var t=c.generate(e.height,e.width,350);return d(t)}function v(e){function t(e,t){var n=120*e,i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)+1-1),o=n-n%i;return{label:""+parseFloat(o.toFixed(1)).toString()+t+" "+r.instant("export.label.approx"),width:""+Math.floor(120*o/n)}}var n=e.width,i=100,o=l.createSvg(n,i),a=o.group(),s=u.map.getScaleRatio(n),c={"font-family":"Roboto","font-weight":"normal","font-size":12,x:0,y:0,anchor:"start"},h=t(s.ratio,s.units[0]);a.text(h.label).attr(c),a.line(0,22,h.width,22).stroke("black");var f=t(s.ratio/1.6,s.units[1]);c.y=30,a.line(0,29,f.width,29).stroke("black"),a.text(f.label).attr(c),a.move(20,(i-49)/2);var p=l.createCanvas(n,i),m=l.svgToCanvas(o,p);return d(m)}function y(e){var t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61.06 96.62"><g transform="translate(-1.438 30.744)"><g fill="none" stroke="#000"><path d="m61 35c0 16.02-12.984 29-29 29-16.02 0-29-12.984-29-29 0-16.02 12.984-29 29-29 16.02 0 29 12.984 29 29z" stroke-width="3"/><path d="m55 35c0 12.979-10.521 23.5-23.5 23.5-12.979 0-23.5-10.521-23.5-23.5 0-12.979 10.521-23.5 23.5-23.5 12.979 0 23.5 10.521 23.5 23.5z" transform="matrix(1.01148 0 0 .99988-.089.004)" stroke-width=".497"/><path d="m32 35v-32" stroke-width=".25"/></g><path d="m32-9.453l28.938 73.826-29-29-29 29z" fill="#fff" stroke="#fff" stroke-width="3"/><path d="m32-9.453l29 73.45-29-29-29 29z" fill="none" stroke="#000" stroke-linecap="square"/><text x="22.71" y="-10.854" font-family="OPEN SANS" word-spacing="0" line-height="125%" letter-spacing="0" font-size="40"><tspan x="22.71" y="-10.854" font-family="Adobe Heiti Std R" font-size="26">N</tspan></text></g><g transform="translate(0-3.829)" fill="none" stroke="#000" stroke-width=".25"><path d="m4 92.82l6.74-3.891"/><path d="m4.603 90.7l10.397-6"/><path d="m3 95.17l4-2.309"/><path d="m5.442 88.45l13.856-8"/><path d="m12 72.26l18.686-10.812"/><path d="m14.593 65.45l16.09-9.291"/><path d="m15.343 63.24l15.343-8.858"/><path d="m16.877 60.58l13.809-7.972"/><path d="m17.511 58.45l13.174-7.606"/><path d="m18.412 56.15l12.274-7.087"/><path d="m19 54.04l11.427-6.597"/><path d="m20 51.757l10.822-6.311"/><path d="m20.826 49.45l9.86-5.693"/><path d="m21.48 47.3l9.206-5.315"/><path d="m23 44.647l7.686-4.437"/><path d="m23.744 42.45l6.928-4"/><path d="m24.549 40.21l6.137-3.543"/><path d="m25 38.18l5.686-3.283"/><path d="m26.663 35.446l4.02-2.323"/><path d="m27.617 33.12l3.069-1.772"/><path d="m28 31.13l2.686-1.551"/><path d="m29.15 28.694l1.534-.886"/><path d="m13 69.909l17.686-10.211"/><path d="m9.206 79.19l21.48-12.402"/><path d="m8.36 81.45l22.326-12.89"/><path d="m7.671 83.62l19.946-11.516"/><path d="m6.137 86.27l17.02-9.827"/><path d="m10 76.956l20.686-11.943"/><path d="m11.279 74.45l19.407-11.205"/><path d="m14 67.56l16.686-9.634"/><path d="m30.562 65.744v-43.566" transform="translate(0 3.829)"/></g></svg>',n=u.map.getNorthArrowAngle()-180,i=e.width,r=100,o=l.createSvg(i,r),a=o.group().svg(t).first(),s=a.viewbox(),c=s.width/s.height,h=70,f=h*c,p=i-20-f,m=(r-h)/2;a.size(f,h).move(p,m).rotate(n,p+f/2,m+h/2);var g=l.createCanvas(i,r),v=l.svgToCanvas(o,g);return d(v)}function b(e,t,n){var i=e.width,r=30;if(!angular.isString(n)||""===n)return{graphic:l.createCanvas(0,0)};var o=n,a=l.createSvg(i,r),s=a.textflow(o,i-40).attr({"font-family":"Roboto",anchor:"start"}).leading(1).cx((i-40)/2);r=s.bbox().height+30,s.cy(r/2+10),a.height(r);var c=l.createCanvas(i,r),u=l.svgToCanvas(a,c);return d(u)}function _(e){var n=i("date")(new Date,"yyyy-MM-dd HH:mm:ss"),r=e.width,o=100,a=l.createSvg(r,o),s=a.text(n).attr({"font-family":"Roboto",anchor:"start"}).leading(1).cx(r/2);o=s.bbox().height+2*t,s.cy(o/2),a.height(o);var c=l.createCanvas(r,o),u=l.svgToCanvas(a,c);return d(u,n)}var w={titleGenerator:h,mapDummyGenerator:f,mapLocalGenerator:p,mapServerGenerator:m,legendGenerator:g,northarrowGenerator:y,scalebarGenerator:v,timestampGenerator:_,footnoteGenerator:b};return w}e.$inject=["$q","$filter","$translate","$templateCache","gapiService","configService","graphicsService","exportLegendService","geoService"];var t=20,n=3;angular.module("app.ui").factory("exportGenerators",e)}(),function(){"use strict";function e(e,t,n,i,r,o,a){function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:angular.noop;return l().then(function(){h.items.forEach(function(t){return t.generate(i.selectedOption,e,!0)})}),h}function l(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=void 0;return null===h.items||i?(h.items=[],r=n.getAsync.then(function(e){var n=angular.merge({},u,e["export"]);d.forEach(function(e){var i=n[e];h.items.push(new t(e,i))})})):r=e.resolve(),r}function c(e){return h.items.find(function(t){return t.id===e})}var u={title:{generators:[a.titleGenerator],value:"",isVisible:!1},map:{generators:[a.mapDummyGenerator,a.mapLocalGenerator,a.mapServerGenerator],graphicOrder:[0,2,1]},mapelements:{generators:[a.scalebarGenerator,a.northarrowGenerator]},legend:{generators:[a.legendGenerator]},footnote:{value:"",generators:[a.footnoteGenerator]},timestamp:{generators:[a.timestampGenerator],isVisible:!1}},d=["title","map","mapelements","legend","footnote","timestamp"],h={items:null,init:l,update:s,get:c};return h}e.$inject=["$q","ExportComponent","configService","exportSizesService","exportLegendService","graphicsService","exportGenerators"],angular.module("app.ui").factory("exportComponentsService",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t){var n=function(){function n(e,t){var i=t.value,r=void 0===i?{}:i,o=t.generators,a=void 0===o?[]:o,s=t.graphicOrder,l=void 0===s?null:s,c=t.isVisible,u=void 0===c||c,d=t.isSelectable,h=void 0===d||d,f=t.isSelected,p=void 0===f||f;_classCallCheck(this,n),this._id=e,this._config={value:r,generators:a,graphicOrder:l||a.map(function(e,t){return t}),isVisible:u,isSelectable:h,isSelected:p},this._graphic=null,this._graphics=[],this._generateId=0}return _createClass(n,[{key:"reset",value:function(){return this._graphic=null,this._graphics=[],this}},{key:"generate",value:function(n,i){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:++this._generateId;(null===this._graphic||o)&&(this._graphics=[],this._config.generators.forEach(function(o,s){return e.resolve(o(n,i,r._config.value)).then(function(e){var n=e.graphic,i=e.value,o=void 0===i?null:i;if(r._generateId===a){var l=r._config.graphicOrder[s];r._graphics[l]=n,r._graphic=t.mergeCanvases(r._graphics),null!==o&&(r._config.value=o)}})}))}},{key:"value",get:function(){return this._config.value},set:function(e){this._config.value=e}},{key:"id",get:function(){return this._id}},{key:"graphic",get:function(){return this._graphic}},{key:"isSelected",get:function(){return this._config.isSelected},set:function(e){this._config.isSelected=e}},{key:"isVisible",get:function(){return this._config.isVisible}},{key:"isGenerating",get:function(){return this._config.isSelected&&this._graphics.filter(function(e){return e}).length!==this._config.generators.length}},{key:"isSelectable",get:function(){return this._config.isSelectable}}]),n}();return n}e.$inject=["$q","graphicsService"],angular.module("app.ui").factory("ExportComponent",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/ui/export/custom-size.html",link:function(e,t){return t.find("input").first().rvFocus({delay:400})}}}angular.module("app.ui").directive("rvExportCustomSize",e)}(),function(){"use strict";function e(e){function i(i,r){function o(){l.paused()||!c?l.play():c=!1}function a(){l.reverse()}var s=i.self,l=e.timeLineLite({paused:!0}),c=!1;l.to(r,t,{width:280,ease:n}).fromTo(r,.01,{"overflow-y":"hidden"},{"overflow-y":"auto"},t/2);var u=i.$watch(s.getSectionNode,function(e){"undefined"!=typeof e&&(l.to(e,t,{className:"+=rv-expanded"},0),u())});r.on("focusout",function(e){$.contains(r[0],e.relatedTarget)||a()}),r.on("focusin",o),s.itemSelectedByKeypress=function(e,t){13!==e.which&&32!==e.which||(e.preventDefault(!0),a(),s.selectItem(t))},s.itemSelectedByMouse=function(e){c=!0,a(),s.selectItem(e)},r.hoverIntent({over:o,out:a,interval:200})}var r={restrict:"E",templateUrl:"app/ui/details/layer-list-slider.html",link:i};return r}e.$inject=["animationService"];var t=.3,n=new Ease(BezierEasing(.35,0,.25,1));angular.module("app.ui.details").directive("rvLayerListSlider",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/details/details.html",scope:{},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i,r,o,a){"ngInject";function s(e){return e.find(function(e){return e.requester.proxy===c.selectedLayerProxy})}function l(t){return c.selectedItem===t?void e.$broadcast(n.rvHighlightDetailsItem,t):(c.selectedItem=t,c.selectedLayerProxy=t?t.requester.proxy:null,void(c.display.selectedItem=c.selectedItem))}var c=this;c.closeDetails=o.closeDetails,c.display=i.display.details,c.selectItem=l,c.expandPanel=o.expandPanel,c.getSectionNode=function(){return t.find(".rv-details")},e.$watch("self.display.data",function(e,t){e&&e.length>0?(l(s(e)||e[0]),e.forEach(function(e){return e.requester.symbologyStack=new a(e.requester.proxy)})):t&&l(null)})}t.$inject=["$scope","$element","events","stateManager","mapService","detailService","SymbologyStack"],angular.module("app.ui.details").directive("rvDetails",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/details/details-record-text.html",scope:{item:"=",mapPoint:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n){"ngInject";function i(){n.addMarkerHighlight(r.mapPoint,!0)}var r=this;e.$on(t.rvHighlightDetailsItem,function(e,t){t===r.item&&i()}),e.$watch("self.item",function(e){"undefined"!=typeof e&&i()})}t.$inject=["$scope","events","mapService"],angular.module("app.ui").directive("rvDetailsRecordText",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/details/details-record-html.html",scope:{item:"=",mapPoint:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n){"ngInject";function i(){n.addMarkerHighlight(r.mapPoint,!0)}var r=this;e.$on(t.rvHighlightDetailsItem,function(e,t){t===r.item&&i()}),e.$watch("self.item",function(e){"undefined"!=typeof e&&i()})}t.$inject=["$scope","events","mapService"],angular.module("app.ui").directive("rvDetailsRecordHtml",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/details/details-record-esrifeature.html",scope:{item:"=",mapPoint:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n){"ngInject";function i(e){0===l.length&&n.clearHighlight(),l.push(e),a(e)}function r(e,t){var n=c.indexOf(e);t&&n===-1?c.push(e):n!==-1&&c.splice(n,1),o()}function o(){var e=c.length>0?c:l;n.clearHighlight(),e.length>0?e.forEach(function(e){return a(e)}):s.mapPoint&&n.addMarkerHighlight(s.mapPoint,!0)}function a(e){var t=s.item.requester.proxy.fetchGraphic(e);n.addGraphicHighlight(t,!0)}var s=this;s.initHighlight=i,s.toggleHighlight=r;var l=[],c=[];e.$on(t.rvHighlightDetailsItem,function(e,t){t===s.item&&o()}),e.$watch("self.item",function(e){"undefined"!=typeof e&&(l=[],c=[],o())})}t.$inject=["$scope","events","mapService"],angular.module("app.ui").directive("rvDetailsRecordEsrifeature",e)}(),function(){"use strict";function e(e,n,i){function r(t,r){function o(){var t=a.requester.layerRec.legendEntry;if(t.layerType===n.Layer.Types.ESRI_DYNAMIC){var i=t.layerEntries.findIndex(function(e){return e.index===a.requester.featureIdx});t=t.items[i]}e.zoomToGraphic(a.requester.layerRec,t,a.requester.featureIdx,a.item.oid)}var a=t.self,s=["rvSymbol","rvInteractive"];a.isExpanded=a.solorecord,a.isRendered=a.solorecord,a.triggerZoom=o,a.item.data=a.item.data.filter(function(e){return s.indexOf(e.key)===-1}),a.item.symbologyStack=new i({},a.item.symbology),a.initHighlight(a.item.oid)}var o={restrict:"E",templateUrl:"app/ui/details/details-record-esrifeature-item.html",scope:{item:"=",requester:"=",solorecord:"=",toggleHighlight:"=",initHighlight:"="},link:r,
controller:t,controllerAs:"self",bindToController:!0};return o}function t(e){"ngInject";function t(){i.isRendered=!0,i.isExpanded=!i.isExpanded,i.toggleHighlight(i.item.oid,i.isExpanded)}function n(){i.triggerZoom()}var i=this;i.toggleDetails=t,i.zoomToFeature=n}e.$inject=["geoService","Geo","SymbologyStack"],t.$inject=["mapService"],angular.module("app.ui").directive("rvDetailsRecordEsrifeatureItem",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/ui/details/details-header.html",scope:{selectedItem:"="},controller:t,controllerAs:"self",bindToController:!0};return e}function t(e){"ngInject";var t=this;t.expandPanel=e.expandPanel,t.closeDetails=e.closeDetails}t.$inject=["detailService"],angular.module("app.ui.details").directive("rvDetailsHeader",e)}(),function(){"use strict";function e(){var e={restrict:"A",templateUrl:"app/ui/details/details-content.html",scope:{item:"=rvItem",mapPoint:"=rvMapPoint",isHidden:"=?rvIsHidden"},controller:function(){},controllerAs:"self",bindToController:!0};return e}angular.module("app.ui.details").directive("rvDetailsContent",e)}(),function(){"use strict";function e(e,t,n,i){function r(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.show({controller:function(){},parent:i.panels.shell,locals:{item:t.display.details.selectedItem,cancel:e.cancel},templateUrl:"app/ui/details/details-modal.html",clickOutsideToClose:!0,disableParentScroll:!1,escapeToClose:!0,controllerAs:"self",bindToController:!0,hasBackdrop:n})}function o(){t.clearDisplayPanel("mainDetails"),n.clearHighlight(!1),t.panelHistory.find(function(e){return"mainToc"===e})?t.togglePanel("mainDetails","mainToc"):t.setActive({mainDetails:!1})}var a={expandPanel:r,closeDetails:o};return a}e.$inject=["$mdDialog","stateManager","mapService","storageService"],angular.module("app.ui.filters").factory("detailService",e)}(),function(){"use strict";angular.module("app.ui.common",["app.ui.common.stepper"])}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){"use strict";function e(e,t){function n(n,i,r){r.$observe("maxTextLength",function(r){if(r=r>0?parseInt(r):0,r>0){var o=i.html(),a=o.replace(/<[^>]+>/gm,"").replace(/ +(?= )/g,"").replace(/(\r\n|\n|\r)/gm,"").length,s=o.substr(0,r+(o.length-a));s=s.substr(0,Math.min(s.length,s.lastIndexOf(" "))),a>r&&(s+='... <br><a href="#" ng-click="show()">'+t.instant("rv-truncate.showMore")+"</a>",o+=' <br><a href="#" ng-click="hide()">'+t.instant("rv-truncate.showLess")+"</a>");var l=function(t){i.html(t),e(i.contents())(n)};l(s),n.show=function(){return l(o)},n.hide=function(){return l(s)}}})}var i={restrict:"E",scope:{maxTextLength:"@"},link:n};return i}function t(e){function t(t,n){function r(){var e=o(a,n.width()-10),t=_slicedToArray(e,2),i=t[0],r=t[1];n.empty().append('\n                    <span class="rv-truncate-title-left">'+i+'</span>\n                    <span calss="rv-truncate-title-right">'+r+"</span>\n                ")}function o(t,n){var r=e.getTextWidth(i,t,"normal 16px Roboto");if(r<n)return[t,""];var o=Math.floor(t.length*n/r*.3);return[t.substring(0,t.length-o),t.substring(t.length-o,t.length)]}var a="";t.$watch("self.rvTruncateTitle",function(e){e&&(a=e),r()}),t.$watch(function(){return n.width()},function(){return r()}),n.addClass("rv-truncate-title")}var n={restrict:"A",scope:{rvTruncateTitle:"="},link:t,controller:function(){},controllerAs:"self",bindToController:!0},i=document.createElement("canvas");return n}e.$inject=["$compile","$translate"],t.$inject=["graphicsService"],angular.module("app.ui.common").directive("rvTruncate",e).directive("rvTruncateTitle",t)}(),function(){"use strict";function e(){function e(e,o){var a=s(e),l=r.timeLineLite();l.fromTo(e,t,{height:0},{height:a,ease:i}).fromTo(e,n,{opacity:0},{opacity:1,ease:i,onComplete:function(){e.css("height","auto"),o()}})}function o(e,o){var a=r.timeLineLite();a.fromTo(e,n,{opacity:1},{opacity:0,ease:i}).to(e,t,{height:0,ease:i,onComplete:function(){return o()}})}function a(t){return function(n,i,r){var a={"false":e,"true":o};a[t](n,r)}}function s(e){return e.css("height","auto").prop("clientHeight")}var l={enter:e,leave:o,addClass:a(!0),removeClass:a(!1)};return["animationService",function(e){"ngInject";return r=e,l}]}var t=.25,n=.1,i=new Ease(BezierEasing(.35,0,.25,1)),r=void 0;angular.module("app.ui.common").animation(".rv-toggle-slide",e())}(),function(){"use strict";function e(e){function t(t,n,i){"undefined"==typeof i.once?i.once=!0:i.once="false"!==i.once.toLowerCase();var r=t.$watch("src",function(o){if(o){var a=angular.element(t.src),s=a.find("image");a.is("svg")&&s.length>0&&(t.src=e.setSvgHref(t.src)),n.empty().append(t.src),i.once&&r()}})}var n={restrict:"E",scope:{src:"="},link:t};return n}e.$inject=["graphicsService"],angular.module("app.ui.common").directive("rvSvg",e)}(),function(){"use strict";function e(e,t){function n(n,i,r){function o(){t.callback(r.rvState,"active")}n.stateManager=t,n.$watch("stateManager.state."+r.rvState+".active",function(n){var a=t.state[r.rvState].activeSkip;a?(i[n?"removeClass":"addClass"]("ng-hide"),o()):e[n?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"}).then(function(){return o()})})}var i={multiElement:!0,restrict:"A",link:n};return i}e.$inject=["$animate","stateManager"],angular.module("app.ui.common").directive("rvState",e)}(),function(){"use strict";function e(e){"ngInject";function t(e){return function(){var t=e.apply(void 0,arguments);return function(e,n,i,r){t(e,n,i,r),n.attr("tabindex","-3")}}}var n=e[0],i=n.compile;return n.compile=t(i),[n]}e.$inject=["$delegate"],angular.module("material.components.select").decorator("mdSelectDirective",e)}(),function(){"use strict";function e(e,t){"ngInject";function n(e){return function(){var n=e.apply(void 0,arguments);return function(e,i,r,o){n.pre(e,i,r,o),i.attr("rv-focus-member",t.id)}}}var i=e[0],r=i.compile;return i.compile=n(r),[i]}e.$inject=["$delegate","appInfo"],angular.module("material.components.select").decorator("mdSelectMenuDirective",e)}(),function(){"use strict";function e(){function e(e){return Array.isArray(e)?e.slice().reverse():void 0}return e}angular.module("app.ui.common").filter("rvReverse",e)}(),function(){function e(){function e(e,t){e.$watch(function(){return t.width()},function(t,n){e.$emit("rv-resize",t,n)})}var t={restrict:"A",link:e};return t}angular.module("app.ui.common").directive("rvResize",e)}(),function(){"use strict";function e(e,t,n){return["$rootElement","animationService",function(i,r){"ngInject";var o=y[e];return m=r,{enter:o(i,t,!1,n),leave:o(i,t,!0,n),addClass:s(!0,o,i,t,n),removeClass:s(!1,o,i,t,n)}}]}function t(e,t,n,i){return function(r,s){var c=u,d=o(e,r,t,i),f={x:d.x,y:d.y,z:0,opacity:0},p={x:"0%",y:"0%",z:0,opacity:1},m={ease:h,onComplete:a(r,s),clearProps:"transform,opacity"};l(r,s,c,n,f,p,m)}}function n(e,t,n,i){return function(r,s){var c=u,d=o(e,r,t,i),f={x:d.x,y:d.y,z:0},p={x:"0%",y:"0%",z:0},m={ease:h,onComplete:a(r,s),clearProps:"transform"};l(r,s,c,n,f,p,m)}}function i(e,t){return t%2===0?e.find(c).outerHeight(!0):e.find(c).outerWidth(!0)}function r(e,t,n){var r=10;return 0===n?r+=t.position().top+i(t,n):1===n?r+=t.position().left+i(t,n):2===n?r=e.outerHeight(!0)-t.position().top:r+=e.outerWidth(!0)-t.position().left,r}function o(e,t,n,i){var o={x:0,y:0},a={0:"y",1:"x",2:"y",3:"x"},s={0:"-",1:"-",2:"",3:""};if(4!==n){var l=i?r(e,t,n).toString():"100%";o[a[n]]=s[n]+l}return o}function a(e,t){return function(){delete f[e.data(d)],t()}}function s(e,t,n,i,r){return function(o,a,s){var l={"true":t(n,i,!0,r),"false":t(n,i,!1,r)};l[e](o,s)}}function l(e,t,n,i,r,o,s){var l=f[e.data(d)];if(l)return void l.reverse().eventCallback("onReverseComplete",a(e,t));var u=p++;f[u]=m.fromTo(e.find(c),n,i?o:r,angular.extend({},i?r:o,s)),e.data(d,u)}var c="div:first",u=.3,d="rv-plug-slide-id",h=new Ease(BezierEasing(.35,0,.25,1)),f={},p=1,m=void 0,g=angular.module("app.ui.common"),v=["down","right","up","left"],y={slide:n,fade:t};v.forEach(function(t,n){return Object.keys(y).forEach(function(i){g.animation(".rv-plug-"+i+"-"+t,e(i,n,!1)).animation(".rv-plug-"+i+"-"+t+"-grand",e(i,n,!0))})}),g.animation(".rv-plug-fade",e("fade",4,!1))}(),function(){"use strict";function e(e,t,n,i,r,o){function a(o,a){function s(){var e=r.northArrow();e.projectionSupported?(l.arrowIcon=e.screenY>0?"snowman":"northarrow",a.css("display","block").css("left",e.screenX).css("top",Math.max(1,e.screenY)).css("transform",e.screenY>0?"":"rotate("+e.rotationAngle+"deg)")):a.css("display","none")}var l=o.self;l.arrowIcon="northarrow",t.$on(i.rvApiReady,function(){var r=e.getSync.map.components;r.northArrow&&r.northArrow.enabled?(n.find(".rv-esri-map > .esriMapContainer").first().after(a),s(),t.$on(i.rvExtentChange,s)):a.css("display","none")})}var s={restrict:"E",link:a};return s}e.$inject=["configService","$rootScope","$rootElement","events","mapToolService","$interval"],angular.module("app.ui").directive("rvNorthArrow",e)}(),function(){function e(e,i){function r(r,o,a){function s(){e.callback(a.rvMorph,"morph")}var l=void 0,c=void 0;r.stateManager=e,r.$watch("stateManager.state."+a.rvMorph+".morph",function(r,u){l=new RegExp("(^| )"+u+"($| )","i"),c=o.attr("class").replace(l,"$1"+r+"$2"),r!==u?e.state[a.rvMorph].morphSkip?(o.removeClass(u).addClass(r),s()):i.to(o,a.rvMorphSpeed||t,{className:c,ease:n,onComplete:function(){o.removeClass(u),s()}}):o.addClass(r)})}var o={restrict:"A",link:r};return o}e.$inject=["stateManager","animationService"];var t=.3,n=new Ease(BezierEasing(.35,0,.25,1));angular.module("app.ui.common").directive("rvMorph",e)}(),function(){"use strict";function e(e,t){"ngInject";function n(e){return function(){var n=e.apply(void 0,arguments);return function(e,i,r,o){n(e,i,r,o);var a=i.find("md-icon"),s=i.find(".md-button");r.rvRightIcon&&("checkbox"===r.type||"radio"===r.type?(s.prepend(t('<md-icon md-svg-icon="'+r.rvRightIcon+'"></md-icon>')(e)),i.removeClass("md-indent"),s.append(a)):s.prepend(a)),s.wrapInner("<div class='rv-button-flex'></div>")}}}var i=e[0],r=i.compile;return i.compile=n(r),[i]}e.$inject=["$delegate","$compile"],angular.module("material.components.menuBar").decorator("mdMenuItemDirective",e)}(),function(){"use strict";function e(e){"ngInject";function t(e){return function(){var t=e.apply(void 0,arguments);return function(e,n,i,r){t(e,n,i,r),n.find("md-menu-content").attr("rv-focus-init","")}}}var n=e[0],i=n.compile;return n.compile=t(i),[n]}e.$inject=["$delegate"],angular.module("material.components.menu").decorator("mdMenuDirective",e)}(),function(){"use strict";function e(e){"ngInject";function t(e){return function(){var t=e.apply(void 0,arguments);return function(e,n,i,r){t(e,n,i,r);var o=!1;n.on("DOMSubtreeModified",function(){var e=n.find("svg");o=!(e.length>0)||!o,o&&e.attr("focusable",!1)})}}}var n=e[0],i=n.compile;return n.compile=t(i),e}e.$inject=["$delegate"],angular.module("material.components.icon").decorator("mdIconDirective",e)}(),function(){"use strict";function e(e,r,o,a,s,l,c){function u(r){if(r){if(RV._fullscreenToggleAppID!==c.id)return}else RV._fullscreenToggleAppID=c.id;return d(),h.toggleLock?void(h.toggleLock=!1):(r||(h.toggleLock=!0,screenfull.toggle()),h.tl&&h.tl.pause().kill(),h.trueCenterPoint=l.getSync.map.instance.extent.getCenter(),void(h.isExpanded?(h.tl=s.timeLineLite({paused:!0}),h.tl.set(h.body,{className:"-=rv-full-screen"}),h.tl.to(h.mapContainerNode,t,{top:-(window.innerHeight/2-h.shellNodeBox.height/2),left:-(document.body.clientWidth/2-h.shellNodeBox.width/2),ease:n},0),h.tl.to(h.shellNode,t,{top:h.shellNodeBox.top,left:h.shellNodeBox.left,bottom:window.innerHeight-h.shellNodeBox.bottom,right:document.body.clientWidth-h.shellNodeBox.right,ease:n},0),h.tl.set(h.shellNode,{clearProps:"all"}),h.tl.set(e,{clearProps:"all"}),h.isExpanded=!h.isExpanded,h.tl.play()):(h.tl=s.timeLineLite({paused:!0}),h.mapContainerNode=o.panels.map.find("> .container > .container"),h.shellNode=o.panels.shell,h.shellNodeBox=h.shellNode[0].getBoundingClientRect(),h.tl.set(e,{overflow:"visible","z-index":i}),h.tl.set(h.shellNode,{position:"fixed",top:h.shellNodeBox.top,left:h.shellNodeBox.left,bottom:window.innerHeight-h.shellNodeBox.bottom,right:document.body.clientWidth-h.shellNodeBox.right,"z-index":i,height:"auto",width:"auto",margin:0}),h.tl.to(h.mapContainerNode,t,{top:window.innerHeight/2-h.shellNodeBox.height/2,left:document.body.clientWidth/2-h.shellNodeBox.width/2,ease:n},0),h.tl.to(h.shellNode,t,{top:0,left:0,bottom:0,right:0,ease:n},0),h.tl.set(h.body,{className:"+=rv-full-screen"}),h.isExpanded=!h.isExpanded,h.tl.play())))}function d(){var e=l.getSync.map.instance,t=e.mapDefault("panDuration");e.mapDefault("panDuration",0),e._map.resize(),e._map.reposition(),r(function(){e._map.centerAt(h.trueCenterPoint),s.set(h.mapContainerNode,{clearProps:"top,left"}),e.mapDefault("panDuration",t)},500)}var h={isExpanded:!1,toggleLock:!1,tl:void 0,body:angular.element("body"),mapContainerNode:void 0,shellNode:void 0,shellNodeBox:void 0,trueCenterPoint:void 0},f={toggle:u,isExpanded:function(){return h.isExpanded},isFullPageApp:l.getAsync.then(function(e){return e.fullscreen})};return screenfull.onchange(function(){return u(!0)}),f}e.$inject=["$rootElement","$timeout","storageService","gapiService","animationService","configService","appInfo"];var t=0,n=new Ease(BezierEasing(.35,0,.25,1)),i=50;angular.module("app.ui.common").factory("fullScreenService",e)}(),function(){"use strict";function e(e){function t(t){e.hide(t)}function n(t,n){var i={textContent:t,action:"Close",hideDelay:0,position:"bottom rv-flex-global"};return"undefined"!=typeof n&&(i.parent=n),e.show(e.simple(i))}var i={display:n,remove:t};return i}e.$inject=["$mdToast"],angular.module("app.ui.common").factory("errorService",e)}(),function(){"use strict";function e(e,t,n){function i(n,i,o){var a=n,s={containers:[i[0]],mirrorContainer:i[0]};angular.extend(s,a.self[o.rvDragulaOptions]),t.options(a,o.rvDragula,s),e("<div dragula=\"'"+o.rvDragula+'\'" dragula-model="'+o.rvDragulaModel+'"></div>')(a);var l=t.find(a,o.rvDragula).drake;r(i,n,l,s)}function r(e,t,i,r){function o(e){RV.logger.log("dragulaDirective","event",e,"isReordering "+v+" isDragging "+g),g&&!v&&m(e,e.target)}function a(e){function t(){g?m(e,e.target):h(e)}function r(){if(g){var t=y.next();if(t[0]===w[0])k=_;else{if(0===t.length)return;k=t.next()}p(f)}else u(y.next());s(e)}function o(){if(g){if(k=y.prev(),0===k.lenght)return;p(f)}else u(y.prev());s(e)}function a(){g&&(m(e,f),s(e))}function l(){g&&m(e,f)}var c;RV.logger.log("dragulaDirective",e.keyCode);var f=angular.element(e.target);if(i.canMove(f[0])&&d(f[0])){var v=(c={},_defineProperty(c,n.ENTER,t),_defineProperty(c,n.SPACEBAR,t),_defineProperty(c,n.DOWN_ARROW,r),_defineProperty(c,n.UP_ARROW,o),_defineProperty(c,n.ESCAPE,a),_defineProperty(c,n.TAB,l),c),b=v[e.keyCode]||angular.noop;b()}}function s(e){e.preventDefault(!0),e.stopPropagation(!0)}function l(e){return i.containers.indexOf(e)!==-1}function c(e){return e.parentNode===window.document?null:e.parentNode}function u(e){e.find(C+":first").rvFocus()}function d(e){for(y=e;c(y)&&l(c(y))===!1;)if(y=c(y),!y)return y=void 0,!1;return b=angular.element(c(y)),y=angular.element(y),!0}function h(e){g=!0,w=b.last(),b.append(_),y.addClass("rv-mirror"),r.rvDragStart(e,y,b),x=b.children().index(y)}function f(e,t){g=!1,_.remove(),y.removeClass("rv-mirror"),r.rvDragCancel(e,y,t,b),E=b.children().index(y)}function p(e){return!!r.accepts(y[0],null,b[0],k[0])&&(v=!0,k.before(y),e.rvFocus(),v=!1,!0)}function m(e,n){if(f(e,n),E!==x){var o=i.models[0];r.rvDragDrop(e,y,n,b,k),o.splice(E,0,o.splice(x,1)[0]),r.rvDragDropModel(),t.$digest(),t.$applyAsync(function(){return u(y)}),t.$apply()}}var g=!1,v=!1,y=void 0,b=void 0,_=angular.element('<li class="gu-mirror"></li>'),w=void 0,x=void 0,E=void 0,k=void 0,C="[rv-drag-handle] > button";e.on("focusout",C,o),e.on("keydown",C,a)}var o={restrict:"A",link:i,controllerAs:"self",bindToController:!0};return o}e.$inject=["$compile","dragulaService","keyNames"],angular.module("app.ui.common").directive("rvDragula",e)}(),function(){"use strict";function e(e,t){"ngInject";function n(e){return t(function(t){e.focusOnOpen=e.focusOnOpen!==!1,e.onComplete=function(n,i){if(i.find(".md-dialog-focus-trap").remove(),i.find("md-dialog").attr("rv-trap-focus","").removeAttr("tabindex"),e.focusOnOpen){var r=$(i).find("[rv-close-button]");0===r.length?i.nextFocus():r.first().rvFocus()}t()},i(e)})}var i=e.show;return e.show=n,e}e.$inject=["$delegate","$q"],angular.module("material.components.dialog").decorator("$mdDialog",e)}(),function(){"use strict";function e(e){function n(n,i){var r=i[0],o=void 0;n.$watch(function(){return r.scrollHeight>r.clientHeight},function(i,r){e.cancel(o),o=e(function(){n.$emit("rv-detect-scrollbar",i,r,t)},20)})}var i={restrict:"A",link:n};return i}e.$inject=["$timeout"];var t=function(){var e=angular.element('<div class="rv-scrollbar-measure"></div>');angular.element("body").append(e);var t=e[0].offsetWidth-e[0].clientWidth;return e.remove(),t}();angular.module("app.ui.common").directive("rvDetectScrollbar",e)}(),function(){"use strict";function e(e,t,n){function i(){function i(t){e.find("rv-panel, rv-appbar").css("opacity",t),e.find(".rv-esri-map .layersDiv > *:not(:first)").css("opacity",t)}return s=n(t("right").onClose).then(function(){return i(1)}),i(.2),t("left").close(),t("right").open().then(function(){return $('md-sidenav[md-component-id="right"] button').first().rvFocus()})}function r(){return t("right").close()}function o(){return a()?r():i()}function a(){return t("right").isOpen()}var s=void 0,l={open:i,close:r,toggle:o,isOpen:a,onClose:function(){return s}};return l}e.$inject=["$rootElement","$mdSidenav","$q"],angular.module("app.ui").factory("basemapService",e)}(),function(){"use strict";angular.module("app.ui.basemap",[])}(),function(){"use strict";function e(){var e={restrict:"A",controller:t,controllerAs:"self",bindToController:!0};return e}function t(e,t,n,i){"ngInject";var r=this;n.onEveryConfigLoad(function(e){return r.map=e.map}),r.geoService=e,r.selectBasemap=function(t){n.getSync.map.selectedBasemap.deselect(),t.select(),e.map.selectBasemap(t.id),i.$broadcast(i.rvBasemapChange)},r.close=t.close}t.$inject=["geoService","basemapService","configService","events"],angular.module("app.ui.basemap").directive("rvBasemap",e)}(),function(){"use strict";function e(e){function a(a,s){function l(){if(!f){var i=Math.max(d.outerHeight(!0)+u.outerHeight(!0),s[0].getBoundingClientRect().height);f=e.timeLineLite(),f.to(s,t/3*2,{height:i,ease:n},0).to(h,t/3*2,{opacity:.16,ease:n},0).set(u,{top:0},0).to(u,t/3*2,{opacity:1,ease:n},t/3).reverse()}f.reversed(!f.reversed()),c.isDescriptionVisible=!f.reversed()}var c=a.self;c.toggleDescription=l,c.isDescriptionVisible=!1;var u=s.find(r),d=s.find(i),h=s.find(o),f=void 0}var s={restrict:"E",templateUrl:"app/ui/basemap/basemap-item.html",scope:{basemap:"=",select:"&"},link:a,controller:function(){},controllerAs:"self",bindToController:!0};return s}e.$inject=["animationService"];var t=.3,n=new Ease(BezierEasing(.35,0,.25,1)),i=".rv-basemap-footer",r=".rv-basemap-description",o=".rv-wkid";angular.module("app.ui.basemap").directive("rvBasemapItem",e)}(),function(){"use strict";angular.module("app.ui.appbar",[])}(),function(){"use strict";function e(e){function n(t,n){e.panels.sidePanel=n}var i={restrict:"E",templateUrl:"app/ui/appbar/appbar.html",scope:{},link:n,controller:t,controllerAs:"self",bindToController:!0};return i}function t(e,t,n,i,r){"ngInject";function o(){}function a(){t.setActive({side:!1},"mainDetails")}function s(){return n.registerDebounce(function(){t.setActive({side:!1},"mainToc")})}function l(){t.setActive({side:!1},"mainToolbox")}var c=this;c.layoutService=e,c.stateManager=t,c.toggleDetails=a,c.toggleToc=s(),c.toggleToolbox=l,c.openBasemapSelector=i.open,c.toggleGeosearch=r.toggle,o()}e.$inject=["storageService"],t.$inject=["layoutService","stateManager","debounceService","basemapService","geosearchService"],angular.module("app.ui.appbar").directive("rvAppbar",e)}(),function(){"use strict";angular.module("app.common.router",[])}(),function(){"use strict";function e(e,t,n,i,r,o,a){function s(e){var t={width:0,height:0};return C.state[e].active&&(t.width=a.panels[e].outerWidth(),t.height=a.panels[e].outerHeight()),t}function l(e){C.state=angular.merge(C.state,e)}function c(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length>0){var r=n.shift(),o=void 0;if("string"==typeof r)r=x(r),o=!r.item.active;else{var a=Object.keys(r)[0];o=r[a],r=x(a)}return o?_(r).then(function(){return c.apply(void 0,n)}):w(r).then(function(){return c.apply(void 0,n)})}return e.resolve()}function u(e,t){return p(e,"morph",t),C}function d(e,t){var n=""+t+e;S[n]&&S[n]()}function h(){var t=C.panelHistory.length>0?w(x(C.panelHistory.pop())):e.resolve();return t}function f(e,t){var n=x(e),i=x(t);return w(n,!1).then(function(){return _(i,!1)})}function p(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=C.state[n];return e(function(e){var s=""+i+n,l=i+"Skip",c=i+"SkipOverride";a[c]||(a[l]=o),a[i]!==r?(S[s]&&S[s](),S[s]=function(){return e(!1)},a[i]=r,t.$broadcast("stateChangeStart",n,i,r,o)):e(!0)}).then(function(e){!e&&(t.$broadcast("stateChangeComplete",n,i,r,o),"morph"===i)})}function m(e,t){T.indexOf(e)===-1&&(M[e]=function(){T.push(e),t(),T.splice(T.indexOf(e),1)})}function g(e){return T.indexOf(e)===-1&&e in M&&(M[e](),!0)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.item.active,n=C.panelHistory.indexOf(e.name);n!==-1&&C.panelHistory.splice(n,1),t&&C.panelHistory.push(e.name)}function y(e,t){return t?_(k(e.name)[0],!1).then(function(){return _(e,!1)}):p(e.name,"active",!0)}function b(t,n){p(t.name,"active",!0,!0);for(var i=0;i<C.panelHistory.length;i++){var r=x(C.panelHistory[i]);if(r.name!==t.name&&r.item.parent===t.item.parent){p(r.name,"active",!1,!0);var o=C.panelHistory.indexOf(t.name);o!==-1&&i>o&&v(r)}}v(t);var a=n?_(E(t.name),!1):e.resolve();return a}function _(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"mainDetails"===e.name?o.find('rv-panel[type="main"]').css("z-index",4):"filters"===e.name&&o.find('rv-panel[type="main"]').css("z-index",2),"undefined"==typeof e.item.parent?y(e,t):b(e,t)}function w(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=void 0;return"mainDetails"===t.name&&o.find('rv-panel[type="main"]').css("z-index",1),g(t.name)?e.resolve():("undefined"==typeof t.item.parent?i=p(t.name,"active",!1).then(function(){return!n||e.all(k(t.name).map(function(e){return w(e,!1)}))}):(n&&w(E(t.name),!1),v(t,!1),i=p(t.name,"active",!1,!0)),i)}function x(e){return{name:e,item:C.state[e]}}function E(e){var t=C.state[e].parent,n=C.state[t];return{name:t,item:n}}function k(e){return Object.keys(C.state).filter(function(t){return C.state[t].parent===e}).map(function(e){return{name:e,item:C.state[e]}})}var C={addState:l,setActive:c,setMorph:u,callback:d,togglePanel:f,closePanelFromHistory:h,panelHistory:[],state:angular.copy(i),display:angular.copy(r),setCloseCallback:m,panelDimension:s},S={},M={},A=n(C),T=[];return angular.extend(C,A),C}e.$inject=["$q","$rootScope","displayManager","initialState","initialDisplay","$rootElement","storageService"],angular.module("app.common.router").factory("stateManager",e)}(),function(){"use strict";var e=function(e,t){return e?{parent:e,active:!1,activeSkip:!1,activeSkipOverride:!1,display:t}:{active:!1,activeSkip:!1,activeSkipOverride:!1,morph:"default",morphSkip:!1,morphSkipOverride:!1,history:[]}},t=function(e){return{isLoading:!1,requester:null,requestId:null,data:e||null}};angular.module("app.common.router").constant("initialState",{main:e(),mainToc:e("main"),mainToolbox:e("main"),mainDetails:e("main","details"),mainGeosearch:e("main","geosearch"),mainLoaderFile:e("main"),mainLoaderService:e("main"),side:e(),sideMetadata:e("side","metadata"),sideSettings:e("side","settings"),filters:e(),filtersFulldata:e("filters","filters"),filtersNamedata:e("filters"),other:e(),otherBasemap:e("other"),mapnav:e(),help:e()}).constant("initialDisplay",{filters:t({columns:null,data:null}),metadata:t(),settings:t(),details:t()})}();var _templateObject=_taggedTemplateLiteral([""],[""]);!function(){"use strict";function e(e,t,n){function i(i,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,u=s.state[i],d=u.display;if("undefined"==typeof d)return t.reject();var h=s.display[d],f=++l;if(u.active&&"undefined"!=typeof a.id&&h.requester.id===a.id)return s.setActive(i),t.reject();e.cancel(h.loadingTimeout),0===c?(h.data=null,h.isLoading=!0):h.loadingTimeout=e(function(){h.data=null,h.isLoading=!0},c);var p=t.resolve();return u.active||(h.data=null,p=s.setActive(i)),p.then(function(){return $.link(n.find('[rv-state="'+i+'"]'))}),h.requester=a,h.requestId=f,t.resolve(o).then(function(e){var t="undefined"!=typeof e.data?e.data:e,n="undefined"==typeof e.isLoaded||e.isLoaded;r(i,f,t,n)})["catch"](function(t){throw e.cancel(h.loadingTimeout),h.isLoading=!1,t})}function r(n,i,r,o){var a=s.state[n],l=a.display;if("undefined"==typeof l)return-1;var c=s.display[l];c.requestId===i?(c.data=r,t.resolve(o).then(function(t){c.requestId===i&&t===!0?(c.isLoading=!1,e.cancel(c.loadingTimeout)):RV.logger.log("displayManager",l+": data rejected for request id "+(i+" - any loading in progress or panel has been closed."))})):RV.logger.log("displayManager",l+": data rejected for request id "+i+" - "+"any loading in progress or panel has been closed."(_templateObject))}function o(t){var n=s.state[t],i=n.display;if("undefined"==typeof i)return-1;var r=s.display[i];r.data=null,r.requester=null,r.requestId=null,r.isLoading=!1,e.cancel(r.loadingTimeout)}var a={toggleDisplayPanel:i,clearDisplayPanel:o},s=void 0,l=1;return function(e){return s=e,a}}e.$inject=["$timeout","$q","$rootElement"],angular.module("app.common.router").factory("displayManager",e)}(),function(){"use strict";function e(e,n,i){function r(e){return function(){var r=e.apply(void 0,arguments);return function(e,o,a,s){function l(){return!!n.hasClass("rv-touch")&&(o.addClass("rv-hide"),!0)}var c=void 0;o.parent().on("touchstart",function(){l()?c=i(function(){return o.removeClass("rv-hide")},t):o.removeClass("rv-hide")}).on("touchend touchcancel",function(){return l()?i.cancel(c):void 0}),r(e,o,a,s)}}}var o=e[0],a=o.compile;return o.compile=r(a),[o]}e.$inject=["$delegate","$rootElement","$timeout"];var t=750;angular.module("material.components.tooltip").decorator("mdTooltipDirective",e)}(),function(){"use strict";angular.module("app.layout",["app.core","app.geo"])}(),function(){"use strict";function e(){var e={panels:{},panes:{}};return e}angular.module("app.layout").factory("storageService",e)}(),function(){"use strict";function e(e,n,i,r,o,a,s,l,c,u){function d(t,d){function f(e,t){var n=l.mapCoordinates(t,p),i=d.find(".rv-map-coordinates span");i[0].innerText=n[0],i[1].innerText=n[1]}m=e.width(),h(),$(window).on("resize",function(){return e.width()!==m?h():null}),a.onEveryConfigLoad(function(e){e.ui.legendIsOpen&&e.ui.legendIsOpen[s.currentLayout()]&&o.setActive({side:!1},"mainToc"),t.self.map=e.map}),r.panels.shell=d,n.$on(i.rvApiReady,function(){e.find(".rv-esri-map svg").attr("focusable",!1),a.getAsync.then(function(e){var t=e.map.components;if(t.mouseInfo.enabled){var i=t.mouseInfo.spatialReference;p="undefined"!=typeof i?i.wkid:u.mapObject.spatialReference,n.$on("rvMouseMove",c.registerDebounce(f,100,!1))}})}),e.on("keydown",function(n){var i=$("md-sidenav").toArray().find(function(e){return!$(e).hasClass("md-closed")});27!==n.which||i?[9,13,37,38,39,40,187,189].find(function(e){return e===n.which})&&(e.addClass("rv-keyboard"),e.on("mousemove",function(){e.removeClass("rv-keyboard"),e.off("mousemove")})):t.$apply(function(){o.closePanelFromHistory()})}),o.setActive({side:!1},{mainToc:!0})}function h(){m=e.width(),e.removeClass("rv-small rv-medium rv-large").addClass("rv-"+s.currentLayout())}var f={restrict:"E",templateUrl:"app/layout/shell.html",scope:{},link:d,controller:t,controllerAs:"self",bindToController:!0},p=void 0,m=void 0;return f}function t(e,t,n){"ngInject";var i=this;i.geoService=t,i.configService=n,i.translate=function(t){return e.instant("focus.dialog."+t)}}e.$inject=["$rootElement","$rootScope","events","storageService","stateManager","configService","layoutService","mapToolService","debounceService","geoService"],t.$inject=["$translate","geoService","configService"],angular.module("app.layout").directive("rvShell",e)}(),function(){function e(e,t,n,i){function r(){return e.width()<=480?s.LAYOUT.SMALL:e.width()<=840?s.LAYOUT.MEDIUM:s.LAYOUT.LARGE}function o(e,n){function i(e){return function(){var t=e[0].getBoundingClientRect();return{width:t.width,height:t.height}}}var r=a.onResizeSubscriptions.find(function(t){return t.element===e});return r?r.listeners.push(n):(r={element:e,listeners:[n]},a.onResizeSubscriptions.push(r),t.$watch(i(e),function(t,n){a.onResizeSubscriptions.find(function(t){return t.element===e}).listeners.forEach(function(e){return e(t,n)})},!0)),function(){var e=r.listeners.indexOf(n);e&&r.listeners.splice(e,1)}}var a={onResizeSubscriptions:[]},s={currentLayout:r,sidenav:n,mapnav:i,panels:{},panes:{},onResize:o,LAYOUT:{SMALL:"small",MEDIUM:"medium",LARGE:"large"}};return s}e.$inject=["$rootElement","$rootScope","sideNavigationService","mapNavigationService"],angular.module("app.layout").factory("layoutService",e)}(),function(){function e(e){function t(){var e=new(Function.prototype.bind.apply(TimelineLite,[null].concat(Array.prototype.slice.call(arguments))));return["to","from","fromTo"].forEach(function(t){e["orig"+t]=e[t],e[t]=n(t,e)}),e}function n(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TweenLite;return function(){var i=[].concat(Array.prototype.slice.call(arguments));i[1]=RV.isIE||e.hasClass("rv-touch")?.001:i[1];var r="orig"+t;return n[r]?n[r].apply(n,_toConsumableArray(i)):n[t].apply(n,_toConsumableArray(i))}}var i={timeLineLite:t,to:n("to"),from:n("from"),fromTo:n("fromTo"),set:TweenLite.set};return i}e.$inject=["$rootElement"],angular.module("app.layout").factory("animationService",e)}(),function(){"use strict";function e(e,i,r,o,a,s,l){function c(r,c){function u(){function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l.getSync.map.instance.overviewMap.map;return o.cancel(f),f=o(function(){return t.setExtent(t.extent)},500),e?p.removeClass("rv-minimized"):p.addClass("rv-minimized")}function r(){d.overviewActive=!d.overviewActive,s()}function s(){d.overviewActive?m.reverse():m.play()}d.toggleOverview=r;var u=e(n)(h),p=c.find(".ovwContainer");p.append(u);var m=a.timeLineLite({paused:!0,onComplete:i,onReverseComplete:function(){return i(!0)}});m.to(p,.3,{width:40,height:40,ease:t},0).to(u,.3,{top:"-=3",right:"-=3",directionalRotation:"225_ccw"},0),d.overviewActive?p.css({width:200,height:200}):s()}s.$on(s.rvApiReady,function(){return l.getSync.map.instance.basemapGallery.on("selection-change",u)});var d=r.self;d.overviewActive=!0;var h=i.$new();h.self=d;var f=void 0}var u={restrict:"A",link:c};return u}e.$inject=["$compile","$rootScope","geoService","$timeout","animationService","events","configService"];var t=new Ease(BezierEasing(.35,0,.25,1)),n='\n        <md-button\n            translate\n            aria-label="{{ geo.aria.overviewtoggle | translate }}"\n            class="md-icon-button rv-button-24 rv-overview-toggle"\n            tabindex="-2"\n            ng-click="self.toggleOverview()">\n            <md-icon md-svg-src="community:apple-keyboard-control"></md-icon>\n        </md-button>\n    ';
angular.module("app.layout").directive("rvOverviewToggle",e)}(),function(){function e(e,t,n,i){function r(t,r){if(s.xmlUrl)return e.resolve(s.xmlUrl);var l=i.Metadata.XSLT_LANGUAGE_NEUTRAL.replace(/\{\{([\w\.]+)\}\}/g,function(e,t){return n.instant(t)});return a(t).then(function(e){return o(e,l,r)}).then(function(e){return s.xmlUrl=e,e})}function o(e,t,n){var i=null;if(window.XSLTProcessor){var r=new window.XSLTProcessor,o=$.parseXML(e),a=$.parseXML(t);r.importStylesheet(a),n&&n.forEach(function(e){return r.setParameter(null,e.key,e.value||"")}),i=r.transformToFragment(o,document)}else if(window.hasOwnProperty("ActiveXObject")){var s=new window.ActiveXObject("Msxml2.XSLTemplate"),l=new window.ActiveXObject("Msxml2.DOMDocument"),c=new window.ActiveXObject("Msxml2.FreeThreadedDOMDocument");l.loadXML(e),c.loadXML(t),s.stylesheet=c;var u=s.createProcessor();u.input=l,n&&n.forEach(function(e){return u.addParameter(e.key,e.value,"")}),u.transform(),i=document.createRange().createContextualFragment(u.output)}return i}function a(e){return t.get(e).then(function(e){return e.data})["catch"](function(e){throw e})}var s={},l={loadFromURL:r};return l}e.$inject=["$q","$http","$translate","Geo"],angular.module("app.geo").factory("metadataService",e)}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){"use strict";function e(e,t,n,i,r,o){function a(e){var t=e.attribution,n=i.getSync.map.instance,r=$(n.attribution.listNode.parentNode),o=r.parent().find(".logo-med"),a="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC)";if("undefined"!=typeof t){if(t.text.enabled&&t.text.value){var s=!0,l=!1,c=void 0;try{for(var u,d=Object.entries(n.attribution.itemNodes)[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=_slicedToArray(u.value,1),f=h[0];n.attribution.itemNodes[f].innerText=t.text.value}}catch(p){l=!0,c=p}finally{try{!s&&d["return"]&&d["return"]()}finally{if(l)throw c}}r.show()}else t.text.enabled||r.hide();t.logo.enabled?(t.logo.value&&t.logo.link?(o.css("background-image","url("+t.logo.value+")"),n.mapDefault("logoLink",t.logo.link)):(o.css("background-image",a),n.mapDefault("logoLink","http://www.esri.com")),o.show(),o.css("visibility","visible")):o.hide()}else o.css("background-image",a),r.show(),o.show(),o.css("visibility","visible")}function s(e){var t=n.gapi,r=i.getSync,o=r.map,a=r.services,s={basemaps:o.basemaps,scalebar:o.components.scaleBar,overviewMap:o.components.overviewMap,extent:o.selectedBasemap["default"],lods:o.selectedBasemap.lods};a.proxyUrl&&(s.proxyUrl=a.proxyUrl);var l=new t.Map(e,s);o.storeMapReference(e,l),o.instance.selectBasemap(o.selectedBasemap),c(o)}function l(e){i.getSync.map.instance.zoomToPoint(e)}function c(e){function i(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.cancel(s),s=t(function(){return e.isMapLoading=n},i)}var a=n.gapi,s=void 0;i(!0),a.events.wrapEvents(e.instance,{load:function(){e.highlightLayer=a.hilight.makeHilightLayer({}),e.instance.addLayer(e.highlightLayer),i(!1)},"update-start":function(){RV.logger.log("mapService","map update has started"),i(!0,300)},"extent-change":function(e){(0!==e.delta.x||0!==e.delta.y||e.levelChange)&&h(!1),o.$broadcast(o.rvExtentChange,e)},"mouse-move":function(e){return o.$broadcast(o.rvMouseMove,e.mapPoint)},"update-end":function(){RV.logger.log("mapService","map update has ended"),i(!1,100)},click:function(e){h(),d(e.mapPoint),r.identify(e)}})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.gapi,o=i.getSync.map;e.then(function(e){var t=r.hilight.getUnboundGraphics([e],o.instance.spatialReference);t[0].then(function(e){o.highlightLayer.addHilight(e)})}),f(t)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=i.getSync.map;n.highlightLayer.addMarker(e),f(t)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=i.getSync.map;t.highlightLayer.clearHilight(),f(e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=i.getSync.map;null!==e&&angular.element(t.node).toggleClass("rv-map-highlight",e)}var p={makeMap:s,setAttribution:a,zoomToLatLong:l,addGraphicHighlight:u,addMarkerHighlight:d,clearHighlight:h};return p}e.$inject=["$q","$timeout","gapiService","configService","identifyService","events"],angular.module("app.geo").factory("mapService",e)}(),function(){function e(e,t,n,i){function r(){var e=t.map,i=e.extent.getCenter(),r=e.toScreen(i),o=e.extent.spatialReference.wkid,a=null,s=null,l=null,c=null;if(102100===o)a=r.x,c=0;else{l=270-e.getNorthArrowAngle(e),c=90-l;var u=r.y/Math.sin(.01745329252*l),d=n.gapi.proj.localProjectPoint("EPSG:4326",e.extent.spatialReference,{x:-96,y:90}),h=e.toScreen(d);s=h.y,a=s<0?r.x+Math.sin(.01745329252*(90-l))*u:h.x}return{projectionSupported:null!==a,screenX:a,screenY:s,angleDegrees:l,rotationAngle:c,mapPntCntr:i,mapScrnCntr:r}}function o(e,t){var r=n.gapi.proj.localProjectGeometry(4326,e);"undefined"==typeof c.east&&(c.east=i.instant("geo.coord.east"),c.west=i.instant("geo.coord.west"),c.north=i.instant("geo.coord.north"),c.south=i.instant("geo.coord.south"));var o=r.y>0?c.north:c.south,s=r.x<0?c.west:c.east,l=[];if(4326===t){var u=a(r.y,r.x);l.push(u.y+" "+o+" | "+u.x+" "+s),r.y=r.y.toFixed(5),r.x=r.x.toFixed(5),r.y=(r.y>0?r.y:Math.abs(r.y))+" "+o,r.x=(r.x<0?Math.abs(r.x):r.x)+" "+s,l.push(r.y+" | "+r.x)}else{var d=n.gapi.proj.localProjectGeometry(t,e);l.push(d.y.toFixed(5)+" "+o),l.push(d.x.toFixed(5)+" "+s)}return l}function a(e,t){var n=Math.floor(e),i=Math.floor(60*(e-n)),r=Math.round(3600*(e-n-i/60)),o=Math.floor(t),a=Math.floor(60*(t-o)),l=Math.round(3600*(t-o-a/60));return{y:""+Math.abs(n)+c.deg+" "+s(i)+"' "+s(r)+'"',x:""+Math.abs(o)+c.deg+" "+s(a)+"' "+s(l)+'"'}}function s(e){return e>=10?""+e:"0"+e}var l={northArrow:r,mapCoordinates:o},c={deg:String.fromCharCode(176)};return l}e.$inject=["configService","geoService","gapiService","$translate"],angular.module("app.geo").factory("mapToolService",e)}(),function(){function e(e,t,n,i){function r(e){var i=n.getSync.map.instance,r=n.getSync.map.selectedBasemap.lods,o=t.gapi.proj.localProjectPoint(4326,i.spatialReference.wkid,[parseFloat(e.longitude),parseFloat(e.latitude)]),a=t.gapi.proj.Point(o[0],o[1],i.spatialReference),s=t.gapi.Map.findClosestLOD(r,5e4);i.centerAndZoom(a,Math.max(s.level,0))}function o(){var e=function(){return s(r,function(){return i.display("Your location could not be found.")})};c.latitude?r(c):a(r,e)}function a(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){c.latitude=t.coords.latitude,c.longitude=t.coords.longitude,e(c)},t):t()}function s(t,n){"undefined"!=typeof l?e.post(l).then(function(e){r({latitude:e.data.location.lat,longitude:e.data.location.lng})},n):n()}var l=void 0,c={},u={find:o};return n.onEveryConfigLoad(function(e){l=e.services.googleAPIKey?"https://www.googleapis.com/geolocation/v1/geolocate?key="+e.services.googleAPIKey:void 0}),u}e.$inject=["$http","gapiService","configService","errorService"],angular.module("app.geo").factory("locateService",e)}(),function(){"use strict";function e(e,t,n,i,r,o,a){function s(e,t){var i=n.getSync.map.layerBlueprints,o=n.getSync.map.legendMappings,a=e.map(function(e){return new r.service(e)});i.push.apply(i,a),a.forEach(function(e){return o[e.config.id]=[]});var s=d(t.root,i);n.getSync.map.legendBlocks=s}function l(i){var r=n.getSync.map.layerBlueprints;r.push(i);var o=n.getSync.map.legendMappings;o[i.config.id]=[];var a={layerId:i.config.id,userAdded:!0,symbologyRenderStyle:i.config.layerType===e.Layer.Types.OGC_WMS?t.legend.Entry.IMAGES:t.legend.Entry.ICONS},s=new t.legend.Entry(a),l=d(s,[i]);return n.getSync.map.legendBlocks.addEntry(l),l}function c(e){var t=n.getSync.map.legendMappings,i=t[e];t[e]=[];var r=n.getSync.map.layerBlueprints,a=r.find(function(t){return t.config.id===e});o.regenerateLayerRecord(a),i.forEach(function(e){var t=e.legendBlockId,i=e.legendBlockConfigId,o=n.getSync.map.legendBlocks,a=o.walk(function(e,n,i){return e.id===t?{legendBlock:e,legendBlockParent:i}:null}).filter(function(e){return null!==e})[0],s=a.legendBlock,l=a.legendBlockParent,u=n.getSync.map.legend,h=u.root.walk(function(e){return e.id===i?e:null}).filter(function(e){return null!==e})[0];h.controlledIds.forEach(function(e){return c(e)});var f=d(h,r),p=l.removeEntry(s);l.addEntry(f,p)})}function u(e){function t(){o.removeLayerRecord(e.layerRecordId)}function i(){s.addEntry(e,l),e.visibility=r}var r=e.visibility;e.visibility=!1;var a=n.getSync.map.legendBlocks,s=a.walk(function(t,n,i){return t===e?i:null}).filter(function(e){return null!==e})[0],l=s.removeEntry(e);return[t,i]}function d(r,s){function l(e,n){function r(e){if("rv-loaded"===e){y.removeStateListener(r);var t=c(y,l);t.forEach(function(e){return s(e,v)}),v.synchronizeControlledEntries()}}function s(e,n){var r=void 0;if(e.childs){var o=new t.legend.EntryGroup(e.groupSource);r=new i.Group(o),e.childs.forEach(function(e){return s(e,r)})}else{var a=new t.legend.Entry(e);r=new i.Node(e.proxyWrapper,a),r.applyInitialStateSettings()}r.layerRecordId=l.id,n.addEntry(r)}var l=n.main.config,u=t.DEFAULTS.legend[t.TYPES.legend.GROUP],d=g(n.main),h=new i.ProxyWrapper(d,l),f={name:l.name,children:[],controls:a.intersect(l.controls,u.controls),disabledControls:a.intersect(l.disabledControls,u.controls)},p=new t.legend.EntryGroup(f),v=new i.Group(p,h);v.layerRecordId=l.id,_[l.id].push({legendBlockId:v.id,legendBlockConfigId:e.id});var y=o.getLayerRecord(e.layerId);return y.addStateListener(r),n.controlled.forEach(function(e){return m(e).then(function(e){e.forEach(function(e){var n=new t.legend.Entry({}),r=new i.Node(e,n);r.controlled=!0,r.layerRecordId=l.id,r.applyInitialStateSettings(),v.addEntry(r)}),v.synchronizeControlledEntries()})}),v}function c(n,r){function o(e,c){var u=r.layerEntries.find(function(t){return t.index===e.entryIndex})||{source:{entryIndex:e.entryIndex}},d=t.applyLayerNodeDefaults(u.source,s,c);if(e.childs){var h=angular.merge({},d,{children:[],controls:a.intersect(d.controls,l.controls),disabledControls:a.intersect(d.disabledControls,l.controls),name:e.name});e.groupSource=h,e.childs.forEach(function(e){return o(e,d)})}else{var f=n.getChildProxy(e.entryIndex),p=new t.layers.DynamicLayerEntryNode(d),m=new i.ProxyWrapper(f,p);e.proxyWrapper=m}}var s=angular.copy(t.DEFAULTS.layer[e.Layer.Types.ESRI_DYNAMIC].child),l=t.DEFAULTS.legend[t.TYPES.legend.GROUP];n.isTrueDynamic||s.userDisabledControls.push("opacity");var c=n.getChildTree();return c.forEach(function(e){return o(e,r.source)}),c}function u(e){var t=new i.Group(e);return e.children.forEach(function(e){var n=d(e,s);t.addEntry(n)}),t}function h(e,t){function n(e){"rv-loaded"===e&&(c.removeStateListener(n),l.applyInitialStateSettings())}var r=t.main.config,a=g(t.main,e),s=new i.ProxyWrapper(a,r),l=new i.Node(s,e);l.layerRecordId=r.id,_[r.id].push({legendBlockId:l.id,legendBlockConfigId:e.id});var c=o.getLayerRecord(e.layerId);return c.addStateListener(n),t.controlled.forEach(function(e){return m(e).then(function(e){return e.forEach(function(e){l.addControlledProxyWrapper(e),l.synchronizeControlledProxyWrappers()})})}),l}function f(e){var t=new i.Info(e);return t}function p(e){var t=new i.Set(e);return e.exclusiveVisibility.forEach(function(e){var n=d(e,s);t.addEntry(n)}),t}function m(t){function n(e){var t=[].concat.apply([],e.map(function(e){return e.childs?n(e.childs):e}));return t}var r=o.makeLayerRecord(t),s=t.config;o.loadLayerRecord(r.config.id);var l={controls:["query","boundingBox"],state:["query","boundingBox"]};l.controls.forEach(function(e){s.disabledControls.indexOf(e)===-1&&s.disabledControls.push(e)}),l.state.forEach(function(e){return s.state[e]=!1}),s.hovertipEnabled=!1;var u=void 0;if(t.config.layerType===e.Layer.Types.ESRI_DYNAMIC)u=a.$q(function(e){function t(i){if("rv-loaded"===i){r.removeStateListener(t);var o=c(r,s),a=n(o).map(function(e){return e.proxyWrapper});e(a)}}r.addStateListener(t)});else{var d=r.getProxy(),h=new i.ProxyWrapper(d,s);u=a.$q.resolve([h])}return u}function g(e){var t=o.makeLayerRecord(e);o.loadLayerRecord(t.config.id);var n=void 0;return n=r.entryIndex?t.getChildProxy(r.entryIndex):t.getProxy()}function v(e){var t=s.find(function(t){return t.config.id===e});return t}var y,b=t.TYPES.legend,_=n.getSync.map.legendMappings,w=(y={},_defineProperty(y,b.INFO,f),_defineProperty(y,b.NODE,function(t){var n={main:v(t.layerId),controlled:t.controlledIds.map(function(e){return v(e)})};return n.main.config.layerType===e.Layer.Types.ESRI_DYNAMIC?t.entryId||t.entryIndex?h(t,n):l(t,n):h(t,n)}),_defineProperty(y,b.GROUP,u),_defineProperty(y,b.SET,p),y),x=w[r.entryType](r);return x}var h={constructLegend:s,importLayerBlueprint:l,reloadBoundLegendBlocks:c,removeLegendBlock:u};return h}e.$inject=["Geo","ConfigObject","configService","LegendBlock","LayerBlueprint","layerRegistry","common"],angular.module("app.geo").factory("legendService",e)}(),function(){"use strict";function e(e,n,i,r,o){function a(t){t.bindListeners=function(){var e=function(e){var n,i=(n={},_defineProperty(n,r.Layer.States.ERROR,function(){t.setLayerState(r.Layer.States.ERROR,100),t.setLayerLoadingFlag(!1,100)}),_defineProperty(n,r.Layer.States.REFRESH,function(){return t.setLayerLoadingFlag(!0,300)}),_defineProperty(n,r.Layer.States.LOADED,function(){return t.setLayerLoadingFlag(!1,100)}),n);i.hasOwnProperty(e)&&i[e]()};t._layerRecord.addStateListener(e),t.unbindListeners=function(){return t._layerRecord.removeStateListener(e)}},t.setLayerState=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Layer.States.DEFAULT,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.cancel(t._stateTimeout),t._stateTimeout=e(function(){return t.state=n},i)},t.setLayerLoadingFlag=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.cancel(t._loadingTimeout),t._loadingTimeout=e(function(){return t.isLoading=n},i)},t.setLayerScaleFlag=function(e){if(t.layerType!==r.Layer.Types.ESRI_DYNAMIC){var n=isNaN(t.featureIdx)?"0":t.featureIdx;if("undefined"==typeof e[n])RV.logger.warn("legendEntryService","in *setLayerScaleFlag* the indexes are not aligned");else{var i=e[n];t.flags.scale.visible=i.value,t.options.offscale&&(t.options.offscale.value=i.zoomIn)}}else t.walkItems(function(t){"undefined"==typeof e[t.featureIdx].value&&RV.logger.warn("legendEntryService","in *setLayerScaleFlag* the indexes are not aligned for slaves"),t.flags.scale.visible=e[t.featureIdx].value,t.options.offscale.value=e[t.featureIdx].zoomIn})}}function s(e){"undefined"==typeof e.opacity&&"undefined"==typeof e.boundingBox&&"undefined"==typeof e.snapshot&&"undefined"==typeof e.query&&delete e.settings}function l(e,t){return Object.create(g).init(e,t)}function c(e,t){return Object.create(v).init(e,t)}function u(e,t){return Object.create(y).init(e,t)}function d(e,t){return Object.create(b).init(e,t)}function h(e,t,n){return Object.create(_).init(e,t,n)}function f(e,t,n){return Object.create(w).init(e,t,n)}var p={placeholderEntryItem:l,singleEntryItem:c,dynamicEntryItem:u,entryGroup:d,dynamicEntryGroup:h,dynamicEntryMasterGroup:f},m={_layerRecord:null,type:"layer",name:null,id:0,options:null,flags:null,state:"rv-default",cache:null,features:null,sortGroup:-1,symbology:null,removed:!1,setVisibility:function(e){var t=this.options.visibility;t.fromConfig?delete t.fromConfig:t.value="undefined"!=typeof e?e:!t.value},getVisibility:function(){return this.options.visibility.value},setOpacity:function(e){this.options.opacity.value=e},getOpacity:function(){return this.options.opacity.value},setCache:function(e,t){this.cache[e]=t},getCache:function(e){return this.cache[e]},init:function(e,l){var c=this,u=o[e.layerType];this._layerRecord=l,this.id="rv_lt_"+t++,this.options=angular.merge({},u.options),this.flags=angular.merge({},u.flags),this.cache={},this.features={count:n.instant("geometry.counting"),type:r.Layer.Esri.GEOMETRY_TYPES.generic,typeName:n.instant(r.Layer.Esri.GEOMETRY_TYPES.generic).split("|")[1]},this.sortGroup=r.Layer.SORT_GROUPS.findIndex(function(t){return t.indexOf(e.layerType)!==-1}),angular.merge(this,e),this.options.query&&(this.flags.query.visible=!this.options.query.value),this.options.data&&(this.flags.data.visible=this.options.data.enabled);var d=(new RColor).get(!0,.4,.8);i.gapi.symbology.generatePlaceholderSymbology(this.name,d).then(function(e){c.symbology||(c.symbology=[e])}),s(this.options),a(this)}},g=Object.create(m);g.init=function(e,t){return m.init.call(this,e,t),this.id+="placeholder",this.type="placeholder",this.state="rv-loading",angular.merge(this.options,{reload:{enabled:!0},remove:{enabled:!0},reorder:{enabled:!0}}),this.bindListeners(),this.setLayerLoadingFlag(!0),this};var v=Object.create(m);v.init=function(e,t){if(m.init.call(this,e,t),this.setVisibility(this.getVisibility()),this.setOpacity(this.options.opacity.value),"undefined"==typeof this.metadataUrl&&delete this.options.metadata,"undefined"!=typeof e.url){var n=e.url.split("/");this.featureIdx=n.pop(),this.url=n.join("/")}else this.featureIdx="0";return this.bindListeners(),this},v.setVisibility=function(e){m.setVisibility.call(this,e),this._layerRecord.setVisibility(this.getVisibility())},v.setOpacity=function(e){m.setOpacity.call(this,e),this._layerRecord.setOpacity(e)};var y=Object.create(m);y.init=function(e,t){return m.init.call(this,e,t),this},y.setVisibility=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];m.setVisibility.call(this,e,!1),t&&this.master._setVisibility()},y.setOpacity=function(e){m.setOpacity.call(this,e,!1),this.master._setOpacity([this.featureIdx])};var b={type:"group",name:null,id:0,expanded:null,items:null,cache:null,sortGroup:-1,removed:!1,options:{visibility:{value:!0,enabled:!0},remove:{enabled:!1}},add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.items.length;return e.parent=this,this.items.splice(t,0,e),t},remove:function(e){var t=this.items.indexOf(e);return t!==-1&&(delete e.parent,this.items.splice(t,1)),t},setVisibility:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this.options.visibility;r.fromConfig?delete r.fromConfig:r.value="undefined"!=typeof e?e:!r.value,"group"===this.type&&this.items.forEach(function(e){return e.setVisibility.apply(e,[r.value].concat(n))})},getVisibility:function(){return this.options.visibility.value},setOpacity:function(e){this.options.opacity.value=e},getOpacity:function(){return this.options.opacity.value},getItemById:function(e){return this.walkItems(function(t){return t.id===e?t:[]},!0)[0]},walkItems:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[].concat.apply([],this.items.map(function(i,r){return"group"===i.type?n?[].concat(e(i,r,t),i.walkItems(e,!0)):i.walkItems(e):e(i,r,t)}))},init:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.id="rv_lt_"+t++,this.name=e,this.expanded=n,this.items=[],this.cache={},a(this),this}},_=Object.create(b);_.init=function(e,t,n){b.init.call(this);var i=o[e.layerType]||{};return this._layerRecord=t,this.expanded=n,this.options=angular.merge({},i.options),angular.merge(this,e),s(this.options),this},_.setVisibility=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];b.setVisibility.call(this,e,!1),t&&this.master._setVisibility()},_.setOpacity=function(e){b.setOpacity.call(this,e),this.master._setOpacity([this.featureIdx])};var w=Object.create(_);return w.init=function(e,t,n){function i(e,t){e.master=this,this.slaves.push(e),t!==-1&&this.slaves[t].add(e)}var o=this;_.init.call(this,e,t,n),RV.logger.info("legendEntryService","binding the master group listener",this),this.bindListeners();var a={},l=this.layerEntries.concat(this.childOptions||[]);l.forEach(function(e){a[e.index]=e}),Object.keys(a).forEach(function(e){a[e].visibility&&(a[e].visibility.fromConfig=!0)}),this.sortGroup=r.Layer.SORT_GROUPS.findIndex(function(t){return t.indexOf(e.layerType)!==-1});var c=e.layerType+"LayerEntry";return this.slaves=[],RV.logger.log("legendEntryService","_layerRecord",this._layerRecord),RV.logger.log("legendEntryService","initialState",e),this._layerRecord.layerInfos.forEach(function(e,t){var n=void 0,r={name:e.name,layerType:c,options:a[t]||{},featureIdx:t};n=e.subLayerIds?p.dynamicEntryGroup(r):p.dynamicEntryItem(r),i.call(o,n,e.parentLayerId)}),"undefined"==typeof this.metadataUrl&&(delete this.options.metadata,this.slaves.forEach(function(e){return delete e.options.metadata})),this._layerRecord.supportsDynamicLayers||this.slaves.forEach(function(e){delete e.options.opacity,s(e.options)}),this.layerEntries?this.layerEntries.forEach(function(e){var t=e.index,n=o.slaves[t];n&&(n.setVisibility(n.getVisibility(),!1),o.add(n))}):this.slaves.forEach(function(e){return o.add(e)}),this.walkItems(function(e){return e.flags.user=o.flags.user}),this._setVisibility(),this._setOpacity(),this},w.setVisibility=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_.setVisibility.call(this,e,!1),t&&this._setVisibility()},w.setOpacity=function(e){b.setOpacity.call(this,e),this._setOpacity()},w._setVisibility=function(){var e=this;if(null===this.options.visibility.value)this.options.visibility.value=!1,this.walkItems(function(t){t.setVisibility(!1,!1),e._layerRecord.setVisibility(e.getVisibility())});else{var t=this.walkItems(function(t){var n=e.slaves.indexOf(t);return t.getVisibility()?n:-1}).filter(function(e){return e!==-1});this.options.visibility.value=t.length>0,this._layerRecord.setVisibleLayers(t)}this._layerRecord.setVisibility(this.getVisibility())},w._setOpacity=function(e){var t=this;if("undefined"==typeof e&&(e=this.walkItems(function(e){return t.slaves.indexOf(e)}),this._layerRecord.setOpacity(this.options.opacity.value)),this._layerRecord.supportsDynamicLayers){var n=[];e.forEach(function(e){var r=t.slaves[e].options.opacity.value,o=new i.gapi.layer.LayerDrawingOptions;o.transparency=(r-1)*-100,n[e]=o}),this._layerRecord.setLayerDrawingOptions(n)}},p}e.$inject=["$timeout","$translate","gapiService","Geo","layerDefaults"];var t=0;angular.module("app.geo").service("legendEntryFactory",e)}();var _get=function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:r(o,t,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,n,i,r,o){function a(e){return this.availableControls.indexOf(e)!==-1}function s(e){return this.disabledControls.indexOf(e)!==-1}function l(e){return this.isControlDisabled(e)}function c(e){return this.userDisabledControls.indexOf(e)!==-1}function u(e){var t=["rv-error","rv-loading","rv-refresh","rv-loaded"],n=t.map(function(t){return e.indexOf(t)!==-1});return t[n.indexOf(!0)]}function d(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[].concat.apply([],this.entries.map(function(i,r){if(i.blockType===p.GROUP||i.blockType===p.SET){var o=e(i,r,t),a=[],s=!n||n(i,r,t);return s&&a.push.apply(a,i.walk(e,n)),[].concat(o,a)}return e(i,r,t)}))}var h=0,f={walkFunction:d,aggregateStates:u,isControlVisible:a,isControlDisabled:s,isControlSystemDisabled:l,isControlUserDisabled:c},p={INFO:"info",NODE:"node",GROUP:"group",SET:"set"},m=function(){function e(t,n){_classCallCheck(this,e),this._proxy=t,this._layerConfig=n,this.isControlVisible=f.isControlVisible.bind(this),this.isControlDisabled=f.isControlDisabled.bind(this),this.isControlSystemDisabled=f.isControlSystemDisabled.bind(this),this.isControlUserDisabled=f.isControlUserDisabled.bind(this),this._initialStateSettingsApplied=!1}return _createClass(e,[{key:"applyInitialStateSettings",value:function(){this._initialStateSettingsApplied||(this._proxy.setOpacity(this._layerConfig.state.opacity),this._proxy.setVisibility(this._layerConfig.state.visibility),this._proxy.setQuery(this._layerConfig.state.query),this._initialStateSettingsApplied=!0)}},{key:"zoomToBoundary",value:function(){var e;(e=this._proxy).zoomToBoundary.apply(e,arguments)}},{key:"proxy",get:function(){return this._proxy}},{key:"layerConfig",get:function(){return this._layerConfig}},{key:"initialStateSettingsApplied",get:function(){return this._initialStateSettingsApplied}},{key:"state",get:function(){return this._proxy.state}},{key:"name",get:function(){return(this._proxy||this._layerConfig).name}},{key:"layerType",get:function(){return this._proxy.layerType}},{key:"featureCount",get:function(){return this._proxy.featureCount}},{key:"geometryType",get:function(){return this._proxy.geometryType}},{key:"extent",get:function(){return this._proxy.extent}},{key:"symbology",get:function(){return this._proxy.symbology}},{key:"formattedAttributes",get:function(){return this._proxy.formattedAttributes}},{key:"opacity",get:function(){return this._proxy.opacity},set:function(e){this.isControlSystemDisabled("opacity")||this._proxy.setOpacity(e)}},{key:"visibility",get:function(){return this._proxy.visibility},set:function(e){this.isControlSystemDisabled("visibility")||this._proxy.setVisibility(e)}},{key:"query",get:function(){return this._proxy.query},set:function(e){this.isControlSystemDisabled("query")||this._proxy.setQuery(e)}},{key:"snapshot",get:function(){return this._layerConfig.state.snapshot},set:function(e){this._layerConfig.state.snapshot=e}},{key:"boundingBox",get:function(){return this._layerConfig.state.boundingBox}},{key:"metadataUrl",get:function(){return this._layerConfig.metadataUrl}},{key:"catalogueUrl",get:function(){return this._layerConfig.catalogueUrl}},{key:"availableControls",get:function(){return this._layerConfig.controls}},{key:"disabledControls",get:function(){return this._layerConfig.disabledControls}},{key:"userDisabledControls",get:function(){return this._layerConfig.userDisabledControls}}]),e}(),g=function(){function e(t){_classCallCheck(this,e),this._controlled=!1,this._blockConfig=t}return _createClass(e,[{key:"isInteractive",get:function(){return!1}},{key:"id",get:function(){return this._id||(this._id=this.blockType+"_"+ ++h),this._id}},{key:"blockConfig",get:function(){return this._blockConfig}},{key:"template",get:function(){return this.blockType}},{key:"controlled",set:function(e){this._controlled=e},get:function(){return this._controlled}}]),e}();g.INFO="info",g.NODE="node",g.GROUP="group",g.SET="set";var v=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"blockType",get:function(){return p.INFO}},{key:"infoType",get:function(){
return this.blockConfig.infoType}},{key:"content",get:function(){return this.blockConfig.content}}]),t}(g),y=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isSelected=!1,n._layerRecordId=null,n.isControlVisible=f.isControlVisible.bind(n),n.isControlDisabled=f.isControlDisabled.bind(n),n.isControlSystemDisabled=f.isControlSystemDisabled.bind(n),n.isControlUserDisabled=f.isControlUserDisabled.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"isInteractive",get:function(){return!0}},{key:"isSelected",get:function(){return this._isSelected},set:function(e){this._isSelected=e}},{key:"layerRecordId",set:function(e){this._layerRecordId=e},get:function(){return null===this._layerRecordId,this._layerRecordId}}]),t}(g),b=function(e){function a(e,t){_classCallCheck(this,a);var n=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return n._mainProxyWrapper=e,n._controlledProxyWrappers=[],n._aggregateStates=f.aggregateStates,n._symbologyStack=new o(n.mainProxy,t.symbologyStack,t.symbologyRenderStyle,(!0)),n}return _inherits(a,e),_createClass(a,[{key:"addControlledProxyWrapper",value:function(e){this._controlledProxyWrappers.push(e)}},{key:"applyInitialStateSettings",value:function(){this._mainProxyWrapper.initialStateSettingsApplied||(this._mainProxyWrapper.applyInitialStateSettings(),this.boundingBox=this._mainProxyWrapper.boundingBox)}},{key:"synchronizeControlledProxyWrappers",value:function(){var e=this;this._controlledProxyWrappers.forEach(function(t){t.visibility=e.visibility,t.opacity=e.opacity})}},{key:"_makeBbox",value:function(){this._bboxProxy||(this._bboxProxy=n.makeBoundingBoxRecord(this.id+"_bbox",this._mainProxyWrapper.extent))}},{key:"getSymbol",value:function(e){return this.formattedData.then(function(t){return i.gapi.symbology.getGraphicIcon(e,t.renderer)})}},{key:"zoomToBoundary",value:function(){this._mainProxyWrapper.zoomToBoundary(r.getSync.map.instance)}},{key:"mainProxy",get:function(){return this._mainProxyWrapper.proxy}},{key:"reloadConfig",set:function(e){this._reloadConfig=e},get:function(){return this._reloadConfig}},{key:"blockType",get:function(){return p.NODE}},{key:"_allProxyWrappers",get:function(){return[this._mainProxyWrapper].concat(this._controlledProxyWrappers)}},{key:"availableControls",get:function(){return this._mainProxyWrapper.availableControls}},{key:"disabledControls",get:function(){return this._mainProxyWrapper.disabledControls}},{key:"userDisabledControls",get:function(){return this._mainProxyWrapper.userDisabledControls}},{key:"state",get:function(){var e=this._allProxyWrappers.map(function(e){return e.state}),t=this._aggregateStates(e);return t}},{key:"template",get:function(){var e=this,t={"rv-loading":function(){return"placeholder"},"rv-loaded":function(){return _get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"template",e)},"rv-refresh":function(){return _get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"template",e)},"rv-error":function(){return"error"}};return t[this.state]()}},{key:"isRefreshing",get:function(){var e=this.state;return"rv-loading"===e||"rv-refresh"===e}},{key:"sortGroup",get:function(){return t.Layer.SORT_GROUPS_[this._mainProxyWrapper.layerType]}},{key:"name",get:function(){return this._mainProxyWrapper.name}},{key:"layerType",get:function(){return this._mainProxyWrapper.layerType}},{key:"featureCount",get:function(){return this._mainProxyWrapper.featureCount}},{key:"geometryType",get:function(){return this._mainProxyWrapper.geometryType}},{key:"visibility",get:function(){return this._mainProxyWrapper.visibility},set:function(e){this.isControlSystemDisabled("visibility")||(this._allProxyWrappers.forEach(function(t){return t.visibility=e}),e||(this.boundingBox=!1))}},{key:"opacity",get:function(){return this._mainProxyWrapper.opacity},set:function(e){this.isControlSystemDisabled("opacity")||this._allProxyWrappers.forEach(function(t){return t.opacity=e})}},{key:"query",get:function(){return this._mainProxyWrapper.query},set:function(e){this._mainProxyWrapper.query=e}},{key:"snapshot",get:function(){return this._mainProxyWrapper.snapshot},set:function(e){this._mainProxyWrapper.snapshot=e}},{key:"boundingBox",get:function(){return!!this._mainProxyWrapper.extent&&(!!this._bboxProxy&&this._bboxProxy.visible)},set:function(e){if(!this._bboxProxy){if(!e)return;this._makeBbox()}this._bboxProxy.setVisibility(e)}},{key:"userAdded",get:function(){return this._blockConfig.userAdded}},{key:"formattedData",get:function(){return this._mainProxyWrapper.formattedAttributes}},{key:"symbologyStack",get:function(){return this._symbologyStack}},{key:"metadataUrl",get:function(){return this._mainProxyWrapper.metadataUrl}},{key:"catalogueUrl",get:function(){return this._mainProxyWrapper.catalogueUrl}}]),a}(y),_=function(e){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i._entries=[],i._name=e.name,i._expanded=e.expanded,i._availableControls=e.controls,i._disabledControls=e.disabledControls,i._userDisabledControls=e.userDisabledControls,i._rootProxyWrapper=t,i._aggregateStates=f.aggregateStates,i._walk=f.walkFunction.bind(i),i}return _inherits(n,e),_createClass(n,[{key:"applyInitialStateSettings",value:function(){this.visibility=this.visibility,this.opacity=this.opacity}},{key:"synchronizeControlledEntries",value:function(){var e=this;this._activeEntries.filter(function(e){return e.controlled}).forEach(function(t){t.visibility=e.visibility,t.opacity=e.opacity})}},{key:"addEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._entries.length;return this._entries.splice(t,0,e),this}},{key:"removeEntry",value:function(e){var t=this._entries.indexOf(e);return t!==-1&&this._entries.splice(t,1),t}},{key:"walk",value:function(){return this._walk.apply(this,arguments)}},{key:"blockType",get:function(){return p.GROUP}},{key:"availableControls",get:function(){return this._availableControls}},{key:"disabledControls",get:function(){return this._disabledControls}},{key:"userDisabledControls",get:function(){return this._userDisabledControls}},{key:"state",get:function(){return this._rootProxyWrapper?this._rootProxyWrapper.state:"rv-loaded"}},{key:"template",get:function(){function e(){r.push("reload")}function t(){var e=r.indexOf("reload");e!==-1&&r.splice(e,1)}var i=this,r=this._availableControls,o={"rv-loading":function(){return e(),"placeholder"},"rv-loaded":function(){return t(),_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"template",i)},"rv-refresh":function(){return t(),_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"template",i)},"rv-error":function(){return e(),"error"}};return o[this.state]()}},{key:"sortGroup",get:function(){return t.Layer.SORT_GROUPS_[t.Layer.Types.ESRI_DYNAMIC]}},{key:"isRefreshing",get:function(){return"rv-loading"===this.state}},{key:"name",get:function(){return this._name}},{key:"visibility",get:function(){return this._observableEntries.some(function(e){return e.visibility})},set:function(e){if(!this.isControlSystemDisabled("visibility"))return this._activeEntries.forEach(function(t){return t.visibility=e}),this}},{key:"opacity",get:function(){var e=.5,t=!1,n=this._observableEntries,i=void 0;return n.length>0&&(i=n[0].opacity,t=n.every(function(e){return e.opacity===i})),t?i:e},set:function(e){if(!this.isControlSystemDisabled("opacity"))return this._activeEntries.forEach(function(t){return t.opacity=e}),this}},{key:"expanded",get:function(){return this._expanded},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.expanded;this._expanded=e}},{key:"entries",get:function(){return this._entries}},{key:"_activeEntries",get:function(){return this.entries.filter(function(e){return e.blockType===p.SET||e.blockType===p.GROUP||e.blockType===p.NODE})}},{key:"_observableEntries",get:function(){return this._activeEntries.filter(function(e){return!e.controlled})}}]),n}(y),w=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._highlightSet=!1,n._selectedEntry=null,n._entries=[],n._entryWatchers=[],n._selectedEntry=null,n._walk=f.walkFunction.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_propagateVisibility",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._activeEntries.forEach(function(n){n!==t&&(n.visibility=e)})}},{key:"addEntry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._entries.length;this.visibility&&(e.visibility=!1),this._entries.splice(n,0,e);var i={get:function(){return t._highlightSet},set:function(e){t._highlightSet=e}};return Object.defineProperty(e,"highlightSet",i),e.highlightSet=!1,this}},{key:"removeEntry",value:function(e){var t=this._entries.indexOf(e);return t!==-1&&this._entries.splice(t,1),t}},{key:"walk",value:function(){return this._walk.apply(this,arguments)}},{key:"availableControls",get:function(){return["visibility"]}},{key:"disabledControls",get:function(){return[]}},{key:"userDisabledControls",get:function(){return[]}},{key:"blockType",get:function(){return p.SET}},{key:"visibility",get:function(){var e=this,t=this._activeEntries.find(function(t){return t.visibility&&t!==e._selectedEntry})||null;t&&(this._selectedEntry&&(this._selectedEntry.visibility=!1),this._selectedEntry=t);var n=this._activeEntries.every(function(e){return!e.visibility});return n&&(this._selectedEntry&&(this._selectedEntry.visibility=!1),this._selectedEntry=null),null!==this._selectedEntry},set:function(e){return e?this.visibility||(this._activeEntries[0].visibility=!0):this._activeEntries.forEach(function(t){return t.visibility=e}),this}},{key:"_activeEntries",get:function(){return this.entries.filter(function(e){return e.blockType===p.GROUP||e.blockType===p.NODE})}},{key:"entries",get:function(){return this._entries}},{key:"highlightSet",get:function(){return this._highlightSet}}]),t}(y),x={Block:g,Node:b,Group:_,Set:w,Info:v,ProxyWrapper:m,TYPES:p};return x}e.$inject=["$q","Geo","layerRegistry","gapiService","configService","SymbologyStack"],angular.module("app.geo").factory("LegendBlock",e)}(),function(){"use strict";function e(e,t,r,o,a){function s(e){var t=o.getSync.map.layerRecords;return t.find(function(t){return t.layerId===e})}function l(e){var t=o.getSync.map.layerRecords,n=s(e.config.id);return n||(n=e.generateLayer(),t.push(n)),n}function c(e){var t=o.getSync.map.instance,n=o.getSync.map.layerRecords,i=s(e.config.id),r=n.indexOf(i);r!==-1&&(t._map.removeLayer(i._layer),i=e.generateLayer(),n[r]=i)}function u(e){var t=o.getSync.map.instance,n=o.getSync.map.layerRecords,i=s(e),r=n.indexOf(i);return r!==-1&&(n.splice(r,1),t.removeLayer(i._layer)),r}function d(e){var t=s(e),n=o.getSync.map.instance;if(t){var i=y.loadingQueue.some(function(e){return e===t}),r=n.graphicsLayerIds.concat(n.layerIds).indexOf(t.config.id)!==-1;return!i&&!r&&(y.loadingQueue.push(t),h(),!0)}return!1}function h(){function t(n){"rv-refresh"===n?l=!0:(l&&"rv-loaded"===n||"rv-error"===n)&&(s.removeStateListener(t),e.cancel(c),g(s),r())}function r(){f(),y.loadingCount=Math.max(--y.loadingCount,0),h()}if(!(y.loadingCount>=n||0===y.loadingQueue.length)){var a=o.getSync.map.instance,s=y.loadingQueue.shift(),l=!1;s.addStateListener(t),a.addLayer(s._layer),y.loadingCount++,s._layer.loaded&&(l=!0,t("rv-loaded"));var c=e(r,i)}}function f(){function e(e){var i=s[e.toString()],o=t.filter(function(t){return r.Layer.SORT_GROUPS_[t.layerType]===e}).filter(function(e){return i.indexOf(e.config.id)!==-1}),a=o.map(function(e){return i.indexOf(e.config.id)}).sort(function(e,t){return e<t});o.forEach(function(e,t){a[t]!==i.indexOf(e.config.id)&&n.reorderLayer(e._layer,a[t])})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getSync.map.layerRecords,n=o.getSync.map.instance,i=o.getSync.map.boundingBoxRecords,a=o.getSync.map.highlightLayer,s={0:n.graphicsLayerIds,1:n.layerIds},l=[0,1];l.forEach(function(t){return e(t)});var c=s[0].length-1;i.forEach(function(e){return n.reorderLayer(e,c)}),a&&n.reorderLayer(a,c)}function p(e){var t=o.getSync.map.boundingBoxRecords;return t.find(function(t){return t.layerId===e})}function m(e,n){var i=o.getSync.map.boundingBoxRecords,r=o.getSync.map.instance,a=p(e);return a||(a=t.gapi.layer.bbox.makeBoundingBox(e,n,r.extent.spatialReference),i.push(a),r.addLayer(a)),a}function g(e){function t(e){var t={mouseOver:function(e){n={name:null,svgcode:"<svg></svg>",graphic:e.target};a.addHoverTooltip(e.point,n)},tipLoaded:function(e){n&&n.graphic===e.target&&(n.name=e.name,n.svgcode=e.svgcode),a.refreshHoverTooltip()},mouseOut:function(e){return a.removeHoverTooltip()},forceClose:function(){}};t[e.type](e)}if(e.config.layerType===r.Layer.Types.ESRI_FEATURE&&e.config.hovertipEnabled){var n=void 0;e.addHoverListener(t)}}var v={getLayerRecord:s,makeLayerRecord:l,loadLayerRecord:d,regenerateLayerRecord:c,removeLayerRecord:u,getBoundingBoxRecord:p,makeBoundingBoxRecord:m,synchronizeLayerOrder:f},y={loadingQueue:[],loadingCount:0};return v}function t(e,t,n,i,r,o,a){function s(t,s,l){function c(e,t){var n=[s.graphicsLayerIds,s.layerIds];return n[t].indexOf(e.replace("placeholder",""))!==-1}function u(e){return Object.keys(N).map(function(e){return N[e]}).filter(function(t){return t.config.layerType===e})}function d(){return Object.keys(N).filter(function(e){return"rcs"===(N[e].origin||N[e].initialConfig.origin)&&!N[e].deleted}).map(function(e){return e.split(".")[1]})}function h(){return Object.keys(N).map(function(e){return N[e]}).filter(function(e){return a.Layer.QUERYABLE.indexOf(e.config.layerType)!==-1}).filter(function(e){return e.state!==a.Layer.States.ERROR})}function f(e){if(t.mapService.clearHilight(),e.levelChange&&(Object.keys(R.layers).forEach(function(e){p(e)}),S({type:"forceClose"})),l.map.restrictNavigation&&t.maxExtent){var n=i.gapi.Map.enforceBoundary(e.extent,t.maxExtent);n.adjusted&&t.mapService.mapObject.centerAt(n.newExtent.getCenter())}}function p(e){var t=R.layers[e];g(t).then(function(e){return t.legendEntry.setLayerScaleFlag(e)})}function m(e,t,n){var i={value:!1,zoomIn:!1};return e<n&&0!==n?(i.value=!0,i.zoomIn=!1):e>t&&0!==t&&(i.value=!0,i.zoomIn=!0),i}function g(n){var i=t.mapService.mapObject.getScale(),r={},o=[];return n.attributeBundle&&n.attributeBundle.indexes?n.attributeBundle.indexes.forEach(function(e){o.push(n.attributeBundle[e].layerData.then(function(t){r[e]=m(i,t.minScale,t.maxScale)}))}):r[0]=m(i,n._layer.minScale,n._layer.maxScale),e.all(o).then(function(){return r})}function v(e){var t=[s.graphicsLayerIds,s.layerIds];return t[e.legendEntry.sortGroup].indexOf(e.layerId)}function y(e,t){var n=R.layers[e].legendEntry,i="undefined"!=typeof t?R.layers[t].legendEntry:null,r=[s.graphicsLayerIds,s.layerIds],o=v(R.layers[e]),a=void 0;if(null===i||n.sortGroup!==i.sortGroup)a=r[n.sortGroup].findIndex(function(e){return R.layers.hasOwnProperty(e)}),a=a!==-1?a:r[n.sortGroup].length;else{if(n.sortGroup!==i.sortGroup)throw new Error("Halp!");a=r[n.sortGroup].indexOf(t),a+=o>a?1:0}return a}function b(e,t){var n=R.layers[e]._layer,i=y(e,t);_(),s.reorderLayer(n,i)}function _(){var e=[].concat(s.graphicsLayerIds.slice().reverse(),s.layerIds.slice().reverse()).filter(function(e){return R.layers.hasOwnProperty(e)}),t=R.legend.items.filter(function(e){return c(e.id,e.sortGroup)}).map(function(e){return e.id});e.forEach(function(n,i){if(t[i]!==n)return RV.logger.error("layerRegistryService","map stack is out of "+("sync - "+t[i]+" !== "+n)),RV.logger.warn("layerRegistryService","fullMapStack",e),void RV.logger.warn("layerRegistryService","fullLegendStack",t)})}function w(e,t){var n=N[e.id];return t?void(n.bbox||n.createBbox(s)):void(n.bbox&&n.destroyBbox(s))}function x(e){e.forEach(function(e){e.generateLayer().then(function(e){L(e);var t=E(e);RV.logger.log("layerRegistryService","adding *"+e.config.name+"* to map at _"+t+"_"),e._layer.fullExtent&&"undefined"==typeof e._layer.fullExtent.xmax&&(e._layer.fullExtent.spatialReference.wkid=e._layer.graphics[0]._extent.spatialReference.wkid,e._layer.fullExtent.xmax=Math.max.apply(Math,_toConsumableArray(e._layer.graphics.map(function(e){return e._extent.xmax}))),e._layer.fullExtent.xmin=Math.min.apply(Math,_toConsumableArray(e._layer.graphics.map(function(e){return e._extent.xmin}))),e._layer.fullExtent.ymax=Math.max.apply(Math,_toConsumableArray(e._layer.graphics.map(function(e){return e._extent.ymax}))),e._layer.fullExtent.ymin=Math.min.apply(Math,_toConsumableArray(e._layer.graphics.map(function(e){return e._extent.ymin})))),e.addStateListener(k(e)),s.addLayer(e._layer,t),e._layer.loaded&&(e.onLoad(),e.onUpdateEnd()),e.config.layerType===a.Layer.Types.ESRI_FEATURE&&e.config.options.hoverTips.enabled&&e.addHoverListener(S)})})}function E(e){var t=z.legendService.addPlaceholder(e),n=R.legend.items[t+1];return n="undefined"==typeof n?n:n.id.replace("placeholder",""),y(e.layerId,n)}function k(e){var n=function i(n){if(n===a.Layer.States.LOADED){e.removeStateListener(i);var r=e.legendEntry.options;r.hasOwnProperty("boundingBox")&&r.boundingBox.value&&w(e.legendEntry,!0);var o=t.mapService.mapObject.spatialReference.wkid;"esriTile"===e.config.layerType&&e._layer.spatialReference.wkid!==o&&(r.visibility.enabled=!1,r.visibility.value=!1),p(e.layerId)}};return n}function C(){j.tipRef&&j.tipRef.destroy(),j.tipRef=null,j.tipContent=null}function S(e){var t={mouseOver:function(e){var t='<div class="rv-tooltip-content">\n                                <rv-svg once="false" class="rv-tooltip-graphic" src="self.svgcode"></rv-svg>\n                                <span class="rv-tooltip-text">{{ self.name }}</span>\n                            </div>';j.tipContent={name:n.instant("maptip.hover.label.loading"),svgcode:"<svg></svg>",graphic:e.target},j.tipRef=o.addHoverTooltip(e.point,t,j.tipContent)},tipLoaded:function(e){j.tipContent&&j.tipContent.graphic===e.target&&(j.tipContent.name=e.name,j.tipContent.svgcode=e.svgcode)},mouseOut:function(e){j.tipContent&&j.tipContent.graphic===e.target&&C()},forceClose:function(){C()}};t[e.type](e)}function M(e){var t=N[e];if(!t)throw new Error;t.bbox&&t.destroyBbox(s),s.removeLayer(t._layer),delete R.layers[e]}function A(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("undefined"==typeof e)return T({},t.lods[t.lods.length-1],!1);n=!i&&n;for(var r=e,o=n?t.lods:[].concat(_toConsumableArray(t.lods)).reverse();!r._layerRecord;)r=r.parent;var a=N[r.id]._layer;if(e._layerRecord){var s=o.find(function(e){return n?e.scale<a.minScale:e.scale>a.maxScale});return T(a,s,n)}return r._layerRecord._attributeBundle[e.featureIdx].layerData.then(function(e){var t=o.find(function(t){return n?t.scale<e.minScale:t.scale>e.maxScale});return T(a,t,n)})}function T(e,t,n){if(n){var r=i.gapi.proj.localProjectExtent(e.fullExtent,s.spatialReference),o=i.gapi.Map.Extent(r.x0,r.y0,r.x1,r.y1,r.sr);return s.setScale(t.scale).then(function(){if(!o.intersects(s.extent))return s.centerAt(o.getCenter())})}return s.setScale(t.scale)}function O(e){var t=N[e]._layer,n=void 0;n=t.fullExtent.xmin?i.gapi.proj.localProjectExtent(t.fullExtent,s.spatialReference):i.gapi.proj.localProjectExtent(i.gapi.proj.graphicsUtils.graphicsExtent(t.graphics),s.spatialReference);var r=i.gapi.Map.Extent(n.x0,n.y0,n.x1,n.y1,n.sr);return s.setExtent(r)}function P(e,t){var n=e._layerRecord||e,i=v(n);s.removeLayer(n._layer),t&&t(n.config),e.state=a.Layer.States.NEW,s.addLayer(n.constructLayer(),i)}function $(e){var t=function(e){return e.options.snapshot.value=!0};P(e,t)}function L(e){if(!e.layerId)throw new Error("Attempt to register layer without id property");if(N[e.layerId])throw new Error("Attempt to register layer already registered.  id: "+e.layerId);R.layers[e.layerId]=e}function I(e,t){var n=e;if(t){var i=t.find(function(t){return t.name===e});i&&i.alias&&i.alias.length>0&&(n=i.alias)}return n}function D(e,t){if(t){var n=t.find(function(t){return t.name===e});if(n&&n.type)return"esriFieldTypeDate"===n.type}return!1}var N={},R={legend:null,layers:N,constructLayers:x,removeLayer:M,zoomToScale:A,zoomToBoundary:O,reloadLayer:P,snapshotLayer:$,aliasedFieldName:I,getLayersByType:u,getRcsLayerIDs:d,getAllQueryableLayerRecords:h,moveLayer:b,checkDateType:D,setBboxState:w,getLayerMapIndex:v,_refactorIsLayerInMapStack:c},z={legendService:r(l,R)};R.legend=z.legendService.legend,i.gapi.events.wrapEvents(t.mapService.mapObject,{"extent-change":f});var j={tipRef:null,tipContent:null};return t.layerRegistry=R,R}return function(e,t){return s(e,e.mapService.mapObject,t)}}e.$inject=["$timeout","gapiService","Geo","configService","tooltipService"];var n=2,i=3e3;angular.module("app.geo").factory("layerRegistry",e),t()}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_get=function o(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:o(r,t,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){function e(e,t,n){function i(t,n){var i,r=e.Layer.Types,o=(i={},_defineProperty(i,r.ESRI_TILE,d),_defineProperty(i,r.ESRI_FEATURE,f),_defineProperty(i,r.ESRI_IMAGE,c),_defineProperty(i,r.ESRI_DYNAMIC,u),_defineProperty(i,r.OGC_WMS,h),i);return new o[t.layerType](t,(void 0),n)}function r(e,t){return new f(e,t)}function o(e,t){var n=[f,h,d,u,c];return n[t].parseData(e)}var a=function(){return t.gapi},s=function(){function t(n,i,r){var o=this;_classCallCheck(this,t),this.initialConfig=n,this._stateListeners=[],this._hoverListeners=[],this._epsgLookup=r,this._layerPassthroughBindings.forEach(function(e){return o[e]=function(){var t;return(t=o._layer)[e].apply(t,arguments)}}),this._layerPassthroughProperties.forEach(function(e){var t={enumerable:!0,get:function(){return o._layer[e]}};Object.defineProperty(o,e,t)}),i?(this.constructLayer=function(){throw new Error("Cannot construct pre-made layers")},this._layer=i,this.bindEvents(this._layer),this.state=e.Layer.States.LOADED):(this.constructLayer(n),this.state=e.Layer.States.LOADING)}return _createClass(t,[{key:"createBbox",value:function(e){if(this._bbox)throw new Error("Bbox is already setup");this._bbox=a().layer.bbox.makeBoundingBox("bbox_"+this._layer.id,this._layer.fullExtent,e.extent.spatialReference),e.addLayer(this._bbox)}},{key:"destroyBbox",value:function(e){e.removeLayer(this._bbox),this._bbox=void 0}},{key:"bindEvents",value:function(e){var t=this;a().events.wrapEvents(e,{load:function(){return t.onLoad()},error:function(e){return t.onError(e)},"update-start":function(){return t.onUpdateStart()},"update-end":function(){return t.onUpdateEnd()},"mouse-over":function(e){return t.onMouseOver(e)},"mouse-out":function(e){return t.onMouseOut(e)}})}},{key:"constructLayer",value:function(){return this._layer=this.layerClass(this.config.url,this.makeLayerConfig()),this.bindEvents(this._layer),this._layer}},{key:"_stateChange",value:function(e){this._state=e,RV.logger.log("layerRecord","state change for layer with id *"+this.layerId+"* to",e),this._fireEvent(this._stateListeners,this._state)}},{key:"addStateListener",value:function(e){return this._stateListeners.push(e),e}},{key:"removeStateListener",value:function(e){var t=this._stateListeners.indexOf(e);if(t<0)throw new Error("Attempting to remove a listener which is not registered.");this._stateListeners.splice(t,1)}},{key:"addHoverListener",value:function(e){return this._hoverListeners.push(e),e}},{key:"removeHoverListener",value:function(e){var t=this._hoverListeners.indexOf(e);if(t<0)throw new Error("Attempting to remove a listener which is not registered.");this._hoverListeners.splice(t,1)}},{key:"onLoad",value:function(){var t=this;if(!this.legendEntry||!this.legendEntry.removed){RV.logger.info("layerRecord","layer with id *"+this._layer.id+"* has loaded");var n=Promise.resolve();if(this._epsgLookup){var i=a().proj.checkProj(this.spatialReference,this._epsgLookup);i.lookupPromise&&(n=i.lookupPromise)}n.then(function(){return t._stateChange(e.Layer.States.LOADED)})}}},{key:"onError",value:function(t){RV.logger.warn("layerRecord","layer error",t),this._stateChange(e.Layer.States.ERROR)}},{key:"onUpdateStart",value:function(){this._stateChange(e.Layer.States.REFRESH)}},{key:"onUpdateEnd",value:function(){this._stateChange(e.Layer.States.LOADED)}},{key:"makeLayerConfig",value:function(){return{id:this.config.id,opacity:this.config.options.opacity.value,visible:this.config.options.visibility.value}}},{key:"onMouseOver",value:function(){}},{key:"onMouseOut",value:function(){}},{key:"_fireEvent",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.slice(0).forEach(function(e){return e.apply(void 0,n)})}},{key:"layerClass",get:function(){throw new Error("This should be overridden in subclasses")}},{key:"config",get:function(){return this.initialConfig}},{key:"legendEntry",get:function(){return this._legendEntry},set:function(e){this._legendEntry=e}},{key:"bbox",get:function(){return this._bbox}},{key:"state",get:function(){return this._state}},{key:"layerId",get:function(){return this.config.id}},{key:"_layerPassthroughBindings",get:function(){return["setOpacity","setVisibility"]}},{key:"_layerPassthroughProperties",get:function(){return["visibleAtMapScale","visible","spatialReference"]}}],[{key:"parseData",value:function(e,t){var n={opacity:function(e){return parseInt(e)/100},visibility:function(e){return"1"===e||null},boundingBox:function(e){return"1"===e},snapshot:function(e){return"1"===e},query:function(e){return"1"===e}},i={options:{}};return e.forEach(function(e,r){i.options[e]={value:n[e](t[r])}}),i}}]),t}(),l=function(e){function t(e,n,i){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return r._formattedAttributes={},r}return _inherits(t,e),_createClass(t,[{key:"attributeBundle",get:function(){return this._attributeBundle}},{key:"clickTolerance",get:function(){return this.config.tolerance}}]),_createClass(t,[{key:"onLoad",value:function(){this._attributeBundle=a().attribs.loadLayerAttribs(this._layer),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this)}},{key:"formatAttributes",value:function(e,t){var n=t.fields.filter(function(t){return e.features[0].attributes.hasOwnProperty(t.name)}).map(function(e){return{data:e.name,title:e.alias||e.name}});return{columns:n,rows:e.features.map(function(e){return e.attributes}),fields:t.fields,oidField:t.oidField,oidIndex:e.oidIndex,renderer:t.renderer}}},{key:"getAttributes",value:function(e){var t=this,i=this._formattedAttributes;if(i.hasOwnProperty(e))return i[e];var r=this._attributeBundle[e],o=n.all([r.getAttribs(),r.layerData]).then(function(e){var n=_slicedToArray(e,2),i=n[0],r=n[1];return t.formatAttributes(i,r)})["catch"](function(){throw delete t._formattedAttributes[e],new Error("Attrib loading failed")});return this._formattedAttributes[e]=o}}]),t}(s),c=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"layerClass",get:function(){return a().layer.ArcGISImageServiceLayer}}],[{key:"parseData",value:function(e){var n=/^(\d{3})(\d{1})(\d{1})$/,i=e.match(n);if(i)return _get(t.__proto__||Object.getPrototypeOf(t),"parseData",this).call(this,[,"opacity","visibility","boundingBox"],i)}}]),t}(s),u=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_layerPassthroughBindings",get:function(){return["setOpacity","setVisibility","setVisibleLayers","setLayerDrawingOptions"]}},{key:"_layerPassthroughProperties",get:function(){return["visibleAtMapScale","visible","spatialReference","layerInfos","supportsDynamicLayers"]}},{key:"layerClass",get:function(){return a().layer.ArcGISDynamicMapServiceLayer}}],[{key:"parseData",value:function(e){var n=/^(\d{3})(\d{1})(\d{1})(\d{1})$/,i=e.match(n);if(i)return _get(t.__proto__||Object.getPrototypeOf(t),"parseData",this).call(this,[,"opacity","visibility","boundingBox","query"],i)}}]),t}(l),d=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"layerClass",get:function(){return a().layer.TileLayer}}],[{key:"parseData",value:function(e){var n=/^(\d{3})(\d{1})(\d{1})$/,i=e.match(n);if(i)return _get(t.__proto__||Object.getPrototypeOf(t),"parseData",this).call(this,[,"opacity","visibility","boundingBox"],i)}}]),t}(s),h=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"makeLayerConfig",value:function(){var e=_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"makeLayerConfig",this).call(this);return e.visibleLayers=this.config.layerEntries.map(function(e){return e.id}),e}},{key:"layerClass",get:function(){return a().layer.ogc.WmsLayer}}],[{key:"parseData",value:function(e){var n=/^(\d{3})(\d{1})(\d{1})(\d{1})$/,i=e.match(n);if(i)return _get(t.__proto__||Object.getPrototypeOf(t),"parseData",this).call(this,[,"opacity","visibility","boundingBox","query"],i)}}]),t}(s),f=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"makeLayerConfig",value:function(){var e=_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"makeLayerConfig",this).call(this);return e.mode=this.config.options.snapshot.value?this.layerClass.MODE_SNAPSHOT:this.layerClass.MODE_ONDEMAND,this.config.options.snapshot.enabled=!this.config.options.snapshot.value,e}},{key:"getFeatureName",value:function(e,t){var n="";return this.legendEntry&&this.legendEntry.nameField?n=this.legendEntry.nameField:this._layer&&this._layer.displayField&&(n=this._layer.displayField),n?e[n]:"Feature "+t}},{key:"onMouseOver",value:function(e){var t=this;if(this._hoverListeners.length>0){var i={type:"mouseOver",point:e.screenPoint,target:e.target};this._fireEvent(this._hoverListeners,i);var r=this.attributeBundle.indexes[0];this.attributeBundle[r].layerData.then(function(e){return n.all([Promise.resolve(e),t.attributeBundle[r].getAttribs()])}).then(function(n){var i=_slicedToArray(n,2),r=i[0],o=i[1],s=e.graphic.attributes[r.oidField],l=o.features[o.oidIndex[s]].attributes,c=t.getFeatureName(l,s),u=a().symbology.getGraphicIcon(l,r.renderer),d={type:"tipLoaded",name:c,target:e.target,svgcode:u};t._fireEvent(t._hoverListeners,d)})}}},{key:"onMouseOut",value:function(e){var t={type:"mouseOut",target:e.target};this._fireEvent(this._hoverListeners,t)}},{key:"layerClass",get:function(){return a().layer.FeatureLayer}}],[{key:"parseData",value:function(e){var n=/^(\d{3})(\d{1})(\d{1})(\d{1})(\d{1})$/,i=e.match(n);
if(i)return _get(t.__proto__||Object.getPrototypeOf(t),"parseData",this).call(this,[,"opacity","visibility","boundingBox","snapshot","query"],i)}}]),t}(l);return{makeServiceRecord:i,makeFileRecord:r,parseLayerData:o}}e.$inject=["Geo","gapiService","$q"],angular.module("app.geo").factory("LayerRecordFactory",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,n,i,r,o,a,s,l){function c(e){var n=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,r=e;"number"==typeof r&&(r=String(r));var o=r.match(n);o&&(r=o[1]);var a=r.match(i);return a&&(r=a[1]),t.get("http://epsg.io/"+r+".proj4").then(function(e){return e.data})["catch"](function(e){return RV.logger.warn("geoService","proj4 style projection lookup failed with error",e),null})}var u,d=0,h=r.Layer.Types,f=(r.Service.Types,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"generateLayer",value:function(){throw new Error("Call generateLayer on a subclass instead.")}},{key:"config",set:function(e){this._config||(this._config=e)},get:function(){return this._config}},{key:"source",get:function(){return this._source},set:function(t){this._source||(this._source=t,this.config=new e.LAYER_TYPE_TO_LAYER_NODE[this._source.layerType](this._source))}},{key:"layerType",set:function(e){this.config.layerType=e,this._applyDefaults(),"undefined"==typeof this.config.id&&(this.config.id=this.layerType+"#"+d++)}}],[{key:"LAYER_TYPE_TO_LAYER_RECORD",get:function(){var e,t=i.gapi.layer;return e={},_defineProperty(e,h.ESRI_TILE,t.createTileRecord),_defineProperty(e,h.ESRI_FEATURE,t.createFeatureRecord),_defineProperty(e,h.ESRI_IMAGE,t.createImageRecord),_defineProperty(e,h.ESRI_DYNAMIC,t.createDynamicRecord),_defineProperty(e,h.OGC_WMS,t.createWmsRecord),e}}]),e}());f.LAYER_TYPE_TO_LAYER_NODE=(u={},_defineProperty(u,h.ESRI_TILE,s.layers.BasicLayerNode),_defineProperty(u,h.ESRI_FEATURE,s.layers.FeatureLayerNode),_defineProperty(u,h.ESRI_IMAGE,s.layers.BasicLayerNode),_defineProperty(u,h.ESRI_DYNAMIC,s.layers.DynamicLayerNode),_defineProperty(u,h.OGC_WMS,s.layers.WMSLayerNode),u);var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e?i.source=e:n&&(i.config=n.config),_possibleConstructorReturn(i)}return _inherits(t,e),_createClass(t,[{key:"generateLayer",value:function(){return f.LAYER_TYPE_TO_LAYER_RECORD[this.config.layerType](this.config,void 0,c)}}]),t}(f),m=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._layerSource=e,n.config=n._layerSource.config,n}return _inherits(t,e),_createClass(t,[{key:"validateFileLayerSource",value:function(){var e,t=this,n=angular.copy(this._layerSource.formattedData);this._layerSource.epsgLookup=c;var o=(e={},_defineProperty(e,r.Service.Types.CSV,function(){return i.gapi.layer.makeCsvLayer(n,t._layerSource)}),_defineProperty(e,r.Service.Types.GeoJSON,function(){return i.gapi.layer.makeGeoJsonLayer(n,t._layerSource)}),_defineProperty(e,r.Service.Types.Shapefile,function(){return i.gapi.layer.makeShapeLayer(n,t._layerSource)}),e),a=o[this._layerSource.type]();return a.then(function(e){return t.__layer__=e}),a}},{key:"generateLayer",value:function(){return f.LAYER_TYPE_TO_LAYER_RECORD[this.config.layerType](this.config,this.__layer__)}}]),t}(f),g={service:p,file:m};return g}e.$inject=["$q","$http","LayerBlueprintUserOptions","gapiService","Geo","layerDefaults","LayerRecordFactory","ConfigObject","common"],angular.module("app.geo").factory("LayerBlueprint",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e){var t,n,i=function(){function e(t){_classCallCheck(this,e),this._layerName="",this._layerId="",this._primaryField=t.primary}return _createClass(e,[{key:"layerName",get:function(){return this._layerName},set:function(e){this._layerName=e}},{key:"primaryField",get:function(){return this._primaryField},set:function(e){this._primaryField=e}},{key:"layerId",get:function(){return this._layerId},set:function(e){this._layerId=e}}]),e}(),r=function(e){function t(e,n,i){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return r._epsgLookup=e,r._targetWkid=n,r._colour=(new RColor).get(!0,.4,.8),r}return _inherits(t,e),_createClass(t,[{key:"epsgLookup",get:function(){return this._epsgLookup}},{key:"targetWkid",get:function(){return this._targetWkid}},{key:"colour",get:function(){return this._colour},set:function(e){this._colour=e}}]),t}(i),o=function(e){function t(e,n,i){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return r._latfield=i.lat,r._lonfield=i["long"],r}return _inherits(t,e),_createClass(t,[{key:"latfield",get:function(){return this._latfield},set:function(e){this._latfield=e}},{key:"lonfield",get:function(){return this._lonfield},set:function(e){this._lonfield=e}}]),t}(r),a=function(e){function t(e,n,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return _inherits(t,e),t}(r),s=function(e){function t(e,n,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return _inherits(t,e),t}(r),l=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return _inherits(t,e),t}(i),c={File:(t={},_defineProperty(t,e.Service.Types.CSV,o),_defineProperty(t,e.Service.Types.GeoJSON,a),_defineProperty(t,e.Service.Types.Shapefile,s),t),Service:(n={},_defineProperty(n,e.Service.Types.FeatureLayer,l),_defineProperty(n,e.Service.Types.DynamicService,l),_defineProperty(n,e.Service.Types.WMS,l),n)};return c}e.$inject=["Geo"],angular.module("app.geo").factory("LayerBlueprintUserOptions",e)}(),function(){"use strict";function e(e,n,i,r,o,a,s,l,c,u,d){function h(o,a){function s(e){h=l(e),a.on("mousemove",h)}function l(t){var n={x:t.clientX,y:t.clientY};return function(t){var r={x:t.clientX,y:t.clientY},o={x:n.x-r.x,y:n.y-r.y};e.$broadcast(i.rvMapPan,o),n=r}}function c(){a.off("mousemove",h)}var h=void 0,m=o.$on(i.rvReady,function(){r.panels.map=a,n.assembleMap(a[0]),m()});o.$watch(function(){return n.isMapReady},function(){if(n.isMapReady){n.map.disableKeyboardNavigation(),n.map.mapDefault("panDuration",0),n.map.mapDefault("panRate",0),a.on("keydown",f),a.on("keyup",p),a.on("mousedown",s),a.on("mouseup",c);var i=u.timeLineLite(),r=i.to(a.find(".esriScalebar"),.3,{left:425,ease:t},0),o=u.timeLineLite();o.to(a.parent().find(".rv-map-coordinates"),.3,{left:575,ease:t},0),e.$on("rvBasemapChange",function(){i.remove(r),i.to(a.find(".esriScalebar"),.3,{left:425,ease:t},0),d.state.main.active&&i.play()}),e.$watch(function(){return d.state.main.active},function(e){e?(i.play(),o.play()):(i.reverse(),o.reverse())})}})}function f(e){e.which>=37&&e.which<=40&&e.preventDefault(!0),9===e.which?(v=[],g()):v.indexOf(e.which)===-1&&r.panels.map.is($(document.activeElement))&&(v.push(e.which),m(e))}function p(e){var t=v.indexOf(e.which);t!==-1&&v.splice(t,1),m(e)}function m(){if(g(),0!==v.length){var e=n.mapObject.extent.getCenter(),t=n.mapObject.toScreen(e);t.x+=10,t.y+=10;for(var i=Math.abs(n.mapObject.toMap(t).x-e.x),r=Math.abs(n.mapObject.toMap(t).y-e.y),o=0,a=0,u=1,d=0;d<v.length;d++)switch(v[d]){case 13:s.attr("rv-focus-status")===c.focusStatusTypes.ACTIVE&&(event.mapPoint=e,event.screenPoint=t,n.state.identifyService.clickHandler(event));break;case 16:u=2;break;case 37:o-=i;break;case 38:a+=r;break;case 39:o+=i;break;case 40:a-=r;break;case 187:n.map.shiftZoom(1);break;case 61:n.map.shiftZoom(1);break;case 189:n.map.shiftZoom(-1);break;case 173:n.map.shiftZoom(-1)}0===o&&0===a||(y=l(function(){e.x+=u*o,e.y+=u*a,n.mapObject.centerAt(e)},40))}}function g(){"undefined"!=typeof y&&(l.cancel(y),y=void 0)}var v=[],y=void 0,b={restrict:"A",link:h};return b}e.$inject=["$rootScope","geoService","events","storageService","mapService","gapiService","$rootElement","$interval","globalRegistry","animationService","stateManager"];var t=new Ease(BezierEasing(.35,0,.25,1));angular.module("app.geo").directive("rvInitMap",e)}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function e(e,t,n){function i(i){function r(t){var n=e(function(e){return t.then(function(){return e(!0)})["catch"](function(){return e(!0)})});return n}var o,a=t.getSync.map.instance,s={clickEvent:i,map:a._map,geometry:i.mapPoint,width:a._map.width,height:a._map.height,mapExtent:a._map.extent},l=t.getSync.map.layerRecords.filter(function(e){return"undefined"!=typeof e.identify}).map(function(e){return e.identify(s)}).filter(function(e){return"undefined"!=typeof e.identifyResults}),c=(o=[]).concat.apply(o,_toConsumableArray(l.map(function(e){var t=e.identifyResults;return t}))),u=l.map(function(e){var t=e.identifyPromise,n=e.identifyResults,i=t["catch"](function(e){RV.logger.warn("identifyService","Identify query failed with error",e),n.forEach(function(t){t.error=e.message,t.isLoading=!1})}),o=r(i);return o});if(0!==c.length){var d={data:c,isLoaded:e.all(u).then(function(){return!0})},h={mapPoint:i.mapPoint};n.toggleDisplayPanel("mainDetails",d,h,0)}}var r={identify:i};return r}e.$inject=["$q","configService","stateManager"],angular.module("app.geo").factory("identifyService",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,n,i,r,o,a,s,l,c){var u=function(){function e(){_classCallCheck(this,e),this._isMapReady=!1}return _createClass(e,[{key:"assembleMap",value:function(e){var t=this;return a.getAsync.then(function(o){r.makeMap(e),c.constructLegend(o.map.layers,o.map.legend),t._isMapReady=!0,n.$broadcast(i.rvApiReady)})["catch"](function(e){return RV.logger.error("geoService","failed to assemble the map with error",e)})}},{key:"setFullExtent",value:function(){this.map.setExtent(this.map.enhanceConfigExtent(a.getSync.map.selectedBasemap.full))}},{key:"reloadLayer",value:function(e){o.reloadLayer(e)}},{key:"snapshotLayer",value:function(e){o.snapshotLayer(e)}},{key:"isMapReady",get:function(){return this._isMapReady}},{key:"map",get:function(){return a.getSync.map.instance}}]),e}();return new u}e.$inject=["$http","$q","$rootScope","events","mapService","layerRegistry","configService","identifyService","ConfigObject","legendService"],angular.module("app.geo").factory("geoService",e)}(),function(){"use strict";var e,t={Layer:{Types:{ESRI_DYNAMIC:"esriDynamic",ESRI_FEATURE:"esriFeature",ESRI_IMAGE:"esriImage",ESRI_TILE:"esriTile",OGC_WMS:"ogcWms"},Ogc:{INFO_FORMAT_MAP:{"text/html;fgpv=summary":"HTML","text/html":"HTML","text/plain":"Text","application/json":"EsriFeature"}},Esri:{GEOMETRY_TYPES:{esriGeometryPoint:"geometry.type.esriGeometryPoint",esriGeometryPolygon:"geometry.type.esriGeometryPolygon",esriGeometryPolyline:"geometry.type.esriGeometryPolyline",generic:"geometry.type.generic"}},States:{NEW:"rv-new",REFRESH:"rv-refresh",LOADING:"rv-loading",LOADED:"rv-loaded",DEFAULT:"rv-default",ERROR:"rv-error"}},Service:{Types:{CSV:"csv",GeoJSON:"geojson",Shapefile:"shapefile",FeatureLayer:"featurelayer",RasterLayer:"rasterlayer",GroupLayer:"grouplayer",TileService:"tileservice",FeatureService:"featureservice",DynamicService:"dynamicservice",ImageService:"imageservice",WMS:"wms",Unknown:"unknown",Error:"error"}}};angular.extend(t.Layer,{NO_ATTRS:[t.Layer.Types.ESRI_IMAGE,t.Layer.Types.ESRI_TILE,t.Layer.Types.OGC_WMS],QUERYABLE:[t.Layer.Types.ESRI_FEATURE,t.Layer.Types.ESRI_DYNAMIC,t.Layer.Types.OGC_WMS],SORT_GROUPS:[[t.Layer.Types.ESRI_FEATURE],[t.Layer.Types.ESRI_IMAGE,t.Layer.Types.ESRI_TILE,t.Layer.Types.ESRI_DYNAMIC,t.Layer.Types.OGC_WMS]],SORT_GROUPS_:(e={},_defineProperty(e,t.Layer.Types.ESRI_DYNAMIC,1),_defineProperty(e,t.Layer.Types.ESRI_FEATURE,0),_defineProperty(e,t.Layer.Types.ESRI_IMAGE,1),_defineProperty(e,t.Layer.Types.ESRI_TILE,1),_defineProperty(e,t.Layer.Types.OGC_WMS,1),e)}),t.Metadata={XSLT_LANGUAGE_NEUTRAL:'<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0"                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"                xmlns:gmd="http://www.isotc211.org/2005/gmd"                xmlns:gco="http://www.isotc211.org/2005/gco"                xmlns:xlink="http://www.w3.org/1999/xlink"                xmlns:gmdl="http://www.canada.gc.ca/ns/gmdl"                xmlns:napec="http://www.ec.gc.ca/data_donnees/standards/schemas/napec"                xmlns:gml="http://www.opengis.net/gml"                xmlns:geonet="http://www.fao.org/geonetwork"                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                xsi:schemaLocation="http://www.ec.gc.ca/data_donnees/standards/schemas/napec/schema.xsd">  <xsl:param name="catalogue_url" />  <xsl:decimal-format NaN=""/>  <xsl:template match="/">    <div class="metadata-view">      <xsl:if test="//gmd:abstract/gco:CharacterString/text() != \'\'">        <h5 class="md-title">{{metadata.xslt.Abstract}}</h5>        <p>          <xsl:value-of select="//gmd:abstract/gco:CharacterString/text()" />        </p>      </xsl:if>      <xsl:comment>        <h5 class="md-title">{{metadata.xslt.Scope}}</h5>        <p>{{metadata.xslt.hereBeScope}}</p>      </xsl:comment>      <xsl:if test="//gml:TimePeriod//* != \'\'">        <h5 class="md-title">{{metadata.xslt.timePeriod}}</h5>        <p>          <xsl:value-of select="//gml:TimePeriod//gml:beginPosition" />          <xsl:if test="//gml:TimePeriod//gml:beginPosition/text() != \'\' and //gml:TimePeriod//gml:endPosition/text() != \'\'">            -          </xsl:if>          <xsl:value-of select="//gml:TimePeriod//gml:endPosition" />        </p>      </xsl:if>      <xsl:comment>        <xsl:if test="//gmd:supplementalInformation/gco:CharacterString/text() != \'\'">          <h5 class="md-title">{{metadata.xslt.supplementalData}}</h5>          <p>            <xsl:value-of select="//gmd:supplementalInformation/gco:CharacterString/text()" />          </p>        </xsl:if>      </xsl:comment>      <xsl:if test="//gmd:pointOfContact//gmd:individualName/* != \'\'               or //gmd:pointOfContact//gmd:organisationName/gco:CharacterString/text() != \'\'              or //gmd:pointOfContact//gmd:positionName/gco:CharacterString/text() != \'\'              or //gmd:pointOfContact//gmd:electronicMailAddress/* != \'\'              or //gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue != \'\'">        <h5 class="md-title">{{metadata.xslt.contactInfo}}</h5>        <p>          <xsl:value-of select="//gmd:pointOfContact//gmd:individualName" />        </p>        <p>          <xsl:value-of select="//gmd:pointOfContact//gmd:organisationName/gco:CharacterString/text()" />        </p>        <p>          <xsl:value-of select="//gmd:pointOfContact//gmd:positionName/gco:CharacterString/text()" />        </p>        <p>          <a href="mailto:{//gmd:pointOfContact//gmd:electronicMailAddress}?Subject={//gmd:identificationInfo//gmd:title/gco:CharacterString/text()}">            <xsl:value-of select="//gmd:pointOfContact//gmd:electronicMailAddress" />          </a>        </p>        <p>          <xsl:variable name="roleCode" >            <xsl:value-of select="concat(substring(//gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue,1,1),                        substring(//gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue, 2))" />          </xsl:variable>          <xsl:choose>            <xsl:when test="$roleCode = \'resourceProvider\'">{{metadata.xslt.resourceProvider}}</xsl:when>            <xsl:when test="$roleCode = \'custodian\'">{{metadata.xslt.custodian}}</xsl:when>            <xsl:when test="$roleCode = \'owner\'">{{metadata.xslt.owner}}</xsl:when>            <xsl:when test="$roleCode = \'user\'">{{metadata.xslt.user}}</xsl:when>            <xsl:when test="$roleCode = \'distributor\'">{{metadata.xslt.distributor}}</xsl:when>            <xsl:when test="$roleCode = \'originator\'">{{metadata.xslt.originator}}</xsl:when>            <xsl:when test="$roleCode = \'pointOfContact\'">{{metadata.xslt.pointOfContact}}</xsl:when>            <xsl:when test="$roleCode = \'principalInvestigator\'">{{metadata.xslt.principalInvestigator}}</xsl:when>            <xsl:when test="$roleCode = \'processor\'">{{metadata.xslt.processor}}</xsl:when>            <xsl:when test="$roleCode = \'publisher\'">{{metadata.xslt.publisher}}</xsl:when>            <xsl:when test="$roleCode = \'author\'">{{metadata.xslt.author}}</xsl:when>            <xsl:when test="$roleCode = \'collaborator\'">{{metadata.xslt.collaborator}}</xsl:when>            <xsl:when test="$roleCode = \'editor\'">{{metadata.xslt.editor}}</xsl:when>            <xsl:when test="$roleCode = \'mediator\'">{{metadata.xslt.mediator}}</xsl:when>            <xsl:when test="$roleCode = \'rightsHolder\'">{{metadata.xslt.rightsHolder}}</xsl:when>          </xsl:choose>        </p>      </xsl:if>      <xsl:if test="$catalogue_url != \'\'">        <h5 class="md-title">{{metadata.xslt.cataloguePage}}</h5>        <p>          <a href="{$catalogue_url}"             rel="external" target="_blank" class="ui-link">            {{metadata.xslt.metadata}}          </a>        </p>      </xsl:if>    </div>  </xsl:template></xsl:stylesheet>'},angular.module("app.geo").constant("Geo",t).service("layerDefaults",function(){var e={};return e})}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function e(e,t,n,i,r,o,a,s){function l(){n.onEveryConfigLoad(function(e){S=void 0,M=void 0,"undefined"==typeof e.services.search?O=!1:(O=!0,P=e.services.search.serviceUrls,$=e.services.search.disabledSearches)})}function c(e){return"undefined"==typeof e?O:!$||"undefined"!=typeof $.find(function(t){return t===e})}function u(e){k("radius",e)}function d(e){k("concise",e)}function h(e){k("province",e)}function f(e){T=e}function p(){return t(function(t,n){"undefined"!=typeof S?t(S):e.get(P.provinces).then(function(e){S=e.data.definitions.map(function(e){return{code:e.code,abbr:e.term,name:e.description}}),S.push({code:-1,abbr:"...",name:"..."}),t(S)},n)})}function m(){return t(function(t,n){"undefined"!=typeof M?t(M):e.get(P.types).then(function(e){M=e.data.definitions.map(function(e){return{code:e.code,name:e.term}}),M.push({code:"NTS",name:s.instant("geosearch.type.nts")}),M.push({code:"FSA",name:s.instant("geosearch.type.fsa")}),M.push({code:"SCALE",name:s.instant("geosearch.type.scale")}),M.push({code:"COORD",name:s.instant("geosearch.type.latlong")}),M.push({code:-1,name:"..."}),t(M)},n)})}function g(n){delete L.q;var i=t.all([v(n),p(),m()]),r=i.then(function(){return e.get(P.geoNames,{params:L}).then(function(e){return w(e.data.items.map(function(e){return{name:e.name,type:M.find(function(t){return t.code===e.concise.code}),location:{city:e.location,province:S.find(function(t){return t.code===e.province.code}),latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude)},bbox:e.bbox,position:e.position.coordinates}}))}).then(function(t){return 0===t.length?e.get(P.geoSuggest+n).then(function(e){return{suggestions:e.data.suggestions,results:[]}}):{results:t}})});return t.all([i,r]).then(function(e){var t=_slicedToArray(e,2),n=_slicedToArray(t[0],1),i=n[0],r=t[1],o=i.filter(function(e){return"undefined"==typeof L.concise||L.concise===e.type.code});return r.results=o.concat(r.results),r})}function v(n){var o=T;if("visible"===o?o=i.mapObject.extent:"canada"===o&&(o=i.getFullExtent()),"object"===("undefined"==typeof o?"undefined":_typeof(o))){var a=r.gapi.proj.localProjectExtent(o,{wkid:4326});o=[a.x0,a.y0,a.x1,a.y1].join(",")}return k("bbox",o),t(function(t,i){var r=/^[A-Za-z]\d[A-Za-z][*]$/,o=/^\d{3}[a-pA-P](0[1-9]|1[0-6])*[*]$/,a=/^([-+]?([1-8]?\d(\.\d+)?|90(\.0+)?))([\s+|,|;])([-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?))[*]$/,l=/^[-+]?(?:[0-8]\d|90)\s(?:[0-5]\d)\s(?:[0-5]\d)[,|;][-+]?(?:\d{2}|1[0-7]\d|180)\s(?:[0-5]\d)\s(?:[0-5]\d)[*]$/,u=/^[1][:]\d{1,3}[ ]*\d{1,3}[ ]*\d{1,3}[*]$/;if(r.test(n)&&c("FSA")||o.test(n)&&c("NTS"))e.get(P.geoLocation+n).then(function(e){C.apply(void 0,_toConsumableArray(e.data[0].geometry.coordinates.reverse())),t(w(e.data.map(function(e){return y(e)})))},i);else if((a.test(n)||l.test(n))&&c("LAT/LNG")){var d=void 0;d=a.test(n)?b(n.slice(0,-1),"dd"):b(n.slice(0,-1),"dms"),C(d.position[1],d.position[0]),t(w([d]))}else delete L.lat,delete L.lon,L.q=n,t(u.test(n)&&c("SCALE")?[{name:n.slice(0,-1),type:{name:s.instant("geosearch.type.scale"),code:"SCALE"}}]:[])})}function y(e){var t=parseFloat(e.geometry.coordinates[0]),n=parseFloat(e.geometry.coordinates[1]),i=t<n?[t,n]:[n,t],r=.015,o="undefined"!=typeof e.bbox?e.bbox:[i[0]-r,i[1]-r,i[0]+r,i[1]+r],a="undefined"!=typeof e.bbox?{name:s.instant("geosearch.type.nts"),code:"NTS"}:{name:s.instant("geosearch.type.fsa"),code:"FSA"};return{name:e.title,type:a,location:{latitude:i[1],longitude:i[0]},bbox:o,position:i}}function b(e,t){var n="dd"===t?e.split(/[\s|,|;|]/):_(e);n=n.map(function(e){return parseFloat(e)}).reverse();var i=.015,r=[n[0]-i,n[1]-i,n[0]+i,n[1]+i];return{name:e,type:{name:s.instant("geosearch.type.latlong"),code:"COORD"},location:{latitude:n[1],longitude:n[0]},bbox:r,position:n}}function _(e){var t=e.split(/[,|;]/),n=t[0].split(" ").map(function(e){return parseFloat(e)}),i=t[1].split(" ").map(function(e){return parseFloat(e)}),r=Math.abs(n[0])+n[1]/60+n[2]/3600,o=Math.abs(i[0])+i[1]/60+i[2]/3600;return r=n[0]>0?r:r*-1,o=i[0]>0?o:o*-1,[r,o]}function w(e){if("undefined"!=typeof A){var t=A.split(",").map(parseFloat);return e.filter(function(e){return!(e.bbox[0]>t[2]||e.bbox[2]<t[0]||e.bbox[3]<t[1]||e.bbox[1]>t[3])})}return e}function x(e,t){var n,o=i.mapObject,a=o.spatialReference,s=r.gapi,l=(n=s.Map).Extent.apply(n,_toConsumableArray(e).concat([{wkid:4326}])),c=s.proj.localProjectExtent(l,a),u=s.Map.Extent(c.x0,c.y0,c.x1,c.y1,c.sr);o.setExtent(u.expand(1.5)).then(function(){var e=s.proj.localProjectPoint(4326,a.wkid,[parseFloat(t[0]),parseFloat(t[1])]),n=s.proj.Point(e[0],e[1],a);i.dropMapPin(n)})}function E(e){i.mapObject.setScale(parseInt(e.replace(/ /g,"")))}function k(e,t){L[e]=t,"undefined"==typeof L[e]&&delete L[e]}function C(e,t){var n=[e,t];L.lat=n[0],L.lon=n[1],L.bbox&&(A=L.bbox,delete L.bbox)}var S=void 0,M=void 0,A=void 0,T=void 0,O=void 0,P=void 0,$=void 0,L={},I={query:g,setRadius:u,setType:d,setProvince:h,setExtent:f,getProvinces:p,getTypes:m,isEnabled:c,zoomSearchExtent:x,zoomScale:E};return l(),I}e.$inject=["$http","$q","configService","geoService","gapiService","$rootScope","events","$translate"],angular.module("app.geo").factory("geoSearch",e)}(),function(){"use strict";function e(e,t){function n(){i.isReady=t.gapiPromise.then(function(t){return i.gapi=t,e.resolve(null)})["catch"](function(){RV.logger.error("gapiService","gapi is not ready")})}var i={gapi:null,isReady:null};return n(),i}e.$inject=["$q","globalRegistry"],angular.module("app.geo").factory("gapiService",e)}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngMaterial","ngSanitize","ngMessages","app.common","app.common.router","pascalprecht.translate","dotjem.angular.tree","flow","minicolors",angularDragula(angular)])}(),function(){"use strict";angular.module("app.core").constant("version",{major:"1",minor:"7",patch:"0",hash:"065e1b0",timestamp:"2017-05-25 14:09:36"})}(),function(){function e(e,t,n){var i=t;return function(t){return"loader"===t.action?e(function(e){e(i[t.key])}):void Object.keys(t).forEach(function(e){i[e]&&(i[e].plugin||(i[e].plugin={}),Object.assign(i[e].plugin,t[e].plugin),n.refresh())})}}e.$inject=["$q","translations","$translate"],angular.module("app.core").factory("translationService",e)}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){var t="id name url layerType metadataUrl catalogueUrl extent nameField tolerance featureInfoMimeType legendMimeType".split(" "),n="id index name outfields".split(" "),i="opacity visibility boundingBox query snapshot".split(" "),r="opacity visibility boundingBox query snapshot metadata boundaryZoom refresh reload remove settings data".split(" "),o=function(e,t){var n=i.filter(function(t){return e.options&&e.options[t]&&e.options[t].hasOwnProperty("value")});n.length>0&&(t.state={},n.forEach(function(n){return t.state[n]=e.options[n].value}));var o=r.filter(function(t){return!e.options||!e.options.hasOwnProperty(t)||!e.options[t].hasOwnProperty("enabled")||e.options[t].enabled});o.length!==r.length&&(t.controls=o)},a={};return t.filter(function(t){return e.hasOwnProperty(t)}).forEach(function(t){return a[t]=e[t]}),o(e,a),e.hasOwnProperty("layerEntries")&&(a.layerEntries=e.layerEntries.map(function(e){var t={};return o(e,t),n.filter(function(t){return e.hasOwnProperty(t)}).forEach(function(n){return t[n]=e[n]}),t})),a}function t(t){var n="theme logoUrl navBar sideMenu restrictNavigation legendIsOpen".split(" "),i="googleApiKey export search".split(" "),r="id name description typeSummary altText thumbnailUrl layers attribution zoomLevels".split(" "),o={4326:"Mercator",102100:"Web Mercator",3857:"Web Mercator",3978:"Lambert",3979:"Lambert"},a={ui:{},version:"2.0"};t.language&&(a.language=t.language),t.services&&(a.services=JSON.parse(JSON.stringify(t.services))),t.map&&(a.map=JSON.parse(JSON.stringify(t.map))),t.legend&&(a.map.legend=t.legend),t.layers&&(a.map.layers=t.layers.map(function(t){return e(t)}));var s={};a.map.extentSets.forEach(function(e){s[e.id]={id:e.id},"default full maximum".split(" ").filter(function(t){return e.hasOwnProperty(t)}).forEach(function(t){s[e.id][t]={xmax:e[t].xmax,xmin:e[t].xmin,ymax:e[t].ymax,ymin:e[t].ymin},s[e.id].spatialReference=e[t].spatialReference})}),a.map.extentSets=Object.keys(s).map(function(e){return s[e]});var l={};a.map.lodSets=a.map.lods,delete a.map.lods,a.map.lodSets.forEach(function(e){return l[e.id]=e});var c={},u=[];return Object.keys(s).forEach(function(e){return Object.keys(l).forEach(function(t){var n={},i=e+"#"+t;n.id=i;var r=s[e].spatialReference.wkid;o.hasOwnProperty(String(r))?n.name=o[String(r)]+" Maps":n.name=n.id,n.extentSetId=e,n.lodSetId=t,c[i]=n})}),t.baseMaps&&(a.map.baseMaps=t.baseMaps.map(function(e){var t={};r.filter(function(t){return e.hasOwnProperty(t)}).forEach(function(n){return t[n]=e[n]});var n=e.extentId+"#"+e.lodId;return!c.hasOwnProperty(n),t.tileSchemaId=n,u.push(n),t})),a.map.tileSchemas=u.map(function(e){return c[e]}),n.filter(function(e){return t.hasOwnProperty(e)}).forEach(function(e){return a.ui[e]=t[e]}),i.filter(function(e){return t.hasOwnProperty(e)}).forEach(function(e){return a.services[e]=t[e]}),a}function n(e){return i.indexOf(e)>-1}var i="1.0 1.1 1.2 1.3 1.4 1.5 1.6".split(" "),r={oneToTwo:t,layerNodeUpgrade:e,V1_SCHEMA_VERSIONS:i,isV1Schema:n};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=r:"object"===("undefined"==typeof angular?"undefined":_typeof(angular))&&angular.module("app.core").factory("schemaUpgrade",function(){return r})}(),function(){function e(e,t,n,i,r,o){function a(e){t.$broadcast(n.rvApiHalt);var a=i.getBookmark();o.getAsync.then(function(t){i.parseBookmark(a,t,{newBaseMap:e}),r.assembleMap()})}function s(a){t.$broadcast(n.rvApiHalt);var s=i.getBookmark();e.use(a),o.getAsync.then(function(e){i.parseBookmark(s,e,{newLang:a}),t.$broadcast(n.rvLangSwitch),r.assembleMap()})}function l(e,a){e?a&&!u.bookmarkBlocking||(t.$broadcast(n.rvApiHalt),o.getAsync.then(function(o){i.parseBookmark(e,o,{}),u.bookmarkBlocking?(t.$broadcast(n.rvBookmarkInit),u.bookmarkBlocking=!1):r.assembleMap()})):(t.$broadcast(n.rvBookmarkInit),u.bookmarkBlocking=!1)}function c(e,r){u.bookmarkBlocking&&(t.$broadcast(n.rvApiHalt),o.getAsync.then(function(o){i.parseBookmark(e,o,{newKeyList:r}),t.$broadcast(n.rvBookmarkInit),u.bookmarkBlocking=!1}))}var u={loadNewProjection:a,loadNewLang:s,loadWithBookmark:l,loadWithExtraKeys:c,bookmarkBlocking:!1};return u}e.$inject=["$translate","$rootScope","events","bookmarkService","geoService","configService"],angular.module("app.core").factory("reloadService",e)}(),function(){"use strict";function e(e){function t(){var t=[].concat(Array.prototype.slice.call(arguments)),n=t.splice(0,1)[0],i=t.splice(0,1)[0],a=t.pop(),s=new n(i,a);if("function"==typeof s.init&&s.init.apply(s,_toConsumableArray(t)),r.find(function(e){return e===s||e.id===s.id}))throw new Error("A plugin with the same instance or ID has already been registered.");Object.keys(s.translations).forEach(function(e){s.translations[e]={plugin:_defineProperty({},s.id,s.translations[e])}}),e(s.translations),r.push(s),o.filter(function(e){return s instanceof e.pluginType}).forEach(function(e){return e.cb(s)})}function n(e,t){o.push({pluginType:e,cb:t}),r.filter(function(t){return t instanceof e}).forEach(t)}var i={onCreate:n,register:t},r=[],o=[];return i}e.$inject=["translationService"],angular.module("app.core").factory("pluginService",e)}(),function(){"use strict";angular.module("app.core").constant("globalRegistry",window.RV)}(),function(){function e(e,t,n){function i(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:175,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=void 0,l=!1,c=void 0,u=void 0;return function(){for(var d=arguments.length,h=Array(d),f=0;f<d;f++)h[f]=arguments[f];return l||(c=n(function(e){return u=e}),o&&u(i.apply(void 0,h)),a||e.$applyAsync(),l=!0),t.cancel(s),s=t(function(){o||u(i.apply(void 0,h)),l=!1},r),c}}var r={registerDebounce:i};return r}e.$inject=["$rootScope","$timeout","$q"],angular.module("app.core").factory("debounceService",e)}(),function(){"use strict";function e(e,t,n,i,r,o,a,s,l){function c(){var n=t.attr("rv-wait");if(u(),"undefined"!=typeof n){r.bookmarkBlocking=!0;var i=e.$on(o.rvBookmarkInit,function(){e.$broadcast(o.rvReady),i()})}else e.$broadcast(o.rvReady)}function u(){function t(e){var t=sessionStorage.getItem(l.id);t&&sessionStorage.removeItem(l.id),
r.loadWithBookmark(e,!0)}function n(e){var t=sessionStorage.getItem(l.id);t?(r.loadWithExtraKeys(t,e),sessionStorage.removeItem(l.id)):(i.getMap(l.id).loadRcsLayers(e),a())}function a(){RV.logger.log("preLoadApiBlock","bypassing *rv-wait*"),r.bookmarkBlocking=!1,e.$broadcast(o.rvBookmarkInit)}var s={initialBookmark:t,restoreSession:n,start:a};i.getMap(l.id)._registerPreLoadApi(s)}function d(e,t){return t=t?"-"+t:"",l.id+"-id-"+e+t}var h=[a.initialize(),s.isReady];n.all(h).then(function(){c()})["catch"](function(e){RV.logger.error("runBlock","fatal error",e)}),e.uid=d}function t(e,t,n,i,r,o,a,s,l,c,u,d,h,f){function p(e){l.loadNewLang(e)}function m(e){i.rcsAddKeys(e).then(function(e){var t=e.map(function(e){return e.origin="rcs",new o.service(e,n.epsgLookup)});n.constructLayers(t)})}function g(){return a.getBookmark()}function v(e){l.loadWithBookmark(e,!1)}function y(e,t,r,o){var a=s.gapi.proj.localProjectPoint(r,n.mapObject.spatialReference,{x:e,y:t}),l=s.gapi.proj.Point(a.x,a.y,n.mapObject.spatialReference);i.getSync.map.instance.setZoom(o),i.getSync.map.instance.centerAt(l)}var b={setLanguage:p,loadRcsLayers:m,getBookmark:g,centerAndZoom:y,useBookmark:v,getRcsLayerIDs:function(){return n.getRcsLayerIDs()},appInfo:c,registerPlugin:function(){h.register.apply(h,Array.prototype.slice.call(arguments).concat([this]))},northArrow:f.northArrow,mapCoordinates:f.mapCoordinates};e.$on(r.rvApiReady,function(){t.getMap(c.id)._registerMap(b),t.getMap(c.id)._applicationLoaded(b),RV.logger.log("apiBlock","registered viewer with id *"+c.id+"*"),t.focusManager.addViewer(u,d,i.getSync.ui.fullscreen)}),e.$on(r.rvApiHalt,function(){t.getMap(c.id)._deregisterMap()})}function n(e,t,n){t.id=e.attr("id"),angular.extend(window.RV.debug[t.id],{geoService:n})}n.$inject=["$rootElement","appInfo","geoService"],t.$inject=["$rootScope","globalRegistry","geoService","configService","events","LayerBlueprint","bookmarkService","gapiService","reloadService","appInfo","$rootElement","$mdDialog","pluginService","mapToolService"],e.$inject=["$rootScope","$rootElement","$q","globalRegistry","reloadService","events","configService","gapiService","appInfo"],angular.module("app.core").run(n).run(t).run(e)}(),function(){function e(e,t,n){function i(){e.directivePriority(222),e.useLoader("translationService",{action:"loader"})}function r(){t.theme("default").primaryPalette("blue-grey").accentPalette("cyan")}function o(){n.defaultIconSet("app/default.svg").iconSet("action","app/action.svg").iconSet("alert","app/alert.svg").iconSet("communication","app/communication.svg").iconSet("community","app/community.svg").iconSet("content","app/content.svg").iconSet("editor","app/editor.svg").iconSet("file","app/file.svg").iconSet("hardware","app/hardware.svg").iconSet("image","app/image.svg").iconSet("maps","app/maps.svg").iconSet("navigation","app/navigation.svg").iconSet("social","app/social.svg").iconSet("toggle","app/toggle.svg")}i(),r(),o()}e.$inject=["$translateProvider","$mdThemingProvider","$mdIconProvider"],angular.module("app.core").config(e)}(),function(){"use strict";function e(e){return{$on:function(){return e.$on.apply(e,arguments)},$broadcast:function(){return e.$broadcast.apply(e,arguments)},rvReady:"rvReady",rvApiHalt:"rvApiHalt",rvApiReady:"rvApiReady",rvBookmarkInit:"rvBookmarkInit",rvDataPrint:"rvDataPrint",rvDataExportCSV:"rvDataExportCSV",rvLangSwitch:"rvLangSwitch",rvCfgLoad:"rvCfgLoad",rvCfgInitialized:"rvCfgInitialized",rvCfgUpdated:"rvCfgUpdated",rvMapPan:"rvMapPan",rvExtentChange:"extentChange",rvMouseMove:"rvMouseMove",rvBasemapChange:"rvBasemapChange",rvHighlightDetailsItem:"rvHighlightDetailsItem",rvGeosearchClose:"rvGeosearchClose"}}function t(){var e={id:null};return e}e.$inject=["$rootScope"];var n={"en-CA":{lang:{code:{code:"en-CA",iso:{639:{2:"eng"}}},dir:"ltr",en:"English",fr:"anglais","native":"English"},appbar:{tooltip:{layers:"Layers",pointInfo:"Feature Details",menu:"Menu",geosearch:"Geolocation Search",geosearchclose:"Close Geolocation Search",tools:"Tools"},headline:{layers:"Layers"},aria:{layers:"Sets",pointInfo:"Feature Details",menu:"Open Sidenav",geosearchclose:"Close Geolocation Search",geosearch:"Geolocation Search",tools:"Tools"}},geo:{aria:{overviewtoggle:"Expand/Shrink map overview",mapdescription:"Interactive Map"},coord:{east:"E",west:"W",north:"N",south:"S"}},"rv-truncate":{showMore:"Show More",showLess:"Hide"},filter:{tooltip:{zoom:"Zoom To Feature",highlight:"Show on map",description:"Details",nozoom:"Data in custom projection. Cannot zoom to feature."},"default":{label:{processing:"Processing...",search:"Search: ",length:{menu:"Show _MENU_ entries"},info:"Showing _START_ to _END_ of _TOTAL_ entries",zero:"Showing 0 to 0 of 0 entries",filtered:"(filtered from _MAX_ total entries)",postfix:"",loadrec:"Loading...",zerorecords:"No matching records found",emptytable:"No data available in table",first:"First",previous:"Previous",next:"Next",last:"Last"},aria:{sortasc:": activate to sort column ascending",sortdsc:": activate to sort column descending"},thousands:{delim:","}},title:"Features: ",aria:{menu:"Open data panel menu"},menu:{minimize:"Minimize",splitView:"Split View",maximize:"Maximize",enableSearch:"Enable Search",enableFilters:"Enable Filters",print:"Print","export":"Export",extent:"Filter by Extent"}},details:{title:"Feature Information",aria:{expand:"Expand"},tooltip:{expand:"Expand"},label:{noresult:"Nothing found"}},contentPane:{aria:{close:"Close"},tooltip:{close:"Close"}},geosearch:{text:{placeholder:"Search Text"},label:{province:"Province",type:"Type",extent:"Visible"},aria:{extent:"Visible"},type:{scale:"Scale",latlong:"Latitude/Longitude",fsa:"Postal Code",nts:"NTS"},nomatches:{label:'No matches found for "{{ noResultsSearchValue }}"'},loadingfilters:{label:"Loading filters"}},basemap:{refresh:{req:"Map refresh required"},blank:{title:"blank map",desc:"Remove base map"},projection:{title:"{{name}} Maps"},select:"Select basemap",showdescription:"Show basemap description",hidedescription:"Hide basemap description"},wkids:{3978:"Lambert",102100:"Mercator",other:"Other"},nav:{sliderOnly:"slider only",slider:"slider",label:{zoomIn:"Zoom in",zoomOut:"Zoom out",geoLocation:"Your Location",search:"Search",home:"Canada",history:"History",basemap:"Basemap"},tooltip:{zoomIn:"Zoom in",zoomOut:"Zoom out",geoLocation:"Your Location",search:"Search",home:"Canada",history:"History",basemap:"Basemap"}},metadata:{title:"Metadata",expand:{tooltip:"Expand Metadata"},xslt:{Abstract:"Abstract",Scope:"Scope",hereBeScope:"here be scope",timePeriod:"Time Period",supplementalData:"Supplemental Data",contactInfo:"Contact Information",resourceProvider:"Resource Provider",custodian:"Custodian",owner:"Owner",user:"User",distributor:"Distributor",originator:"Originator",pointOfContact:"Point of Contact",principalInvestigator:"Principal Investigator",processor:"Processor",publisher:"Publisher",author:"Author",collaborator:"Collaborator",editor:"Editor",mediator:"Mediator",rightsHolder:"Rights Holder",cataloguePage:"Data Catalogue Page",metadataPage:"Raw Metadata",metadata:"Metadata"}},maptip:{hover:{label:{loading:"Loading..."}}},settings:{title:"Settings",label:{display:"Display",boundingBox:"Bounding Box",opacity:"Opacity",data:"Data",snapshot:"Snapshot mode",enable:"Enable",enabled:"Enabled",query:"Allow query"},aria:{boundingBox:"Bounding Box",query:"Allow query"},reload:{description:"When a layer fails to load properly or becomes unresponsive"}},sidenav:{title:"FGP R2 Viewer",label:{about:"About Map",fullscreen:"Full Screen",share:"Share","export":"Export",sharelink:"Link to Share",shortlink:"Short Link",copysuccess:"Link copied to clipboard",clicktocopy:"Click to copy",copy:"Press Ctrl+C to copy",help:"Help",touch:"Touch Mode",language:"Language"},menu:{plugin:"Plugin Links"}},toc:{layer:{unnamed:"Unnamed Service #{{count}}",aria:{openData:"Open data panel menu"},label:{symbology:"Legend",symbologyShow:"Expand legend",symbologyHide:"Hide legend"}},title:"Layer Selector",label:{toggleGroupViz:"Toggle group visibility",extraMenu:"Extra",metadata:"Metadata",query:"Toggle query",settings:"Settings",visibility:{off:"Show layer",on:"Hide layer",zoomIn:"Zoom in to details",zoomOut:"Zoom out to details"},reload:"Reload",remove:"Remove",state:{remove:"Layer removed",error:"Error",loading:"Updating"},action:{remove:"undo"},filters:"",flag:{feature:"ESRI Feature Layer ({{count}} {{typeName}})",unresolved:"Detecting layer type...",dynamic:"ESRI Dynamic Layer ({{count}} {{typeName}})",wms:"OGC WMS Layer",tile:"ESRI Tile Layer",image:"ESRI Image Layer",scale:"Toggle scale",data:{table:"Layer has viewable data",filter:"Layer data is filtered"},query:"Layer will be excluded from map click results",user:"Layer added by user",filter:"Map data is filtered by your current extent",wrongprojection:"Layer cannot be displayed in your current projection"},boundaryZoom:"Zoom to Layer Boundary",dataTable:"Datatable",reorder:"Reorder"},tooltip:{toggleGroupViz:"Toggle group visibility",extraMenu:"Extra",metadata:"Metadata",query:"Toggle query",settings:"Settings",visibility:{off:"Show layer",on:"Hide layer",zoomIn:"Zoom in to details",zoomOut:"Zoom out to details"},reload:"Reload",remove:"Remove",filters:"",flag:{feature:"ESRI Feature Layer ({{count}} {{typeName}})",dynamic:"ESRI Dynamic Layer ({{count}} {{typeName}})",wms:"OGC WMS Layer",tile:"ESRI Tile Layer",image:"ESRI Image Layer",scale:"Layer out of scale",data:{table:"Layer has viewable data",filter:"Layer data is filtered"},query:"Layer will be excluded from map click results",user:"Layer added by user",wrongprojection:"Current projection not supported",filter:"Map data is filtered by your current extent"},state:{error:"Error",loading:"Updating"},boundaryZoom:"Zoom to Layer Boundary"},tmp:{label:{state:{loading:"Loading layer..."},error:{loading:"Can't load layer"}}},menu:{visibility:{title:"Toggle Visibility",allon:"Show All",alloff:"Hide All"},expand:{title:"Toggle Groups",allon:"Expand Groups",alloff:"Collapse Groups"},reorder:{title:"Reorder Layers",close:"Stop Reordering"},symbology:"Show legend"},error:{resource:{loadfailed:"There was an error retrieving this resource - try again later",countfailed:"Could not get number of"}}},geometry:{counting:" ...counting",type:{generic:"feature|features",esriGeometryPoint:"point|points",esriGeometryPolygon:"polygon|polygons",esriGeometryPolyline:"line|lines"}},"export":{close:"Close",save:"Save",download:"Download",undo:"Undo",title:"Enter Title",error:{timeout:"Connection timed out. Stopping export task.",tainted:'We can\'t save the export image directly (same-origin policy exception). You can right click the image and select "Save As..." if supported by your browser.',somethingelseiswrong:"Ouch. Something went wrong. We cannot save the export image.",minwidth:" Too small. {{min}} px minimum.",minheight:" Too small. {{min}} px minimum.",maxwidth:" Too large. {{max}} px maximum.",maxheight:" Too large. {{max}} px maximum.",safari:'We can\'t save the export image directly in Safari. You can right click the image and select "Save Page As...".'},retry:"Retry",size:{customwidth:" Width (pixels)",customheight:" Height (pixels)","default":" Default",small:" Small",medium:" Medium",custom:" Custom size"},generate:" generate",settings:" Settings",component:{title:" Title",map:" Map",legend:" Legend",scale:" Scalebar",mapelements:" North arrow and scalebar",footnote:" Footnote",timestamp:" Timestamp"},label:{approx:"approx."},custom:{note1:"Custom sizes apply to the map image - the actual exported image size will vary based on the export options selected.",note2:"You must first click on the Generate button below to create your custom size before downloading is enabled."}},"import":{title:"Add Layer",file:{title:"Import File",upload:{title:"Upload data",summary:"GeoJSON, CSV or zipped Shapefile",choose:"choose a file",drop:"Drop the file to upload",or:"or",fileurl:"File URL",invalid:"This is not a valid URL",noaccess:"Can't access file"},select:{title:"Select file format",fileformat:"File Format",wrong:"Incorrect file format"},configure:{title:"Configure layer",layername:"Layer Name",primaryfield:"Primary Field",latitudefield:"Latitude Field",longitudefield:"Longitude Field",colourfield:"Colour",invalid:"ERROR: Invalid File"},type:{csv:"CSV",shapefile:"zipped Shapefile",geojson:"GeoJSON"}},service:{title:"Import Service",connect:{title:"Connect service",serviceurl:"Service layer URL",invalidurl:"This is not a valid URL",broken:"Service does not respond"},select:{title:"Select Service type",servicetype:"Service Type",wrong:"Service can not be imported using this type"},type:{featurelayer:"ESRI Feature Layer",dynamicservice:"ESRI Dynamic Layer",imageservice:"ESRI Image Layer",tileservice:"ESRI Tile Layer",wms:"OGC Web Map Service",rasterlayer:"Raster Layer"},configure:{title:"Configure layer",layername:"Layer Name",primaryfield:"Primary Field",layers:"Layers",multipleselection:"You can select several layers"}}},stepper:{"continue":"Continue",unresponsive:"The application may feel unresponsive for a short time upon clicking the Continue button. This is normal while data is being processed.",cancel:"Cancel"},config:{service:{rcs:{error:"Layers could not be retrieved from the server, refresh to try again",action:"DISMISS"}}},helpui:{title:"Help",nothingfound:"Nothing is found. Please try a different search.",search:"Search Help",clearsearch:"Clear"},focus:{dialog:{press:"Press",enter:"Enter",toactivate:"to activate or skip with",tab:"Tab",main:"We'll keep focus locked on the viewer - exit with",escape:"Escape"}}},"fr-CA":{lang:{code:{code:"fr-CA",iso:{639:{2:"fra"}}},dir:"ltr",en:"French",fr:"franais","native":"Franais"},appbar:{tooltip:{layers:"Couches",pointInfo:"Dtails sur l'lment",menu:"Menu",geosearch:" Recherche golocalise",geosearchclose:" Fermer la recherche golocalise",tools:"Outils"},headline:{layers:"Couches"},aria:{layers:"Sries",pointInfo:"Dtails sur l'lment",menu:"Ouvrir le menu de navigation",geosearchclose:" Fermer la recherche golocalise",geosearch:" Recherche golocalise",tools:"Outils"}},geo:{aria:{overviewtoggle:"Agrandir/Minimiser l'aperu de la carte",mapdescription:"Carte Interactive"},coord:{east:"E",west:"O",north:"N",south:"S"}},"rv-truncate":{showMore:"Montrer davantage",showLess:"Masquer"},filter:{tooltip:{zoom:"Zoom  l'lment",highlight:"Afficher sur la carte",description:"Dtails",nozoom:"La donne utilise une projection personnalise. Le zoom  l'lment n'est pas support."},"default":{label:{processing:"Traitement en cours...",search:"Rechercher : ",length:{menu:"Afficher _MENU_ lments"},info:"Affichage de l'lment _START_  _END_ sur _TOTAL_ lments",zero:"Affichage de l'lment 0  0 sur 0 lment",filtered:"(filtrs de _MAX_ lments au total)",postfix:"",loadrec:"Chargement en cours...",zerorecords:"Aucun lment  afficher",emptytable:"Aucune donne disponible dans le tableau",first:"Premier",previous:"Prcdent",next:"Suivant",last:"Dernier"},aria:{sortasc:": activer pour trier la colonne en ordre croissant",sortdsc:": activer pour trier la colonne en ordre dcroissant"},thousands:{delim:" "}},title:"lments : ",aria:{menu:"Ouvrir le menu du panneau de donnes"},menu:{minimize:"Rduire",splitView:"Diviser la vue",maximize:"Agrandir",enableSearch:"Activer la recherche",enableFilters:"Activer les filtres",print:"Imprimer","export":"Exporter",extent:"Filtrer par tendue"}},details:{title:"Information sur l'lment",aria:{expand:"Agrandir"},tooltip:{expand:"Agrandir"},label:{noresult:"Aucun rsultat"}},contentPane:{aria:{close:"Fermer"},tooltip:{close:"Fermer"}},geosearch:{text:{placeholder:"Texte  rechercher"},label:{province:"Province",type:"Type",extent:"Visible seulement"},aria:{extent:"Visible seulement"},type:{scale:"chelle",latlong:"Latitude/Longitude",fsa:"Code postal",nts:"SNRC"},nomatches:{label:'Aucun rsultat correspondant  "{{ noResultsSearchValue }}".'},loadingfilters:{label:"Chargement des filtres"}},basemap:{refresh:{req:"Actualiser la carte"},blank:{title:"Carte vide",desc:"Retirer la carte de base"},projection:{title:"Cartes {{name}}"},select:"Slectionner la carte de base",showdescription:"Montrer la description de la carte de base",hidedescription:"Masquer la description de la carte de base"},wkids:{3978:"Lambert",102100:"Mercator",other:"Autre"},nav:{sliderOnly:"Curseur seulement",slider:"Curseur",label:{zoomIn:"Zoom avant",zoomOut:"Zoom arrire",geoLocation:"Votre position",search:"Recherche",home:"Canada",history:"Historique",basemap:"Carte de base"},tooltip:{zoomIn:"Zoom avant",zoomOut:"Zoom arrire",geoLocation:"Votre position",search:"Recherche",home:"Canada",history:"Historique",basemap:"Carte de base"}},metadata:{title:"Mtadonnes",expand:{tooltip:"Agrandir mtadonnes"},xslt:{Abstract:"Rsum",Scope:"Porte",hereBeScope:"la porte jusqu'ici",timePeriod:"Priode",supplementalData:"Donnes supplmentaires",contactInfo:"Coordonnes",resourceProvider:"Fournisseur de la ressource",custodian:"Dpositaire",owner:"Propritaire",user:"Utilisateur",distributor:"Distributeur",originator:"Auteur",pointOfContact:"Point de contact",principalInvestigator:"Chercheur principal",processor:"Prparateur",publisher:"diteur",author:"Auteur",collaborator:"Collaborateur",editor:"diteur",mediator:"Mdiateur",rightsHolder:"Titulaire des droits",cataloguePage:"Page des donnes du catalogue",metadataPage:"Mtadonnes brutes",metadata:"Mtadonnes"}},maptip:{hover:{label:{loading:"Chargement en cours..."}}},settings:{title:"Paramtres",label:{display:"Affichage",boundingBox:"Zone de dlimitation",opacity:"Opacit",data:"Donnes",snapshot:"Mode copie instantane",enable:"Activer",enabled:"Active",query:"Permettre les requtes"},aria:{boundingBox:"Zone de dlimitation",query:"Permettre les requtes"},reload:{description:" reloading the layer can solve the problem."}},sidenav:{title:"Visualiseur PGF R2",label:{about:" propos de la carte",fullscreen:"Plein cran",share:"Partager","export":"Exporter",sharelink:"Lien de partage",shortlink:"Lien court",copysuccess:"Lien copi dans le presse-papiers",clicktocopy:"Cliquez pour copier",copy:"Appuyez sur  Ctrl+C  pour copier",help:"Aide",touch:"Mode Tactile",language:"Langue"},menu:{plugin:"Liens"}},toc:{layer:{unnamed:"Service sans nom #{{count}}",aria:{openData:"Menu du panneau des donnes ouvertes"},label:{symbology:"La lgende",symbologyShow:"Dvelopper la lgende",symbologyHide:"Masquer la lgende"}},title:"Slecteur de couche",label:{toggleGroupViz:"Masquer le groupe de visibilit",extraMenu:"Extra",metadata:"Mtadonnes",query:"Basculer la requte",settings:"Paramtres",visibility:{off:"Afficher la couche",on:"Masquer la couche",zoomIn:"Zoom avant",zoomOut:"Zoom arrire"},reload:"Recharger",remove:"Retirer",state:{remove:"Couche retire",error:"Erreur",loading:"Mise  jour"},action:{remove:"annuler"},filters:"",flag:{feature:"Couche d'lments d'ESRI ({{count}} {{typeName}})",unresolved:"[fr] Detecting layer type...",dynamic:"Couche dynamique d'ESRI ({{count}} {{typeName}})",wms:"Couche WMS de l'OGC",tile:"Couche de tuiles d'ESRI",image:"Couche d'images d'ESRI",scale:"Basculer l'chelle",data:{table:"Donnes disponibles pour la visualisation associes  cette couche",filter:"Couche de donnes filtre"},query:"La couche sera exclue de la carte - cliquer sur les rsultats",user:"Couche ajoute par l'utilisateur",filter:"Les donnes sont filtres selon l'tendue actuelle",wrongprojection:"Le calque ne peut pas tre affich dans votre projection actuelle"},boundaryZoom:"Zoomer  la limite",dataTable:"Tableau de donnes",reorder:"Rorganiser"},tooltip:{toggleGroupViz:"Masquer le groupe de visibilit",extraMenu:"Extra",metadata:"Mtadonnes",query:"Basculer la requte",settings:"Paramtres",visibility:{off:"Afficher la couche",on:"Masquer la couche",zoomIn:"Zoom avant",zoomOut:"Zoom arrire"},reload:"Recharger",remove:"Retirer",filters:"",flag:{feature:"Couche d'lments d'ESRI ({{count}} {{typeName}})",dynamic:"Couche dynamique d'ESRI ({{count}} {{typeName}})",wms:"Couche WMS de l'OGC",tile:"Couche de tuiles d'ESRI",image:"Couche d'images d'ESRI",scale:"Couche hors porte",data:{table:"Donnes disponibles pour la visualisation associes  cette couche",filter:"Couche de donnes filtre"},query:"La couche sera exclue de la carte - cliquer sur les rsultats",user:"Couche ajoute par l'utilisateur",wrongprojection:"Projection actuelle non prise en charge",filter:"Les donnes sont filtres selon l'tendue actuelle"},state:{error:"Erreur",loading:"Mise  jour"},boundaryZoom:"Zoomer  la limite"},tmp:{label:{state:{loading:"Chargement de la couche..."},error:{loading:"Impossible de charger la couche"}}},menu:{visibility:{title:"Basculer la visibilit",allon:"Montrer tout",alloff:"Cacher tout"},expand:{title:"Basculer les groupes",allon:"largir les groupes",alloff:"Rduire les groupes"},reorder:{title:"Rorganiser les couches",close:"Arrter de rorganiser"},symbology:"Afficher la lgende"},error:{resource:{loadfailed:"Une erreur s'est produite lors du chargement de cette ressource - ressayez plus tard",countfailed:"Impossible d'obtenir le nombre de"}}},geometry:{counting:" ...compte",type:{generic:"lment|lments",esriGeometryPoint:"point|points",esriGeometryPolygon:"polygone|polygones",esriGeometryPolyline:"ligne|lignes"}},"export":{close:"Fermer",save:"Sauver",download:"Tlcharger",undo:"Annuler",title:"Titre",error:{timeout:"Connexion expire. Processus dexportation arrt.",tainted:"Nous ne pouvons enregistrer limage directement (exception lie  la politique de mme origine). Vous pouvez cliquer sur le bouton droit de la souris lorsque le curseur est sur limage et slectionner  Enregistrer sous...  si votre navigateur le permet.",somethingelseiswrong:"Ae. Une erreur s'est produite. Nous ne pouvons enregistrer limage cre par l'outil d'exportation.",minwidth:" Trop petit. {{min}} px minimum.",minheight:" Trop petit. {{min}} px minimum.",maxwidth:" Trop grand. {{max}} px maximum.",maxheight:" Trop grand. {{max}} px maximum.",safari:"Nous ne pouvons enregistrer limage directement  l'aide de Safari. Vous pouvez cliquer sur le bouton droit de la souris lorsque le curseur est sur limage et slectionner  Enregistrer la page sous... ."},retry:"Ressayer",size:{customwidth:" Largeur (pixels)",customheight:" Hauteur (pixels)","default":" Par dfaut",small:" Petit",medium:" Mdium",custom:" Format personnalis"},generate:" gnrer",settings:" Paramtres",component:{title:" Titre",map:" Carte",legend:" Lgende",scale:" chelle graphique",mapelements:" Flche du nord et chelle graphique",footnote:" Rfrence",timestamp:" Estampille temporelle"},label:{approx:"approx."},custom:{note1:"Les tailles personnalises s'appliquent  l'image cartographique - la taille relle de l'image exporte varie en fonction des options d'exportation slectionnes.",note2:"Vous devez d'abord cliquer sur le bouton  Gnrer  ci-dessous pour crer votre taille personnalise avant d'activer le tlchargement."}},"import":{title:"Ajouter une couche",file:{title:"Importer un fichier",upload:{title:"Charger des donnes",summary:"GeoJSON, CSV ou Shapefile zipp",choose:"Choisir un fichier",drop:"Dposer le fichier  tlverser",or:"ou",fileurl:"Adresse URL du fichier",invalid:"Cette adresse URL n'est pas valide",noaccess:"Impossible d'accder au fichier"},select:{title:"Slectionner le format du fichier",fileformat:"Format du fichier",wrong:"Format de fichier incorrecte"},configure:{title:"Configurer la couche",layername:"Nom de la couche",primaryfield:"Champ cl",latitudefield:"Champ latitude",longitudefield:"Champ longitude",colourfield:"Couleur",invalid:"ERREUR: Le fichier est invalide"},type:{csv:"CSV",shapefile:"Shapefile zipp",geojson:"GeoJSON"}},service:{title:"Importer un service",connect:{title:"Connecter le service",serviceurl:"Adresse URL du service",invalidurl:"Cette adresse URL n'est pas valide",broken:"Le service ne rpond pas"},select:{title:"Slectionner le type de service",servicetype:"Type de service",wrong:"Le service ne peut tre import en utilisant ce type"},type:{featurelayer:"Couche d'lments d'ESRI",dynamicservice:"Couche dynamique d'ESRI",imageservice:"Couche d'images d'ESRI",tileservice:"Couche de tuiles d'ESRI",wms:"Couche WMS de l'OGC",rasterlayer:"Couche Raster"},configure:{title:"Configurer la couche",layername:"Nom de la couche",primaryfield:"Champ cl",layers:"Couches",multipleselection:"Vous pouvez slectionner plusieurs couches"}}},stepper:{"continue":"Continuer",unresponsive:"L'application peut ne pas rpondre pendant un court laps de temps aprs avoir cliqu sur le bouton Continuer. Cette situation est normale pendant le traitement des donnes.",cancel:"Annuler"},config:{service:{rcs:{error:"chec du SCR (RCS), dmarrage de l'application avec un fichier de configuration",action:"ANNULER"}}},helpui:{title:"Aide",nothingfound:"Rien nest trouv. Veuillez essayer une recherche diffrente.",search:"Aide  la recherche",clearsearch:"Effacer"},focus:{dialog:{press:"Appuyer",enter:"Entrer",toactivate:"pour activer ou sauter avec",tab:"Onglet",main:"Nous allons garder le focus verrouill sur le visualiseur - sortir  l'aide de",escape:"chapper"}}}};angular.module("app.core").factory("events",e).constant("bookmarkVersions",{A:"A",B:"B"}).constant("translations",n).factory("appInfo",t)}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,n,i,r,o,a,s,l,c,u){function d(n,i,o){_=b.LOADING;try{var a=JSON.parse(n);a.forEach(function(t){return E[t]=e.resolve(a[t])})}catch(d){if(window.hasOwnProperty(n)){var h=window[n];o.forEach(function(t){return E[t]=e.resolve(h[t])})}else w=!0,o.forEach(function(e){E[e]=r.get(n.replace("${lang}",e)).then(function(e){return e.data})})}o.forEach(function(n){E[n]=e.all([c.isReady,E[n]]).then(function(e){var t=_slicedToArray(e,2),r=t[1];return l.isV1Schema(r.version)&&(r=l.oneToTwo(r)),C[n]=r,r.language=n,r.languages=o,r.services.rcsEndpoint=i,x[n]=new u.ConfigObject(r),RV.logger.log("configService","config object created",x[n]),x[n]}),n===o[0]&&E[n].then(function(e){_=b.LOADED,t.$broadcast(s.rvCfgInitialized)})})}function h(n,i,r){var l=g(n,i,r);r.forEach(function(n){e.all([S[n],E[n]]).then(function(e){var n={layers:[]};m(n,e),t.$broadcast(s.rvCfgUpdated,l)})["catch"](function(){var e=a.simple().textContent(o.instant("config.service.rcs.error")).action(o.instant("config.service.rcs.action")).highlightAction(!0).hideDelay(0).position("bottom rv-flex-global");a.show(e)})})}function f(){if(_===b.NEW){var e=n.attr("rv-langs");if(M=y,e)try{M=angular.fromJson(e)}catch(t){}M.forEach(function(e){return S[e]=[]});var i=n.attr("rv-config"),r=n.attr("rv-service-endpoint"),a=n.attr("rv-keys");o.use(M[0]),d(i,r,M),r&&h(r,a,M)}}function p(){return o.proposedLanguage()||o.use()}function m(e,t){t.forEach(function(t){Object.entries(t).forEach(function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1];Array.isArray(e[i])?e[i]=e[i].concat(r):e[i]=r})})}function g(e,t,n){var i=void 0;if(t){try{i=angular.fromJson(t)}catch(r){RV.logger.error("configService","RCS key retrieval failed with error",r)}var o=v(e,i,n);n.forEach(function(e){S[e].push(o[e])})}else RV.logger.warn("configService","RCS endpoint set but no keys were specified");return i}function v(e,t,n){var i=e.endsWith("/")?e:e+"/",o={};return n.forEach(function(e){var n=e.split("-")[0];["en","fr"].indexOf(n)===-1&&(n="en");var a=r.get(i+"v2/docs/"+n+"/"+t.join(",")).then(function(e){var t={layers:[]};return e.data.forEach(function(e){if(e){var n=e.layers[0];n=l.layerNodeUpgrade(n),n.origin="rcs",t.layers.push(n)}}),t});o[e]=a}),o}var y=["en-CA","fr-CA"],b={NEW:0,LOADING:1,LOADED:2,UPDATING:3},_=b.NEW,w=!1,x={},E={},k=function(){function e(){var n=this;_classCallCheck(this,e),this.listeners=[],t.$on(s.rvCfgInitialized,function(){n.listeners.forEach(function(e){return e(x[p()])})})}return _createClass(e,[{key:"initialize",value:function(){f()}},{key:"rcsAddKeys",value:function(){throw new Error("This doesn't work yet")}},{key:"onEveryConfigLoad",value:function(e){var t=this;return _>=b.LOADED&&e(x[p()]),this.listeners.push(e),function(){var n=t.listeners.indexOf(e);if(n<0)throw new Error("Attempting to remove a listener which is not registered.");t.listeners.splice(n,1)}}},{key:"remoteConfig",get:function(){return w}},{key:"loadingState",get:function(){return _}},{key:"getSync",get:function(){if(_<b.LOADED)throw new Error("Attempted to access config synchronously before loading completed.  Either use the promise based API or wait for rvReady.");return x[p()]}},{key:"getAsync",get:function(){return E[p()].then(function(){return x[p()]})}}]),e}(),C={},S={},M=void 0;return new k}e.$inject=["$q","$rootScope","$rootElement","$timeout","$http","$translate","$mdToast","events","schemaUpgrade","gapiService","ConfigObject"],angular.module("app.core").factory("configService",e)}();var _get=function a(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){"use strict";function e(e,t,n){function i(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["opacity","visibility","boundingBox","query","snapshot"];return i.forEach(function(i){"undefined"==typeof e[i]&&(e[i]="undefined"!=typeof n[i]?n[i]:t[i])}),e}function t(e,t,i,r){var o=e;return"undefined"==typeof e?o="undefined"!=typeof r?n.intersect(r,i):angular.copy(t):"undefined"!=typeof r&&(o=n.intersect(e,r)),n.intersect(o,i)}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:{},controls:[],disabledControls:[],userDisabledControls:[]},r=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=angular.copy(i);return a.state=e(a.state,r.state,o.state),a.controls=t(a.controls,r.controls,r.controls,o.controls),a.disabledControls=t(a.disabledControls,r.disabledControls,r.controls,o.disabledControls),a.userDisabledControls=t(a.userDisabledControls,r.userDisabledControls,r.controls,o.userDisabledControls),a}function r(e){function t(e){return"undefined"!=typeof e.infoType?d.legend.INFO:"undefined"!=typeof e.exclusiveVisibility?d.legend.SET:"undefined"!=typeof e.children?d.legend.GROUP:d.legend.NODE}var n,i=(n={},_defineProperty(n,d.legend.INFO,M),_defineProperty(n,d.legend.NODE,T),_defineProperty(n,d.legend.GROUP,O),_defineProperty(n,d.legend.SET,A),n),r=t(e);return new i[r](e,r)}function o(e,t){return W[e](t)}function a(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[].concat.apply([],(this.children||this.exclusiveVisibility).map(function(i,r){if(i.entryType===d.legend.GROUP||i.entryType===d.legend.SET){var o=e(i,r,t),a=[],s=!n||n(i,r,t);return s&&a.push.apply(a,i.walk(e,n)),[].concat(o,a)}return e(i,r,t)}))}var s,l,c={legendElementCounter:0,
walkFunction:a},u=e.Layer.Types,d=(e.Service.Types,{legend:{INFO:"legendInfo",NODE:"legendNode",GROUP:"legendGroup",SET:"legendSet",STRUCTURED:"structured",AUTOPOPULATE:"autopopulate"}}),h={legend:_defineProperty({},d.legend.GROUP,{controls:["opacity","visibility","query","symbology","remove","settings"],disabledControls:[],userDisabledControls:[]}),layer:(s={},_defineProperty(s,e.Layer.Types.ESRI_FEATURE,{state:{opacity:1,visibility:!0,boundingBox:!1,query:!0,snapshot:!1},controls:["opacity","visibility","boundingBox","query","snapshot","metadata","boundaryZoom","refresh","reload","remove","settings","data","symbology"],disabledControls:[],userDisabledControls:[]}),_defineProperty(s,e.Layer.Types.OGC_WMS,{state:{opacity:1,visibility:!0,boundingBox:!1,query:!0,snapshot:!1},controls:["opacity","visibility","boundingBox","query","metadata","boundaryZoom","refresh","reload","remove","settings","symbology"],disabledControls:[],userDisabledControls:[],child:{state:{},controls:[],disabledControls:[],userDisabledControls:[]}}),_defineProperty(s,e.Layer.Types.ESRI_DYNAMIC,{state:{opacity:1,visibility:!0,boundingBox:!1,query:!0,snapshot:!1},controls:["opacity","visibility","boundingBox","query","metadata","boundaryZoom","refresh","reload","remove","settings","data","symbology"],disabledControls:[],userDisabledControls:[],child:{state:{opacity:1,visibility:!0,boundingBox:!1,query:!0,snapshot:!1},controls:["opacity","visibility","boundingBox","query","metadata","boundaryZoom","refresh","reload","remove","settings","data","symbology"],disabledControls:[],userDisabledControls:[]}}),_defineProperty(s,e.Layer.Types.ESRI_IMAGE,{state:{opacity:1,visibility:!0,boundingBox:!1,query:!1,snapshot:!1},controls:["opacity","visibility","boundingBox","metadata","boundaryZoom","refresh","reload","remove","settings","symbology"],disabledControls:[],userDisabledControls:[]}),_defineProperty(s,e.Layer.Types.ESRI_TILE,{state:{opacity:1,visibility:!0,boundingBox:!1,query:!1,snapshot:!1},controls:["opacity","visibility","boundingBox","metadata","boundaryZoom","refresh","reload","remove","settings","symbology"],disabledControls:[],userDisabledControls:[]}),s)},f=function(){function e(t){_classCallCheck(this,e),this._opacity=t.opacity,this._visibility=t.visibility,this._boundingBox=t.boundingBox,this._query=t.query,this._snapshot=t.snapshot}return _createClass(e,[{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e}},{key:"visibility",get:function(){return this._visibility},set:function(e){this._visibility=e}},{key:"boundingBox",get:function(){return this._boundingBox},set:function(e){this._boundingBox=e}},{key:"query",get:function(){return this._query},set:function(e){this._query=e}},{key:"snapshot",get:function(){return this._snapshot},set:function(e){this._snapshot=e}},{key:"JSON",get:function(){return{opacity:this.opacity,visibility:this.visibility,boundingBox:this.boundingBox,query:this.query,snapshot:this.snapshot}}}]),e}(),p=function(){function e(r){_classCallCheck(this,e),this._hovertipEnabled=!1,this._source=r,this._id=r.id,this._layerType=r.layerType,this._name=r.name,this._url=r.url,this._metadataUrl=r.metadataUrl,this._catalogueUrl=r.catalogueUrl,this._extent=r.extent?t.gapi.Map.getExtentFromJson(r.extent):void 0;var o=h.layer[this.layerType],a=i(r,o);this._state=new f(a.state),this._controls=a.controls,this._disabledControls=a.disabledControls,this._userDisabledControls=a.userDisabledControls,r.metadataUrl||n.removeFromArray(this._controls,"metadata")}return _createClass(e,[{key:"source",get:function(){return this._source}},{key:"id",get:function(){return this._id}},{key:"layerType",get:function(){return this._layerType}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"url",get:function(){return this._url}},{key:"metadataUrl",get:function(){return this._metadataUrl}},{key:"catalogueUrl",get:function(){return this._catalogueUrl}},{key:"extent",get:function(){return this._extent}},{key:"hovertipEnabled",get:function(){return this._hovertipEnabled},set:function(e){this._hovertipEnabled=e}},{key:"controls",get:function(){return this._controls}},{key:"disabledControls",get:function(){return this._disabledControls}},{key:"userDisabledControls",get:function(){return this._userDisabledControls}},{key:"state",get:function(){return this._state}},{key:"JSON",get:function(){return{id:this.id,name:this.name,url:this.url,metadataUrl:this.metadataUrl,catalogueUrl:this.catalogueUrl,layerType:this.layerType,extent:this.source.extent,controls:this.controls,disabledControls:this.disabledControls,state:this.state.JSON}}}]),e}(),m=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"JSON",get:function(){return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this)}}]),t}(p),g=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._hovertipEnabled=!0,n._nameField=e.nameField,n._tolerance=e.tolerance||5,n}return _inherits(t,e),_createClass(t,[{key:"nameField",get:function(){return this._nameField},set:function(e){this._nameField=e}},{key:"tolerance",get:function(){return this._tolerance}},{key:"JSON",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this),{nameField:this.nameField,tolerance:this.tolerance})}}]),t}(p),v=function(){function e(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this._source=t,this._index=t.index,this._name=t.name,this._indent=t.indent||"",this._state=new f(t.state||{}),this._controls=t.controls,this._disabledControls=t.disabledControls,this._userDisabledControls=t.userDisabledControls}return _createClass(e,[{key:"source",get:function(){return this._source}},{key:"index",get:function(){return this._index}},{key:"name",get:function(){return this._name}},{key:"controls",get:function(){return this._controls}},{key:"disabledControls",get:function(){return this._disabledControls}},{key:"userDisabledControls",get:function(){return this._userDisabledControls}},{key:"indent",get:function(){return this._indent}},{key:"state",get:function(){return this._state}},{key:"JSON",get:function(){return{index:this.index,name:this.name,state:this.state.JSON,controls:this.controls,disabledControls:this.disabledControls}}}]),e}(),y=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._level=e.level,i._desc=e.desc,i._id=e.id,i}return _inherits(t,e),_createClass(t,[{key:"level",get:function(){return this._level}},{key:"desc",get:function(){return this._desc}},{key:"id",get:function(){return this._id}},{key:"layerType",get:function(){return u.OGC_WMS}},{key:"JOSN",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JOSN",this),{id:this.id})}}]),t}(v),b=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._layerEntries=e.layerEntries.map(function(t){return new y(t,e)}),n._featureInfoMimeType=e.featureInfoMimeType,n._legendMimeType=e.legendMimeType||"image/png",n}return _inherits(t,e),_createClass(t,[{key:"layerEntries",get:function(){return this._layerEntries},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._layerEntries=e}},{key:"featureInfoMimeType",get:function(){return this._featureInfoMimeType}},{key:"legendMimeType",get:function(){return this._legendMimeType}},{key:"JSON",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this),{layerEntries:this.layerEntries.map(function(e){return e.JSON}),featureInfoMimeType:this.featureInfoMimeType,legendMimeType:this.legendMimeType})}}]),t}(p),_=function(e){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i));return r._outfields=e.outfields||"*",r._stateOnly=e.stateOnly,r._extent=e.extent?t.gapi.Map.getExtentFromJson(e.extent):void 0,r.isLayerEntry=!0,r}return _inherits(n,e),_createClass(n,[{key:"outfields",get:function(){return this._outfields}},{key:"stateOnly",get:function(){return this._stateOnly}},{key:"extent",get:function(){return this._extent}},{key:"layerType",get:function(){return u.ESRI_DYNAMIC}},{key:"JOSN",get:function(){return angular.merge(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"JOSN",this),{outfields:this.outfields,stateOnly:this.stateOnly,extent:this.extent})}}]),n}(v),w=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._layerEntries=e.layerEntries.map(function(t){return new _(t,e)}),n._childOptions=e.childOptions,n._tolerance=e.tolerance,n}return _inherits(t,e),_createClass(t,[{key:"layerEntries",get:function(){return this._layerEntries},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._layerEntries=e}},{key:"childOptions",get:function(){return this._childOptions}},{key:"tolerance",get:function(){return this._tolerance}},{key:"JSON",get:function(){return{layerEntries:this.layerEntries.map(function(e){return e.JSON}),tolerance:this.tolerance}}}]),t}(p),x=function(){function e(t){var n=t.id,i=t.lods;_classCallCheck(this,e),this._id=n,this._lods=i}return _createClass(e,[{key:"id",get:function(){return this._id}},{key:"lods",get:function(){return this._lods}},{key:"JSON",get:function(){return{id:this.id,lods:this.lods}}}]),e}(),E=function(){function e(t){_classCallCheck(this,e),this._source=t,this._id=t.id,this._spatialReference=t.spatialReference,this._default=this._parseExtent(t["default"]),this._full=t.full?this._parseExtent(t.full):this._default,this._maximum=t.maximum?this._parseExtent(t.maximum):this._full}return _createClass(e,[{key:"_parseExtent",value:function(e){return angular.extend({},e,{spatialReference:this._spatialReference})}},{key:"id",get:function(){return this._id}},{key:"spatialReference",get:function(){return this._spatialReference}},{key:"default",get:function(){return this._default}},{key:"full",get:function(){return this._full}},{key:"maximum",get:function(){return this._maximum}},{key:"JSON",get:function(){return{id:this.id,spatialReference:this.spatialReference,"default":this._source["default"],full:this._source.full||null,maximum:this._source.maximum||null}}}]),e}(),k=function(){function e(t,n){var i=t.id,r=t.name,o=t.description,a=t.typeSummary,s=t.layers,l=t.thumbnailUrl,c=void 0===l?null:l,u=t.attribution,d=t.opacity,h=void 0===d?1:d,f=t.altText,p=t.zoomLevels,m=void 0===p?{}:p;_classCallCheck(this,e),this._isSelected=!1,this._id=i,this._name=r,this._description=o,this._typeSummary=a,this._layers=s,this._url=s[0].url,this._thumbnailUrl=c,this._attribution=u,this._tileSchema=n,this._opacity=h,this._altText=f,this._zoomLevels=m}return _createClass(e,[{key:"select",value:function(){return this._isSelected=!0,this}},{key:"deselect",value:function(){return this._isSelected=!1,this}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"description",get:function(){return this._description}},{key:"typeSummary",get:function(){return this._typeSummary}},{key:"layers",get:function(){return this._layers}},{key:"url",get:function(){return this._url}},{key:"thumbnailUrl",get:function(){return this._thumbnailUrl}},{key:"attribution",get:function(){return this._attribution}},{key:"tileSchema",get:function(){return this._tileSchema}},{key:"opacity",get:function(){return this._opacity}},{key:"altText",get:function(){return this._altText}},{key:"zoomLevels",get:function(){return this._zoomLevels}},{key:"isSelected",get:function(){return this._isSelected}},{key:"lods",get:function(){return this._tileSchema.lodSet.lods}},{key:"wkid",get:function(){return this._tileSchema.extentSet.spatialReference.wkid}},{key:"default",get:function(){return this._tileSchema.extentSet["default"]}},{key:"full",get:function(){return this._tileSchema.extentSet.full}},{key:"maximum",get:function(){return this._tileSchema.extentSet.maximum}},{key:"JSON",get:function(){return{id:this.id,name:this.name,description:this.description,typeSummary:this.typeSummary,altText:this.altText,thumbnailUrl:this.thumbnailUrl,tileSchemaId:this.tileSchemaId,layers:this.layers,attribution:this.attribution,zoomLevels:this.zoomLevels}}}]),e}(),C=function(){function e(t,n,i){var r=t.id,o=t.lodSetId,a=t.name;_classCallCheck(this,e),this._id=r,this._name=a,this._lodSetId=o,this._extentSet=n,this._lodSet=i}return _createClass(e,[{key:"makeBlankBasemap",value:function(e){var t=new k({name:"basemap.blank.title",description:"basemap.blank.desc",id:"blank_basemap_"+e.id,layers:e.layers,thumbnailUrl:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",attribution:"",opacity:0},this);return t}},{key:"name",get:function(){return this._name}},{key:"id",get:function(){return this._id}},{key:"extentSet",get:function(){return this._extentSet}},{key:"lodSet",get:function(){return this._lodSet}},{key:"JSON",get:function(){return{id:this.id,name:this.name,extentSetId:this.extentSet.id,lodSetId:this.lodSet.id}}}]),e}(),S=function(){function e(){_classCallCheck(this,e),this._id=this.entryType+"_"+ ++c.legendElementCounter}return _createClass(e,[{key:"id",get:function(){return this._id}}]),e}(),M=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._infoType=e.infoType,n._content=e.content,n}return _inherits(t,e),_createClass(t,[{key:"infoType",get:function(){return this._infoType}},{key:"content",get:function(){return this._content}},{key:"entryType",get:function(){return d.legend.INFO}},{key:"JSON",get:function(){return{infoType:this.infoType,content:this.content,entryType:this.entryType}}}]),t}(S),A=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._exclusiveVisibility=e.exclusiveVisibility.map(function(e){return r(e)}),n._walk=c.walkFunction.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"walk",value:function(){return this._walk.apply(this,arguments)}},{key:"exclusiveVisibility",get:function(){return this._exclusiveVisibility}},{key:"entryType",get:function(){return d.legend.SET}},{key:"JSON",get:function(){return{exclusiveVisibility:this.exclusiveVisibility.map(function(e){return e.JSON}),entryType:this.entryType}}}]),t}(S),T=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._layerId=e.layerId,n._controlledIds=e.controlledIds||[],n._entryIndex=e.entryIndex,n._entryId=e.entryId,n._coverIcon=e.coverIcon,n._symbologyStack=e.symbologyStack||[],n._symbologyRenderStyle=e.symbologyRenderStyle||t.ICONS,n._userAdded=e.userAdded||!1,n}return _inherits(t,e),_createClass(t,[{key:"layerId",get:function(){return this._layerId}},{key:"userAdded",get:function(){return this._userAdded}},{key:"controlledIds",get:function(){return this._controlledIds}},{key:"entryIndex",get:function(){return this._entryIndex}},{key:"entryId",get:function(){return this._entryId}},{key:"coverIcon",get:function(){return this._coverIcon}},{key:"symbologyStack",get:function(){return this._symbologyStack}},{key:"symbologyRenderStyle",get:function(){return this._symbologyRenderStyle}},{key:"entryType",get:function(){return d.legend.NODE}},{key:"JSON",get:function(){return{layerId:this.layerId,userAdded:this.userAdded,controlledIds:this.controlledIds,entryIndex:this.entryIndex,entryId:this.entryId,coverIcon:this.coverIcon,symbologyStack:this.symbologyStack,symbologyRenderStyle:this.symbologyRenderStyle,entryType:this.entryType}}}]),t}(S);T.ICONS="icons",T.IMAGES="images";var O=function(e){function t(e,i){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._name=e.name,o._children=e.children.map(function(e){return r(e)}),o._controls=angular.isArray(e.controls)?n.intersect(e.controls,h.legend[d.legend.GROUP].controls):h.legend[d.legend.GROUP].controls,o._disabledControls=angular.isArray(e.disabledControls)?n.intersect(e.disabledControls,h.legend[d.legend.GROUP].disabledControls):h.legend[d.legend.GROUP].disabledControls,o._userDisabledControls=[],o._expanded=e.expanded||!1,o._walk=c.walkFunction.bind(o),o}return _inherits(t,e),_createClass(t,[{key:"walk",value:function(){return this._walk.apply(this,arguments)}},{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"controls",get:function(){return this._controls}},{key:"disabledControls",get:function(){return this._disabledControls}},{key:"userDisabledControls",get:function(){return this._userDisabledControls}},{key:"expanded",get:function(){return this._expanded}},{key:"entryType",get:function(){return d.legend.GROUP}},{key:"JSON",get:function(){return{name:this.name,children:this.children.map(function(e){return e.JSON}),controls:this.controls,disabledControls:this.disabledControls,expanded:this.expanded,entryType:this.entryType}}}]),t}(S),P=function(){function t(i,r){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.removeFromArray(e,t)}_classCallCheck(this,t),this._type=i.type,this._reorderable=i.reorderable;var a=void 0;if(this.reorderable){var s=e.Layer.SORT_GROUPS_;a=r.sort(function(e,t){return s[e.layerType]<s[t.layerType]?-1:s[e.layerType]>s[t.layerType]?1:e.name<t.name?-1:e.name>t.name?1:0}).map(function(e){return{layerId:e.id,symbologyRenderStyle:e.layerType===u.OGC_WMS?T.IMAGES:T.ICONS}})}else{a=i.root.children;var l="remove";o(h.legend[d.legend.GROUP].controls,l),Object.values(e.Layer.Types).forEach(function(e){var t=h.layer[e];o(t.controls,l),t.child&&o(t.child.controls,l)})}this._root=new O({name:"I'm root",children:a})}return _createClass(t,[{key:"reorderable",get:function(){return this._type===d.legend.AUTOPOPULATE&&this._reorderable!==!1}},{key:"type",get:function(){return this._type}},{key:"root",get:function(){return this._root}},{key:"JSON",get:function(){return{type:this.type,reorderable:this.reorderable,root:this.root.JSON}}}]),t}(),$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0};_classCallCheck(this,e),this._source=t,this._enabled=t.enabled}return _createClass(e,[{key:"enabled",get:function(){return this._enabled}},{key:"body",get:function(){return this._body},set:function(e){this._body||(this._body=e)}},{key:"JSON",get:function(){return{enabled:this.enabled}}}]),e}(),L=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._showGraphic=e.showGraphic,n._showInfo=e.showInfo,n}return _inherits(t,e),_createClass(t,[{key:"showGraphic",get:function(){return this._showGraphic}},{key:"showInfo",get:function(){return this._showInfo}},{key:"JSON",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this),{showGraphic:this.showGraphic,showInfo:this.showInfo})}}]),t}($),I=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._spatialReference=e.spatialReference,n}return _inherits(t,e),_createClass(t,[{key:"spatialReference",get:function(){return this._spatialReference}},{key:"JSON",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this),{spatialReference:this.spatialReference})}}]),t}($),D=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"JSON",get:function(){return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this)}}]),t}($),N=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._maximizeButton=e.maximizeButton,n._layerType=e.layerType,n}return _inherits(t,e),_createClass(t,[{key:"maximizeButton",get:function(){return this._maximizeButton}},{key:"layerType",get:function(){return this._layerType}},{key:"JSON",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this),{maximizeButton:this.maximizeButton,layerType:this.layerType})}}]),t}($),R=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"attachTo",get:function(){return"bottom-left"}},{key:"scalebarUnit",get:function(){return"dual"}},{key:"JSON",get:function(){return angular.merge(_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"JSON",this),{attachTo:this.attachTo,scalebarUnit:this.scalebarUnit})}}]),t}($),z=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,e),t}($),j=function(){function e(t){_classCallCheck(this,e),this._source=t,this._geoSearch=new L(t.geoSearch),this._mouseInfo=new I(t.mouseInfo),this._northArrow=new D(t.northArrow),this._overviewMap=new N(t.overviewMap),this._scaleBar=new R(t.scaleBar),this._basemap=new z(t.basemap)}return _createClass(e,[{key:"geoSearch",get:function(){return this._geoSearch}},{key:"mouseInfo",get:function(){return this._mouseInfo}},{key:"northArrow",get:function(){return this._northArrow}},{key:"overviewMap",get:function(){return this._overviewMap}},{key:"scaleBar",get:function(){return this._scaleBar}},{key:"basemap",get:function(){return this._basemap}},{key:"JSON",get:function(){return{geoSearch:this.geoSearch.JSON,mouseInfo:this.mouseInfo.JSON,northArrow:this.northArrow.JSON,overviewMap:this.overviewMap.JSON,scaleBar:this.scaleBar.JSON,basemap:this.basemap.JSON}}}]),e}(),F=(function(){function e(t){_classCallCheck(this,e),this._disabledSearches=t.disabledSearches,this._serviceUrls=t._serviceUrls}return _createClass(e,[{key:"disabledSearches",get:function(){return this._disabledSearches}},{key:"serviceUrls",get:function(){return this._serviceUrls}},{key:"JSON",get:function(){return{disabledSearches:this.disabledSearches,serviceUrls:this.serviceUrls}}}]),e}(),function(){function e(t){_classCallCheck(this,e),this._title=t.title,this._map=t.map,this._mapElements=t.mapElements,this._legend=t.legend,this._footnote=t.footnote,this._timestamp=t.timestamp}return _createClass(e,[{key:"title",get:function(){return this._title}},{key:"map",get:function(){return this._map}},{key:"mapElements",get:function(){return this._mapElements}},{key:"legend",get:function(){return this._legend}},{key:"footnote",get:function(){return this._footnote}},{key:"timestamp",get:function(){return this._timestamp}},{key:"JSON",get:function(){return{title:this.title,map:this.map,mapElements:this.mapElements,legend:this.legend,footnote:this.footnote,timestamp:this.timestamp}}}]),e}(),function(){function e(t){_classCallCheck(this,e),this._proxyUrl=t.proxyUrl,this._exportMapUrl=t.exportMapUrl,this._geometryUrl=t.geometryUrl,this._googleAPIKey=t.googleAPIKey,this._geolocation=t.geolocation,this._coordInfo=t.coordInfo,this._print=t.print,this._search=t.search,this._export=t["export"],this._rcsEndpoint=t.rcsEndpoint}return _createClass(e,[{key:"proxyUrl",get:function(){return this._proxyUrl}},{key:"exportMapUrl",get:function(){return this._exportMapUrl}},{key:"geometryUrl",get:function(){return this._geometryUrl}},{key:"googleAPIKey",get:function(){return this._googleAPIKey}},{key:"geolocation",get:function(){return this._geolocation}},{key:"coordInfo",get:function(){return this._coordInfo}},{key:"print",get:function(){return this._print}},{key:"search",get:function(){return this._search}},{key:"export",get:function(){return this._export}},{key:"rcsEndpoint",get:function(){return this._rcsEndpoint}},{key:"JSON",get:function(){return{proxyUrl:this.proxyUrl,exportMapUrl:this.exportMapUrl,geometryUrl:this.geometryUrl,googleAPIKey:this.googleAPIKey,geolocation:this.geolocation,coordInfo:this.coordInfo,print:this.print,search:this.search,"export":this["export"],rcsEndpoint:this.rcsEndpoint}}}]),e}()),B=function(){function e(t){var n=this;_classCallCheck(this,e),this._layerRecords=[],this._layerBlueprints=[],this._boundingBoxRecords=[],this._legendBlocks={},this._legendMappings={},this._highlightLayer=null,this._isLoading=!0,this._source=t,this._extentSets=t.extentSets.map(function(e){return new E(e)}),this._lodSets=t.lodSets.map(function(e){return new x(e)}),this._tileSchemas=t.tileSchemas.map(function(e){var t=n._extentSets.find(function(t){return t.id===e.extentSetId}),i=n._lodSets.find(function(t){return t.id===e.lodSetId}),r=new C(e,t,i);return r}),this._basemaps=t.baseMaps.map(function(e){var t=n._tileSchemas.find(function(t){return t.id===e.tileSchemaId}),i=new k(e,t);return i}),this._tileSchemas.forEach(function(e){var i=t.baseMaps.find(function(t){return e.id===t.tileSchemaId});if(i){var r=e.makeBlankBasemap(i);n._basemaps.push(r)}}),(t.initialBasemapId?this._basemaps.find(function(e){return e.id===t.initialBasemapId}):this._basemaps[0]).select(),this._layers=t.layers,this._legend=new P(t.legend,this._layers),this._components=new j(t.components)}return _createClass(e,[{key:"storeMapReference",value:function(e,t){this._node=e,this._instance=t}},{key:"source",get:function(){return this._source}},{key:"tileSchemas",get:function(){return this._tileSchemas}},{key:"basemaps",get:function(){return this._basemaps}},{key:"extentSets",get:function(){return this._extentSets}},{key:"lodSets",get:function(){return this._lodSets}},{key:"layers",get:function(){return this._layers}},{key:"legend",get:function(){return this._legend}},{key:"components",get:function(){return this._components}},{key:"selectedBasemap",get:function(){return this._basemaps.find(function(e){return e.isSelected})}},{key:"layerRecords",get:function(){return this._layerRecords}},{key:"layerBlueprints",get:function(){return this._layerBlueprints}},{key:"boundingBoxRecords",get:function(){return this._boundingBoxRecords}},{key:"legendBlocks",get:function(){return this._legendBlocks},set:function(e){this._legendBlocks=e}},{key:"legendMappings",get:function(){return this._legendMappings}},{key:"highlightLayer",get:function(){return this._highlightLayer},set:function(e){this._highlightLayer=e}},{key:"instance",get:function(){return this._instance}},{key:"node",get:function(){return this._node}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=e}},{key:"JSON",get:function(){return{initialBasemapId:this.source.initialBasemapId,components:this.components.JSON,extentSets:this.extentSets.JSON,lodSets:this.lodSets.JSON,legend:this.legend.JSON,tileSchemas:this.tileSchemas.JSON,basemaps:this.basemaps.JSON}}}]),e}(),H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this._source=t,this._zoom=t.zoom||"buttons",this._extra=t.extra||[]}return _createClass(e,[{key:"zoom",get:function(){return this._zoom}},{key:"extra",get:function(){return this._extra}},{key:"JSON",get:function(){return{zoom:this.zoom,extra:this.extra}}}]),e}(),U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this._source=t,this._logo="true"===t.logo,this._items=angular.isArray(t.items)?t.items.map(function(i){return n.intersect(t.items,e.ITEMS)}):e.ITEMS_DEFAULT}return _createClass(e,[{key:"source",get:function(){return this._source}},{key:"logo",get:function(){return this._logo}},{key:"items",get:function(){return this._items}},{key:"JSON",get:function(){return{logo:this.logo,items:this.items}}}]),e}();U.AVAILABLE_ITEMS=["layers","basemap","about","fullscreen","export","share","touch","help","language"],U.ITEMS_DEFAULT=[["layers","basemap"],["fullscreen","export","share","touch","help"],["language"]];var q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this._source=t,this._large="true"===t.large,this._medium="true"===t.medium,this._small="true"===t.small}return _createClass(e,[{key:"large",get:function(){return this._large}},{key:"medium",get:function(){return this._medium}},{key:"small",get:function(){return this._small}},{key:"JSON",get:function(){return{large:this.large,medium:this.medium,small:this.small}}}]),e}(),V=function(){function e(t){_classCallCheck(this,e),this._source=t,this._navBar=new H(t.navBar),this._logoUrl=t.logoUrl||null,this._restrictNavigation="true"===t.restrictNavigation,this._sideMenu=new U(t.sideMenu),this._legendIsOpen=new q(t.legendIsOpen)}return _createClass(e,[{key:"source",get:function(){return this._source}},{key:"navBar",get:function(){return this._navBar}},{key:"logoUrl",get:function(){return this._logoUrl}},{key:"restrictNavigation",get:function(){return this._restrictNavigation}},{key:"sideMenu",get:function(){return this._sideMenu}},{key:"legendIsOpen",get:function(){return this._legendIsOpen}},{key:"JSON",get:function(){return{navBar:this.navBar.JSON,logoUrl:this.logoUrl,restrictNavigation:this.restrictNavigation,sideMenu:this.sideMenu.JSON,legendIsOpen:this.legendIsOpen.JSON}}}]),e}(),G=function(){function e(t){_classCallCheck(this,e),this._source=t,this._version=t.version,this._language=t.language,this._languages=t.languages,this._map=new B(t.map),this._services=new F(t.services),this._ui=new V(t.ui)}return _createClass(e,[{key:"source",get:function(){return this._source}},{key:"version",get:function(){return this._version}},{key:"language",get:function(){return this._language}},{key:"languages",get:function(){return this._languages}},{key:"ui",get:function(){return this._ui}},{key:"services",get:function(){return this._services}},{key:"map",get:function(){return this._map}},{key:"JSON",get:function(){return{version:this.version,language:this.language,languages:this.languages,ui:this.ui.JSON,services:this.services.JSON,map:this.map.JSON}}}]),e}(),W=(l={},_defineProperty(l,u.ESRI_TILE,m),_defineProperty(l,u.ESRI_FEATURE,g),_defineProperty(l,u.ESRI_IMAGE,m),_defineProperty(l,u.ESRI_DYNAMIC,w),_defineProperty(l,u.OGC_WMS,b),l);return{ConfigObject:G,legend:{Legend:P,Entry:T,InfoSection:M,EntryGroup:O,VisibilitySet:A},layers:{BasicLayerNode:m,FeatureLayerNode:g,DynamicLayerNode:w,WMSLayerNode:b,DynamicLayerEntryNode:_,WMSLayerEntryNode:y},makeLayerConfig:o,applyLayerNodeDefaults:i,TYPES:d,DEFAULTS:h}}e.$inject=["Geo","gapiService","common"],angular.module("app.core").factory("ConfigObject",e)}(),function(){"use strict";function e(e,t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(function(e){return t.indexOf(e)!==-1})}function i(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}var r={$timeout:e,$q:t,intersect:n,removeFromArray:i};return r}e.$inject=["$timeout","$q"],angular.module("app.core").factory("common",e)}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();!function(){function e(e,t,n,i,r,o,a,s,l){function c(){var e=n.Map.BasemapControl.basemapGallery.getSelected().id+(n.state.blankBaseMapId?"1":"0"),t=T(e),i=n.mapObject.extent.getCenter(),r={x:T(i.x),y:T(i.y),scale:T(n.mapObject.getScale())},o=n.legend.items.filter(function(e){return!e.flags.user.visible&&!e.removed}),a=o.map(function(e){return T(b(e))}),l=s.B+","+t+","+r.x+","+r.y+","+r.scale+(a.length>0?","+a.toString():"");return RV.logger.log("bookmarkService","bookmark object",l),l}function u(e,t){var n=e.toString(2);return"0".repeat(t-n.length)+n}function d(e){return e?"1":"0"}function h(e){return"1"===e}function f(e){var t=e.match(/.{1,4}/g);return t.map(function(e){return parseInt(e,2).toString(16)}).join("")}function p(e){var t=e.match(/./g);return t.map(function(e){return u(parseInt(e,16),4)}).join("")}function m(e){return u(Math.round(100*e),7)}function g(e){return parseInt(e,2)/100}function v(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)){n=!1;break}n=n[r]}return d(n)}function y(e,t){var n=m(e.options.opacity?e.getOpacity():1),i=d(e.getVisibility()),r=v(e,["options","query","value"]),o=u(e.featureIdx,12);return n+i+r+d(t)+o+"00"}function b(e){var t,n=l.Layer.Types,i=(t={},_defineProperty(t,n.ESRI_FEATURE,"0"),_defineProperty(t,n.OGC_WMS,"1"),_defineProperty(t,n.ESRI_TILE,"2"),_defineProperty(t,n.ESRI_DYNAMIC,"3"),_defineProperty(t,n.ESRI_IMAGE,"4"),t),r=i[e._layerRecord.config.layerType],o=[];r===i[n.ESRI_DYNAMIC]&&e.items&&e.items.forEach(function(e){o.push(y(e,!0)),"group"===e.type&&e.walkItems(function(e){o.push(y(e,!1))})});var a=m(e.getOpacity()),s=d(e.getVisibility()),c=v(e,["options","boundingBox","value"]),h=v(e,["options","query","value"]),p=v(e,["options","snapshot","value"]),g=a+s+c+p+h+u(o.length,9)+o.join("");return r+f(g)+e._layerRecord.layerId}function _(e){return e.split(".")[1]||e}function w(t,n,i){function r(){var e=/^([^,]+),([^,]+),([^,]+),([^,]+),([^,]+)(?:$|,(.*)$)/i,t=u.match(e),n=[2,3,4,5].map(function(e){return O(t[e])});g=n[0],v=n[1],y=n[2],b=n[3],w=t[6],p!==s.A&&(m="1"===g.substr(g.length-1,1),g=g.substring(0,g.length-1))}function o(){var e=void 0;if(0===h.indexOf(P)){var t=parseInt(h.substr(P.length));e=c.baseMaps.find(function(e){return e.wkid===t})}else e=c.baseMaps.find(function(e){return e.id===h});C=e.lodId,T=e.extentId,k.wkid=e.wkid}function l(){var t=c.map.lods.find(function(e){return e.id===C}),n=a.gapi.Map.findClosestLOD(t.lods,b),i=a.gapi.proj.localProjectPoint(E,k,{x:v,y:y}),r=a.gapi.proj.Point(i.x,i.y,k),o=e.find("rv-shell")[0],s=o.offsetWidth*n.resolution/2,l=o.offsetHeight*n.resolution/2;return{xmin:r.x-s,xmax:r.x+s,ymin:r.y-l,ymax:r.y+l,spatialReference:r.spatialReference}}var c=angular.copy(n),u=decodeURI(t),d=i.newKeyList,h=i.newBaseMap,f=i.newLang;RV.logger.log("bookmarkService","in function *parseBookmark* the decoded URI is",u);var p=u.match(/^([^,]+)/)[0],m=!1,g=void 0,v=void 0,y=void 0,b=void 0,w=void 0;r(),c.map.initialBasemapId=h||g;var x=c.baseMaps.find(function(e){return e.id===g});m&&!h&&(c.map.initialBasemapId=P+x.wkid);var E={wkid:x.wkid},k={wkid:x.wkid},C=x.lodId,T=x.extentId;h&&o();var $=l(),L=c.map.extentSets.find(function(e){return e.id===T});L.full||(L.full=L["default"]),L["default"]=$;var I={};if(w){var D=w.split(",");I=S(D,p),M(I,c)}d&&A(I,d),f&&!function(){var e={};Object.entries(I).forEach(function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1];if(i.startsWith("rcs.")){var o=_(i);r.id="rcs."+o+"."+f.substring(0,2)}e[r.id]=r}),I=e}()}function x(e,t,n){t.forEach(function(t){e[t]={value:n[t]}})}function E(e){var t=p(e).match(/^(.{7})(.)(.)(.)(.)(.{9})/),n=_slicedToArray(t,7),i=n[1],r=n[2],o=n[3],a=n[4],s=n[5],l=n[6];return{opacity:g(i),visibility:h(r),boundingBox:h(o),snapshot:h(a),query:h(s),childCount:parseInt(l,2)}}function k(e){var t=p(e).match(/^(.{7})(.)(.)(.)(.{12})/),n=_slicedToArray(t,6),i=n[1],r=n[2],o=n[3],a=n[4],s=n[5];return{opacity:g(i),visibility:h(r),query:h(o),index:parseInt(s,2),root:h(a)}}function C(e,t){var n={0:["opacity","visibility","boundingBox","snapshot","query"],1:["opacity","visibility","boundingBox","query"],2:["opacity","visibility","boundingBox"],3:["opacity","visibility","boundingBox","query"],4:["opacity","visibility","boundingBox"]},i=n[e],r={options:{}};return x(r.options,i,t),r}function S(e,t){var n={};if(t===s.A){var i=[/^(.+?)(\d{7})$/,/^(.+?)(\d{6})$/,/^(.+?)(\d{5})$/,/^(.+?)(\d{6})$/,/^(.+?)(\d{5})$/];e.forEach(function(e){e=O(e);var t=parseInt(e.substring(0,2)),o=e.substring(2).match(i[t]),a=_slicedToArray(o,3),s=a[1],l=a[2];n[s]=r.parseLayerData(l,t)})}else e.forEach(function(e){e=O(e);var t=e.match(/^(.)(.{5})/),i=_slicedToArray(t,3),r=i[1],o=i[2],a=E(o),s=e.substring(6+6*a.childCount),l=C(r,a);if(a.childCount>0){l.layerEntries=[],l.childOptions=[];var c=e.substr(6,6*a.childCount),u=c.match(/.{6}/g);u.forEach(function(e){var t=k(e),n={index:t.index};x(n,["opacity","visibility","query"],t),t.root?l.layerEntries.push(n):l.childOptions.push(n)})}n[s]=l});return n}function M(e,t){var n=t.layers;n.slice().forEach(function(n){var i=n.id,r=e[i];r?(angular.merge(t.layers[t.layers.indexOf(n)],r),delete e[i]):delete t.layers[t.layers.indexOf(n)]})}function A(e,t){Object.keys(e).forEach(function(n){var i=_(n);t.indexOf(i)>-1?delete t[t.indexOf(i)]:delete e[n]}),t.forEach(function(t){e[t]={}})}function T(e){return btoa(e).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}function O(e){return atob(e.replace(/_/g,"/").replace(/-/g,"+"))}var P="blank_basemap_",$={getBookmark:c,parseBookmark:w};return $}e.$inject=["$rootElement","$q","geoService","LayerBlueprint","LayerRecordFactory","configService","gapiService","bookmarkVersions","Geo"],angular.module("app.core").factory("bookmarkService",e)}(),function(){"use strict";angular.module("app.common",[])}();var _slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){"use strict";var e={3:"BREAK",8:"BACKSPACE_/_DELETE",9:"TAB",12:"CLEAR",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSE/BREAK",20:"CAPS_LOCK",27:"ESCAPE",32:"SPACEBAR",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT_ARROW",38:"UP_ARROW",39:"RIGHT_ARROW",40:"DOWN_ARROW",41:"SELECT",42:"PRINT",43:"EXECUTE",44:"PRINT_SCREEN",45:"INSERT",46:"DELETE",48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,58:":",59:"SEMICOLON_(FIREFOX),_EQUALS",60:"<",61:"EQUALS_(FIREFOX)",63:"SS",64:"@_(FIREFOX)",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"WINDOWS_KEY_/_LEFT_?_/_CHROMEBOOK_SEARCH_KEY",92:"RIGHT_WINDOW_KEY",93:"WINDOWS_MENU_/_RIGHT_?",96:"NUMPAD_0",97:"NUMPAD_1",98:"NUMPAD_2",99:"NUMPAD_3",100:"NUMPAD_4",101:"NUMPAD_5",102:"NUMPAD_6",103:"NUMPAD_7",104:"NUMPAD_8",105:"NUMPAD_9",106:"MULTIPLY",107:"ADD",108:"NUMPAD_PERIOD_(FIREFOX)",109:"SUBTRACT",110:"DECIMAL_POINT",111:"DIVIDE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NUM_LOCK",145:"SCROLL_LOCK",160:"^",161:"!",163:"#",164:"$",165:"",166:"PAGE_BACKWARD",167:"PAGE_FORWARD",169:"CLOSING_PAREN_(AZERTY)",170:"*",171:"~_+_*_KEY",173:"MINUS_(FIREFOX),_MUTE/UNMUTE",174:"DECREASE_VOLUME_LEVEL",175:"INCREASE_VOLUME_LEVEL",176:"NEXT",177:"PREVIOUS",178:"STOP",179:"PLAY/PAUSE",180:"E-MAIL",181:"MUTE/UNMUTE_(FIREFOX)",182:"DECREASE_VOLUME_LEVEL_(FIREFOX)",183:"INCREASE_VOLUME_LEVEL_(FIREFOX)",186:"SEMI-COLON_/_",187:"EQUAL_SIGN",188:"COMMA",189:"DASH",190:"PERIOD",191:"FORWARD_SLASH_/_",192:"GRAVE_ACCENT_/_",193:"?,_/_OR_",194:"NUMPAD_PERIOD_(CHROME)",219:"OPEN_BRACKET",220:"BACK_SLASH",221:"CLOSE_BRACKET",222:"SINGLE_QUOTE",223:"`",224:"LEFT_OR_RIGHT_?_KEY_(FIREFOX)",225:"ALTGR",226:"<_/GIT_>",230:"GNOME_COMPOSE_KEY",233:"XF86FORWARD",234:"XF86BACK",255:"TOGGLE_TOUCHPAD"},t={};Object.entries(e).forEach(function(e){var n=_slicedToArray(e,2),i=n[0],r=n[1];return t[r]=parseInt(i)}),angular.module("app.common").constant("keyCodes",e).constant("keyNames",t)}(),function(){"use strict";function e(e){function t(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={ignoreAnimation:!0,ignoreMouse:!0},o=e(function(e){var o=angular.extend(r,i,{renderCallback:function(){return e(n)}});canvg(n,t.node.outerHTML,o)});return o}function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.createElement("canvas");if(i.width=e,i.height=t,null!==n){var r=i.getContext("2d");r.fillStyle=n,r.fillRect(0,0,e,t)}return i}function i(e,t){var n=SVG(document.createElement("div")).size(e,t);return n}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=e.filter(function(e){return e});var n=e.shift(),i=n.getContext("2d");return e.forEach(function(e,n){var r=t[n]||[0,0];i.drawImage.apply(i,[e].concat(_toConsumableArray(r)))}),n}function o(e,t,n){var i=e.getContext("2d");i.font=n;var r=i.measureText(t);return r.width}function a(e){return e.replace(/ns1:href/gi,"xlink:href")}var s={svgToCanvas:t,createSvg:i,createCanvas:n,mergeCanvases:r,getTextWidth:o,setSvgHref:a};return s}e.$inject=["$q"],angular.module("app.common").factory("graphicsService",e)}(),function(){"use strict";function e(){function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-D H:MM:SSA z";if(e){var i=moment.tz(e,t).format(n);return"Invalid date"!==i?i:moment.tz(e,n,t).format(n)}return""}var t=moment.tz.guess();return e}function t(){function e(e){function n(e){var n=/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/,r=angular.extend(t,i);return n.test(e)?linkifyHtml((e||"").toString(),r):linkifyStr((e||"").toString(),r)}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Array.isArray(e)?e.map(n):n(e);return r}var t={className:"rv-linkified",ignoreTags:["script"]};return e}angular.module("app.common").filter("autolink",t).filter("dateTimeZone",e)}(),angular.module("app.templates").run(["$templateCache",function(e){e.put("app/action.svg",'<svg><defs><g id="settings_input_svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></g><g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></g><g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></g><g id="info_outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/></g><g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></g><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></g><g id="visibility_off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></g><g id="zoom_in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"/></g><g id="zoom_out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/></g><g id="check_circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></g><g id="open_in_new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></g><g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"/></g><g id="shopping_cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></g><g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"/></g><g id="swap_vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"/></g><g id="touch_app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"/></g><g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"/></g></defs></svg>'),e.put("app/alert.svg",'<svg><defs><g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></g></defs></svg>'),e.put("app/communication.svg",'<svg><defs><g id="location_on"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></g></defs></svg>'),e.put("app/community.svg",'<svg><defs><g id="filter"><path d="M 3,2L 20.9888,2L 21,2L 21,2.01122L 21,3.99999L 20.9207,3.99999L 14,10.9207L 14,22.909L 9.99999,18.909L 10,10.906L 3.09405,3.99999L 3,3.99999L 3,2 Z "/></g><g id="filter-remove"><path d="M 14.7574,20.8284L 17.6036,17.9822L 14.7574,15.1716L 16.1716,13.7574L 19.0178,16.568L 21.8284,13.7574L 23.2426,15.1716L 20.432,17.9822L 23.2426,20.8284L 21.8284,22.2426L 19.0178,19.3964L 16.1716,22.2426L 14.7574,20.8284 Z M 2,2L 19.9888,2.00001L 20,2.00001L 20,2.01122L 20,3.99999L 19.9207,3.99999L 13,10.9207L 13,22.909L 8.99999,18.909L 8.99999,10.906L 2.09405,3.99999L 2,3.99999L 2,2 Z "/></g><g id="chevron-double-left"><path d="M 18.414,7.41398L 17,6L 11,12L 17,18L 18.414,16.586L 13.828,12L 18.414,7.41398 Z M 12.414,7.41398L 11,6L 5.00001,12L 11,18L 12.414,16.586L 7.82801,12L 12.414,7.41398 Z "/></g><g id="chevron-double-right"><path d="M 5.586,7.41398L 7,6L 13,12L 7,18L 5.586,16.586L 10.172,12L 5.586,7.41398 Z M 11.586,7.41399L 13,6.00001L 19,12L 13,18L 11.586,16.586L 16.172,12L 11.586,7.41399 Z "/></g><g id="emoticon-sad"><path d="M 20,12C 20,7.6 16.4,4 12,4C 7.6,4 4,7.6 4,12C 4,16.4 7.6,20 12,20C 16.4,20 20,16.4 20,12 Z M 22,12C 22,17.5 17.5,22 12,22C 6.5,22 2,17.5 2,12C 2,6.5 6.5,2.00001 12,2.00001C 17.5,2.00001 22,6.5 22,12 Z M 15.5,8C 16.3,8 17,8.7 17,9.5C 17,10.3 16.3,11 15.5,11C 14.7,11 14,10.3 14,9.5C 14,8.7 14.7,8 15.5,8 Z M 10,9.5C 10,10.3 9.3,11 8.5,11C 7.7,11 7,10.3 7,9.5C 7,8.7 7.7,8 8.5,8C 9.3,8 10,8.7 10,9.5 Z M 12,14C 13.7524,14 15.2943,14.7212 16.1871,15.8129L 14.7697,17.2302C 14.3175,16.5078 13.2477,16 12,16C 10.7523,16 9.68254,16.5078 9.23024,17.2302L 7.81291,15.8129C 8.7057,14.7212 10.2476,14 12,14 Z "/></g><g id="emoticon-happy"><path d="M 20,12C 20,7.58172 16.4183,4 12,4C 7.58172,4 4,7.58172 4,12C 4,16.4183 7.58172,20 12,20C 16.4183,20 20,16.4183 20,12 Z M 22,12C 22,17.5228 17.5228,22 12,22C 6.47715,22 2,17.5228 2,12C 2,6.47715 6.47715,2.00001 12,2.00001C 17.5228,2.00001 22,6.47715 22,12 Z M 10,9.5C 10,10.3 9.3,11 8.5,11C 7.7,11 7,10.3 7,9.5C 7,8.7 7.7,8 8.5,8C 9.3,8 10,8.7 10,9.5 Z M 17,9.5C 17,10.3 16.3,11 15.5,11C 14.7,11 14,10.3 14,9.5C 14,8.7 14.7,8 15.5,8C 16.3,8 17,8.7 17,9.5 Z M 12,17.2303C 10.2476,17.2303 8.7057,16.509 7.81291,15.4173L 9.23025,14C 9.68254,14.7225 10.7523,15.2302 12,15.2302C 13.2477,15.2302 14.3175,14.7225 14.7697,14L 16.1871,15.4173C 15.2943,16.509 13.7524,17.2303 12,17.2303 Z "/></g><g id="vector-square"><path d="M 2,2L 8,2L 8,4L 16,4L 16,2.00001L 22,2.00001L 22,8L 20,8L 20,16L 22,16L 22,22L 16,22L 16,20L 8,20L 8,22L 2,22L 2,16L 4,16L 4,8L 2,8L 2,2 Z M 16,8L 16,6L 8,6L 8,8L 6,8L 6,16L 8,16L 8,18L 16,18L 16,16L 18,16L 18,8L 16,8 Z M 4,4.00001L 4,6.00001L 5.99999,6.00001L 5.99999,4.00001L 4,4.00001 Z M 18,4.00001L 18,6.00001L 20,6.00001L 20,4.00001L 18,4.00001 Z M 4,18L 4,20L 6,20L 6,18L 4,18 Z M 18,18L 18,20L 20,20L 20,18L 18,18 Z "/></g><g id="table-large"><path d="M 4.00002,3L 20,3C 21.1046,3 22,3.89543 22,5L 22,20C 22,21.1046 21.1046,22 20,22L 4.00001,22C 2.89544,22 2.00001,21.1046 2.00001,20L 2.00002,5C 2.00002,3.89543 2.89545,3 4.00002,3 Z M 4.00002,7L 4.00001,10L 8,10L 8,7.00001L 4.00002,7 Z M 10,7.00001L 9.99999,10L 14,10L 14,7.00001L 10,7.00001 Z M 20,10L 20,7L 16,7.00001L 16,10L 20,10 Z M 4.00002,12L 4.00002,15L 8,15L 8,12L 4.00002,12 Z M 4.00001,20L 8,20L 8,17L 4.00002,17L 4.00001,20 Z M 9.99999,12L 9.99999,15L 14,15L 14,12L 9.99999,12 Z M 9.99999,20L 14,20L 14,17L 9.99999,17L 9.99999,20 Z M 20,20L 20,17L 16,17L 16,20L 20,20 Z M 20,12L 16,12L 16,15L 20,15L 20,12 Z "/></g><g id="map-marker-off"><path d="M 16.3734,16.0998L 11.7464,11.4727L 11.6354,11.3617L 3.2714,2.99874L 1.9994,4.27175L 5.1774,7.44973C 5.0644,7.94771 4.9994,8.46474 4.9994,8.9977C 4.9994,14.2477 11.9994,21.9977 11.9994,21.9977C 11.9994,21.9977 13.6674,20.1467 15.3744,17.6467L 18.7264,20.9977L 19.9994,19.7248M 11.9994,6.4977C 13.3804,6.4977 14.4994,7.61776 14.4994,8.9977C 14.4994,9.7347 14.1744,10.3907 13.6674,10.8477L 17.2994,14.4798C 18.2764,12.6207 18.9994,10.6817 18.9994,8.9977C 18.9994,5.13173 15.8644,1.9977 11.9994,1.9977C 10.0204,1.9977 8.2364,2.82271 6.9634,4.14376L 10.1494,7.32973C 10.6064,6.82271 11.2631,6.4977 11.9994,6.4977 Z "/></g><g id="apple-keyboard-control"><path d="M 19.7782,11.7782L 18.364,13.1924L 12,6.82843L 5.63604,13.1924L 4.22183,11.7782L 12,4L 19.7782,11.7782 Z "/></g><g id="vector-point"><path d="M 12,20L 7,22L 12,11L 17,22L 12,20 Z M 8,2.00001L 16,2.00001L 16,5L 22,5L 22,7L 16,7L 16,10L 8,10L 8,7L 2,7L 2,5L 8,5L 8,2.00001 Z M 10,4.00001L 10,8L 14,8L 14,4.00001L 10,4.00001 Z "/></g><g id="vector-polygon"><path fill-rule="evenodd" d="M 2.0025,2.0025L 2.0025,7.9975L 4.2775,7.9975L 5.56625,16.0012L 3.99875,16.0012L 3.99875,22.0025L 10,22.0025L 10,20.0637L 15,20.0538L 15,22.0025L 21.0013,22.0025L 21.0013,16.0012L 19.17,16.0012L 20,8.99875L 22.0025,8.99875L 22.0025,2.9978L 16.0012,2.9978L 16.0012,6.53375L 14.8,7.9975L 9.59,7.9975L 7.9975,5.82L 7.9975,2.0025M 3.99875,3.99875L 6.00125,3.99875L 6.00125,6.00125L 3.99875,6.00125M 17.9975,5L 20,5L 20,7.0025L 17.9975,7.0025M 6.30875,7.9975L 7.11375,7.9975L 8.99875,10.5862L 8.99875,13.9987L 15,13.9987L 15,10.9125L 16.5675,8.99875L 17.9887,8.99875L 17.1587,16.0012L 15,16.0012L 15,18.0563L 10,18.0613L 10,16.0012L 7.5975,16.0012M 11.0013,10L 12.9975,10L 12.9975,12.0025L 11.0013,12.0025M 6.00125,17.9975L 7.9975,17.9975L 7.9975,20L 6.00125,20M 17.0025,17.9975L 18.9988,17.9975L 18.9988,20L 17.0025,20"/></g><g id="vector-polyline"><path fill-rule="evenodd" d="M 16.0012,2.0025L 16.0012,7.9975L 17.075,7.9975L 14.9463,12.9975L 14.2625,12.9975L 12.0025,9.97125L 12.0025,5L 6.00125,5L 6.00125,11.0012L 6.91375,11.0012L 4.8775,16.0012L 2.0025,16.0012L 2.0025,22.0025L 7.9975,22.0025L 7.9975,16.0012L 7.03625,16.0012L 9.0725,11.0012L 10.2738,11.0012L 12.0025,13.315L 12.0025,18.9988L 17.9975,18.9988L 17.9975,12.9975L 17.1187,12.9975L 19.2475,7.9975L 22.0025,7.9975L 22.0025,2.0025M 17.9975,3.99875L 20,3.99875L 20,6.00125L 17.9975,6.00125M 7.9975,7.0025L 10,7.0025L 10,8.99875L 7.9975,8.99875M 13.9987,15L 16.0012,15L 16.0012,17.0025L 13.9987,17.0025M 3.99875,17.9975L 6.00125,17.9975L 6.00125,20L 3.99875,20"/></g><g id="github"><path fill-rule="evenodd" d="M 11.9991,2C 6.47774,2 2.00001,6.47712 2.00001,12.0006C 2.00001,16.4184 4.86504,20.1665 8.83877,21.489C 9.33909,21.5807 9.52142,21.272 9.52142,21.007C 9.52142,20.7696 9.51282,20.1407 9.50791,19.3062C 6.72636,19.9105 6.13948,17.9657 6.13948,17.9657C 5.68459,16.8105 5.02895,16.5029 5.02895,16.5029C 4.121,15.8824 5.09771,15.895 5.09771,15.895C 6.10143,15.9657 6.62936,16.9256 6.62936,16.9256C 7.52135,18.4537 8.97014,18.0125 9.53984,17.7565C 9.63069,17.1102 9.88914,16.6696 10.1746,16.4196C 7.95415,16.1672 5.61952,15.3093 5.61952,11.4773C 5.61952,10.3856 6.00934,9.49292 6.64902,8.79388C 6.54588,8.54089 6.20271,7.52417 6.74723,6.14739C 6.74723,6.14739 7.58643,5.87851 9.49686,7.17252C 10.2943,6.95073 11.1501,6.8398 12.0003,6.83594C 12.8499,6.8398 13.7051,6.95073 14.5038,7.17252C 16.413,5.87851 17.2509,6.14739 17.2509,6.14739C 17.7967,7.52417 17.4535,8.54089 17.351,8.79388C 17.9919,9.49292 18.3787,10.3856 18.3787,11.4773C 18.3787,15.3189 16.0403,16.1642 13.8131,16.4118C 14.1717,16.7205 14.4915,17.3308 14.4915,18.2637C 14.4915,19.6005 14.4792,20.6791 14.4792,21.007C 14.4792,21.2744 14.6597,21.5855 15.1668,21.4878C 19.1374,20.1629 22,16.4172 22,12.0006C 22,6.47712 17.5223,2 11.9991,2 Z "/></g><g id="help"><path d="M 10,19L 13,19L 13,22L 10,22L 10,19M 12,2C 17.3536,2.2231 19.6774,7.6179 16.5,11.67C 15.67,12.67 14.33,13.33 13.67,14.17C 13,15 13,16 13,17L 10,17C 10,15.33 10,13.92 10.67,12.92C 11.33,11.92 12.67,11.33 13.5,10.67C 15.9157,8.4301 15.32,5.2567 12,5C 10.3431,5 9,6.3431 9,8L 6,8C 6,4.6863 8.68629,2 12,2 Z "/></g><g id="export"><path d="M 23,12L 19,8.00003L 19,11L 10,11L 10,13L 19,13L 19,16M 1.00001,18L 1.00001,6.00002C 1.00001,4.89002 1.9,4.00003 3,4.00003L 15,4.00001C 16.1,4.00001 17,4.89001 17,6.00001L 17,9L 15,9L 15,6.00001L 3,6.00002L 3,18L 15,18L 15,15L 17,15L 17,18C 17,19.1 16.1,20 15,20L 3,20C 1.9,20 1.00001,19.11 1.00001,18 Z "/></g><g id="cube-outline"><path d="M 21,16.5C 21,16.8812 20.7867,17.2125 20.473,17.3813L 12.5664,21.8243C 12.4054,21.9351 12.2103,22 12,22C 11.7897,22 11.5946,21.9351 11.4336,21.8243L 3.52716,17.3814C 3.21335,17.2127 3,16.8812 3,16.5L 3,7.5C 3,7.11876 3.21334,6.78735 3.52716,6.61864L 11.4336,2.17575C 11.5946,2.0649 11.7897,2.00001 12,2.00001C 12.2103,2.00001 12.4053,2.06489 12.5664,2.17574L 20.473,6.61872C 20.7867,6.78746 21,7.11883 21,7.5L 21,16.5 Z M 12.0009,4.15093L 6.04124,7.5L 12.0009,10.8491L 17.9591,7.5L 12.0009,4.15093 Z M 5,15.9149L 11,19.2866L 11,12.5806L 5,9.209L 5,15.9149 Z M 19,15.9149L 19,9.20901L 13,12.5806L 13,19.2875L 19,15.9149 Z "/></g><g id="lightbulb-outline"><path d="M 11.9994,1.99807C 15.8654,1.99807 18.9994,5.13206 18.9994,8.99807C 18.9994,11.3761 17.8114,13.4731 15.9994,14.7381L 15.9994,16.9981C 15.9994,17.5501 15.5514,17.9981 14.9994,17.9981L 8.99941,17.9981C 8.44741,17.9981 7.99941,17.5501 7.99941,16.9981L 7.99941,14.7381C 6.18742,13.4731 4.99941,11.3761 4.99941,8.99807C 4.99941,5.13206 8.1334,1.99807 11.9994,1.99807 Z M 8.99941,20.9981L 8.99941,19.9981L 14.9994,19.9981L 14.9994,20.9981C 14.9994,21.5501 14.5514,21.9981 13.9994,21.9981L 9.99941,21.9981C 9.44741,21.9981 8.99941,21.5501 8.99941,20.9981 Z M 12,4C 9.23857,4 7,6.23858 7,9C 7,11.0503 8.23409,12.8124 10,13.584L 10,16L 14,16L 14,13.584C 15.7659,12.8124 17,11.0503 17,9C 17,6.23858 14.7614,4 12,4 Z "/></g></defs></svg>'),e.put("app/content.svg",'<svg><defs><g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></g><g id="remove"><path d="M19 13H5v-2h14v2z"/></g></defs></svg>'),e.put("app/default.svg",'<svg><defs><g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></g><g id="logo" transform="translate(-64.693 -766.62)"><path id="path16-2-7" style="fill:#818283;fill-rule:evenodd" d="m66.61 781.87c0.0794-0.0833-0.15061 0.086 0 0zm0.02207 0.30172c-0.06912-0.11342-0.03408 0.0531 0 0zm0.05761 0.19654-0.006-0.014 0.006 0.014zm-0.02719 0.0959-0.0028 0.008 0.0028-0.008zm-0.03933-0.18133 0.0038-0.0194-0.0038 0.0194zm0.0026-0.0231-0.01069-0.0114 0.01069 0.0114zm0.12408-0.15199c0.04349 0.0481 0.04818-0.0824 0 0zm-0.02427 0.29931c-0.02997-0.10749-0.02648 0.0408 0 0zm0.03574-0.34263c0.09151 0.0303-0.0038-0.10877 0 0zm-0.05013 0.26515c-0.17572-0.34008-0.01614 0.11376 0 0zm-0.03999 0.0856 0.0032-0.01-0.0032 0.01zm0.02182-0.002-0.0044 0.0112 0.0044-0.0112zm-0.01111-0.0262c-0.01034-0.23802-0.11342 0.0959 0 0zm-0.000768 0.0824-0.0083-0.008 0.0083 0.008zm-0.30612-0.5976c-0.06738-0.009 0.08497 0.13286 0 0zm-0.03457-0.303c-0.02069-0.21339-0.0254 0.20288 0 0zm0.05367 0.34575c0.05122 0.0535 0.01658-0.0609 0 0zm0.01843-0.34268c-0.08035 0.16324 0.06544-0.0534 0 0zm-0.01823 0.097 0.01291-0.00027-0.01291 0.00027zm-0.04829-0.26664c-0.14284-0.021 0.0071 0.0983 0 0zm0.15265 0.16484c0.0063 0.0664-0.01275-0.0492 0 0zm-0.03979 0.19341 0.0025-0.0144-0.0025 0.0144zm8.0858-7.4434c0.07659 0.042 0.01814-0.0989 0 0zm-7.941 7.6732 0.0054 0.0107-0.0054-0.0107zm-0.11547-0.03c0.06058 0.0972 0.0414-0.0536 0 0zm-0.04532-0.15726c0.15361 0.34313 0.1214-0.0215 0 0zm0.28769 0.55674c-0.0857-0.11858-0.02474 0.0455 0 0zm-0.25778-0.82123c-0.11114-0.01 0.05919 0.16055 0 0zm6.0418-6.937c0.05098-0.0394-0.05621-0.0902 0 0zm-6.7738 4.2629c-0.11024-0.016 0.02561 0.10579 0 0zm18.38-1.5031 0.0035-0.006-0.0035 0.006zm-18.367 1.5309c0.23673-0.0732-0.01049-0.1407 0 0zm11.055 0.78722-0.01961 0.0293 0.01961-0.0293zm5.8793 4.2385c-0.04484-0.44212 1.338-1.4706 0.77422-1.9875-0.27136 0.0358 0.34914-0.051 0.35077-0.48832 0.3182-0.33355 0.20778-1.0705 0.94177-1.1786 0.46402-0.31044 1.1678-0.28085 1.2381-0.93056-0.10879-0.37946 0.57093-0.6587 0.50574-1.186-0.19422-0.1522-0.29794-0.55962-0.24716-0.29022-0.0907-0.0801-0.63151 0.0367-0.47093-0.173 0.08667 0.30211-0.16684 0.26199-0.36974 0.0127-0.29236 0.29643-0.19976 0.90414-0.50728 0.55009-0.02689 0.17568 0.71075-0.90828 0.16461-0.32187 0.81139-0.61539-0.41098-0.50589-0.21362-0.49313-0.08681-0.0216-0.16159-0.44735-0.09184 0.001-0.16063 0.0568-0.27632-0.27793-0.24462 0.0143-0.12948-0.11607-0.67215-0.0906-0.39875-0.0866-0.108-0.0679-0.47263-0.28951-0.40841-0.21416 0.52102-0.13264 0.03119-0.45802-0.13508-0.39563-0.16504-0.21706-0.32702-0.25671-0.33514-0.14594 0.01882-0.27909-0.28838 0.16146-0.17259-0.26089-0.21731-0.0913-0.26982-0.37679-0.26574-0.15852-0.1377 0.0446-0.52631-0.29889-0.37037-0.22543-0.25486-0.23568 0.20271 0.67959-0.03594 0.35731-0.04126 0.0879 0.03414 0.41196 0.01674 0.3474 0.1831 0.27556-0.30353-0.0246-0.21743 0.60261-0.21068-0.32045-0.10179-0.21892-0.34975 0.24488 0.52505-0.99259-0.21257-0.39248-0.34177-0.45549 0.1506-0.0557-0.29875-0.716-0.17575-0.47207-0.62859 0.27996 0.30716-0.29109-0.24074-0.48917-0.13882 0.23269-0.66589-0.11433-0.66563-0.0326-0.12609-0.42809-0.98364-0.0443-0.87966-0.0416-1.1207-0.33301 0.13947 1.1702-0.17364 0.9131 0.20286 0.17069 0.15162 0.83298 0.18294 0.61278-0.33191 0.63506 1.3766 0.81238 0.69108 1.7693-0.54204 0.4824-0.40272 0.58023-0.15168 0.99592 0.15355 0.3124 0.35189 1.3067 0.35275 0.94886 0.10369 0.20572-0.51536-0.0617-0.07009 0.41119-0.45601-0.38377-0.44967 0.23267-0.50183-0.3597-0.69483-0.0234-0.58421-1.169-1.0158-1.4818-0.62826 0.21168-1.0668-0.004-1.8097-0.49837-0.71056-0.36446-1.0918 0.50635-1.097-0.44543-0.22637-0.66479-0.58852 0.0673-0.57479-0.76655-0.05767-0.41645 0.35945-1.2887 0.27638-1.1214 0.0082-0.25901 0.01207-0.63934 0.13918-0.40999 0.78328-0.26204-0.56816-0.66016-0.27614-0.54252-0.28431-0.0854 0.91271 0.2238 0.64164 0.0634 0.10653-0.2232 0.49527-0.18382 0.30419-0.21233 0.4674-0.2599 0.32472-0.81032-0.26153-0.75428-0.46752-0.19095 0.49879-0.20012 0.13309-0.10549-0.42476 0.0709 0.84993 0.34799 0.46197-0.30775-0.16223-0.30923 0.98139 0.20376 0.22131-0.36521-0.0774-0.0945 0.53067 0.13251 0.38618 0.15127 0.40288-0.47668 0.05414-0.77135-0.05327-0.96534 0.12745-0.3335-0.18591-0.4926-0.31721-0.54577-0.75752-0.20803-0.24316 0.67239-0.25914 0.41714-0.01058-0.10554-0.46049 2.0294-0.20729 0.87822-0.41426 0.0848-0.18293-1.1252-0.63972-0.71677 0.14409 0.711-0.02759-0.0658-0.2339-0.13839 0.16673-0.31497-0.54465 0.0794-0.26566-0.34724 0.12294-0.00003-0.53312-1.0872-0.36663-0.76978-0.16876-0.0885-0.25517 0.53974-0.26977 0.22207-0.09775 0.12012-0.22583 0.66732 0.1935 0.80041 0.54839 0.0623 0.53703 0.42563 0.19418 0.34814 0.25709 0.0357-0.50287 0.51445-0.18041 0.96022-0.35836 0.2585-0.4897-0.13632-0.18552-0.1859 0.08579-0.43059-0.32952-0.72125-0.17827-0.49153-0.204-0.1855 0.05455 0.30882-0.1714 0.20698 0.3676 0.2746-0.19048 0.38709-0.18665 0.1038-0.55298 0.042-1.4922-0.59172-1.1784-0.35126-0.01572-0.66397-1.0142 0.27457-0.34639 0.009 0.33326-0.21167 0.29551 0.0481-0.05409 0.10421-0.24456-0.075 0.08326 0.8382-0.09364 0.4794-0.02466 0.56494-0.18193-0.23743-0.14611-0.17621-0.06287-0.15333-0.29118-0.41306-0.62873-0.235-0.52805 0.0153-0.75433-0.3611-0.2988-0.40193-0.22243-0.37279-0.84942-0.50552-1.2683-1.0356-0.56407 0.4748-0.4298 0.092-0.30975-0.18723-0.22243 0.0575-0.16213 0.42982-0.35344 0.0512 0.10178-0.84864-0.59332-0.35141-0.36332-0.26155-0.17245-0.0486-0.23874-0.18062-0.39818 0.0103 0.05029 0.0175-0.3482 0.43542-0.3769 0.19428-0.38174-0.0524 0.86801-0.2569 0.54813-0.26685 0.55471-0.19959-0.42875-0.10865-0.3709-0.10574-0.55119 0.26797 0.0075-0.34701-0.47071-0.0333-0.22515-0.21494-0.08786 0.55564-0.43265-0.1478-0.26568-1.141-1.709 1.2031-1.3232 0.8406-0.587 0.79826-1.159 1.6075-1.7155 2.4274 0.55079 0.34877 0.19813 1.3638 1.029 0.99861-0.05986 0.87252 0.27445 1.7256 0.25973 2.4438-0.12843 0.15053 0.30676-0.0501-0.09755 0.19208-0.044 0.33719-0.38582 0.0823-0.02441 0.38656-0.41157 0.0522 0.34728 0.0871 0.19265 0.27205-0.1803 0.20322 0.25552 0.44661-0.16635 0.11075 0.09683 0.45181 0.19099 0.62518 0.07486 0.63025 0.06431 0.23573 0.45623-0.31309 0.23853 0.12353 0.25181 0.10878 0.02057 0.52174-0.27522 0.26833 0.27747 0.0164 0.3213 0.0338-0.10624 0.11185-0.01385 0.12923 0.63657 0.37273 0.35127 0.35306-0.0895 0.17135 0.43465 0.0316-0.0084 0.15647-0.06955 0.21282 0.19067 0.32532 0.34192 0.14941-0.04433 0.12692-0.05259 0.73362 0.0115 0.41771 0.51116-0.20926-0.12264 0.21064 0.25384 0.21691 0.21198 0.0547-0.18222 0.35147 0.52373 0.40662 2.7008 0.7786 5.538 1.0564 8.341 0.88403 0.26311-0.1576 0.46558 0.26701 0.79736 0.16076 0.31692 0.25741 0.9574 0.19699 1.3995-0.0236 0.85372 0.21054 1.466 0.61198 2.0497 1.0008 0.9482 0.69022-0.14284 2.1984 0.44462 1.8123 0.9936-0.34835 0.86873-1.345 1.8295-1.4492 0.08037-0.33007 0.263-0.70159 0.53497-0.91176zm4.1625-1.9375c-0.28386-0.17484-1.0259 0.15078-0.79096 0.12981-0.26438 0.0742-0.9952-0.55662-0.78312-0.30673-0.11246 0.0249 0.01941-0.70497-0.31411-0.16623-1.0386-0.002 0.65311-0.30111 0.0551-0.71891-0.43344-0.34377-1.3728 0.98981-1.4596 1.7199-0.45827 0.22286-0.80328 1.4071-0.778 1.2869 0.6415-0.18607 1.3066-0.41638 1.0767-1.1385-0.05161-1.1298 0.75223-0.50684 0.98628 0.044 0.21494 0.34453 0.54792-0.0587 0.56095-0.0805 0.34314-0.66423 0.43673 0.005 0.34873-0.24162 0.755-0.38724-0.4375 0.50527-0.22081 0.4835-0.11908 0.46753 0.51413 0.48969 0.35016 0.47347-0.03237-0.11405 0.0184-0.77222 0.1447-0.5837 0.15626-0.14594 0.55375-0.58449 0.39519-0.37794 0.17605-0.16925 0.26464-0.37048 0.42877-0.52345zm-15.403-8.0204 0.0041 0.003-0.0041-0.003zm-5.702 4.9669c0.07724 0.0251 0.07605-0.0864 0 0zm6.7246-4.6372c0.01487 0.12334 0.06443-0.0676 0 0zm0.07143 0.33182 0.01992-0.0576-0.01992 0.0576zm0.07983-0.0986c0.1231 0.0366-0.08314-0.13326 0 0zm-6.2301 6.9464c-0.12996-0.16404 0.03369 0.32866 0 0zm6.1427-7.1636c0.06522 0.0284 0.0255-0.14324 0 0zm-0.0045 0.0463c0.0251 0.11523 0.09245-0.0657 0 0zm-5.7822 7.7257-0.01269 0.01 0.01269-0.01zm5.7922-7.9469c0.09766 0.007-0.01159-0.0928 0 0zm13.302 9.3779c-0.05414-0.007 0.02855 0.084 0 0zm-19.071-1.1072c-0.08503-0.0943-0.0056 0.0582 0 0zm18.458 0.7119c-0.07938-0.11991-0.01166 0.21016 0 0zm0.23116 0.0773-0.005 0.0743 0.005-0.0743zm-8.3913-8.8193-0.0051 0.002 0.0051-0.002zm7.0407 2.9849 0.0017 0.001-0.0017-0.001zm-17.823 4.02c-0.13039-0.0482-0.05414 0.0628 0 0zm-0.14518-1.0822c-0.36823 0.03-0.32369 0.27976 0 0zm0.08296 1.0526c-0.11948-0.10103-0.02479 0.0807 0 0zm-0.37336-1.0285c-0.01616 0.1179 0.15389-0.0267 0 0zm0.06964-0.0262c-0.08343-0.11181-0.0147 0.1167 0 0zm-0.02934-0.20872c0.13452-0.0919-0.009-0.0973 0 0zm-0.004-0.0865c-0.19056 0.29391 0.05536 0.1331 0 0zm-0.03646 0.4389c-0.0044-0.26047-0.15055 0.25389 0 0zm-0.02709-0.17349c-0.093-0.0238 0.0095 0.10133 0 0zm0.02033 0.0277c-0.13242 0.0446 0.03539 0.13326 0 0zm0.03625-0.34355-0.03913 0.0964 0.03913-0.0964zm-0.12776 1.0337 0.0054-0.0129-0.0054 0.0129zm0.0062-0.89871c0.07031 0.1659 0.092-0.12999 0 0zm0.04788 0.5147c-0.08057-0.22429-0.04397 0.24849 0 0zm-0.07471-0.39769c0.14211-0.14-0.07663-0.0881 0 0zm-0.24575-0.94981c0.0482 0.11306 0.23405-0.12222 0 0zm0.03339 0.27883c0.25838 0.60393-0.08351-0.51336 0 0zm0.19229 0.50527c-0.05046-0.39857-0.10714 0.18838 0 0zm-0.84606-1.1027-0.0077 0.01 0.0077-0.01zm0.43542 0.0786c-0.59976 0.27246 0.01134 0.0401-0.36566-0.15374-0.14892 0.36983-0.07223 0.75572 0.22898 0.30188l0.09295-0.0739 0.04373-0.0743zm-0.33849-0.17144c0.05971-0.0107-0.0347-0.0573 0 0zm0.93204 0.73094c0.09994-0.19713-0.23573 0.19001 0 0zm-0.30008-0.68567c-0.19923 0.0901 0.12205 0.0839 0 0zm0.03933 0.40623c-0.10473 0.17994 0.17748 0.58236 0.05356 0.12298l-0.05356-0.12298zm0.12295 0.38908c-0.13385 0.19183 0.09725-0.0446 0 0zm0.11681-0.0849c-0.18318 0.0343 0.04921 0.18555 0 0zm-0.33874-0.50276 0.0079 0.0419-0.0079-0.0419zm0.06462-0.084-0.02297 0.0155 0.02297-0.0155zm0.07891 0.1482c-0.07207 0.0252 0.04942 0.0658 0 0zm-0.01854-0.0693c-0.04286 0.0268 0.08617 0.0547 0 0zm0.13309 0.64394c-0.15494 0.19995 0.17836 0.47998 0.0076-0.0285l-0.0076 0.0285zm0.37802 2.4172 0.01829-0.0232-0.01829 0.0232zm-0.36486-1.2608c0.05504 0.008-0.02373-0.0398 0 0zm0.32614 1.2711 0.0014 0.009-0.0014-0.009zm-0.2545-1.0246c0.16153 0.10276-0.0401-0.0772 0 0zm0.27632 1.0165 0.0046-0.004-0.0046 0.004zm0.49713 0.35785c-0.15223-0.37678-0.26835-1.0804-0.7757-1.357-0.58291-0.52011-0.123 0.24995-0.14799 0.0346-0.36842-0.0205 0.16001 0.61013 0.15354 0.42742 0.08337 0.0355 0.39311 0.2982 0.15459 0.26014-0.01837 0.40577 0.35211 0.006 0.2001 0.45121 0.10346 0.0613 0.32409 0.34797 0.41545 0.18359zm-0.60451-1.2558c0.2067 0.0244-0.17627-0.0868 0 0zm0.0019-0.15614c-0.07-0.082-0.13442 0.0281 0 0zm-0.09146-0.0466 0.05388 0.006-0.05388-0.006zm-0.0039 0.13821 0.0184 0.0194-0.0184-0.0194zm0.19572-0.0416c-0.20483-0.095-0.08349 0.1757 0 0zm-0.16448 0.063c0.07326 0.0748 0.02616-0.0489 0 0zm0.04552 0.007 0.0679-0.002-0.0679 0.002zm0.07471 0.91662 0.000668 0.009-0.000668-0.009zm-0.50824-2.718c-0.02021-0.21172-0.08879 0.13509 0 0zm0.0091 0.31769c0.07722 0.0146-0.06027-0.0951 0 0zm0.11353 1.6762c0.01143-0.0642-0.0604 0.0307 0 0zm-0.12049-1.621c0.06483 0.0904-0.01209-0.0937 0 0zm0.07794-0.0909c-0.09156 0.0779 0.09312 0.18472 0 0zm-0.79322-0.22004c0.08786 0.0346-0.05858-0.0728 0 0zm0.7419 0.29675c-0.03249-0.0629 0.0034-0.0213 0 0zm0.47117 2.3432 0.0036 0.009-0.0036-0.009zm-0.40915-1.2139c-0.14417 0.006 0.03699-0.006 0 0zm0.15112 0.74524c0.10715-0.25931-0.22741-0.0467 0 0zm0.28108 0.46486 0.000426 0.007-0.000426-0.007zm-0.26306-0.44776c0.02436-0.0538 0.01557-0.003 0 0zm0.10851 0.25302c-0.04978-0.0529-0.01286 0.0727 0 0zm-0.02125-0.0476c0.05162-0.16996-0.12902 0.0124 0 0zm0.18696 0.24979-0.0014-0.007 0.0014 0.007zm14.178-3.2181-0.000384-0.0191 0.000384 0.0191zm0.0046 0.0267c0.03903 0.0624-0.0123-0.0684 0 0zm-0.15731-0.50803-0.01562-0.01 0.01562 0.01zm0.10872 0.2417 0.0073 0.0426-0.0073-0.0426zm-0.0055-0.0223-0.0096-0.002 0.0096 0.002zm-0.05254-0.11573v0.0186-0.0186zm-0.0078-0.0234-0.0058 0.017 0.0058-0.017zm0.11599 0.33367-0.01264 0.004 0.01264-0.004zm-0.8754-1.7227 0.01966-0.004-0.01966 0.004zm0.1271 0.13529-0.0038-0.002 0.0038 0.002zm-0.0379 0.0911 0.01317-0.006-0.01317 0.006zm0.77156 1.4302-0.0082 0.011 0.0082-0.011zm-0.8667-1.6733 0.01514 0.007-0.01514-0.007zm0.0171-0.0153 0.0039-0.004-0.0039 0.004zm0.62095 1.2223-0.01483-0.0294 0.01483 0.0294zm-0.11261 0.66141 0.0098-0.009-0.0098 0.009zm0.03063-0.0182 0.0047-0.0103-0.0047 0.0103zm-0.0806-0.11153-0.0053 0.002 0.0053-0.002zm0.41238 2.1766-0.01124-0.001 0.01124 0.001zm-0.12705-1.6788 0.0761-0.13077-0.0761 0.13077zm-0.1693-0.42011 0.0027 0.01-0.0027-0.01zm0.32108 2.3187-0.0028-0.006 0.0028 0.006zm-0.21907-2.8681c-0.08733-0.11155 0.03495 0.0997 0 0zm-0.09494 0.54521-0.0026-0.006 0.0026 0.006zm0.19434-0.32067 0.0046-0.006-0.0046 0.006zm-0.04133-0.12914c-0.06824-0.0855 0.0253 0.0895 0 0zm-0.10882 0.40761c0.01767 0.0445 0.0041-0.0669 0 0zm-0.05643 0.0323 0.000768 0.008-0.000768-0.008zm-0.44398-1.6415-0.0058-0.006 0.0058 0.006zm0.34734 1.5849-0.000691 0.003 0.000691-0.003zm6.7138 2.1481 0.0056-0.004-0.0056 0.004zm0.40234 0.49042c-0.37866-0.24004-0.59311 0.65506-0.32521 0.32326 0.12245 0.0192-0.09064-1.1173-0.17136-0.36299-0.11131 0.67927 0.3912 0.46523 0.49657 0.0397zm-0.24544 0.35559c-0.12243 0.0948 0.1077 0.0312 0 0zm-3.9678 1.7879-0.0103 0.0208 0.0103-0.0208zm0.0381 0.0175c0.41511-0.35178-0.28519 0.0962 0 0zm0.02351-0.1038c-0.06018-0.046-0.04948 0.1624 0 0zm5.8002-3.5918c-0.10908-0.76166-0.26818 0.012-0.36442-0.61262 0.05979 0.62551-0.42021 0.18164-0.17971 0.0454 0.10359-0.52879-0.261 0.27648-0.14584-0.0556-0.1931 0.0526-0.68556-0.35659-0.34985-0.32499-0.16669 0.0271-0.17285 0.55683-0.30745 0.16822 0.05338 0.22273-0.2861 0.24035-0.25746 0.12816 0.04297-0.75572-0.28171 0.67314-0.28735-0.36682-0.06247-0.26625-0.32299-0.47372-0.18208-0.52547-0.24192 0.69994 0.03189 1.0938 0.04438 1.2204 0.05708 0.15993 0.03552 0.66375-0.08816 0.57416 0.36793-0.28259-0.09005 0.85651 0.50759 0.25425 0.55864-0.11607 0.73145 0.007 0.6391-0.324 0.10068 0.0951 0.3122-0.0872 0.19644-0.17032 0.03639-0.0975-0.0664 0.79938 0.12182 0.2112-0.01516-0.2955 0.138-0.73141 0.31184-0.0771 0.17659-0.59644 0.04066 0.22381 0.34117-0.14476zm-5.8614 3.7828c-0.19175 0.08 0.07553 0.0429 0 0zm5.3733-3.9153-0.04325-0.0602 0.04325 0.0602zm-0.05059-0.39384c-0.19111 0.0905 0.006 0.18746 0 0zm0.02197 0.39835c-0.07406-0.18993 0.01422 0.25327 0 0zm-0.49503 0.29214c0.03424-0.0995-0.12952 0.0687 0 0zm0.11368 0.12382-0.01916 0.0135 0.01916-0.0135zm-0.73581 1.2068c-0.01149-0.0439-0.03072 0.0643 0 0zm-1.7895-0.9073c1.3939-0.23743-1.2428-0.29598-0.06104 0.007l0.06104-0.007zm-7.9777-6.9573 0.06406 0.0107-0.06406-0.0107zm5.5662 10.115c-0.06257-0.0328-0.0061 0.0284 0 0zm2.58-6.253 0.01581-0.003-0.01581 0.003zm0.80121 4.2624c-0.0058 0.0507-0.74782 0.13082-0.70894 0.10882 0.1818 0.30404 0.52479 0.0129 0.63975 0.0228 0.04466-0.0354 0.01685-0.10238 0.06919-0.13166zm-1.028-0.35118c0.07302-0.0344-0.05186-0.10139 0 0zm0.0041 0.0844c0.12534-0.12145-0.06672-0.1117 0 0zm0.79706-2.0621c0.06501 0.0619-0.05285-0.0206 0 0zm-2.4075 2.9604c-0.06853 0.066 0.05787 0.006 0 0zm2.4763-3.3784c-0.04899-0.041-0.02708 0.0903 0 0zm0.04435 1.9952 0.000691-0.0134-0.000691 0.0134zm-2.5886 1.622c-0.19045 0.13161 0.05134 0.12768 0 0zm2.5646-1.4106c0.05145 0.13489 0.0081 0.0484 0 0zm0.02038-0.0707 0.000384 0.00016-0.000384-0.00016zm0.0105-0.016c0.05926-0.0982 0.0817-0.13332-0.0015-0.0261l0.0015 0.0261zm-1.231-0.84806c0.02212-0.0474-0.06042-0.003 0 0zm-5.3576-1.2601c-0.13208 0.15003-0.06255 0.2719 0 0zm0.0341 0.11737c-0.06814 0.35948 0.13005-0.0449 0.16588-0.0308-0.1946-0.58424-0.1035 0.21026-0.16588 0.0308zm-0.1081-1.175 0.0151 0.0127-0.0151-0.0127zm-0.03871-0.0707 0.01366 0.002-0.01366-0.002zm0.09801 1.018c-0.09197-0.093 0.04658 0.14041 0 0zm-0.20832 1.9107c0.66214 0.23682 0.34983-0.31514 0 0zm0.28845-2.798-0.01351-0.00081 0.01351 0.00081zm0.13842 1.1784c-0.01363 0.18683 0.04107-0.0811 0 0zm0.0056-0.15301c0.05451 0.29553 0.0647-0.19952 0 0zm-0.08895-0.57532-0.0071-0.007 0.0071 0.007zm-0.05638-0.43291 0.03247 0.003-0.03247-0.003zm0.12305 1.8005c0.2782-0.13421 0.06802-0.11698 0 0zm0.07609-0.98791 0.0098 0.00059-0.0098-0.00059zm-0.12141-0.80259 0.06979 0.0241-0.06979-0.0241zm-3.6983-1.3802c-0.05928-0.0424 0.01959 0.0415 0 0zm0.07482-0.0325 0.04932 0.0119-0.04932-0.0119zm-0.45729-0.54152c-0.06601-0.007 0.04135 0.0431 0 0zm0.375 0.11619c-0.10581-0.0559 0.0264 0.0699 0 0zm0.08803 0.0112 0.05942 0.005-0.05942-0.005zm0.0613 0.0401c0.07541 0.0105-0.04362-0.0586 0 0zm-0.4278 0.79316c-0.12386-0.0305 0.0502 0.0912 0 0zm3.629 1.5065c0.06028 0.0908-0.01006-0.15174 0 0zm-0.0762-1.6196 0.01292-0.0187-0.01292 0.0187zm-3.4157-0.12684c0.09012 0.028-0.02229-0.0422 0 0zm3.5097 0.18886 0.0027-0.004-0.0027 0.004zm-3.56-0.25c-0.05069 0.0581 0.08538-0.005 0 0zm3.3504 0.19439c0.13816-0.004 0.07614-0.1851 0 0zm0.22316 0.89604 0.01024-0.002-0.01024 0.002zm0.9131 3.3685 0.02084-0.0188-0.02084 0.0188zm-0.38432-1.1705 0.0018 0.002-0.0018-0.002zm0.30802 0.78645 0.0035-0.006-0.0035 0.006zm-0.10472-0.43819-0.0082 0.009 0.0082-0.009zm-0.02929 0.47455 0.01129-0.0196-0.01129 0.0196zm-0.23704-2.0606-0.0047 0.006 0.0047-0.006zm0.21892 1.5695 0.01283-0.009-0.01283 0.009zm0.13678 0.69694c-0.16224 0.21039 0.18172-0.067 0 0zm0.07835 0.0225 0.000461-0.0115-0.000461 0.0115zm0.07748-0.254-0.02171 0.0127 0.02171-0.0127zm-0.03431 0.18205-0.01924 0.001 0.01924-0.001zm-0.16432-0.56488-0.0055 0.004 0.0055-0.004zm0.0341 0.51997-0.0305 0.0164 0.0305-0.0164zm0.07174 0.13212c-0.03787 0.0376 0.04771-0.005 0 0zm-0.11829-0.71052-0.0061 0.007 0.0061-0.007zm-0.24457-0.31488c0.13151-0.14428-0.08577 0.11203 0 0zm0.01618-0.0544 0.000384 0.005-0.000384-0.005zm-0.16023-1.5107-0.02942 0.01 0.02942-0.01zm-0.02632-0.0202-0.02043 0.007 0.02043-0.007zm-0.0063 0.35503 0.02221-0.006-0.02221 0.006zm0.09151-0.80387-0.0277-0.007 0.0277 0.007zm-0.04158 0.51398c-0.04604 0.0571 0.05382-0.014 0 0zm-0.29476-0.72972h-0.01256 0.01256zm0.39773 2.6623c-0.07909 0.0503 0.08089 0.0433 0 0zm0.034-0.0974 0.01946 0.009-0.01946-0.009zm0.0075 0.18579c-0.0097 0.0965 0.09604-0.0178 0 0zm-0.48166-1.795c-0.05605 0.0601 0.13351 0.10824 0 0zm-0.02274 0.0632c-0.01657 0.17711 0.08291-0.086 0 0zm0.41766 1.3803-0.0137-0.012 0.0137 0.012zm-0.39687-0.13279 0.0013 0.0164-0.0013-0.0164zm-13.396 1.0271-0.01045 0.01 0.01045-0.01zm12.871-3.4611-0.0064 0.12296 0.0064-0.12296zm-0.50542-3.8601c0.83869-0.0645-0.28585-1.0275-0.07547-0.11572l0.07547 0.11572zm0.40577 2.5884c-0.35746-0.62749-0.1019 0.71214 0 0zm0.14164-0.59832c0.25928-0.30037-0.52856-0.12484 0 0zm-0.07082 1.7562-0.01151 0.013 0.01151-0.013zm0.0013 0.10308-0.0053 0.006 0.0053-0.006zm-0.51224-2.0461c-0.43502 0.013-0.43392-0.32718-1.0027-0.48535-0.36119-0.26101-0.53994-0.0706-0.31533 0.65256-0.46525 0.53896-0.2952 0.30888 0.18364 0.18158 0.23435 0.69804 0.41539-0.84198 0.66038-0.18533 0.22874 0.004 0.38824 0.1104 0.47398-0.16346zm-0.94146-1.017c-0.08794 0.006 0.15209 0.0668 0 0zm-0.09084 0.18205c-0.34438-0.0653 0.39148 0.32723 0 0zm-0.20253 0.0532c-0.22183 0.0421 0.30598 0.31638 0 0zm0.23284-0.12925-0.0081 0.0175 0.0081-0.0175zm0.70524 1.6122c0.13229-0.64586-0.75259 0.54393-0.03558 0.12225l0.03558-0.12225zm1.6269-1.3219c0.06367-0.0324-0.04507-0.0522 0 0zm-0.73699 2.545c-0.02805-0.0928-0.05188 0.14759 0 0zm0.0275-0.0698c0.0057-0.11823-0.07635 0.082 0 0zm-0.0082 0.20028 0.0023 0.0168-0.0023-0.0168zm-0.0107 0.0199 0.0033-0.0104-0.0033 0.0104zm0.76638-1.9326c0.33372-0.0148-0.12552-0.0584 0 0zm-0.14589-0.87535c0.09009 0.18197-0.04737-0.14004 0 0zm-0.42027 0.676c-0.25989-0.25649-0.25822 0.15007 0 0zm-0.21666 2.2787-0.0099-0.002 0.0099 0.002zm-0.03236-0.0873-0.01221 0.00004 0.01221-0.00004zm-0.0078 0.0286 0.003-0.008-0.003 0.008zm-1.4638-2.9664c-0.11939-0.0151 0.01196 0.0652 0 0zm1.4595 2.7278-0.01195 0.026 0.01195-0.026zm0.03447 0.31754 0.0059 0.004-0.0059-0.004zm0.0062-0.2589-0.0075 0.0137 0.0075-0.0137zm-1.5811-2.86 0.0087-0.01-0.0087 0.01zm-1.1144-1.7725c0.08487 0.15611 0.24863-0.0839 0 0zm0.34289 0.86798c-0.28565-0.0671 0.18427 0.52597 0 0zm0.92052-0.92836c0.21892-0.28099-0.22637 0.16369 0 0zm-0.62658 0.0984c0.10064-0.1411-0.03692 0.0274 0 0zm2.1678 3.0339c0.08159 0.0489 0.0005-0.0696 0 0zm-3.2425-2.6214c-0.01529-0.157-0.05517 0.12529 0 0zm0.0096 0.10835c0.06085 0.0656-0.0033-0.0697 0 0zm0.82962-3.25c-0.21738-0.35249-1.0026 0.27856-0.85495 0.19132-0.29922-0.0742-0.33714 0.1241-0.47688-0.19105-0.41906 0.0767 0.38387-0.13613-0.214-0.20438 0.0525-0.0835-0.74126-0.44228-0.52188-0.2155-0.60952 0.0902 0.95133 0.67398 0.27834 0.33159 0.33481 0.25722 0.15512 0.84486 0.62054 0.75799 0.05971-0.31393 0.27397 0.15516 0.45688-0.0992 0.27213-0.0334 0.30895-0.11345 0.76874-0.19962-0.0082-0.2491-0.0065-0.62157-0.02862-0.33248l-0.02817-0.0387zm-0.90444 3.1901c0.09342 0.0126-0.10772-0.15392 0 0zm3.3011 2.5853c-0.03084-0.0728-0.09967 0.0763 0 0zm-2.2842-4.9865c0.14042 0.8514 1.3588-0.15124 0.17262-0.006l-0.08659-0.01-0.08603 0.0158zm2.2159 6.345 0.0033 0.008-0.0033-0.008zm-0.51444-4.2792c0.26277 0.30907 0.06861-0.20197 0 0zm-0.349-0.3c-0.29001-0.0734 0.05012 0.3036 0 0zm-0.07999 2.6119c-0.06559 0.0306 0.05406 0.0234 0 0zm-0.30945-2.2702c0.24334-0.0272 0.08372-0.55954 0 0zm0.21313 0.0945c-0.13247-0.0469-0.0029 0.22845 0 0zm-0.053 0.22183c0.17774-0.033-0.12969-0.14999 0 0zm1.0689 4.231-0.000385-0.008 0.000385 0.008zm-0.39466-4.6472c0.16706 0.0483-0.07903-0.12547 0 0zm0.42769 4.3079 0.0037-0.0291-0.0037 0.0291zm-1.226-4.5905c-0.07901 0.26781 0.18265-0.19125 0 0zm1.235 4.5973-0.0025-0.0006 0.0025 0.0006zm-0.19239-2.0556c-0.04864 0.15034 0.17246-0.11815 0 0zm-0.06672-2.1829c-0.14251-0.18074 0.01841 0.12562 0 0zm0.01562 0.0969c-0.27089 0.34138 0.51463-0.019 0 0zm2.5873 0.0589c0.02607 0.11597 0.14089-0.0441 0 0zm2.2284 3.3243c0.12802 0.0304-0.03643-0.13143 0 0zm-0.07021-0.005c0.13021 0.0406-0.02732-0.13892 0 0zm0.39338 0.29271c0.02623 0.25222 0.0045 0.0633 0 0zm0.03779 0.27662c0.1463 0.0668 0.10852-0.10231 0 0zm-0.31688-0.49119c-0.1053 0.098 0.15834 0.023 0 0zm0.04373 0.0335c-0.05052 0.12445 0.074-0.12273 0 0zm-1.097-0.69c0.06969 0.0844-0.0092-0.10694 0 0zm-0.31447-0.22798c0.13944 0.14481 0.14602-0.0781 0 0zm-0.51218-0.8413c0.22953 0.034 0.02011-0.21538 0 0zm-0.01357 0.35861c-0.05643 0.0529 0.08924 0.002 0 0zm0.51945 0.41863c0.0546-0.0126-0.03965-0.0961 0 0zm-0.42344-0.53523c0.0031 0.13904 0.22333 0.0347 0 0zm0.16059 0.0853c-0.69116 0.38419 0.21193 0.12762 0 0zm1.973 1.819c-0.01387 0.10041 0.21029-0.0499 0 0zm3.2644 2.1024c0.0959 0.0172-0.0075-0.0847 0 0zm0.0089 0.008c-0.01139 0.0723 0.05661-0.0276 0 0zm0.29235-0.13913c-0.06201-0.0121 0.0421 0.0821 0 0zm-0.08946-0.01c0.10999 0.0847 0.07778-0.18521 0 0zm0.11942-0.16372c0.07198 0.14286 0.08986-0.13687 0 0zm-0.63349-0.21435c0.06775 0.0702 0.02236-0.11928 0 0zm-2.7551-1.413c0.15237-0.0661-0.03917-0.0367 0 0zm-4.2126-2.1689-0.01866 0.0213 0.01866-0.0213zm6.9269 3.5128c0.06925 0.0442-0.04731-0.10143 0 0zm-5.1836-3.7175c-0.0644 0.11856 0.10437-0.0386 0 0zm4.9601 3.2821c0.07567-0.045-0.0493-0.1115 0 0zm-2.3775-0.89492c0.04942 0.0695 0.03196-0.0916 0 0zm0.90454 0.0888c0.1655 0.0537 0.0048-0.17959 0 0zm-1.1656-0.37541c-0.02777 0.11842 0.07643-0.0323 0 0zm-2.4771-2.6082c0.15294 0.19563 0.19321 0.11772 0 0zm-4.0745-1.9215c-0.39133-0.032-0.2587-0.14937 0 0zm-0.91207 0.0592c-0.32225 0.36685 0.09348-0.0762 0 0zm0.96384-1.1823c-0.51378 0.0858 0.23442 0.34197-0.23197 0.26188 0.36167 0.25658-0.24549-0.13437-0.10881 0.0143-0.07134-0.0662-0.1312 0.3956-0.2216 0.007 0.14094-0.56786-0.58108 0.21173-0.69462-0.18305 0.28854-0.018 0.17791 0.12788 0.04904 0.11244-0.17029 0.30133 0.47268 0.30159-0.0497 0.44104 0.61282 0.21154-0.03752 0.65536 0.19927 0.30972-0.60078-0.13278 0.01034-1.7409-0.7305-0.90044-0.08975 0.39186-0.26831 1.1178 0.36496 1.0632 0.11144 0.0533-0.62673 0.10643 0.0085 0.37003 0.25823-0.12767 0.23427 0.1038 0.70497 0.041 0.72444 0.0687-0.16555-0.35945 0.5637-0.0183-0.4771-0.27906 0.69749-0.001 0.11983-0.44136-0.0071-0.10689 0.50754 0.31085 0.48038 0.21456 0.17222-0.009 0.39562 0.53134 0.34817 0.42972 0.13153-0.42887 0.53608-0.28395 0.42477-0.0864 0.22779 0.20316 0.77616 0.57524 0.38384 1.088 0.61232 0.35308-0.34414 0.48222 0.02282 0.67347 0.12718 0.13214-0.66628-0.36883-0.53632 0.3019 0.89422 0.24049 0.13605-0.15603 0.7419-0.0855-0.12838-0.28519 0.21971 0.0523 0.13796-0.0832 0.08524-0.1546 0.57817 0.3355 0.34119 0.11173 0.18877 0.0642 0.51493 0.0894 0.32949 0.0654-0.01082 0.20569 0.20645 0.26924 0.5339 0.22859 0.11539 0.0842 0.60491-0.45651 0.86482-0.11783-0.24432-0.10889-1.0045-0.39357-0.75831-0.29137-0.36287-0.21985-0.15209-0.3006 0.10503-0.15608 0.67446 0.27966 0.26192 0.0619 0.53497 0.14122 0.24462 0.0521-0.20786-0.53122 0.02788-0.31097-0.30796-0.26233 0.45234 0.16348-0.07427-0.16659-0.03571-0.19003-0.51767-0.20844-0.32832-0.243-0.0772-0.24475-0.49314-0.46574-0.34379-0.16656-0.31299-0.15046-0.14435-0.0883-0.40854-0.17079-0.16736-0.23554-0.19817-0.0506 0.13279-0.13953-0.70928-0.15428 0.7-0.36739-0.04386-0.26358 0.26286 0.0296 0.29568 0.23296 0.42067-0.12433-0.05296 0.44973 0.31803 0.3547 0.24024 0.35432-0.09274 0.23567 0.52927 0.22347 0.22891 0.11639 0.17616-0.0797 0.10302-0.26083-0.09591-0.3413 0.33738-0.00088 0.4242-0.25484 0.12172-0.23218-0.42627-0.0378 0.15934-0.29469-0.0304-0.30999-0.36681-0.26452-0.56301 0.0964-0.39821 0.10283-0.03208-0.33529-0.29764-0.29479-0.28574-0.10916-0.08597-0.40209-0.20016 0.0539-0.29062-0.2765-0.0127 0.43092-0.05352 0.0139-0.21353 0.19057-0.07278-0.16021-0.34003-0.19143-0.28092-0.10481 0.24436-0.11512-0.45296 0.002-0.24756-0.0268 0.08698-0.11819 0.37324-0.34944 0.06648-0.17685-0.10766-0.0789-0.51935-0.0788 0.06249-0.18332-0.0868-0.28657-0.92196 0.31293-0.19544-0.22431-0.23741-0.61011-0.46519 0.68156-0.31661-0.10249-0.40516 0.70211 0.24291-0.66972-0.33244 0.001-0.03815-0.37887-0.32013-0.0879-0.18624 0.10908 0.25513-0.66033-0.45584 0.28543-0.07865-0.3761-0.49088-0.31753-0.18831 0.52163-0.44759-0.0118 0.006 0.0517-0.12026 0.24177-0.12781 0.1165-0.07998 0.0583 0.0022-0.59796-0.21726-0.0532-0.30216 0.13207 0.32491-0.53097-0.28518-0.38816zm2.129 1.1687c-0.34358 0.0123 0.19199 0.0329 0 0zm0.89548 2.943c0.29366-0.10966-0.34193-0.17666 0 0zm0.99026 0.72321c0.13256 0.2756 0.05348-0.30863 0 0zm-2.0544-4.0571c-0.15988-0.036 0.0037 0.17558 0 0zm2.1635 4.8106c0.0019-0.16131-0.10962 0.014 0 0zm-0.51126-2.8619c-0.03986-0.21595-0.06658 0.16865 0 0zm-0.55131-1.4094c0.01944 0.14461 0.10638-0.0349 0 0zm0.18046 0.10482c-0.01459-0.10225-0.13798 0.11873 0 0zm0.66868 1.56c0.04855 0.14629 0.20953 0.002 0 0zm-0.52186-1.5256c0.10154-0.002 0.01565-0.19084 0 0zm-0.90296-0.14968c0.14902 0.003 0.01666-0.12349 0 0zm-4.4323 0.49257c-0.07 0.025 0.0052 0.11324 0 0zm2.688-1.5068c0.1334-0.007-0.06996-0.11273 0 0zm-0.04624 0.0408c0.17512 0.20562 0.03393-0.1316 0 0zm1.3275 0.43819c-0.12394 0.0454 0.05787 0.084 0 0zm-0.99984-0.3327c-0.12026 0.26295 0.22896-0.05 0 0zm-1.8969-1.7861c-0.05218-0.27644-0.09673 0.17861 0 0zm-0.31222-0.0406c0.04561-0.0567-0.06124 0.005 0 0zm0.21656-1.3731c0.102 0.0944 0.02853-0.0849 0 0zm-11.541 11.029 0.03599 0.0205-0.03599-0.0205zm11.441-10.541c-0.09337 0.001 0.0304 0.0854 0 0zm-2.8923-0.1908c0.38364 0.069-0.14434 0.33049 0.28544 0.37306 0.55706 0.57424-0.24413-0.30267-0.004-0.38163-0.00096-0.19314-0.33725-0.18942-0.28142 0.009zm0.52647-0.4384c0.1939 0.49652 0.18481-0.25741 0 0zm1.6368 1.0207c0.09441-0.0671-0.1373-0.0526 0 0zm-1.4785 0.5807c-0.20891 0.002-0.09087 0.45352-0.1401 0.27658-0.0292-0.0988-0.41704-0.2969-0.14196 0.10679-0.58265 0.0557 0.56326 0.0579 0.04631 0.16021 0.09571 0.27837 0.40666 0.22134 0.38744 0.14896-0.13233-0.54608 0.4652-0.0916-0.14812-0.73042l-0.0036 0.0379zm0.22035-1.9141c0.20561 0.01-0.13855-0.0467 0 0zm-0.07389 0.28559c0.26939 0.31091 0.46636 0.19139 0.3346 0.27378 0.2999 0.0336-0.17264 0.53188-0.01752 0.26536 0.05833 0.0949 0.51129 0.47811 0.39843 0.10301 0.25252 0.10409 0.30092-0.29906 0.25461-0.26453 0.31568-0.37572-0.20967-0.15219-0.1628-0.46371-0.06707-0.0173-0.91074-0.5994-0.63495-0.4817-0.04567 0.0973-0.31422 0.42428-0.12828 0.36583-0.12904 0.15661 0.44426 0.0502-0.04409 0.20196zm-0.12546 0.74708c0.25885 0.77316 0.47541-0.36272 0.03277-0.0347l-0.0306 0.003-0.0022 0.0314zm0.44008-1.5198c0.30741 0.0999 0.20506 0.63016 0.22767 0.2756 0.714-0.47576-0.21671 0.30066 0.25938 0.027 0.29663-0.53981-0.05462 0.39233 0.24247 0.0218 0.1072-0.004 0.26484-0.0583 0.39571-0.46747-0.16388 0.27687 0.45709 0.54531 0.05355 0.38772-0.10256 0.5165-0.63177 0.2123-0.0047 0.48439-0.88896-0.5014-0.14443 0.48557-0.2963 0.32851 0.4596 0.0421-0.62205 0.32349-0.17355 0.21838-0.0186 0.61347 0.28246 0.61917 0.29726 0.2498-0.15879 0.12695 0.16972 0.4501 0.21897-0.0347 0.25584 0.74462-0.98994-0.1257-0.32436 0.49211-0.42333 0.72526-0.24023 0.0533-0.02382 0.39303 0.24181-0.20104 0.46612 0.0721 0.43414-0.25814 0.18923 0.08 0.11229-0.0883 0.41956 0.14312 0.43015-0.40696-0.61743-0.34248-0.33896-0.42581-0.13678-0.23449 0.53278-0.0444 0.3711-0.45609 0.16193-0.12007 0.14764-0.59478-0.2593-0.39128-0.06445-0.20181 0.61777-0.22874-0.0658-0.20439 0.55338-0.30645 0.68498-0.48021 0.47753-0.40457-0.1919-0.25622 0.0082-0.2141 0.02154-0.95454-0.59349 0.76114-0.0029-0.085-0.25191 0.0628 0.3916-0.12958-0.46968-0.45446-0.13909-0.55163-0.08259 0.21511-0.71988 0.41998-0.51648 0.15647 0.1143 0.12841 0.20382 0.50371-0.07883 0.25323-0.35744-0.26668-0.2425 0.40604-0.31445 0.24787 0.54783 0.21524-0.69641-0.21248-0.1512 0.21143-0.21371-0.059-0.30895-0.0104-0.48008 0.19531zm-0.1018 4.0695c-0.1089-0.21436-0.07702 0.19257 0 0zm-0.05802 0.12511c0.09653 0.0858 0.02079-0.1573 0 0zm0.1906-1.4874c0.11634 0.28851 0.05148-0.19357 0 0zm-0.33301 0.66704c0.06289 0.0587 0.06741-0.12501 0 0zm0.24017-0.42866c-0.36279 0.29447 0.64893 0.52356 0.22196-0.046-0.03321-0.0975-0.25787-0.0575-0.22196 0.046zm-0.10513-0.0786c-0.17018 0.22772 0.22184-0.11895 0 0zm0.72275-0.65961c-0.17547 0.11262 0.18615 0.22061 0 0zm0.09775 0.16883-0.02678-0.004 0.02678 0.004zm0.60712-0.13652c0.03651 0.0969 0.02409-0.043 0 0zm-0.66939-0.75691c0.02504 0.12631 0.01614-0.16544 0 0zm-0.61885 1.8729 0.03919-0.0349-0.03919 0.0349zm-0.1737-1.4436c0.48405 0.3381 0.33618-0.40826 0 0zm0.55684-0.0328c0.1285 0.45446 0.31974-0.20243 0 0zm-1.6024-0.005c0.10945 0.57032 0.15977-0.0874 0 0zm0.76823 1.7696c0.08281 0.18222-0.31149 0.22317 0 0zm-6.0497 0.72198c0.06321 0.0107-0.07519-0.11538 0 0zm-0.51065-0.43793c0.04073 0.10998 0.11787-0.0799 0 0zm1.8786 0.42308c0.07142-0.005-0.02586-0.0558 0 0zm-1.3299-0.099c0.1112-0.0143-0.02232-0.0602 0 0zm0.23489 0.13007c0.07958 0.007-0.03065-0.0554 0 0zm-3.4162 7.5499c-0.08759-0.0232 0.05994 0.0574 0 0zm4.9034-7.1908 0.02343-0.0184-0.02343 0.0184zm-4.8619 7.3576-0.01671 0.01 0.01671-0.01zm0.02284-0.15075-0.007 0.003 0.007-0.003zm0.0069-0.12731c-0.40091-0.19854-0.03385 0.54431-0.0657 0.46907 0.09239 0.0499 0.24415-0.39492 0.04158-0.41751-0.1631-0.12343 0.07451 0.0445 0.02412-0.0516zm-0.02402 0.20617c-0.09798-0.0879-0.11198 0.0893 0 0zm-0.000115 0.3285c-0.08458 0.0156-0.02838 0.0821 0 0zm-0.23156-0.88642 0.0015 0.01-0.0015-0.01zm7.5643-8.6722-0.000729-0.003 0.000729 0.003zm0.21006-0.24892c-0.33385-0.51291-0.42299-0.12295-0.47458-0.0118 0.02032 0.18109-0.45666 0.24623-0.01661 0.4135 0.27863-0.2721 0.19843 0.0219 0.53608 0.007-0.88853 0.20017-0.06303 0.39287 0.31864 0.13891 0.32108 0.25082-0.02776-0.0809 0.24703-0.36092-0.15418-0.004-0.17147-0.85859-0.31683-0.23655 0.16169 0.45003-0.2099 0.45461-0.29372 0.0499zm0.78948 1.2149c-0.64635-0.24059 0.13201 0.774 0 0zm-3.2391 0.11169 0.002-0.008-0.002 0.008zm2.5629-2.4117c0.56777 0.24249 0.53958-0.38775 0 0zm-0.06058 0.37116c0.57557 0.43551 0.34584-0.8349 0 0zm-0.79367 0.69361c0.32292-0.44249-0.44957 0.24838 0 0zm-1.652 1.363c0.18353 0.78095 0.67626 0.40228 1.1649-0.0499 0.91017-0.20876 0.18995-0.59558 0.01604-0.63257-0.42526-0.81299-0.71962 0.23803-1.1266 0.56057 0.006 0.0153-0.14094 0.10152-0.05428 0.12193zm1.3127-1.5208c-0.11613 0.134 0.08947-0.0811 0 0zm0.98468-0.72542c0.18366 0.21712 0.03667-0.27504 0 0zm-1.1595 0.54353c0.22977 0.27619 0.45544-0.0453 0.4389 0.13155 0.25257-0.57218 0.20119 0.2675 0.4449-0.29051 0.36986-0.36015-0.3773-0.3142-0.66744 0.0588-0.0854-0.0497-0.17903 0.0294-0.21636 0.10017zm1.0236-0.0652c0.13494 0.21824 0.23991-0.14632 0 0zm2.1658 3.4288c-0.08401-0.0287 0.06767 0.0782 0 0zm-1.2762 0.66079c-0.1619-0.17341-0.052 0.17062 0 0zm-0.84022 0.19213c-0.09037-0.0898-0.01814 0.11907 0 0zm1.2851-0.75691c-0.05504 0.0199 0.0416 0.0711 0 0zm0.06176 0.52606c-0.0195-0.22841-0.17903 0.11687 0 0zm-1.419 0.30177 0.02901 0.003-0.02901-0.003zm1.539-0.68219c0.01806-0.23291-0.08441 0.0983 0 0zm-0.10749 0.15183c0.04936 0.0123 0.01316-0.1089 0 0zm-1.744 0.42703c-0.11661 0.0831 0.10258-0.0551 0 0zm0.11122-0.27935c0.05371-0.0256-0.07866-0.0302 0 0zm0.18363 0.2837c0.05212-0.0529-0.07695-0.0535 0 0zm-0.74846-0.40787c0.02029-0.0458-0.08632-0.002 0 0zm0.34724 0.19689c-0.08607 0.0987 0.11032-0.0268 0 0zm0.38463 0.0863-0.04943 0.0312 0.04943-0.0312zm-0.19106-0.1461c0-0.0946-0.13876 0.0646 0 0zm-0.57752 0.18701 0.06683 0.004-0.06683-0.004zm2.3746-0.64609c-0.27567-0.45273-0.73528-0.68426-0.66105-1.5253-0.55402-0.90964-0.28353 1.3195-0.48579 0.1416-0.35484-0.53975-0.65112-0.14007-0.35447-0.0173-0.20164 0.2632 0.06671-0.5903-0.38724-0.16236-0.145 0.0332 0.15909-0.65563-0.4757-0.24242-0.47828 0.22672-0.36524 0.79749-0.33371 0.66297 1.0163 0.009-0.62294 0.11119 0.18989 0.43867 0.56088-0.0578 1.0118 0.5232 0.17546 0.19413-0.99318-0.067 0.09631 0.82408 0.07232 0.61882-0.12903 0.52107 0.7967 0.27798 0.73744 0.28382 0.60767-0.6117 0.69409 0.26008 1.3637-0.0789-0.11235-0.28242-0.41113-0.0503-0.11123-0.33513 0.15164-0.0712 0.1605 0.0639 0.27036 0.0213zm-1.6969 0.65818c-0.17287 0.0627 0.09517-0.007 0 0zm2.5391-0.53344c-0.17619-0.23488-0.04483 0.14374 0 0zm-0.05526-1.6318c-0.04741 0.02 0.05179 0.0563 0 0zm0.07405 1.6074c0.07395 0.17857 0.18946-0.20151 0 0zm-0.13985 0.008c-0.20207-0.34839-0.06127 0.40382-0.31873 0.3434 0.47668 0.29793 0.7481-0.0869 0.33404-0.32425l-0.01024-0.014-0.0051-0.005zm0.18793-1.1951 0.000384 0.003-0.000384-0.003zm-0.0074 0.0689c-0.07269-0.006 0.0208 0.11244 0 0zm0.60451-1.0323c-0.40253-0.16102-0.8763-0.0596-0.70476 0.4535 0.16959 0.88026 0.30724 0.20859 0.28993 0.11181 0.37322 0.11335 0.32634-0.34467 0.41483-0.56531zm-1.3614 2.7167c-0.04498-0.0343 0.01026 0.0986 0 0zm0.0107-0.28027c0.0568-0.1417-0.12334-0.0731 0 0zm-0.12479-0.65039c0.09956-0.37495 0.09917-0.28842 0 0zm0.07144-0.15491c-0.16456-0.0737 0.07684 0.16617 0 0zm-0.02356 0.90542c0.14436-0.20581-0.14271-0.12301 0 0zm1.5078-0.62869c-0.07113-0.003 0.0178 0.052 0 0zm-1.2343 0.95724c-0.04484-0.0484 0.01464 0.0779 0 0zm0.36865-2.1052c-0.22175-0.28536-0.40521-0.24666-0.1292-0.60549-0.54796-0.23781-0.5253 0.1727-0.5842 0.0608 0.0083 0.12102 0.30341 0.37433-0.05642 0.37697-0.52716-0.34716 0.53681 0.99577 0.48685 0.66759-0.1036-0.28718 0.33339-0.0489 0.28297-0.49983zm-2.2125-0.13842 0.0042 0.00057-0.0042-0.00057zm1.2316-1.6763c-0.39251 0.16821 0.37951 0.0659 0 0zm-0.18988 0.46871c0.04635 0.32019 0.22527-0.26637 0 0zm-1.9407 2.8987 0.004 0.0243-0.004-0.0243zm1.0083-1.7467-0.0086-0.009 0.0086 0.009zm0.99324-1.7582c0.18528 0.37989 0.21879-0.2014 0 0zm-0.59545 1.3664c0.13026 0.0589 0.0112-0.0996 0 0zm0.85682-1.1308c-0.31669 0.00015-0.14698 0.18563 0 0zm0.15675-0.8263c-0.37841-0.11153 0.06754 0.21995 0 0zm-0.16361-0.20422c-0.13461 0.0132 0.03449 0.13257 0 0zm0.17436 0.73146c-0.1955 0.18283 0.2264-0.0951 0 0zm-0.17626 0.34898c-0.40094 0.19585 0.2103 0.0203 0 0zm-1.2751 1.4745 0.02031 0.007-0.02031-0.007zm-1.1503 0.80822 0.03836-0.008-0.03836 0.008zm-0.0613-0.0138 0.02925 0.0249-0.02925-0.0249zm0.04358-0.0195c-0.07747-0.0151 0.0431 0.0385 0 0zm0.12572 0.0332-0.02824-0.004 0.02824 0.004zm0.43732 0.22337-0.03407-0.0143 0.03407 0.0143zm-0.40229 0.60083 0.01375 0.0155-0.01375-0.0155zm0.61855-0.5766-0.09491-0.0333 0.09491 0.0333zm0.3878-1.0331-0.01296-0.0126 0.01296 0.0126zm-1.2328 0.74636c0.06248-0.0169-0.15044-0.0285 0 0z"/></g><g id="northarrow" transform="translate(-285.23973,-142.23388)"><path id="path3770-7" d="m 305.9093,156.64795 c 0,4.78008 -3.8742,8.65314 -8.65317,8.65314 -4.78014,0 -8.65316,-3.87425 -8.65316,-8.65314 0,-4.78016 3.87422,-8.65322 8.65316,-8.65322 4.78014,0 8.65317,3.87425 8.65317,8.65322 z" style="opacity:1;fill:#ffffff;fill-opacity:1;stroke:#ffffff;stroke-width:0.89468277;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path id="path3770" d="m 304.98197,156.64794 c 0,4.26783 -3.45902,7.72582 -7.72584,7.72582 -4.26786,0 -7.72583,-3.45905 -7.72583,-7.72582 0,-4.26787 3.45903,-7.72588 7.72583,-7.72588 4.26788,0 7.72584,3.45907 7.72584,7.72588 z" style="opacity:1;fill:none;fill-opacity:1;stroke:#6d6d6d;stroke-width:0.79922527;stroke-opacity:1"/><path id="path3774" d="m 297.25613,156.64794 0,-8.5251" style="fill:none;stroke:#000000;stroke-width:0.06660211"/><path style="fill:#ffffff;stroke:#ffffff;stroke-width:0.91174924;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 297.25844,143.48074 8.79232,22.43079 -8.81116,-8.81115 -8.81114,8.81115 z" id="path3778"/><path style="fill:none;stroke:#6d6d6d;stroke-width:0.26640841;stroke-linecap:square;stroke-opacity:1" d="m 297.25613,144.80527 7.72584,19.5677 -7.72584,-7.72587 -7.72583,7.72587 z" id="path3780"/><path id="path6038" d="m 297.25632,144.66607 0,0 0,0 -7.72602,19.56818 7.72602,-7.72606 0,0" style="fill:#6d6d6d;fill-opacity:1;stroke:none;stroke-width:0.29611364;stroke-linecap:square;stroke-opacity:1"/></g><g id="snowman"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="24" height="24" viewBox="0 0 6.3499999 6.3500002" version="1.1" id="svg8" inkscape:version="0.92.1 r15371" sodipodi:docname="drawing.svg"><defs id="defs2"/><sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="15.839192" inkscape:cx="26.160157" inkscape:cy="11.716153" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="false" units="px" inkscape:window-width="1920" inkscape:window-height="1005" inkscape:window-x="-9" inkscape:window-y="-9" inkscape:window-maximized="1"/><metadata id="metadata5"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0,-290.64998)"><g id="g170" transform="matrix(0.01375187,0,0,0.01375187,-2.309419e-5,290.64996)"><g id="g107"><path id="path91" d="m 183.537,392.187 c -20.333,-15.012 -32.472,-39.042 -32.472,-64.28 0,-5.523 -4.477,-10 -10,-10 -5.523,0 -10,4.477 -10,10 0,31.559 15.175,61.604 40.593,80.37 1.787,1.32 3.868,1.956 5.932,1.956 3.065,0 6.092,-1.406 8.053,-4.061 3.28,-4.444 2.338,-10.705 -2.106,-13.985 z" inkscape:connector-curvature="0"/><path id="path93" d="m 217.403,406.611 c -3.905,-0.664 -7.789,-1.629 -11.543,-2.868 -5.247,-1.73 -10.899,1.118 -12.63,6.363 -1.731,5.245 1.118,10.899 6.362,12.63 4.703,1.552 9.567,2.76 14.458,3.592 0.567,0.097 1.132,0.143 1.688,0.143 4.787,0 9.017,-3.448 9.847,-8.325 0.926,-5.444 -2.737,-10.609 -8.182,-11.535 z" inkscape:connector-curvature="0"/><path id="path95" d="m 298.644,268.079 c -4.516,3.179 -5.6,9.417 -2.421,13.933 9.487,13.477 14.501,29.347 14.501,45.894 0,5.523 4.477,10 10,10 5.523,0 10,-4.477 10,-10 0,-20.69 -6.275,-40.541 -18.147,-57.406 -3.178,-4.516 -9.416,-5.599 -13.933,-2.421 z" inkscape:connector-curvature="0"/><path id="path97" d="m 287.735,245.827 c -3.233,-2.243 -6.633,-4.314 -10.106,-6.158 -4.88,-2.59 -10.933,-0.733 -13.521,4.145 -2.589,4.878 -0.733,10.932 4.145,13.521 2.777,1.474 5.496,3.131 8.082,4.924 1.738,1.206 3.725,1.785 5.691,1.785 3.167,0 6.283,-1.501 8.225,-4.301 3.148,-4.538 2.021,-10.768 -2.516,-13.916 z" inkscape:connector-curvature="0"/><path id="path99" d="m 230.895,195.025 c 8.786,0 17.571,-3.344 24.259,-10.032 3.32,-3.32 3.32,-8.701 0,-12.021 -3.319,-3.319 -8.701,-3.319 -12.021,0 -6.749,6.749 -17.729,6.749 -24.478,0 -3.319,-3.319 -8.701,-3.319 -12.021,0 -3.32,3.32 -3.32,8.701 0,12.021 6.689,6.688 15.475,10.032 24.261,10.032 z" inkscape:connector-curvature="0"/><path id="path101" d="m 418.207,175.842 -13.451,-0.913 19.348,-19.348 c 3.905,-3.905 3.905,-10.237 0,-14.142 -3.905,-3.905 -10.237,-3.905 -14.143,0 l -9.79,9.79 -2.436,-11.619 c -1.133,-5.406 -6.437,-8.869 -11.839,-7.735 -5.405,1.133 -8.869,6.434 -7.735,11.839 l 5.117,24.408 -62.452,62.452 c -6.002,-5.496 -12.537,-10.492 -19.58,-14.878 19.525,-18.602 31.71,-44.842 31.71,-73.874 0,-23.638 -8.31,-46.392 -22.953,-64.418 h 20.535 c 5.523,0 10,-4.477 10,-10 0,-5.523 -4.477,-10 -10,-10 H 294.507 V 10 c 0,-5.523 -4.477,-10 -10,-10 H 177.282 c -5.523,0 -10,4.477 -10,10 v 47.403 h -36.031 c -5.523,0 -10,4.477 -10,10 0,5.523 4.477,10 10,10 h 20.534 c -14.643,18.026 -22.953,40.78 -22.953,64.418 0,29.032 12.185,55.272 31.71,73.874 -6.2,3.861 -12.009,8.193 -17.407,12.923 L 94.77,180.252 99.908,155.744 c 1.133,-5.406 -2.33,-10.706 -7.735,-11.839 -5.401,-1.133 -10.706,2.33 -11.839,7.735 l -2.457,11.719 -21.921,-21.921 c -3.905,-3.905 -10.237,-3.905 -14.143,0 -3.905,3.905 -3.905,10.237 0,14.142 l 11.621,11.621 -11.162,2.23 c -5.416,1.082 -8.929,6.349 -7.847,11.765 0.95,4.755 5.125,8.043 9.795,8.043 0.649,0 1.309,-0.064 1.97,-0.196 l 24.244,-4.843 58.693,58.693 c -19.901,23.594 -31.304,53.778 -31.304,85.782 0,73.382 59.695,133.083 133.071,133.083 73.376,0 133.071,-59.701 133.071,-133.083 0,-30.99 -10.685,-60.279 -29.432,-83.526 l 51.45,-51.45 30.868,2.096 c 0.23,0.016 0.459,0.023 0.688,0.023 5.214,0 9.608,-4.044 9.967,-9.323 0.375,-5.509 -3.789,-10.279 -9.299,-10.653 z M 274.507,20 V 31.409 H 187.282 V 20 Z m -87.225,31.409 h 87.225 v 5.994 h -87.225 z m -38.449,90.412 c 0,-25.074 11.628,-48.917 31.25,-64.418 h 101.624 c 19.621,15.501 31.249,39.344 31.249,64.418 0,45.249 -36.813,82.062 -82.062,82.062 -45.249,0 -82.061,-36.813 -82.061,-82.062 z m 82.062,299.938 c -62.348,0 -113.071,-50.729 -113.071,-113.083 0,-41.852 22.931,-80.057 59.862,-99.794 15.503,9.51 33.726,15.001 53.209,15.001 19.483,0 37.706,-5.49 53.209,-15.001 36.932,19.738 59.862,57.942 59.862,99.794 0,62.355 -50.724,113.083 -113.071,113.083 z" inkscape:connector-curvature="0"/><path id="path103" d="m 191.645,158.094 c 5.523,0 10,-4.477 10,-10 v -9.688 c 0,-5.523 -4.477,-10 -10,-10 -5.523,0 -10,4.477 -10,10 v 9.688 c 0,5.523 4.477,10 10,10 z" inkscape:connector-curvature="0"/><path id="path105" d="m 270.145,158.094 c 5.523,0 10,-4.477 10,-10 v -9.688 c 0,-5.523 -4.477,-10 -10,-10 -5.523,0 -10,4.477 -10,10 v 9.688 c 0,5.523 4.477,10 10,10 z" inkscape:connector-curvature="0"/></g><g id="g109"/><g id="g111"/><g id="g113"/><g id="g115"/><g id="g117"/><g id="g119"/><g id="g121"/><g id="g123"/><g id="g125"/><g id="g127"/><g id="g129"/><g id="g131"/><g id="g133"/><g id="g135"/><g id="g137"/></g></g></svg></g></defs></svg>'),
e.put("app/editor.svg",'<svg><defs><g id="insert_drive_file"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></g><g id="drag_handle"><path d="M20 9H4v2h16V9zM4 15h16v-2H4v2z"/></g></defs></svg>'),e.put("app/file.svg",'<svg><defs><g id="file_upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></g><g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/></g></defs></svg>'),e.put("app/hardware.svg",'<svg><defs><g id="keyboard_arrow_right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/></g><g id="keyboard_arrow_down"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/></g><g id="keyboard_arrow_up"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></g></defs></svg>'),e.put("app/image.svg",'<svg><defs><g id="tune"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></g><g id="photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></g></defs></svg>'),e.put("app/maps.svg",'<svg><defs><g id="place"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></g><g id="layers"><path d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"/></g><g id="my_location"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></g><g id="map"><path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/></g><g id="layers_clear"><path d="M19.81 14.99l1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1L2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"/></g><g id="navigation"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/></g></defs></svg>'),e.put("app/navigation.svg",'<svg><defs><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></g><g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></g><g id="more_vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g><g id="more_horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></g><g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></g><g id="arrow_back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></g><g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></g></defs></svg>'),e.put("app/social.svg",'<svg><defs><g id="person"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></g><g id="share"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></g></defs></svg>'),e.put("app/toggle.svg",'<svg><defs><g id="radio_button_checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></g><g id="radio_button_unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></g><g id="check_box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></g><g id="check_box_outline_blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></g></defs></svg>'),e.put("app/layout/shell.html",'<rv-north-arrow class="rv-icon-32 rv-north-arrow"><md-icon md-svg-src="{{ self.arrowIcon }}"></md-icon></rv-north-arrow><div class="rv-map-coordinates rv-lg"><span></span> <span></span></div><rv-sidenav></rv-sidenav><div class=rv-loading-screen layout layout-align="center center" ng-class="{ \'rv-loaded\': self.geoService.isMapReady }"><div class="rv-loading-section rv-left"></div><div class="rv-loading-section rv-right"></div><div class="rv-spinner google-spin-wrapper"><div class=google-spin></div></div></div><div class=rv-esri-map rv-init-map rv-overview-toggle tabindex=0 aria-label="{{ geo.aria.mapdescription | translate }}"></div><rv-appbar></rv-appbar><rv-help-overlay rv-state=help></rv-help-overlay><rv-panel type=main close-button=false rv-state=main rv-morph=main class=rv-plug-slide-down></rv-panel><rv-panel type=side rv-state=side class=rv-plug-slide-right></rv-panel><rv-mapnav rv-morph=mapnav></rv-mapnav><rv-panel type=filters rv-state=filters rv-morph=filters class=rv-plug-slide-down-grand></rv-panel><ng-include src="\'app/ui/basemap/basemap.html\'" class=rv-basemap></ng-include><md-progress-linear class=rv-progress-bottom md-mode=indeterminate ng-show=self.map.isMapLoading></md-progress-linear><div class=rv-focus-dialog-content><div class=md-dialog-container><md-dialog><md-dialog-content class=md-dialog-content role=document><h2 class="md-title ng-binding">{{self.translate(\'press\')}}<div class="md-button sm-button md-subhead md-raised">{{self.translate(\'enter\')}}</div>{{self.translate(\'toactivate\')}}<div class="md-button sm-button md-subhead md-raised">{{self.translate(\'tab\')}}</div></h2><div class=md-dialog-content-body>{{self.translate(\'main\')}}<div class="md-button sm-button md-subhead md-raised">{{self.translate(\'escape\')}}</div>+<div class="md-button sm-button md-subhead md-raised">{{self.translate(\'tab\')}}</div></div></md-dialog-content></md-dialog></div></div>'),e.put("app/ui/appbar/appbar.html",'<div class="main-appbar rv-whiteframe-z2" ng-show=!self.stateManager.state.mainGeosearch.active><md-button translate aria-label="{{ appbar.aria.menu | translate }}" class="md-icon-button black" rv-help=sidenav-button ng-click=self.layoutService.sidenav.open()><md-tooltip>{{\'appbar.tooltip.menu\' | translate}}</md-tooltip><md-icon md-svg-src=navigation:menu></md-icon></md-button><div class=rv-appbar-title><h2 class=md-headline translate ng-if=self.stateManager.state.mainToc.active>appbar.tooltip.layers</h2><h2 class=md-headline translate ng-if=self.stateManager.state.mainLoaderFile.active>import.file.title</h2><h2 class=md-headline translate ng-if=self.stateManager.state.mainLoaderService.active>import.service.title</h2><h2 class=md-headline translate ng-if=self.stateManager.state.mainDetails.active>appbar.tooltip.pointInfo</h2></div><md-button aria-label="{{ appbar.aria.geosearch | translate }}" class="md-icon-button primary rv-app-geosearch" ng-click=self.toggleGeosearch()><md-tooltip>{{ \'appbar.tooltip.geosearch\' | translate }}</md-tooltip><md-icon md-svg-src=action:search></md-icon></md-button><md-button aria-label="{{ nav.tooltip.basemap | translate }}" class="md-icon-button primary" ng-click=self.openBasemapSelector() ng-show=self.stateManager.state.mainToc.active><md-tooltip>{{ \'nav.tooltip.basemap\' | translate }}</md-tooltip><md-icon md-svg-src=maps:map></md-icon></md-button><span class=rv-button-divider></span><md-button aria-label="{{ appbar.aria.pointInfo | translate }}" class="md-icon-button primary" rv-help=details-button ng-class="{ selected: self.stateManager.state.mainDetails.active }" ng-click=self.toggleDetails() ng-show=self.stateManager.display.details.requestId><md-tooltip>{{\'appbar.tooltip.pointInfo\' | translate}}</md-tooltip><md-icon md-svg-src=maps:place></md-icon></md-button><md-button aria-label="{{ appbar.aria.layers | translate }}" class="md-icon-button primary" rv-help=toc-button ng-class="{ selected: self.stateManager.state.mainToc.active }" ng-click=self.toggleToc()><md-tooltip>{{\'appbar.tooltip.layers\' | translate}}</md-tooltip><md-icon md-svg-src=maps:layers></md-icon></md-button></div><rv-geosearch-bar ng-if=self.stateManager.state.mainGeosearch.active></rv-geosearch-bar>'),e.put("app/ui/basemap/basemap-item.html",'<div ng-switch=self.basemap.wkid class="rv-wkid rv-{{self.basemap.wkid}}"><div ng-if=self.basemap.thumbnailUrl><img alt ng-src="{{ self.basemap.thumbnailUrl }}"></div><div ng-switch-when=3978 ng-if=!self.basemap.thumbnailUrl><img alt ng-src="{{ self.basemap.url }}/tile/8/285/268"> <img alt ng-src="{{ self.basemap.url }}/tile/8/285/269"></div><div ng-switch-when=102100 ng-if=!self.basemap.thumbnailUrl><img alt ng-src="{{ self.basemap.url }}/tile/8/91/74"> <img alt ng-src="{{ self.basemap.url }}/tile/8/91/75"></div></div><div class=rv-basemap-description id="{{ ::$root.uid($id) }}-basemap-desc">{{ self.basemap.description | translate }}</div><span flex></span><div class=rv-basemap-footer ng-class="{ \'rv-double\': self.basemap.typeSummary }"><div class=rv-basemap-name><span class=md-body-2>{{ self.basemap.name | translate }}</span> <span class=md-body-2 ng-if=self.basemap.typeSummary>{{ self.basemap.typeSummary | translate }}</span></div><span flex></span><md-button aria-label="{{ \'basemap.\' + (self.isDescriptionVisible ? \'hide\' : \'show\') + \'description\' | translate }}" class="md-icon-button rv-button-32 rv-icon-20" ng-class="{ selected: self.isDescriptionVisible }" ng-click=self.toggleDescription()><md-icon md-svg-src="action:info{{ self.isDescriptionVisible ? \'\' : \'_outline\' }}"></md-icon></md-button></div><div class=rv-basemap-check ng-if=self.basemap.isSelected><md-icon md-svg-src=navigation:check></md-icon></div><md-button aria-label="{{ basemap.select | translate }}" aria-describedby="{{ ::$root.uid($id) }}-basemap-desc" class="rv-body-button rv-button-square" ng-click=self.select()></md-button>'),e.put("app/ui/basemap/basemap.html",'<md-sidenav rv-basemap class="rv-basemap-selector md-sidenav-left md-whiteframe-z2" md-component-id=right><rv-content-pane rv-trap-focus><md-button class="md-icon-button black rv-button-32 rv-minimize-button" ng-click=self.close()><md-icon md-svg-src=community:chevron-double-left></md-icon></md-button><div class=rv-subsection ng-repeat="tileSchema in self.map.tileSchemas"><div class=rv-subheader><h3 class=md-title>{{ tileSchema.name }}</h3><div class=rv-icon-16 ng-show="self.selectedWkid != projection.wkid"><md-icon md-svg-src=action:info class=rv-basemap-warning></md-icon><span class=md-catpion>{{ \'basemap.refresh.req\' | translate }}</span></div></div><div class=rv-subcontent><ul class="rv-list rv-basemap-list"><li class=rv-basemap-list-item ng-repeat="basemap in self.map.basemaps | filter:{ tileSchema: { id: tileSchema.id } }"><rv-basemap-item basemap=basemap select=self.selectBasemap(basemap)></rv-basemap-item></li></ul></div></div></rv-content-pane></md-sidenav>'),e.put("app/ui/details/details-content.html",'<div class="rv-subsection rv-hide-animate"><div class="rv-subcontent rv-{{ self.item.requester.proxy.layerType }}" ng-class="{ \'rv-hide\': self.isHidden }" ng-switch on=self.item.requester.proxy.layerType><p class=rv-nothing ng-if="self.item.data.length === 0" translate>details.label.noresult</p><rv-details-record-esrifeature ng-switch-when=esriFeature map-point=self.mapPoint item=self.item></rv-details-record-esrifeature><rv-details-record-text ng-switch-when=Text map-point=self.mapPoint item=self.item></rv-details-record-text><rv-details-record-html ng-switch-when=ogcWms map-point=self.mapPoint item=self.item></rv-details-record-html><md-divider></md-divider></div></div>'),e.put("app/ui/details/details-header.html",'<div class=rv-header><div layout=column class=rv-header-content><h4 class=md-subhead>{{ self.selectedItem.requester.proxy.name }}</h4></div><span flex class=rv-spacer></span><md-button class="md-icon-button black rv-button-24 rv-gt-sm" ng-click=self.expandPanel()><md-tooltip>{{ \'details.tooltip.expand\' | translate }}</md-tooltip><md-icon md-svg-src=action:open_in_new></md-icon></md-button><md-button aria-label="{{ contentPane.aria.close | translate }}" class="rv-close md-icon-button black rv-button-24" ng-click=self.closeDetails()><md-tooltip>{{ \'contentPane.tooltip.close\' | translate }}</md-tooltip><md-icon class=rv-lt-lg md-svg-src=navigation:arrow_back></md-icon><md-icon class=rv-lg md-svg-src=navigation:close></md-icon></md-button></div>'),e.put("app/ui/details/details-modal.html",'<md-dialog aria-label="Details Summary" class=rv-details-summary><rv-content-pane close-panel=self.cancel() title-style=title title-value="{{ self.item.requester.proxy.name }}"><div class=rv-details><md-content class="rv-details-data rv-content" rv-detect-scrollbar rv-details-content rv-item=self.item></md-content></div></rv-content-pane></md-dialog>'),e.put("app/ui/details/details-record-esrifeature-item.html",'<div class=rv-record-header ng-class="{ \'rv-selected rv-expanded\': self.isExpanded }"><md-button ng-if=::!self.solorecord class="rv-group-body-button rv-button-square" ng-focus="self.isRendered = true" ng-mouseover="self.isRendered = true" ng-click=self.toggleDetails()></md-button><rv-symbology-stack symbology=self.item.symbologyStack></rv-symbology-stack><span class=rv-group-name>{{ self.item.name }}</span><div class=rv-group-controls><md-button class="md-icon-button rv-icon-20" ng-click="self.toggleHighlight(self.item.oid, true)" ng-if=::self.solorecord><md-tooltip md-direction=top>{{ \'filter.tooltip.highlight\' | translate }}</md-tooltip><md-icon md-svg-src=community:lightbulb-outline></md-icon></md-button><md-button class="md-icon-button rv-icon-20" ng-click=self.zoomToFeature() ng-disabled=!self.requester.proxy.visible><md-tooltip md-direction=top>{{ \'filter.tooltip.zoom\' | translate }}</md-tooltip><md-icon md-svg-src=action:zoom_in></md-icon></md-button></div><div ng-if=::!self.solorecord class="rv-icon-24 rv-group-toggle-icon"><md-icon class=md-toggle-icon ng-class="{ \'rv-toggled\' : self.isExpanded }" md-svg-src=hardware:keyboard_arrow_down></md-icon></div></div><div class=rv-details-list-wrapper ng-if=self.isRendered><ul class="rv-details-list rv-toggle-slide ng-hide" ng-show=self.isExpanded><li ng-repeat="row in self.item.data" ng-switch on=row.type><div class=rv-details-attrib-key>{{ ::row.key }}</div><span flex></span><div class=rv-details-attrib-value ng-switch-when=esriFieldTypeDate ng-bind-html="::row.value | dateTimeZone"></div><div class=rv-details-attrib-value ng-switch-default ng-bind-html="::row.value | autolink"></div></li></ul></div><div class=rv-shadow></div>'),e.put("app/ui/details/details-record-esrifeature.html",'<ul class=rv-records-list><li ng-repeat="item in self.item.data"><rv-details-record-esrifeature-item toggle-highlight=self.toggleHighlight init-highlight=self.initHighlight item=item solorecord="self.item.data.length === 1" requester=self.item.requester></rv-details-record-esrifeature-item></li></ul>'),e.put("app/ui/details/details-record-html.html","<rv-svg class=rv-details-html src=self.item.data[0] once=false></rv-svg>"),e.put("app/ui/details/details-record-text.html",'<div class=rv-details-text ng-bind-html="self.item.data[0] | autolink"></div>'),e.put("app/ui/details/details.html",'<rv-content-pane close-panel=self.closeDetails() static-content=true is-loading=self.display.isLoading hide-when-loading="self.display.data.length === 1 || !self.display.data"><div class=rv-details ng-if="self.display.data.length === 1"><rv-details-header selected-item=self.selectedItem></rv-details-header><md-content class="rv-details-data rv-content" rv-detect-scrollbar rv-details-content rv-item=self.selectedItem rv-map-point=self.display.requester.mapPoint></md-content></div><div class="rv-details rv-multiple" ng-if="self.display.data.length > 1"><rv-details-header selected-item=self.selectedItem></rv-details-header><md-content class="rv-details-data rv-content" rv-detect-scrollbar rv-details-content rv-item=self.selectedItem rv-map-point=self.display.requester.mapPoint rv-is-hidden="(self.display.data.length > 1 && self.selectedItem.isLoading) || !self.display.data"></md-content><rv-layer-list-slider class=rv-details-layer-list></rv-layer-list-slider></div></rv-content-pane>'),e.put("app/ui/details/layer-list-slider.html",'<ul class=rv-list><li ng-repeat="item in self.display.data | orderBy:[\'data.length == 0\',\'-isLoading\']" ng-class="{\'rv-selected\': item === self.selectedItem }" class=rv-details-layer-list-item><md-button ng-keydown="self.itemSelectedByKeypress($event, item)" aria-label="point details" class="rv-button-square rv-details-layer-button" ng-mousedown=self.itemSelectedByMouse(item)></md-button><rv-symbology-stack symbology=item.requester.symbologyStack ng-class="{ \'rv-disabled\' : item.data.length === 0 || item.isLoading }"></rv-symbology-stack><span class=rv-details-layer-badge ng-if="item.data.length > 0">{{ item.data.length }}</span><md-progress-circular md-diameter=24 class=md-primary md-mode=indeterminate ng-if=item.isLoading></md-progress-circular><div class=rv-details-layer-name><span class>{{ item.requester.proxy.name }}</span></div></li></ul>'),e.put("app/ui/export/custom-size.html",'<md-input-container ng-disabled=self.isError><input type=number required md-no-asterisk=true name=customSizeWidth min="{{ ::self.exportSizes.width.min }}" max="{{ ::self.exportSizes.width.max }}" ng-pattern="/\\d/" step=any placeholder="{{ \'export.size.customwidth\' | translate }}" ng-model=self.exportSizes.tempOption.width><div ng-messages=exportForm.customSizeWidth.$error role=alert><div ng-message=min>{{ \'export.error.minwidth\' | translate:self.exportSizes.width }}</div><div ng-message=max>{{ \'export.error.maxwidth\' | translate:self.exportSizes.width }}</div></div></md-input-container><md-icon md-svg-src=navigation:close></md-icon><md-input-container ng-disabled=self.isError><input type=number required md-no-asterisk name=customSizeHeight min="{{ ::self.exportSizes.height.min }}" max="{{ ::self.exportSizes.height.max }}" step=any ng-pattern="/\\d/" placeholder="{{ \'export.size.customheight\' | translate }}" ng-model=self.exportSizes.tempOption.height><div ng-messages=exportForm.customSizeHeight.$error role=alert><div ng-message=min>{{ \'export.error.minheight\' | translate:self.exportSizes.height }}</div><div ng-message=max>{{ \'export.error.maxheight\' | translate:self.exportSizes.height }}</div></div></md-input-container>'),e.put("app/ui/export/export.html",'<md-dialog class=rv-export><form name=exportForm><md-dialog-content><div class=md-dialog-content ng-class="{ \'rv-error\': self.isError }"><md-content class="rv-export-custom-size rv-invert rv-toggle-slide" ng-if=self.exportSizes.isCustomOptionSelected()><h4 class=md-title>{{ \'export.size.custom\' | translate }}</h4><p class=md-caption>{{ \'export.custom.note1\' | translate }}</p><div class=rv-container layout=column><div layout=row layout-wrap><rv-export-custom-size></rv-export-custom-size></div><div layout=row><span flex></span><md-button ng-disabled="self.exportSizes.isCustomOptionUpdated() || (!exportForm.customSizeWidth.$viewValue && !exportForm.customSizeHeight.$viewValue && !self.exportSizes.customOption.height)" ng-click=self.exportSizes.resetTemporaryOption() class=rv-button-square>{{ \'export.undo\' | translate }}</md-button><md-button ng-disabled="!exportForm.$valid || self.isGenerating() || self.exportSizes.tempOption.height === self.exportSizes.selectedOption.height" ng-click="self.exportSizes.updateCustomOption(); self.updateComponents();" class="rv-button-square md-raised md-primary">{{ \'export.generate\' | translate }}<md-progress-linear class=rv-progress-bottom md-mode=indeterminate ng-show=self.isGenerating()></md-progress-linear></md-button></div></div></md-content><md-content class="rv-export-settings rv-invert rv-toggle-slide" ng-if=self.isExportSettingsOpen><h4 class=md-title>{{ \'export.settings\' | translate }}</h4><div class=rv-container><ul class=rv-list><li ng-if=section.isSelectable ng-repeat="section in self.exportComponents.items"><md-checkbox ng-model=section.isSelected class=md-primary>{{ \'export.component.\' + section.id | translate }}</md-checkbox></li></ul></div></md-content><md-content><div ng-if=self.isTainted><rv-svg class=rv-export-graphic once=false src=self.taintedGraphic></rv-svg></div><div class=rv-export-title ng-class="{ \'rv-float\' : self.mapComponent.isSelected }" ng-hide=self.isTainted ng-if=self.titleComponent.isSelected><md-input-container md-no-float class=md-headline ng-disabled=self.isError><input ng-model=self.titleComponent.value ng-change=self.updateTitleComponent() ng-model-options="{ updateOn: \'default blur\', debounce: { default: 300, blur: 0 } }" placeholder="{{ \'export.title\' | translate }}"></md-input-container></div><div class=rv-export-section ng-hide=self.isTainted ng-if="section.isSelected && section.isVisible" ng-repeat="section in self.exportComponents.items"><rv-svg class=rv-export-graphic once=false ng-class="{ \'rv-blur\': section.isGenerating }" src=section.graphic></rv-svg></div></md-content></div></md-dialog-content><md-dialog-actions layout=row><md-progress-linear class=rv-progress-bottom ng-hide="!self.isGenerating() || self.isError" md-mode=indeterminate></md-progress-linear><md-select aria-label="{{ export.size.selector | translate }}" translate ng-model=self.exportSizes.selectedOption md-container-class=rv-export-select><md-option ng-value=sizeOption ng-repeat="sizeOption in self.exportSizes.options"><div class=rv-option ng-click=self.scrollCustomSettings(sizeOption)><span>{{ sizeOption.name | translate }}</span> <span flex></span> <span>{{ sizeOption.dimensions }}</span></div></md-option></md-select><span class=rv-button-divider-24 ng-if=::self.isSettingsEditable()></span><md-button class=md-icon-button ng-if=::self.isSettingsEditable() ng-class="{ selected: self.isExportSettingsOpen }" ng-click="self.isExportSettingsOpen = !self.isExportSettingsOpen"><md-icon md-svg-src=action:settings></md-icon></md-button><span flex></span><md-button class=rv-button-square ng-click=self.close() rv-close-button>{{ \'export.close\' | translate }}</md-button><div><md-button class="rv-button-square md-raised md-primary" ng-click=self.saveImage() ng-disabled=self.isDownloadBlocked()>{{ \'export.download\' | translate }}</md-button><md-tooltip ng-if="self.exportSizes.isCustomOptionSelected() && self.isDownloadBlocked()">{{ \'export.custom.note2\' | translate }}</md-tooltip></div></md-dialog-actions></form></md-dialog>'),e.put("app/ui/filters/filters-default-menu.html","<md-menu-bar><md-menu md-position-mode=\"target-right target\"><md-button aria-label=\"{{ filter.aria.menu | translate }}\" class=\"md-icon-button black rv-button-24\" ng-click=$mdOpenMenu($event)><md-icon md-svg-src=navigation:more_vert></md-icon></md-button><md-menu-content rv-trap-focus={{::self.appID}} class=\"rv-menu rv-dense\" width=5><md-menu-item type=radio ng-model=self.filtersMode value=default ng-click=self.setMode(self.filtersMode) ng-if=\"self.currentLayout() === 'large'\" rv-right-icon=none>{{ 'filter.menu.splitView' | translate }}</md-menu-item><md-menu-item type=radio ng-model=self.filtersMode value=full ng-click=self.setMode(self.filtersMode) ng-if=\"self.currentLayout() === 'large'\" rv-right-icon=none>{{ 'filter.menu.maximize' | translate }}</md-menu-item><md-menu-divider class=rv-lg></md-menu-divider><md-menu-item type=checkbox ng-model=self.filter.isActive ng-click=self.applyFilter(self.filter.isActive) rv-right-icon=community:filter>{{ 'filter.menu.extent' | translate }}</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=self.dataPrint()><md-icon md-svg-icon=action:print></md-icon>{{ 'filter.menu.print' | translate }}</md-button></md-menu-item><md-menu-item><md-button ng-click=self.dataExportCSV()><md-icon md-svg-icon=editor:insert_drive_file></md-icon>{{ 'filter.menu.export' | translate }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-bar>"),e.put("app/ui/filters/filters-default.html",'<div rv-trap-focus="{{ ::self.appID }}"><rv-content-pane header-controls=rv-filters-default-menu static-content=true title-style=title title-value="{{ \'filter.title\' | translate }}{{ self.display.requester.name }}" is-loading=self.display.isLoading><div class=rv-filters><div class=rv-filters-data-container></div></div></rv-content-pane></div>'),e.put("app/ui/geosearch/geosearch-bar.html",'<div class="rv-geosearch-bar rv-whiteframe-z2" ng-attr-rv-trap-focus="{{ !self.service.isResultsVisible ? \'\' : undefined }}"><md-button aria-label="{{ appbar.aria.menu | translate }}" class="md-icon-button black" ng-click=self.layoutService.sidenav.open();><md-tooltip>{{ \'appbar.tooltip.menu\' | translate }}</md-tooltip><md-icon md-svg-src=navigation:menu></md-icon></md-button><md-input-container md-no-float flex rv-focus-exempt><md-autocomplete flex class="rv-no-message-input rv-clearable-input" md-autofocus=true md-menu-class="{{ ::self.geosearchMenuClass }}" md-search-text-change="self.service.searchValue.length === 0 ? self.onUpdateDebounce() : null" md-selected-item-change=self.onUpdateDebounce() placeholder="{{ \'geosearch.text.placeholder\' | translate }}" md-no-cache=true md-selected-item=self.selectedOption md-search-text=self.service.searchValue md-items="option in self.onUpdateDebounce()" md-item-text=option><md-item-template><span md-highlight-text=self.service.searchValue>{{ option }}</span></md-item-template></md-autocomplete></md-input-container><md-icon md-svg-src=action:search></md-icon><span class="rv-button-divider-24 rv-lg"></span><md-button aria-label="{{ appbar.aria.geosearchclose | translate }}" class="md-icon-button black" ng-click=self.service.toggle()><md-tooltip>{{ \'appbar.aria.geosearchclose\' | translate }}</md-tooltip><md-icon md-svg-src=navigation:close></md-icon></md-button></div>'),e.put("app/ui/geosearch/geosearch-bottom-filters.html","<div class=rv-geosearch-bottom-filters><md-input-container><md-checkbox aria-label=\"{{ geosearch.aria.extent | translate }}\" class=md-primary ng-model=self.visibleOnly ng-disabled=self.filters.extent.outside ng-change=self.onUpdateDebounce() tabindex=-2>{{ 'geosearch.label.extent' | translate }}</md-checkbox></md-input-container></div>"),e.put("app/ui/geosearch/geosearch-top-filters.html",'<div class=rv-geosearch-top-filters><md-input-container md-no-float class=rv-geosearch-province-filter><md-select placeholder="{{ \'geosearch.label.province\' | translate }}" ng-model=self.selectedProvince ng-change=self.setProvince()><md-option ng-repeat="province in self.service.provinces | orderBy: \'abbr\'" ng-value=province>{{ province.name }}</md-option></md-select></md-input-container><md-input-container md-no-float class=rv-geosearch-type-filter><md-select placeholder="{{ \'geosearch.label.type\' | translate }}" ng-model=self.selectedType ng-change=self.setType()><md-option ng-repeat="type in self.service.types | orderBy: \'name\'" ng-value=type>{{ type.name }}</md-option></md-select></md-input-container><md-button ng-disabled="!self.selectedType && !self.selectedProvince" aria-label="{{ appbar.aria.geosearchclose | translate }}" class="md-icon-button rv-icon-20 rv-button-24 black" ng-click=self.clear()><md-tooltip>{{ \'appbar.aria.geosearchclose\' | translate }}</md-tooltip><md-icon md-svg-src=community:filter-remove></md-icon></md-button></div>'),e.put("app/ui/geosearch/geosearch.html",'<div class="rv-geosearch-content rv-whiteframe-z2" ng-show="self.service.searchValue && self.service.isResultsVisible" rv-trap-focus><rv-geosearch-top-filters on-update=self.onTopFiltersUpdate></rv-geosearch-top-filters><md-divider class=rv-geosearch-divider></md-divider><div class=rv-geosearch-results><md-progress-linear class=rv-progress-top md-mode=indeterminate ng-show=self.service.isLoading></md-progress-linear><span class=rv-no-results ng-if=self.service.noResultsSearchValue>{{ \'geosearch.nomatches.label\' | translate:self.service }}</span><ul class=rv-results-list><li class=rv-results-item ng-repeat="result in self.service.searchResults" ng-mouseenter=self.onItemFocus($event) ng-mouseleave=self.onItemBlur($event) ng-mousedown=self.service.zoomTo(result)><md-button aria-label="result.name + \' \' + result.location.city \' \' + result.location.province.abbr + \' \' + result.type.name" class="rv-results-item-body-button rv-button-square" ng-click=self.service.zoomTo(result) ng-focus=self.onItemFocus($event) ng-blur=self.onItemBlur($event)></md-button><div class=rv-results-item-main><span class=rv-results-item-name ng-bind-html="::result.name | highlight:self.service.searchValue:\'rv-geosearch-highlight\'"></span><span class="rv-results-item-city md-caption" ng-if=result.location.city>, {{ ::result.location.city }}</span><span class="rv-results-item-province md-caption" ng-if=result.location.province.name>, {{ ::result.location.province.abbr }}</span></div><span flex></span> <span class="rv-results-item-type md-caption">{{ ::result.type.name }}</span></li></ul></div><md-divider class=rv-geosearch-divider></md-divider><rv-geosearch-bottom-filters on-update=self.onBottomFiltersUpdate></rv-geosearch-bottom-filters></div>'),e.put("app/ui/help/help-overlay.html",'<div><canvas rv-state=help ng-click=self.close()></canvas><div rv-name="{{ item.key }}" ng-repeat="item in self.helpSections" style="left: {{ item.coords.x }}px; top: {{ item.coords.y }}px; width: {{ item.coords.width }}px; height: {{ item.coords.height }}px;" ng-click=self.show(item.key)></div></div>'),e.put("app/ui/help/help-search.html",'<md-input-container md-no-float><input ng-model=self.searchTerm ng-minlength=3 ng-model-options="{ updateOn: \'default blur\', debounce: { default: 150, blur: 0 } }" ng-change=self.onSearchTermChange(self.searchTerm) placeholder="{{ \'helpui.search\' | translate }}"><md-button aria-label="{{ helpui.clearsearch | translate }}" class="rv-clear-search md-icon-button black rv-button-24 rv-icon-16" ng-click="self.searchTerm = \'\'; self.onSearchTermChange(\'\')" ng-if=self.searchTerm><md-tooltip>{{ \'helpui.clearsearch\' | translate }}</md-tooltip><md-icon md-svg-src=navigation:close></md-icon></md-button></md-input-container><md-icon md-svg-src=action:search></md-icon><span class="rv-button-divider-24 rv-lg"></span>'),e.put("app/ui/help/help-summary.html",'<md-dialog class=rv-help-summary><rv-content-pane close-panel=self.closeHelpSummary() title-style=title title-value="{{ \'helpui.title\' | translate }}" header-controls=rv-help-search header-controls-scope=self.scope><div class=rv-subsection ng-if="self.searchTerm && self.filteredSections.length === 0"><div class=rv-subcontent layout=row layout-align="center center"><p class=md-subhead>{{ \'helpui.nothingfound\' | translate }}</p></div></div><ul class=rv-help-list><li class=rv-help-section ng-repeat="section in (self.filteredSections = (self.sections | filter:self.searchTerm ))"><div class=rv-help-header><md-button class="rv-group-body-button rv-button-square" ng-click="section.isExpanded = !section.isExpanded"></md-button><h4 class=rv-group-name ng-bind-html="section.header | translate | highlight:self.searchTerm"></h4><div class="rv-icon-24 rv-group-toggle-icon"><md-icon class=md-toggle-icon ng-class="{ \'rv-toggled\' : section.isExpanded }" md-svg-src=hardware:keyboard_arrow_down></md-icon></div></div><div class="rv-help-content rv-toggle-slide" ng-show=section.isExpanded <p ng-bind-html="section.info | translate | highlight:self.searchTerm"><p></p></div><div class=rv-shadow></div></li></ul></rv-content-pane></md-dialog>'),
e.put("app/ui/loader/loader-file.html",'<rv-content-pane close-panel=self.closeLoaderFile() floating-header=true flow-drag-enter="self.dropActive = true" flow-drag-leave="self.dropActive = false" flow-prevent-drop class=rv-file-drop rv-trap-focus="{{ ::self.appID }}" ng-class="{\'rv-file-drop-active\': self.dropActive}"><div class=rv-loader-file flow-init="{ singleFile: true }"><div class=rv-file-drop-blur><rv-stepper-item class=rv-loader-file-upload step=self.upload.step form=self.upload.form summary-value="{{ self.upload.step.isCompleted ? self.upload.file.name || self.upload.fileUrl : \'import.file.upload.summary\' }}"><md-input-container class="md-block rv-loader-file-upload-drop" flex><div class=md-block><div flow-files-submitted="self.upload.filesSubmitted($files, $event, $flow)"><md-button class="rv-button-square rv-loader-file-select-button md-raised" flow-btn flow-progress=console.log() flow-attrs="{ accept: \'.csv,.zip,.json\' }" name=dataUpload ng-click=self.upload.step.reset()><md-icon md-svg-src=file:file_upload></md-icon>{{ "import.file.upload.choose" | translate }}</md-button></div><span class=md-caption translate>import.file.upload.drop</span></div><md-progress-linear md-mode=determinate value="{{ self.upload.progress }}" ng-class="{ \'rv-hide\': !self.upload.file }"></md-progress-linear><input name=fileSelect ng-model=self.upload.fileSelect><div ng-messages=self.upload.form.fileSelect.$error><div ng-message=upload-error>{{ \'import.file.upload.noaccess\' | translate }}</div></div></md-input-container><span class="md-subhead rv-loader-file-upload-or" translate>import.file.upload.or</span><md-input-container class=md-block><label translate>import.file.upload.fileurl</label> <input name=fileUrl type=url ng-focus="self.upload.fileReset(); self.upload.fileUrlResetValidation()" ng-model=self.upload.fileUrl ng-model-options="{ updateOn: \'default blur\', debounce: { default: 300, blur: 0 } }" ng-keypress=self.upload.step.onKeypress($event) required><div ng-messages=self.upload.form.fileUrl.$error><div ng-message=url>{{ \'import.file.upload.invalid\' | translate }}</div><div ng-message=upload-error>{{ \'import.file.upload.noaccess\' | translate }}</div></div></md-input-container></rv-stepper-item><rv-stepper-item form=self.select.form step=self.select.step summary-value="{{ self.layerSource.type && self.select.step.isCompleted ? \'import.file.type.\' + self.layerSource.type : \'\' }}"><md-input-container class=md-block><label translate>import.file.select.fileformat</label><md-select name=dataType ng-disabled="self.layerSourceOptions.length === 1" ng-model=self.layerSource md-on-open=self.select.selectResetValidation() required><md-option ng-repeat="sourceOption in self.layerSourceOptions" ng-value=sourceOption>{{ \'import.file.type.\' + sourceOption.type | translate }}</md-option></md-select><div ng-messages=self.select.form.dataType.$error><div ng-message=wrong>{{ \'import.file.select.wrong\' | translate }}</div></div></md-input-container></rv-stepper-item><rv-stepper-item step=self.configure.step form=self.configure.form ng-switch on=self.layerSource.type><md-input-container class=md-block><label translate>import.file.configure.layername</label> <input name=layerName ng-change=self.configure.configureResetValidation() ng-model=self.layerSource.config.name required></md-input-container><md-input-container class=md-block><label translate>import.file.configure.primaryfield</label><md-select name=primaryField md-on-open=self.configure.configureResetValidation() ng-model=self.layerSource.config.nameField required><md-option ng-repeat="field in self.layerSource.fields" value="{{ field.name }}">{{ field.name }}</md-option></md-select></md-input-container><div layout=row ng-switch-when=csv><md-input-container class=md-block flex><label translate>import.file.configure.latitudefield</label><md-select name=latitude md-on-open=self.configure.configureResetValidation() ng-model=self.layerSource.latfield required><md-option ng-repeat="field in self.layerSource.fields" value="{{ field.name }}">{{ field.name }}</md-option></md-select></md-input-container><md-input-container class=md-block flex><label translate>import.file.configure.longitudefield</label><md-select name=longitude md-on-open=self.configure.configureResetValidation() ng-model=self.layerSource.lonfield required><md-option ng-repeat="field in self.layerSource.fields" value="{{ field.name }}">{{ field.name }}</md-option></md-select></md-input-container></div><div layout=row><md-input-container class=md-block flex><label translate>import.file.configure.colourfield</label> <input minicolors=self.configure.colourPickerSettings name=layerName ng-change=self.configure.configureResetValidation() ng-model=self.layerSource.colour required></md-input-container></div><div ng-messages=self.configure.form.$error class=rv-form-error><div ng-message=invalid translate>import.file.configure.invalid</div></div><p class=md-caption>{{ \'stepper.unresponsive\' | translate }}</p></rv-stepper-item></div><div class=rv-file-drop-container flow-drop><div class=rv-file-drop-title><span class=md-display-2 translate>import.file.upload.drop</span><md-icon md-svg-src=file:file_upload></md-icon></div></div></div></rv-content-pane>'),e.put("app/ui/loader/loader-menu.html",'<md-menu md-position-mode="target target"><md-button aria-label="{{ import.title | translate }}" class="md-icon-button primary rv-loader-add" ng-click=$mdOpenMenu($event)><md-tooltip>{{ \'import.title\' | translate }}</md-tooltip><md-icon md-svg-src=content:add></md-icon></md-button><md-menu-content rv-trap-focus="{{ ::self.appID }}" class="rv-menu rv-dense" width=4><md-menu-item><md-button ng-click=self.openFileLoader() aria-label="{{ import.file.title | translate }}"><md-icon md-svg-icon=editor:insert_drive_file></md-icon>{{ \'import.file.title\' | translate }}</md-button></md-menu-item><md-menu-item><md-button ng-click=self.openServiceLoader() aria-label="{{ import.service.title | translate }}"><md-icon md-svg-icon=file:cloud></md-icon>{{ \'import.service.title\' | translate }}</md-button></md-menu-item></md-menu-content></md-menu>'),e.put("app/ui/loader/loader-service.html","<rv-content-pane close-panel=self.closeLoaderService() floating-header=true rv-trap-focus=\"{{ ::self.appID }}\"><div class=rv-loader-service><rv-stepper-item step=self.connect.step form=self.connect.form summary-value=\"{{ self.connect.step.isCompleted ? self.connect.serviceUrl : '' }}\"><md-input-container class=md-block><label translate>import.service.connect.serviceurl</label> <input name=serviceUrl type=url ng-change=self.connect.serviceUrlResetValidation() ng-model=self.connect.serviceUrl ng-model-options=\"{ updateOn: 'default blur', debounce: { default: 300, blur: 0 } }\" ng-keypress=self.connect.step.onKeypress($event) required><div ng-messages=self.connect.form.serviceUrl.$error><div ng-message=url>{{ 'import.service.connect.invalidurl' | translate }}</div><div ng-message=broken>{{ 'import.service.connect.broken' | translate }}</div></div></md-input-container></rv-stepper-item><rv-stepper-item step=self.select.step form=self.select.form summary-value=\"{{ self.select.step.isCompleted ? 'import.service.type.' + self.layerSource.type : '' }}\"><md-input-container class=md-block><label translate>import.service.select.servicetype</label><md-select name=serviceType ng-disabled=\"self.layerSourceOptions.length === 1\" ng-model=self.layerSource md-on-open=self.select.serviceTypeResetValidation() required><md-option ng-repeat=\"sourceOption in self.layerSourceOptions\" ng-value=sourceOption>{{ 'import.service.type.' + sourceOption.type | translate }}</md-option></md-select><div ng-messages=self.select.form.serviceType.$error><div ng-message=wrong>{{ 'import.service.select.wrong' | translate }}</div></div></md-input-container></rv-stepper-item><rv-stepper-item step=self.configure.step form=self.configure.form ng-switch on=self.layerSource.type><md-input-container class=md-block><label translate>import.service.configure.layername</label> <input name=layerServiceName ng-model=self.layerSource.config.name required></md-input-container><md-input-container class=md-block ng-switch-when=featurelayer><label translate>import.service.configure.primaryfield</label><md-select name=primaryField ng-model=self.layerSource.config.nameField required><md-option ng-repeat=\"field in self.layerSource.fields\" value=\"{{ field.name }}\">{{ field.alias || field.name }}</md-option></md-select></md-input-container><md-input-container class=md-block ng-switch-when=dynamicservice><label translate>import.service.configure.layers</label><md-select name=layer ng-model=self.layerSource.config.layerEntries ng-model-options=\"{ trackBy: '$value.index' }\" required multiple><md-option ng-repeat=\"layer in self.layerSource.layers\" ng-value=layer>{{ layer.indent + ' ' + layer.name }}</md-option></md-select><div class=rv-hint translate>import.service.configure.multipleselection</div></md-input-container><md-input-container class=md-block ng-switch-when=wms><label translate>import.service.configure.layers</label><md-select name=layers ng-model=self.layerSource.config.layerEntries ng-model-options=\"{ trackBy: '$value.index' }\" required multiple><md-option ng-repeat=\"layer in self.layerSource.layers\" ng-value=layer>{{ layer.indent + ' ' + layer.desc }}</md-option></md-select><div class=rv-hint translate>import.service.configure.multipleselection</div></md-input-container><p class=md-caption>{{ 'stepper.unresponsive' | translate }}</p></rv-stepper-item></div></rv-content-pane>"),e.put("app/ui/mapnav/mapnav-button.html",'<md-button aria-label="{{ self.control.label | translate }}" class="md-icon-button rv-button-32" ng-class="{ selected: self.control.selected() }" ng-click=self.control.action($event)><md-tooltip md-direction=left>{{ self.control.tooltip | translate }}</md-tooltip><md-icon md-svg-src="{{ self.control.icon }}"></md-icon></md-button>'),e.put("app/ui/mapnav/mapnav.html",'<span class=rv-spacer></span><div class=rv-mapnav-content><div class="rv-button-group hover rv-whiteframe-z2" ng-if=self.config.extra.fullscreen><rv-mapnav-button name=fullscreen class=rv-icon-20></rv-mapnav-button><md-divider></md-divider></div><div class="rv-button-group hover rv-whiteframe-z2" ng-switch on=self.config.zoom><rv-mapnav-button name=zoomIn ng-switch-when=buttons class=rv-icon-20></rv-mapnav-button><rv-mapnav-button name=zoomIn ng-switch-when=all class=rv-icon-20></rv-mapnav-button><div translate ng-switch-when=slider>nav.sliderOnly</div><div translate ng-switch-when=all>nav.slider</div><md-divider class=md-default-theme></md-divider><rv-mapnav-button name=zoomOut ng-switch-when=buttons class=rv-icon-20></rv-mapnav-button><rv-mapnav-button name=zoomOut ng-switch-when=all class=rv-icon-20></rv-mapnav-button></div><div class="rv-button-group hover rv-whiteframe-z2"><rv-mapnav-button ng-repeat-start="extra in self.config.extra" name="{{ extra }}" class=rv-icon-16></rv-mapnav-button><md-divider ng-if=!$last ng-repeat-end></md-divider></div></div><span class=rv-spacer></span>'),e.put("app/ui/metadata/metadata-expand.html","<md-button class=\"md-icon-button black rv-button-24 rv-gt-sm\" ng-click=self.expandPanel()><md-tooltip>{{ 'metadata.expand.tooltip' | translate }}</md-tooltip><md-icon md-svg-src=action:open_in_new></md-icon></md-button>"),e.put("app/ui/metadata/metadata-modal.html",'<md-dialog aria-label="Help Summary" class=rv-help-summary><rv-content-pane close-panel=self.cancel() title-style=title title-value="Metadata: {{self.display.requester.name}}"><div class=md-dialog-content><rv-metadata-content></rv-metadata-content></div></rv-content-pane></md-dialog>'),e.put("app/ui/metadata/metadata-panel.html","<rv-content-pane header-controls=rv-metadata-expand is-loading=self.display.isLoading title-style=title title-value=\"{{'metadata.title' | translate }}: {{ self.display.requester.name }}\"><div><div class=rv-subsection><div class=rv-subcontent><rv-metadata-content max-text-length=250></rv-metadata-content></div></div></div></rv-content-pane>"),e.put("app/ui/panels/content-pane.html",'<div class="rv-content-pane layout-padding"><div class=rv-header ng-show="self.titleValue && !self.floatingHeader" ng-switch on=self.titleStyle><div class=rv-header-content layout=column><h2 class=md-headline ng-switch-when=headline>{{ self.titleValue }}</h2><h3 class=md-title ng-switch-when=headline ng-if=self.subTitleValue>{{ self.subTitleValue }}</h3><h3 class=md-title ng-switch-when=title>{{ self.titleValue }}</h3><h4 class=md-subhead ng-switch-when=title ng-if=self.subTitleValue>{{ self.subTitleValue }}</h4><h4 class=md-subhead ng-switch-when=subhead>{{ self.titleValue }}</h4><h5 class=md-caption ng-switch-when=subhead ng-if=self.subTitleValue>{{ self.subTitleValue }}<h5 class=md-caption ng-switch-when=caption>{{ self.titleValue }}</h5></h5></div><span flex class=rv-spacer></span><md-button aria-label="{{ contentPane.aria.close | translate }}" class="rv-close md-icon-button black rv-button-24" ng-click=self.closePanel() ng-if=self.closePanel rv-close-button><md-tooltip>{{\'contentPane.tooltip.close\' | translate}}</md-tooltip><md-icon class=rv-lt-lg md-svg-src=navigation:arrow_back></md-icon><md-icon class=rv-lg md-svg-src=navigation:close></md-icon></md-button></div><div class=rv-header-float ng-show="self.floatingHeader && self.closePanel"><span flex class=rv-spacer></span><md-button aria-label=Close class="md-icon-button black rv-button-auto" ng-click=self.closePanel() ng-if=self.closePanel rv-close-button><md-tooltip>Close</md-tooltip><md-icon class=rv-show-single md-svg-src=navigation:arrow_back></md-icon><md-icon class=rv-hide-single md-svg-src=navigation:close></md-icon></md-button></div><md-content class=rv-content ng-if=!self.staticContent rv-detect-scrollbar><ng-transclude class=rv-hide-animate ng-class="{ \'rv-hide\': self.isLoading && self.hideWhenLoading }"></ng-transclude></md-content><div class=rv-content ng-if=self.staticContent><ng-transclude class=rv-hide-animate ng-class="{ \'rv-hide\': self.isLoading && self.hideWhenLoading }"></ng-transclude></div><div class=rv-footer ng-show=self.footer></div><md-progress-linear class=rv-progress-top md-mode=indeterminate ng-show=self.isLoading></md-progress-linear></div>'),e.put("app/ui/panels/filters-panel.html",'<div class="filters-panel rv-panel rv-whiteframe-z2"><rv-filters-default rv-state=filtersFulldata></rv-filters-default></div>'),e.put("app/ui/panels/main-panel.html",'<div class="main-panel rv-panel rv-whiteframe-z2"><rv-loader-file rv-state=mainLoaderFile class=rv-plug-fade></rv-loader-file><rv-loader-service rv-state=mainLoaderService class=rv-plug-fade></rv-loader-service><rv-details rv-state=mainDetails class=rv-plug-fade></rv-details><rv-geosearch rv-state=mainGeosearch class=rv-plug-fade></rv-geosearch><rv-toc rv-state=mainToc class=rv-plug-fade></rv-toc><rv-toolbox rv-state=mainToolbox class=rv-plug-fade></rv-toolbox></div>'),e.put("app/ui/panels/other-panel.html",'<div class="main-panel rv-panel rv-whiteframe-z5"><rv-basemap rv-state=otherBasemap></rv-basemap></div>'),e.put("app/ui/panels/side-panel.html",'<div class="side-panel rv-panel rv-whiteframe-z2"><rv-settings rv-state=sideSettings class=rv-plug-fade></rv-settings><rv-metadata-panel rv-state=sideMetadata class=rv-plug-fade></rv-metadata-panel></div>'),e.put("app/ui/settings/settings-content.html","<div class=rv-subsection ng-if=\"self.checkAvailableControls('visibility|opacity|boundingBox')\"><div class=rv-subheader><h4 translate class=md-subhead>settings.label.display</h4></div><div class=rv-subcontent><md-divider class=rv-settings-divider></md-divider><rv-legend-control block=self.block template=switch name=visibility></rv-legend-control><md-divider class=rv-settings-divider></md-divider><rv-legend-control block=self.block template=slider name=opacity></rv-legend-control><md-divider class=rv-settings-divider></md-divider><rv-legend-control block=self.block template=switch name=boundingBox></rv-legend-control><md-divider class=rv-settings-divider></md-divider></div></div><div class=rv-subsection ng-if=\"self.checkAvailableControls('query|snapshot')\"><div class=rv-subheader><h4 translate class=md-subhead>settings.label.data</h4></div><div class=rv-subcontent><md-divider class=rv-settings-divider></md-divider><rv-legend-control block=self.block template=switch name=query></rv-legend-control><md-divider class=rv-settings-divider></md-divider><rv-legend-control block=self.block template=toggle-button name=snapshot></rv-legend-control><md-divider class=rv-settings-divider></md-divider></div></div><div class=rv-subsection><div class=rv-subcontent><rv-legend-control block=self.block template=body name=reload></rv-legend-control></div></div>"),e.put("app/ui/settings/settings.html","<rv-content-pane title-style=title class title-value=\"{{'settings.title' | translate}}: {{ self.display.requester.name }}\"><div class=rv-settings-content-panel></div></rv-content-pane>"),e.put("app/ui/sidenav/about-dialog.html","<md-dialog aria-label=\"{{'sidenav.label.about' | translate}}\" class=side-nav-about><rv-content-pane close-panel=self.close() title-style=title title-value=\"{{'sidenav.label.about' | translate}}\"><p class=rv-aboutDesc ng-bind-html=self.about tabindex=-2></p></rv-content-pane></md-dialog>"),e.put("app/ui/sidenav/menulink.html",'<md-button ng-if="self.control.type === \'link\'" ng-click="self.control.action(self.control, $event)" class=rv-button-square><div layout=row><md-icon md-svg-src="{{ ::self.control.icon }}"></md-icon>{{ self.control.label | translate }} <span flex></span><md-icon md-svg-src=navigation:check ng-if=self.control.isChecked(self.control)></md-icon></div></md-button><md-button ng-if="self.control.type === \'fullscreen\'" class=rv-button-square ngsf-toggle-fullscreen><div layout=row><md-icon md-svg-src="{{ ::self.control.icon }}"></md-icon>{{ self.control.label | translate }} <span flex></span><md-icon md-svg-src=navigation:check ng-if=self.control.isChecked(self.control)></md-icon></div></md-button><div layout=row ng-if="self.control.type === \'group\'" class="rv-menulink-header md-subhead"><md-icon md-svg-src="{{ ::self.control.icon }}"></md-icon>{{ self.control.label | translate }} <span flex></span></div>'),e.put("app/ui/sidenav/share-dialog.html","<md-dialog aria-label=\"{{'sidenav.label.sharelink' | translate}}\" class=side-nav-summary><rv-content-pane close-panel=self.close() title-style=title title-value=\"{{'sidenav.label.sharelink' | translate}}\"><md-switch class=md-primary ng-if=self.googleAPIUrl dir=rtl md-no-ink aria-label=\"{{'sidenav.label.shortlink' | translate}}\" ng-model=self.isShortLink ng-change=self.switchChanged(self.isShortLink)><span>{{'sidenav.label.shortlink' | translate}}</span></md-switch><md-input-container class=md-block flex-gt-xs><input class=rv-shareLink type=text ng-model=self.url readonly md-select-on-focus> <span>{{'sidenav.label.copy' | translate}}</span></md-input-container></rv-content-pane></md-dialog>"),e.put("app/ui/sidenav/sidenav.html",'<md-sidenav rv-trap-focus class="site-sidenav md-sidenav-left md-whiteframe-z2" md-component-id=left><header class=rv-sidemenu-header><div class=app-logo ng-class="{ \'rv-no-logo\': !self.config.logo }"><div ng-if=self.config.logo><img ng-src="{{ self.config.logoUrl }}" ng-if=self.config.logoUrl alt><md-icon md-svg-src=logo ng-if=!self.config.logoUrl></md-icon></div><h1 translate class="app-logotype md-heading">sidenav.title</h1></div></header><md-button class="md-icon-button black rv-button-32 minimize-button" ng-click=self.service.close()><md-icon md-svg-src=community:chevron-double-left></md-icon></md-button><md-content role=navigation><ul class=app-menu ng-repeat-start="section in self.config.items"><li class=app-menu-item ng-repeat="item in section" ng-init="item = self.service.controls[item]"><rv-menu-link control=item ng-if-start=!item.isHidden></rv-menu-link><ul class="app-menu app-menu-sublist" ng-if="item.type === \'group\'" ng-if-end><li ng-repeat="child in item.children"><rv-menu-link control=child></rv-menu-link></li></ul></li></ul><md-divider ng-repeat-end ng-if=!$last></md-divider><span flex></span><div class="md-caption rv-version"><span class=rv-version-number>{{ self.version.major }}.{{ self.version.minor }}.{{ self.version.patch }} <span class=rv-version-hash>[{{ self.version.hash }}]</span></span> <span class=rv-version-timestamp>{{ self.version.timestamp }}</span><div class=rv-version-github><a href=https://github.com/fgpv-vpgf/fgpv-vpgf class=rv-icon-24><md-icon md-svg-src=community:github></md-icon>fgpv-vpgf/fgpv-vpgf</a></div></div></md-content></md-sidenav>'),e.put("app/ui/toc/toc.html",'<rv-content-pane close-panel=self.actions.toggleLayerGroup()><div class=rv-toc ng-keydown=self.tocKeyDownHandler($event)><div layout=row class=rv-toc-tools><rv-loader-menu></rv-loader-menu><md-button aria-label="{{ toc.menu.reorder.title | translate }}" class="md-icon-button primary rv-icon-20" ng-if=self.map.legend.reorderable ng-class="{ selected: self.isReorder }" ng-click=self.toggleReorderMode()><md-tooltip>{{ \'toc.menu.reorder.title\' | translate }}</md-tooltip><md-icon md-svg-src=action:swap_vert></md-icon></md-button><h4 class=md-subhead ng-if=self.isReorder>{{ \'toc.menu.reorder.title\' | translate }}</h4><span flex></span><md-button aria-label="{{ toc.menu.reorder.close | translate }}" class="rv-close md-icon-button black rv-icon-20" ng-click=self.toggleReorderMode(false) ng-if=self.isReorder><md-tooltip>{{ \'toc.menu.reorder.close\' | translate }}</md-tooltip><md-icon md-svg-src=navigation:close></md-icon></md-button><rv-toc-expand-menu ng-if=!self.isReorder></rv-toc-expand-menu><rv-toc-visibility-menu ng-if=!self.isReorder></rv-toc-visibility-menu></div><ul class="rv-legend-list rv-legend-root rv-legend-level-0" dx-start-with=self.map.legendBlocks rv-dragula=toc-bag rv-dragula-options=dragulaOptions rv-dragula-model=self.map.legendBlocks.entries><li ng-repeat="block in $dxPrior.entries | filter: { controlled: false } track by block.id" class=rv-toggle-slide data-sort-group="{{ ::block.sortGroup }}"><rv-legend-block ng-if="$dxPrior.blockType !== \'set\'" class="rv-legend-{{ block.template }}" block=block is-reorder=self.isReorder ng-class="{ \'rv-selected\': block.isSelected }"></rv-legend-block><rv-legend-block ng-if="$dxPrior.blockType === \'set\'" class="rv-legend-{{ block.template }} rv-legend-set-{{ $dxPrior.id }}" block=block is-reorder=self.isReorder is-in-set=true ng-class="{ \'rv-selected\': block.isSelected }"></rv-legend-block><ul class="rv-legend-list rv-toggle-slide rv-legend-level-{{ ::$dxLevel }}" ng-if-start="block.blockType === \'group\'" dx-connect=block ng-show="block.expanded && !self.isReorder"></ul><div class=rv-shadow ng-if-end></div><ul class="rv-legend-list rv-legend-set" ng-class="{ \'rv-legend-set-highlight\': block.highlightSet }" ng-if="block.blockType === \'set\'" dx-connect=block></ul><md-progress-linear class=rv-progress-bottom md-mode=indeterminate ng-show=block.isRefreshing></md-progress-linear></li></ul><md-divider class=rv-layer-list-divider></md-divider></div></rv-content-pane>'),e.put("app/ui/toolbox/toolbox.html",'<rv-content-pane title-style=title title-value="Mapping Tools"><div><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p><p>[ mapping tools content ]</p></div></rv-content-pane>'),e.put("app/ui/tooltip/tooltip-hover.html","<div class=rv-tooltip-hover ng-class=\"{ 'rv-show rv-whiteframe-z2': self.isRendered }\"><ng-transclude></ng-transclude></div>"),e.put("app/ui/common/stepper/stepper-item.html",'<div class=rv-stepper-item-container><div class=rv-stepper-item-header ng-class="{ \'rv-summary\': self.summaryValue || self.step.summaryValue }"><span class=rv-stepper-item-number ng-class="{ \'rv-active\': self.isActive || self.step.isActive }" ng-if="!self.isCompleted && !self.step.isCompleted">{{ self.stepNumber || self.step.stepNumber }}</span><md-icon class=rv-stepper-item-check ng-class="{ \'rv-active\': self.isActive || self.step.isActive }" md-svg-src=action:check_circle ng-if="self.isCompleted || self.step.isCompleted"></md-icon><div class=rv-stepper-item-title><h5 class=md-body-2>{{ self.titleValue || self.step.titleValue | translate }}</h5><span class=md-caption>{{ self.summaryValue || self.step.summaryValue | translate }}</span></div></div><div class="rv-stepper-item-content rv-toggle-slide" ng-show="self.isActive || self.step.isActive"><form name=self.stepForm><div class=rv-stepper-item-body><ng-transclude></ng-transclude></div><div class=rv-stepper-item-footer ng-if="self.onCancel || self.step.onCancel || self.onContinue || self.step.onContinue"><md-button class="rv-button-square rv-stepper-item-footer-cancel" ng-disabled="!self.isCancelEnabled && !self.step.isCancelEnabled" ng-if="self.onCancel || self.step.onCancel" ng-click=self.onCancelBefore()>{{ \'stepper.cancel\' | translate }}</md-button><md-button class="rv-button-square rv-stepper-item-footer-continue md-raised md-primary" ng-disabled="!(self.stepForm.$valid && (self.isContinueEnabled || self.step.isContinueEnabled) && !self.step.isThinking)" ng-if="self.onContinue || self.step.onContinue" ng-click="(self.onContinue || self.step.onContinue)()">{{ \'stepper.continue\' | translate }}<md-progress-linear class=rv-progress-bottom md-mode=indeterminate ng-show=self.step.isThinking></md-progress-linear></md-button></div>{{ self.isThinking }}</form></div></div>'),e.put("app/ui/toc/templates/expand-menu.html",'<md-menu md-position-mode="target target"><md-button aria-label="{{ \'toc.menu.expand.title\' | translate }}" class="md-icon-button primary rv-icon-20" ng-click=$mdOpenMenu($event) ng-disabled=self.disabled><md-tooltip>{{ \'toc.menu.expand.title\' | translate }}</md-tooltip><md-icon md-svg-src=hardware:keyboard_arrow_down></md-icon></md-button><md-menu-content rv-trap-focus="{{ ::self.appID }}" class="rv-menu rv-dense" width=4><md-menu-item><md-button ng-click=self.expandAllLegendEntries() ng-disabled=self.isAllLegendEntriesExpanded() aria-label="{{ \'toc.menu.expand.allon\' | translate }}"><md-icon md-svg-icon=hardware:keyboard_arrow_down></md-icon>{{ \'toc.menu.expand.allon\' | translate }}</md-button></md-menu-item><md-menu-item><md-button ng-click=self.collapseAllLegendEntries() ng-disabled=self.isAllLegendEntriesCollapsed() aria-label="{{ \'toc.menu.expand.alloff\' | translate }}"><md-icon md-svg-icon=hardware:keyboard_arrow_up></md-icon>{{ \'toc.menu.expand.alloff\' | translate }}</md-button></md-menu-item></md-menu-content></md-menu>'),e.put("app/ui/toc/templates/legend-control-body.html",'<md-button aria-label="{{ self.uiControl.label | translate }}" class="rv-body-button rv-button-square" ng-disabled=self.uiControl.isDisabled ng-click=self.uiControl.action()>{{ self.uiControl.label | translate }}</md-button>'),e.put("app/ui/toc/templates/legend-control-button.html",'<md-button aria-label="{{ self.uiControl.label | translate }}" class="md-icon-button rv-icon-20" ng-class="{ selected: self.uiControl.isSelected }" ng-click=self.uiControl.action() ng-disabled=self.uiControl.isDisabled><md-tooltip ng-if=self.uiControl.tooltip md-direction=top>{{ self.uiControl.tooltip | translate }}</md-tooltip><md-icon md-svg-src="{{ self.uiControl.icon }}"></md-icon></md-button>'),e.put("app/ui/toc/templates/legend-control-menu.html",'<md-menu-item><md-button ng-click=self.uiControl.action() ng-class="{ selected: self.uiControl.selected }" ng-disabled=self.uiControl.isDisabled aria-label="{{ self.uiControl.label | translate }}"><md-icon md-svg-icon="{{ self.uiControl.icon }}"></md-icon>{{ self.uiControl.label | translate }}</md-button></md-menu-item>'),e.put("app/ui/toc/templates/legend-control-slider.html",'<div class=rv-slider><div class="rv-slider-header rv-icon-20"><md-icon md-svg-icon="{{ self.uiControl.icon }}"></md-icon>{{ self.uiControl.label | translate }}</div><div class=rv-slider-body><md-slider ng-disabled=self.uiControl.isDisabled class=md-primary max=1 min=0 step=0.01 ng-model=self.uiControl.value></md-slider><span class=rv-slider-indicator>{{ self.Math.round(self.uiControl.value * 100) }}%</span></div></div>'),e.put("app/ui/toc/templates/legend-control-switch.html",'<md-switch translate-attr-aria-label="{{ self.uiControl.label }}" class=rv-switch ng-class="{ \'md-primary\': !self.uiControl.isDisabled }" ng-disabled=self.uiControl.isDisabled ng-model=self.uiControl.value><md-icon md-svg-src="{{ self.uiControl.icon }}"></md-icon>{{ self.uiControl.label | translate }}</md-switch>'),e.put("app/ui/toc/templates/legend-control-toggle-button.html",'<div class=rv-toggle-button><md-icon md-svg-src="{{ self.uiControl.icon }}"></md-icon><span>{{ self.uiControl.label | translate }}</span><md-button aria-label="{{ self.uiControl.label | translate }}" class=rv-button-square ng-click=self.uiControl.action() ng-disabled="self.uiControl.isDisabled || self.uiControl.value"><md-tooltip ng-if=self.uiControl.tooltip md-direction=top>{{ self.uiControl.tooltip | translate }}</md-tooltip>{{ self.uiControl.value ? \'settings.label.enabled\' : \'settings.label.enable\' | translate }}</md-button></div>'),e.put("app/ui/toc/templates/legend-error.html",'<div class=rv-icon-32><md-icon md-svg-src=community:emoticon-sad></md-icon></div><div class=rv-list-item-content><div class=rv-list-item-name>{{ self.block.name }}</div></div><div class=rv-list-item-controls><rv-legend-control block=self.block name=reload class="rv-stay-visible rv-list-item-control"></rv-legend-control><rv-legend-control block=self.block name=remove class="rv-stay-visible rv-list-item-control"></rv-legend-control></div>'),e.put("app/ui/toc/templates/legend-flag.html",'<div class="rv-icon-14 rv-layer-item-flag" ng-if=self.uiControl.isVisible tabindex=0 aria-label="{{ self.uiControl.tooltip | translate:self.uiControl.data }}"><md-tooltip md-direction=right>{{ self.uiControl.tooltip | translate:self.uiControl.data }}</md-tooltip><md-icon class="{{ self.uiControl.style }}" md-svg-src="{{ self.uiControl.icon }}"></md-icon></div>'),e.put("app/ui/toc/templates/legend-group.html",'<div class=rv-list-item-body><md-button ng-if=!self.isReorder class="rv-body-button rv-button-square" ng-click="self.block.expanded = !self.block.expanded"></md-button></div><div class="rv-icon-24 rv-list-item-toggle"><md-icon class=rv-transform-default ng-class="{ \'rv-rotate--180\' : self.block.expanded && !self.isReorder }" md-svg-src=hardware:keyboard_arrow_down></md-icon></div><div class=rv-list-item-content><div class=rv-list-item-name>{{ self.block.name }}</div></div><div class=rv-list-item-controls ng-if=self.isReorder><rv-legend-control rv-drag-handle block=self.block name=reorder class="rv-list-item-control rv-stay-visible"></rv-legend-control></div><div class=rv-list-item-controls ng-if=!self.isReorder><md-menu md-position-mode="target-right target" class=rv-list-item-control ng-if="self.intersect(self.block.availableControls, [\'metadata\', \'settings\', \'boundary\', \'reload\', \'remove\']).length > 0"><md-button aria-label="{{ \'toc.entry.aria.openData\' | translate }}" class="md-icon-button rv-button-40 rv-icon-20" ng-click=$mdOpenMenu($event)><md-icon md-svg-src=navigation:more_horiz></md-icon></md-button><md-menu-content rv-trap-focus="{{ ::self.appID }}" class="rv-menu rv-dense" width=4><rv-legend-control block=self.block template=menu name=metadata></rv-legend-control><rv-legend-control block=self.block template=menu name=settings></rv-legend-control><md-menu-divider></md-menu-divider><rv-legend-control block=self.block template=menu name=boundary></rv-legend-control><rv-legend-control block=self.block template=menu name=remove></rv-legend-control></md-menu-content></md-menu><rv-legend-control ng-if=self.isInSet block=self.block name=visibilityset class="rv-stay-visible rv-list-item-control" ng-mouseenter="self.block.highlightSet = true" ng-mouseleave="self.block.highlightSet = false"></rv-legend-control><rv-legend-control ng-if=!self.isInSet block=self.block name=visibilitynode class="rv-stay-visible rv-list-item-control"></rv-legend-control></div>'),
e.put("app/ui/toc/templates/legend-info.html",'<div ng-switch=self.block.infoType class="rv-list-item-content rv-legend-{{ self.block.infoType }}"><h3 ng-switch-when=title class=md-subhead>{{ self.block.content }}</h3><p ng-switch-when=text>{{ self.block.content }}</p><img ng-switch-when=image ng-src="{{ self.block.content }}" alt></div>'),e.put("app/ui/toc/templates/legend-node.html",'<div class=rv-list-item-body ng-mouseover="self.block.symbologyStack.fannedOut = true" ng-mouseleave="self.block.symbologyStack.fannedOut = false"><rv-legend-control block=self.block template=body name=data></rv-legend-control></div><rv-symbology-stack symbology=self.block.symbologyStack container=self.element></rv-symbology-stack><div class=rv-list-item-content><div class=rv-list-item-name>{{ self.block.name }} {{ self.block._mainProxy.state }}</div><div class=rv-list-item-flags><rv-legend-flag block=self.block name=type></rv-legend-flag><rv-legend-flag block=self.block name=data></rv-legend-flag><rv-legend-flag block=self.block name=user></rv-legend-flag><rv-legend-flag block=self.block name=scale></rv-legend-flag><rv-legend-flag block=self.block name=query></rv-legend-flag><rv-legend-flag block=self.block name=filter></rv-legend-flag><rv-legend-flag block=self.block name=boundingBox></rv-legend-flag></div></div><div class=rv-list-item-controls ng-if=self.isReorder><rv-legend-control rv-drag-handle block=self.block name=reorder class="rv-list-item-control rv-stay-visible"></rv-legend-control></div><div class=rv-list-item-controls ng-if=!self.isReorder><md-menu md-position-mode="target-right target" class=rv-list-item-control ng-if="self.intersect(self.block.availableControls, [\'metadata\', \'settings\', \'data\', \'symbology\', \'boundary\', \'reload\', \'remove\']).length > 0"><md-button aria-label="{{ \'toc.entry.aria.openData\' | translate }}" class="md-icon-button rv-button-40 rv-icon-20" ng-click=$mdOpenMenu($event)><md-icon md-svg-src=navigation:more_horiz></md-icon></md-button><md-menu-content rv-trap-focus="{{ ::self.appID }}" class="rv-menu rv-dense" width=4><rv-legend-control block=self.block template=menu name=metadata></rv-legend-control><rv-legend-control block=self.block template=menu name=settings></rv-legend-control><rv-legend-control block=self.block template=menu name=data></rv-legend-control><rv-legend-control block=self.block template=menu name=symbology></rv-legend-control><md-menu-divider></md-menu-divider><rv-legend-control block=self.block template=menu name=boundary></rv-legend-control><rv-legend-control block=self.block template=menu name=reload></rv-legend-control><rv-legend-control block=self.block template=menu name=remove></rv-legend-control></md-menu-content></md-menu><rv-legend-control ng-if=self.isInSet block=self.block name=visibilityset class="rv-stay-visible rv-list-item-control" ng-mouseenter="self.block.highlightSet = true" ng-mouseleave="self.block.highlightSet = false"></rv-legend-control><rv-legend-control ng-if=!self.isInSet block=self.block name=visibilitynode class="rv-stay-visible rv-list-item-control"></rv-legend-control><rv-legend-control block=self.block name=offscale class="rv-stay-visible rv-list-item-control"></rv-legend-control></div>'),e.put("app/ui/toc/templates/legend-placeholder.html",'<div class=rv-icon-32><md-icon md-svg-src=community:emoticon-happy></md-icon></div><div class=rv-list-item-content><div class=rv-list-item-name>{{ self.block.name }}</div></div><div class=rv-list-item-controls><rv-legend-control block=self.block name=reload class="rv-stay-visible rv-list-item-control"></rv-legend-control><rv-legend-control block=self.block name=remove class="rv-stay-visible rv-list-item-control"></rv-legend-control></div>'),e.put("app/ui/toc/templates/legend-set.html",""),e.put("app/ui/toc/templates/symbology-stack.html",'<div class="rv-symbology-container rv-render-{{ self.symbology.renderStyle }}" ng-class=\'[{ "rv-expanded" : self.isExpanded }, { "rv-compound" : self.symbology.stack.length > 1 } ]\'><div class=rv-symbol ng-repeat="symbol in self.symbology.stack | rvReverse"><rv-svg class=rv-symbol-graphic src=symbol.svgcode></rv-svg><div class=rv-symbol-label-container><span class=rv-symbol-label>{{ symbol.name }}</span></div></div><md-button class="rv-symbol-trigger rv-button-32 rv-icon-24 md-icon-button" ng-if=self.symbology.isInteractive ng-click=self.expandSymbology() ng-focus=self.fanOutSymbology(true) ng-blur=self.fanOutSymbology(false) ng-mouseover=self.fanOutSymbology(true) ng-mouseout=self.fanOutSymbology(false)><md-tooltip md-direction=top>{{ self.isExpanded ? \'toc.layer.label.symbologyHide\' : \'toc.layer.label.symbologyShow\' | translate }}</md-tooltip><md-icon md-svg-src=navigation:close></md-icon></md-button></div>'),e.put("app/ui/toc/templates/visibility-menu.html",'<md-menu md-position-mode="target target"><md-button aria-label="{{ toc.menu.visibility.title | translate }}" class="md-icon-button primary rv-icon-20" ng-click=$mdOpenMenu($event) ng-disabled=self.disabled><md-tooltip>{{ \'toc.menu.visibility.title\' | translate }}</md-tooltip><md-icon md-svg-src=action:visibility></md-icon></md-button><md-menu-content rv-trap-focus="{{ ::self.appID }}" class="rv-menu rv-dense" width=4><md-menu-item><md-button ng-click=self.showAllLegendEntries() ng-disabled=self.isAllLegendEntriesVisible() aria-label="{{ toc.menu.visibility.allon | translate }}"><md-icon md-svg-icon=action:visibility></md-icon>{{ \'toc.menu.visibility.allon\' | translate }}</md-button></md-menu-item><md-menu-item><md-button ng-click=self.hideAllLegendEntries() ng-disabled=self.isAllLegendEntriesHidden() aria-label="{{ toc.menu.visibility.alloff | translate }}"><md-icon md-svg-icon=action:visibility_off></md-icon>{{ \'toc.menu.visibility.alloff\' | translate }}</md-button></md-menu-item></md-menu-content></md-menu>')}]),angular.element(document).ready(function(){"use strict";window.RV._nodes.forEach(function(e){e.appendChild(angular.element('<rv-shell class="md-body-1">')[0]),angular.bootstrap(e,["app"],{strictDi:!0})})});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){var e={"en-CA":{cartButtonLabel:"Back to Cart"},"fr-CA":{cartButtonLabel:"Retour au panier"}},t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"onMenuItemClick",value:function(){var e=this;return function(){sessionStorage.setItem(e.api.appInfo.id,e.api.getBookmark()),window.location.href=e.catalogURL}}},{key:"init",value:function(t){this.templateUrl=t,this.name="cartButtonLabel",this.translations=e,this.action=this.onMenuItemClick()}},{key:"catalogURL",get:function(){return this.templateUrl.replace("{RV_LAYER_LIST}",this.api.getRcsLayerIDs().toString())}}]),n}(RV.BasePlugins.MenuItem);RV.Plugins.BackToCart=t}();
//# sourceMappingURL=maps/core.js.map
