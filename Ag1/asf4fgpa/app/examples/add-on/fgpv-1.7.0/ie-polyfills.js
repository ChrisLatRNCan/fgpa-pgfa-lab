Array.prototype.fill||(Array.prototype.fill=function(n){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),r=e.length>>>0,t=arguments[1],i=t>>0,o=i<0?Math.max(r+i,0):Math.min(i,r),s=arguments[2],a=void 0===s?r:s>>0,u=a<0?Math.max(r+a,0):Math.min(a,r);o<u;)e[o]=n,o++;return e}),Array.prototype.find||(Array.prototype.find=function(n){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof n)throw new TypeError("predicate must be a function");for(var e,r=Object(this),t=r.length>>>0,i=arguments[1],o=0;o<t;o++)if(e=r[o],n.call(i,e,o,r))return e}),Array.prototype.findIndex||(Array.prototype.findIndex=function(n){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof n)throw new TypeError("predicate must be a function");for(var e,r=Object(this),t=r.length>>>0,i=arguments[1],o=0;o<t;o++)if(e=r[o],n.call(i,e,o,r))return o;return-1}),Array.from||(Array.from=function(){var n=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===n.call(e)},r=function(n){var e=Number(n);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},t=Math.pow(2,53)-1,i=function(n){var e=r(n);return Math.min(Math.max(e,0),t)};return function(n){var r=this,t=Object(n);if(null==n)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,s=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof s){if(!e(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,u=i(t.length),l=e(r)?Object(new r(u)):new Array(u),c=0;c<u;)a=t[c],s?l[c]="undefined"==typeof o?s(a,c):s.call(o,a,c):l[c]=a,c+=1;return l.length=u,l}}()),"function"!=typeof Object.assign&&(Object.assign=function(n){"use strict";if(null==n)throw new TypeError("Cannot convert undefined or null to object");n=Object(n);for(var e=1;e<arguments.length;e++){var r=arguments[e];if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n}),"undefined"!=typeof module&&module.exports&&(this["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]),function(n){"use strict";function e(n,e,r){return e<=n&&n<=r}function r(n,e){return n.indexOf(e)!==-1}function t(n){if(void 0===n)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function i(n){for(var e=String(n),r=e.length,t=0,i=[];t<r;){var o=e.charCodeAt(t);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(t===r-1)i.push(65533);else{var s=e.charCodeAt(t+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),t+=1}else i.push(65533)}t+=1}return i}function o(n){for(var e="",r=0;r<n.length;++r){var t=n[r];t<=65535?e+=String.fromCharCode(t):(t-=65536,e+=String.fromCharCode((t>>10)+55296,(1023&t)+56320))}return e}function s(n){return 0<=n&&n<=127}function a(n){this.tokens=[].slice.call(n),this.tokens.reverse()}function u(n,e){if(n)throw TypeError("Decoder error");return e||65533}function l(n){throw TypeError("The code point "+n+" could not be encoded.")}function c(){}function f(){}function d(n){return n=String(n).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(Y,n)?Y[n]:null}function h(n,e){return e?e[n]||null:null}function p(n,e){var r=e.indexOf(n);return r===-1?null:r}function g(e){if(!("encoding-indexes"in n))throw Error("Indexes missing. Did you forget to include encoding-indexes.js?");return n["encoding-indexes"][e]}function y(n){if(n>39419&&n<189e3||n>1237575)return null;if(7457===n)return 59335;var e,r=0,t=0,i=g("gb18030");for(e=0;e<i.length;++e){var o=i[e];if(!(o[0]<=n))break;r=o[0],t=o[1]}return t+n-r}function m(n){if(59335===n)return 7457;var e,r=0,t=0,i=g("gb18030");for(e=0;e<i.length;++e){var o=i[e];if(!(o[1]<=n))break;r=o[1],t=o[0]}return t+n-r}function v(n){var r=p(n,g("jis0208"));return null===r||e(r,8272,8835)?null:r}function w(n){var e=g("big5");return 9552===n||9566===n||9569===n||9578===n||21313===n||21317===n?e.lastIndexOf(n):p(n,e)}function _(n,e){if(!(this instanceof _))throw TypeError("Called as a function. Did you forget 'new'?");n=void 0!==n?String(n):Q,e=t(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=d(n);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+n);if(!H[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js?");var i=this;return i._encoding=r,Boolean(e.fatal)&&(i._error_mode="fatal"),Boolean(e.ignoreBOM)&&(i._ignoreBOM=!0),Object.defineProperty||(this.encoding=i._encoding.name.toLowerCase(),this.fatal="fatal"===i._error_mode,this.ignoreBOM=i._ignoreBOM),i}function b(n,e){if(!(this instanceof b))throw TypeError("Called as a function. Did you forget 'new'?");e=t(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(e.fatal)?"fatal":"replacement";var r=this;if(Boolean(e.NONSTANDARD_allowLegacyEncoding)){n=void 0!==n?String(n):Q;var i=d(n);if(null===i||"replacement"===i.name)throw RangeError("Unknown encoding: "+n);if(!z[i.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js?");r._encoding=i}else r._encoding=d("utf-8");return Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase()),r}function S(n){var r=n.fatal,t=0,i=0,o=0,s=128,a=191;this.handler=function(n,l){if(l===q&&0!==o)return o=0,u(r);if(l===q)return W;if(0===o){if(e(l,0,127))return l;if(e(l,194,223))o=1,t=31&l;else if(e(l,224,239))224===l&&(s=160),237===l&&(a=159),o=2,t=15&l;else{if(!e(l,240,244))return u(r);240===l&&(s=144),244===l&&(a=143),o=3,t=7&l}return null}if(!e(l,s,a))return t=o=i=0,s=128,a=191,n.prepend(l),u(r);if(s=128,a=191,t=t<<6|63&l,i+=1,i!==o)return null;var c=t;return t=o=i=0,c}}function E(n){n.fatal;this.handler=function(n,r){if(r===q)return W;if(e(r,0,127))return r;var t,i;e(r,128,2047)?(t=1,i=192):e(r,2048,65535)?(t=2,i=224):e(r,65536,1114111)&&(t=3,i=240);for(var o=[(r>>6*t)+i];t>0;){var s=r>>6*(t-1);o.push(128|63&s),t-=1}return o}}function A(n,e){var r=e.fatal;this.handler=function(e,t){if(t===q)return W;if(s(t))return t;var i=n[t-128];return null===i?u(r):i}}function O(n,e){e.fatal;this.handler=function(e,r){if(r===q)return W;if(G(r))return r;var t=p(r,n);return null===t&&l(r),t+128}}function x(n){var r=n.fatal,t=0,i=0,o=0;this.handler=function(n,a){if(a===q&&0===t&&0===i&&0===o)return W;a!==q||0===t&&0===i&&0===o||(t=0,i=0,o=0,u(r));var l;if(0!==o){l=null,e(a,48,57)&&(l=y(10*(126*(10*(t-129)+(i-48))+(o-129))+a-48));var c=[i,o,a];return t=0,i=0,o=0,null===l?(n.prepend(c),u(r)):l}if(0!==i)return e(a,129,254)?(o=a,null):(n.prepend([i,a]),t=0,i=0,u(r));if(0!==t){if(e(a,48,57))return i=a,null;var f=t,d=null;t=0;var p=a<127?64:65;return(e(a,64,126)||e(a,128,254))&&(d=190*(f-129)+(a-p)),l=null===d?null:h(d,g("gb18030")),null===l&&s(a)&&n.prepend(a),null===l?u(r):l}return s(a)?a:128===a?8364:e(a,129,254)?(t=a,null):u(r)}}function j(n,e){n.fatal;this.handler=function(n,r){if(r===q)return W;if(G(r))return r;if(58853===r)return l(r);if(e&&8364===r)return 128;var t=p(r,g("gb18030"));if(null!==t){var i=V(t/190)+129,o=t%190,s=o<63?64:65;return[i,o+s]}if(e)return l(r);t=m(r);var a=V(t/10/126/10);t-=10*a*126*10;var u=V(t/10/126);t-=10*u*126;var c=V(t/10),f=t-10*c;return[a+129,u+48,c+129,f+48]}}function I(n){var r=n.fatal,t=0;this.handler=function(n,i){if(i===q&&0!==t)return t=0,u(r);if(i===q&&0===t)return W;if(0!==t){var o=t,a=null;t=0;var l=i<127?64:98;switch((e(i,64,126)||e(i,161,254))&&(a=157*(o-129)+(i-l)),a){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var c=null===a?null:h(a,g("big5"));return null===c&&s(i)&&n.prepend(i),null===c?u(r):c}return s(i)?i:e(i,129,254)?(t=i,null):u(r)}}function k(n){n.fatal;this.handler=function(n,e){if(e===q)return W;if(G(e))return e;var r=w(e);if(null===r)return l(e);var t=V(r/157)+129;if(t<161)return l(e);var i=r%157,o=i<63?64:98;return[t,i+o]}}function T(n){var r=n.fatal,t=!1,i=0;this.handler=function(n,o){if(o===q&&0!==i)return i=0,u(r);if(o===q&&0===i)return W;if(142===i&&e(o,161,223))return i=0,65377+o-161;if(143===i&&e(o,161,254))return t=!0,i=o,null;if(0!==i){var a=i;i=0;var l=null;return e(a,161,254)&&e(o,161,254)&&(l=h(94*(a-161)+(o-161),g(t?"jis0212":"jis0208"))),t=!1,e(o,161,254)||n.prepend(o),null===l?u(r):l}return s(o)?o:142===o||143===o||e(o,161,254)?(i=o,null):u(r)}}function C(n){n.fatal;this.handler=function(n,r){if(r===q)return W;if(G(r))return r;if(165===r)return 92;if(8254===r)return 126;if(e(r,65377,65439))return[142,r-65377+161];8722===r&&(r=65293);var t=p(r,g("jis0208"));if(null===t)return l(r);var i=V(t/94)+161,o=t%94+161;return[i,o]}}function B(n){var r=n.fatal,t={ASCII:0,Roman:1,Katakana:2,LeadByte:3,TrailByte:4,EscapeStart:5,Escape:6},i=t.ASCII,o=t.ASCII,s=0,a=!1;this.handler=function(n,l){switch(i){default:case t.ASCII:return 27===l?(i=t.EscapeStart,null):e(l,0,127)&&14!==l&&15!==l&&27!==l?(a=!1,l):l===q?W:(a=!1,u(r));case t.Roman:return 27===l?(i=t.EscapeStart,null):92===l?(a=!1,165):126===l?(a=!1,8254):e(l,0,127)&&14!==l&&15!==l&&27!==l&&92!==l&&126!==l?(a=!1,l):l===q?W:(a=!1,u(r));case t.Katakana:return 27===l?(i=t.EscapeStart,null):e(l,33,95)?(a=!1,65377+l-33):l===q?W:(a=!1,u(r));case t.LeadByte:return 27===l?(i=t.EscapeStart,null):e(l,33,126)?(a=!1,s=l,i=t.TrailByte,null):l===q?W:(a=!1,u(r));case t.TrailByte:if(27===l)return i=t.EscapeStart,u(r);if(e(l,33,126)){i=t.LeadByte;var c=94*(s-33)+l-33,f=h(c,g("jis0208"));return null===f?u(r):f}return l===q?(i=t.LeadByte,n.prepend(l),u(r)):(i=t.LeadByte,u(r));case t.EscapeStart:return 36===l||40===l?(s=l,i=t.Escape,null):(n.prepend(l),a=!1,i=o,u(r));case t.Escape:var d=s;s=0;var p=null;if(40===d&&66===l&&(p=t.ASCII),40===d&&74===l&&(p=t.Roman),40===d&&73===l&&(p=t.Katakana),36!==d||64!==l&&66!==l||(p=t.LeadByte),null!==p){i=i=p;var y=a;return a=!0,y?u(r):null}return n.prepend([d,l]),a=!1,i=o,u(r)}}}function M(n){var e=(n.fatal,{ASCII:0,Roman:1,jis0208:2}),r=e.ASCII;this.handler=function(n,t){if(t===q&&r!==e.ASCII)return n.prepend(t),r=e.ASCII,[27,40,66];if(t===q&&r===e.ASCII)return W;if(!(r!==e.ASCII&&r!==e.Roman||14!==t&&15!==t&&27!==t))return l(65533);if(r===e.ASCII&&G(t))return t;if(r===e.Roman&&(G(t)&&92!==t&&126!==t||165==t||8254==t)){if(G(t))return t;if(165===t)return 92;if(8254===t)return 126}if(G(t)&&r!==e.ASCII)return n.prepend(t),r=e.ASCII,[27,40,66];if((165===t||8254===t)&&r!==e.Roman)return n.prepend(t),r=e.Roman,[27,40,74];8722===t&&(t=65293);var i=p(t,g("jis0208"));if(null===i)return l(t);if(r!==e.jis0208)return n.prepend(t),r=e.jis0208,[27,36,66];var o=V(i/94)+33,s=i%94+33;return[o,s]}}function L(n){var r=n.fatal,t=0;this.handler=function(n,i){if(i===q&&0!==t)return t=0,u(r);if(i===q&&0===t)return W;if(0!==t){var o=t,a=null;t=0;var l=i<127?64:65,c=o<160?129:193;(e(i,64,126)||e(i,128,252))&&(a=188*(o-c)+i-l);var f=null===a?null:h(a,g("jis0208"));return null===f&&null!==a&&e(a,8836,10528)?57344+a-8836:(null===f&&s(i)&&n.prepend(i),null===f?u(r):f)}return s(i)||128===i?i:e(i,161,223)?65377+i-161:e(i,129,159)||e(i,224,252)?(t=i,null):u(r)}}function P(n){n.fatal;this.handler=function(n,r){if(r===q)return W;if(G(r)||128===r)return r;if(165===r)return 92;if(8254===r)return 126;if(e(r,65377,65439))return r-65377+161;8722===r&&(r=65293);var t=v(r);if(null===t)return l(r);var i=V(t/188),o=i<31?129:193,s=t%188,a=s<63?64:65;return[i+o,s+a]}}function U(n){var r=n.fatal,t=0;this.handler=function(n,i){if(i===q&&0!==t)return t=0,u(r);if(i===q&&0===t)return W;if(0!==t){var o=t,a=null;t=0,e(i,65,254)&&(a=190*(o-129)+(i-65));var l=null===a?null:h(a,g("euc-kr"));return null===a&&s(i)&&n.prepend(i),null===l?u(r):l}return s(i)?i:e(i,129,254)?(t=i,null):u(r)}}function R(n){n.fatal;this.handler=function(n,e){if(e===q)return W;if(G(e))return e;var r=p(e,g("euc-kr"));if(null===r)return l(e);var t=V(r/190)+129,i=r%190+65;return[t,i]}}function F(n,e){var r=n>>8,t=255&n;return e?[r,t]:[t,r]}function D(n,r){var t=r.fatal,i=null,o=null;this.handler=function(r,s){if(s===q&&(null!==i||null!==o))return u(t);if(s===q&&null===i&&null===o)return W;if(null===i)return i=s,null;var a;if(a=n?(i<<8)+s:(s<<8)+i,i=null,null!==o){var l=o;return o=null,e(a,56320,57343)?65536+1024*(l-55296)+(a-56320):(r.prepend(F(a,n)),u(t))}return e(a,55296,56319)?(o=a,null):e(a,56320,57343)?u(t):a}}function N(n,r){r.fatal;this.handler=function(r,t){if(t===q)return W;if(e(t,0,65535))return F(t,n);var i=F((t-65536>>10)+55296,n),o=F((t-65536&1023)+56320,n);return i.concat(o)}}function K(n){n.fatal;this.handler=function(n,e){return e===q?W:s(e)?e:63360+e-128}}function J(n){n.fatal;this.handler=function(n,r){return r===q?W:G(r)?r:e(r,63360,63487)?r-63360+128:l(r)}}var V=Math.floor,G=s,q=-1;a.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():q},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.pop());else this.tokens.push(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(n)}};var W=-1;c.prototype={handler:function(n,e){}},f.prototype={handler:function(n,e){}};var $=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],Y={};$.forEach(function(n){n.encodings.forEach(function(n){n.labels.forEach(function(e){Y[e]=n})})});var z={},H={},Q="utf-8";Object.defineProperty&&(Object.defineProperty(_.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(_.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(_.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),_.prototype.decode=function(n,e){function i(n){return!r(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)||this._ignoreBOM||this._BOMseen||(n.length>0&&65279===n[0]?(this._BOMseen=!0,n.shift()):n.length>0&&(this._BOMseen=!0)),o(n)}var s;s="object"==typeof n&&n instanceof ArrayBuffer?new Uint8Array(n):"object"==typeof n&&"buffer"in n&&n.buffer instanceof ArrayBuffer?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(0),e=t(e),this._do_not_flush||(this._decoder=H[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(e.stream);for(var u,l=new a(s),c=[];;){var f=l.read();if(f===q)break;if(u=this._decoder.handler(l,f),u===W)break;null!==u&&(Array.isArray(u)?c.push.apply(c,u):c.push(u))}if(!this._do_not_flush){do{if(u=this._decoder.handler(l,l.read()),u===W)break;null!==u&&(Array.isArray(u)?c.push.apply(c,u):c.push(u))}while(!l.endOfStream());this._decoder=null}return i.call(this,c)},Object.defineProperty&&Object.defineProperty(b.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),b.prototype.encode=function(n,e){n=n?String(n):"",e=t(e),this._do_not_flush||(this._encoder=z[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(e.stream);for(var r,o=new a(i(n)),s=[];;){var u=o.read();if(u===q)break;if(r=this._encoder.handler(o,u),r===W)break;Array.isArray(r)?s.push.apply(s,r):s.push(r)}if(!this._do_not_flush){for(;;){if(r=this._encoder.handler(o,o.read()),r===W)break;Array.isArray(r)?s.push.apply(s,r):s.push(r)}this._encoder=null}return new Uint8Array(s)},z["UTF-8"]=function(n){return new E(n)},H["UTF-8"]=function(n){return new S(n)},function(){"encoding-indexes"in n&&$.forEach(function(n){"Legacy single-byte encodings"===n.heading&&n.encodings.forEach(function(n){var e=n.name,r=g(e.toLowerCase());H[e]=function(n){return new A(r,n)},z[e]=function(n){return new O(r,n)}})})}(),H.GBK=function(n){return new x(n)},z.GBK=function(n){return new j(n,(!0))},z.gb18030=function(n){return new j(n)},H.gb18030=function(n){return new x(n)},z.Big5=function(n){return new k(n)},H.Big5=function(n){return new I(n)},z["EUC-JP"]=function(n){return new C(n)},H["EUC-JP"]=function(n){return new T(n)},z["ISO-2022-JP"]=function(n){return new M(n)},H["ISO-2022-JP"]=function(n){return new B(n)},z.Shift_JIS=function(n){return new P(n)},H.Shift_JIS=function(n){return new L(n)},z["EUC-KR"]=function(n){return new R(n)},H["EUC-KR"]=function(n){return new U(n)},z["UTF-16BE"]=function(n){return new N((!0),n)},H["UTF-16BE"]=function(n){return new D((!0),n)},z["UTF-16LE"]=function(n){return new N((!1),n)},H["UTF-16LE"]=function(n){return new D((!1),n)},z["x-user-defined"]=function(n){return new J(n)},H["x-user-defined"]=function(n){return new K(n)},n.TextEncoder||(n.TextEncoder=b),n.TextDecoder||(n.TextDecoder=_),"undefined"!=typeof module&&module.exports&&(module.exports={TextEncoder:n.TextEncoder,TextDecoder:n.TextDecoder,EncodingIndexes:n["encoding-indexes"]})}(this),function(){function n(e){for(var r="<"+e.nodeName,t=0;t<e.attributes.length;t++){var i=e.attributes[t],o=i.name||i.nodeName,s=(i.value||i.nodeValue).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");r+=" "+o+'="'+s+'"'}if(e.childNodes.length>0){for(r+=">",t=0;t<e.childNodes.length;t++){var a=e.childNodes[t];1===a.nodeType?r+=n(a):3===a.nodeType&&(r+=a.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))}r+="</"+e.nodeName+">"}else r+="/>";return r}function e(e){var r=document.createElement("svg");if(!(e&&this instanceof SVG.Parent))return r.appendChild(e=document.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),n(e).replace(/^<svg>/i,"").replace(/<\/svg>$/i,"");r.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var t=0,i=r.firstChild.childNodes.length;t<i;t++);return this.node.appendChild(r.firstChild.firstChild),this}Object.defineProperty(SVGElement.prototype,"outerHTML",{get:function(){return n(this)},enumerable:!1,configurable:!0});const r=window.RV="undefined"==typeof window.RV?{}:window.RV;(r._deferredPolyfills=r._deferredPolyfills||[]).push(function(){SVG.extend(SVG.Element,{svg:e})})}(),function(){"use strict";function n(n){return"function"==typeof n||"object"==typeof n&&null!==n}function e(n){return"function"==typeof n}function r(n){G=n}function t(n){Y=n}function i(){return function(){process.nextTick(l)}}function o(){return function(){V(l)}}function s(){var n=0,e=new Q(l),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=n=++n%2}}function a(){var n=new MessageChannel;return n.port1.onmessage=l,function(){n.port2.postMessage(0)}}function u(){return function(){setTimeout(l,1)}}function l(){for(var n=0;n<$;n+=2){var e=nn[n],r=nn[n+1];e(r),nn[n]=void 0,nn[n+1]=void 0}$=0}function c(){try{var n=require,e=n("vertx");return V=e.runOnLoop||e.runOnContext,o()}catch(r){return u()}}function f(n,e){var r=this,t=new this.constructor(h);void 0===t[tn]&&B(t);var i=r._state;if(i){var o=arguments[i-1];Y(function(){k(i,t,o,r._result)})}else O(r,t,n,e);return t}function d(n){var e=this;if(n&&"object"==typeof n&&n.constructor===e)return n;var r=new e(h);return b(r,n),r}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function y(n){try{return n.then}catch(e){return un.error=e,un}}function m(n,e,r,t){try{n.call(e,r,t)}catch(i){return i}}function v(n,e,r){Y(function(n){var t=!1,i=m(r,e,function(r){t||(t=!0,e!==r?b(n,r):E(n,r))},function(e){t||(t=!0,A(n,e))},"Settle: "+(n._label||" unknown promise"));!t&&i&&(t=!0,A(n,i))},n)}function w(n,e){e._state===sn?E(n,e._result):e._state===an?A(n,e._result):O(e,void 0,function(e){b(n,e)},function(e){A(n,e)})}function _(n,r,t){r.constructor===n.constructor&&t===en&&constructor.resolve===rn?w(n,r):t===un?A(n,un.error):void 0===t?E(n,r):e(t)?v(n,r,t):E(n,r)}function b(e,r){e===r?A(e,p()):n(r)?_(e,r,y(r)):E(e,r)}function S(n){n._onerror&&n._onerror(n._result),x(n)}function E(n,e){n._state===on&&(n._result=e,n._state=sn,0!==n._subscribers.length&&Y(x,n))}function A(n,e){n._state===on&&(n._state=an,n._result=e,Y(S,n))}function O(n,e,r,t){var i=n._subscribers,o=i.length;n._onerror=null,i[o]=e,i[o+sn]=r,i[o+an]=t,0===o&&n._state&&Y(x,n)}function x(n){var e=n._subscribers,r=n._state;if(0!==e.length){for(var t,i,o=n._result,s=0;s<e.length;s+=3)t=e[s],i=e[s+r],t?k(r,t,i,o):i(o);n._subscribers.length=0}}function j(){this.error=null}function I(n,e){try{return n(e)}catch(r){return ln.error=r,ln}}function k(n,r,t,i){var o,s,a,u,l=e(t);if(l){if(o=I(t,i),o===ln?(u=!0,s=o.error,o=null):a=!0,r===o)return void A(r,g())}else o=i,a=!0;r._state!==on||(l&&a?b(r,o):u?A(r,s):n===sn?E(r,o):n===an&&A(r,o))}function T(n,e){try{e(function(e){b(n,e)},function(e){A(n,e)})}catch(r){A(n,r)}}function C(){return cn++}function B(n){n[tn]=cn++,n._state=void 0,n._result=void 0,n._subscribers=[]}function M(n){return new gn(this,n).promise}function L(n){var e=this;return new e(W(n)?function(r,t){for(var i=n.length,o=0;o<i;o++)e.resolve(n[o]).then(r,t)}:function(n,e){e(new TypeError("You must pass an array to race."))})}function P(n){var e=this,r=new e(h);return A(r,n),r}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(n){this[tn]=C(),this._result=this._state=void 0,this._subscribers=[],h!==n&&("function"!=typeof n&&U(),this instanceof F?T(this,n):R())}function D(n,e){this._instanceConstructor=n,this.promise=new n(h),this.promise[tn]||B(this.promise),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):A(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function K(){var n;if("undefined"!=typeof global)n=global;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=n.Promise;r&&"[object Promise]"===Object.prototype.toString.call(r.resolve())&&!r.cast||(n.Promise=pn)}var J;J=Array.isArray?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)};var V,G,q,W=J,$=0,Y=function(n,e){nn[$]=n,nn[$+1]=e,$+=2,2===$&&(G?G(l):q())},z="undefined"!=typeof window?window:void 0,H=z||{},Q=H.MutationObserver||H.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nn=new Array(1e3);q=X?i():Q?s():Z?a():void 0===z&&"function"==typeof require?c():u();var en=f,rn=d,tn=Math.random().toString(36).substring(16),on=void 0,sn=1,an=2,un=new j,ln=new j,cn=0,fn=M,dn=L,hn=P,pn=F;F.all=fn,F.race=dn,F.resolve=rn,F.reject=hn,F._setScheduler=r,F._setAsap=t,F._asap=Y,F.prototype={constructor:F,then:en,"catch":function(n){return this.then(null,n)}};var gn=D;D.prototype._enumerate=function(){for(var n=this.length,e=this._input,r=0;this._state===on&&r<n;r++)this._eachEntry(e[r],r)},D.prototype._eachEntry=function(n,e){var r=this._instanceConstructor,t=r.resolve;if(t===rn){var i=y(n);if(i===en&&n._state!==on)this._settledAt(n._state,e,n._result);else if("function"!=typeof i)this._remaining--,this._result[e]=n;else if(r===pn){var o=new r(h);_(o,n,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){e(n)}),e)}else this._willSettleAt(t(n),e)},D.prototype._settledAt=function(n,e,r){var t=this.promise;t._state===on&&(this._remaining--,n===an?A(t,r):this._result[e]=r),0===this._remaining&&E(t,this._result)},D.prototype._willSettleAt=function(n,e){var r=this;O(n,void 0,function(n){r._settledAt(sn,e,n)},function(n){r._settledAt(an,e,n)})};var yn=K,mn={Promise:pn,polyfill:yn};"function"==typeof define&&define.amd?define(function(){return mn}):"undefined"!=typeof module&&module.exports?module.exports=mn:"undefined"!=typeof this&&(this.ES6Promise=mn),yn()}.call(window),window.ES6Promise.polyfill(),String.prototype.endsWith||(String.prototype.endsWith=function(n,e){var r=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>r.length)&&(e=r.length),e-=n.length;var t=r.indexOf(n,e);return t!==-1&&t===e}),String.prototype.repeat||(String.prototype.repeat=function(n){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var e=""+this;if(n=+n,n!=n&&(n=0),n<0)throw new RangeError("repeat count must be non-negative");if(n==1/0)throw new RangeError("repeat count must be less than infinity");if(n=Math.floor(n),0==e.length||0==n)return"";if(e.length*n>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var r="";1==(1&n)&&(r+=e),n>>>=1,0!=n;)e+=e;return r}),String.prototype.startsWith||(String.prototype.startsWith=function(n,e){return e=e||0,this.substr(e,n.length)===n});
//# sourceMappingURL=maps/ie-polyfills.js.map
